! function (t) {
    function e(n) {
        if (i[n]) return i[n].exports;
        var r = i[n] = {
            exports: {},
            id: n,
            loaded: !1
        };
        return t[n].call(r.exports, r, r.exports, e), r.loaded = !0, r.exports
    }
    var i = {};
    return e.m = t, e.c = i, e.p = "", e(0)
}([
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v, _, y, x, w, b, S, T, M, E, A, C, P, R = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            L = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) O.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            O = {}.hasOwnProperty;
        a = i(54), v = i(4), f = i(13), n = i(1), h = i(3), T = i(7), M = i(8), b = i(20), x = i(41), E = i(5), A = i(2), o = i(11), _ = i(6), p = i(66), u = i(64), r = i(55), g = i(82), y = i(44), l = i(78), m = i(81), w = i(83), S = i(84), C = i(86), s = i(74), d = i(80), c = function (t) {
            function e() {
                this.start = R(this.start, this), this.init = R(this.init, this), e.__super__.constructor.call(this), this.router, this.mv, this.cursor, this.op, this.navi, this.scroll, this.headerCover, this.top, this.worksHover, this.detail, this.lastBg, this.menu
            }
            return L(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this.mv = new p({
                    parent: $(".l-mv"),
                    el: $(".l-mv > .cvs")
                }), this.mv.init(), this.mv.onCompleteBg = function (t) {
                    return function () {
                        return t.lastBg = new u({
                            parent: $(".l-last-bg"),
                            el: $(".l-last-bg > .cvs")
                        }), t.lastBg.init(), t.menu = new d({
                            el: $(".l-menu")
                        }), t.menu.init(), t.start()
                    }
                }(this), this.worksHover = new C({
                    mv: this.mv
                }), this.worksHover.init(), this.cursor = new r({
                    el: $(".l-cursor")
                }), this.cursor.init(), this.op = new g({
                    el: $(".p-op")
                }), this.op.init(), this.navi = new m({
                    el: $(".l-header-navi")
                }), this.navi.init(), this.scroll = new w({
                    el: $(".l-scroll")
                }), this.scroll.init(), this.headerCover = new l({
                    el: $(".l-headerCover")
                }), this.headerCover.init(), this.top = new S({
                    el: $(".p-top")
                }), this.top.init(), this.detail = new s({
                    el: $(".p-work")
                }), this.detail.init(), this.router = new x, this.router.init(), this.router.setDefaultPage()
            }, e.prototype.start = function (t) {
                return n.FLG.OP_SKIP && this.router.nowPage === M.PAGE_ID.TOP && (this.op._eClickEnter(), v.logofix.val = 1, this.top.show({
                    opSkipStart: !0
                })), this.router.nowPage !== M.PAGE_ID.TOP && (this.op.skip(), this.top.resetMotionText(), this.detail.show({
                    workId: this.router.default.dir
                })), T.a($(".l-loading"), {
                    opacity: [1, 0]
                }, .25, .5, null, null, null, function (t) {
                    return function () {
                        return $("body").addClass("is-loaded"), $(".l-loading").addClass("is-dispose"), t.mv.startOp({
                            delay: 0,
                            onComplete: function () {
                                return t.op.show({
                                    delay: .1
                                })
                            }
                        }), _.refresh()
                    }
                }(this))
            }, e
        }(a), t.exports = c, P = new c, P.init()
    },
    function (t, e, i) {
        var n, r, o;
        o = i(2), r = i(8), n = function () {
            function t() {
                var t, e, i;
                if (this.RELEASE = !1, this.FLG = {
                    PARAM: !1,
                    STATS: !1,
                    POS_CHECK: !1,
                    OP_SKIP: location.href.indexOf("op=n") > 0
                }, this.RELEASE) {
                    e = this.FLG;
                    for (t in e) i = e[t], this.FLG[t] = !1
                }
                this.BREAKPOINT = 750, this.PATH_IMG = "/assets/img/", this.IS_TABLET = !isMobile.any && o.isTouchDevice(), this.IS_PC = !isMobile.any && !o.isTouchDevice(), this.IS_SP = isMobile.any || o.isTouchDevice(), this.IS_SIMPLE = isMobile.android.device || o.isIE() || this.IS_TABLET, this.USE_SM_SCROLL = this.IS_PC && !this.IS_SIMPLE, this.IS_WEBGL = o.useWebGL(), this.SCALE_MIN = 1e-6, this.LOGO_SIZE = new THREE.Vector2(1024, 1024), this.BG_COLOR = new THREE.Color(16447479), this.BLACK_COLOR = new THREE.Color(0), this.LOGO_MASK_DATA = [], this.LOGO_MASK_DATA[r.LOGO.A] = [], this.LOGO_MASK_DATA[r.LOGO.B] = [{
                    x: 31,
                    y: 448,
                    w: 97,
                    h: 33
                }, {
                    x: 26,
                    y: 496,
                    w: 85,
                    h: 33
                }, {
                    x: 31,
                    y: 543,
                    w: 104,
                    h: 33
                }, {
                    x: 265,
                    y: 448,
                    w: 97,
                    h: 33
                }, {
                    x: 260,
                    y: 496,
                    w: 85,
                    h: 33
                }, {
                    x: 265,
                    y: 543,
                    w: 104,
                    h: 33
                }, {
                    x: 503,
                    y: 448,
                    w: 97,
                    h: 33
                }, {
                    x: 498,
                    y: 496,
                    w: 85,
                    h: 33
                }, {
                    x: 503,
                    y: 543,
                    w: 104,
                    h: 33
                }, {
                    x: 896,
                    y: 448,
                    w: 97,
                    h: 33
                }, {
                    x: 891,
                    y: 496,
                    w: 85,
                    h: 33
                }, {
                    x: 896,
                    y: 543,
                    w: 104,
                    h: 33
                }], this.LOGO_MASK_DATA[r.LOGO.C] = [{
                    x: 41,
                    y: 454,
                    w: 46,
                    h: 120
                }, {
                    x: 268,
                    y: 454,
                    w: 46,
                    h: 120
                }, {
                    x: 505,
                    y: 465,
                    w: 46,
                    h: 98
                }, {
                    x: 903,
                    y: 454,
                    w: 46,
                    h: 120
                }], this.COLOR_A = new THREE.Color(3024440)
            }
            return t
        }(), t.exports = new n
    },
    function (t, e) {
        var i, n = function (t, e) {
            return function () {
                return t.apply(e, arguments)
            }
        };
        i = function () {
            function t() {
                this.isTouchDevice = n(this.isTouchDevice, this), this.useWebGL = n(this.useWebGL, this), this.getHexColor = n(this.getHexColor, this), this.isSafari = n(this.isSafari, this), this.isFF = n(this.isFF, this), this.isChrome = n(this.isChrome, this), this.isWin = n(this.isWin, this), this.isIE2 = n(this.isIE2, this), this.isIE = n(this.isIE, this), this.numStr = n(this.numStr, this), this.distance = n(this.distance, this), this.sort = n(this.sort, this), this.replaceAll = n(this.replaceAll, this), this.sliceNull = n(this.sliceNull, this), this.shuffle = n(this.shuffle, this), this.degree = n(this.degree, this), this.radian = n(this.radian, this), this.mix = n(this.mix, this), this.map = n(this.map, this), this.clamp = n(this.clamp, this), this.rangeInt = n(this.rangeInt, this), this.range = n(this.range, this), this.paramNum = n(this.paramNum, this), this.randomArr = n(this.randomArr, this), this.randomListInt = n(this.randomListInt, this), this.randomList = n(this.randomList, this), this.hit = n(this.hit, this), this.randomInt = n(this.randomInt, this), this.random2 = n(this.random2, this), this.random = n(this.random, this)
            }
            return t.prototype.random = function (t, e) {
                return Math.random() * (e - t) + t
            }, t.prototype.random2 = function (t, e) {
                var i;
                return i = Math.random() * (e - t) + t, this.hit(2) && (i *= -1), i
            }, t.prototype.randomInt = function (t, e) {
                return Math.floor(Math.random() * (e - t + 1)) + t
            }, t.prototype.hit = function (t) {
                return (t < 2 || null == t) && (t = 2), 0 === this.randomInt(0, t - 1)
            }, t.prototype.randomList = function (t) {
                var e;
                return e = this.randomArr(t), this.random(e.min, e.max)
            }, t.prototype.randomListInt = function (t) {
                var e;
                return e = this.randomArr(t), this.randomInt(e.min, e.max)
            }, t.prototype.randomArr = function (t) {
                return t[this.randomInt(0, t.length - 1)]
            }, t.prototype.paramNum = function (t) {
                var e, i, n;
                i = 0;
                for (n in t) e = t[n], i++;
                return i
            }, t.prototype.range = function (t) {
                return this.random(-t, t)
            }, t.prototype.rangeInt = function (t) {
                return this.randomInt(-t, t)
            }, t.prototype.clamp = function (t, e, i) {
                return Math.min(i, Math.max(t, e))
            }, t.prototype.map = function (t, e, i, n, r) {
                var o;
                return t <= n ? e : t >= r ? i : (o = (i - e) / (r - n), (t - n) * o + e)
            }, t.prototype.mix = function (t, e, i) {
                return t * (1 - i) + e * i
            }, t.prototype.radian = function (t) {
                return t * Math.PI / 180
            }, t.prototype.degree = function (t) {
                return 180 * t / Math.PI
            }, t.prototype.shuffle = function (t) {
                var e, i, n, r;
                for (e = t.length, r = []; --e;) i = Math.floor(Math.random() * (e + 1)), e !== i && (n = t[e], t[e] = t[i], r.push(t[i] = n));
                return r
            }, t.prototype.sliceNull = function (t) {
                var e, i, n, r, o;
                for (r = [], e = i = 0, n = t.length; i < n; e = ++i) o = t[e], null !== o && r.push(o);
                return r
            }, t.prototype.replaceAll = function (t, e, i) {
                return t.split(e).join(i)
            }, t.prototype.sort = function (t, e, i) {
                return null == i && (i = !1), i ? t.sort(function (t) {
                    return function (t, i) {
                        return i[e] - t[e]
                    }
                }(this)) : t.sort(function (t) {
                    return function (t, i) {
                        return t[e] - i[e]
                    }
                }(this))
            }, t.prototype.distance = function (t, e, i, n) {
                var r, o;
                return r = t - i, o = e - n, Math.sqrt(r * r + o * o)
            }, t.prototype.numStr = function (t, e) {
                var i, n, r;
                if (r = String(t), r.length >= e) return r;
                for (n = e - r.length, i = 0; i < n;) r = "0" + r, i++;
                return r
            }, t.prototype.isIE = function () {
                var t;
                return t = window.navigator.userAgent.toLowerCase(), t.indexOf("msie") !== -1 || t.indexOf("trident/7") !== -1 || t.indexOf("edge") !== -1
            }, t.prototype.isIE2 = function () {
                var t;
                return t = window.navigator.userAgent.toLowerCase(), t.indexOf("msie") !== -1 || t.indexOf("trident/7") !== -1
            }, t.prototype.isWin = function () {
                return window.navigator.platform.indexOf("Win") !== -1
            }, t.prototype.isChrome = function () {
                return window.navigator.userAgent.toLowerCase().indexOf("chrome") !== -1
            }, t.prototype.isFF = function () {
                return window.navigator.userAgent.toLowerCase().indexOf("firefox") !== -1
            }, t.prototype.isSafari = function () {
                return window.navigator.userAgent.toLowerCase().indexOf("safari") !== -1 && !this.isChrome()
            }, t.prototype.getHexColor = function (t, e, i) {
                var n;
                return n = (t << 16 | e << 8 | i).toString(16), "#" + new Array(7 - n.length).join("0") + n
            }, t.prototype.useWebGL = function () {
                var t, e, i;
                try {
                    return t = document.createElement("canvas"), i = t.getContext("webgl") || t.getContext("experimental-webgl"), !!(window.WebGLRenderingContext && i && i.getShaderPrecisionFormat)
                } catch (t) {
                    return e = t, !1
                }
            }, t.prototype.getQuery = function (t) {
                var e, i;
                return t = t.replace(/[竄ｬ[]/, "竄ｬ竄ｬ竄ｬ[").replace(/[竄ｬ]]/, "竄ｬ竄ｬ竄ｬ]"), i = new RegExp("[竄ｬ竄ｬ?&]" + t + "=([^&#]*)"), e = i.exec(window.location.href), null === e ? "" : e[1]
            }, t.prototype.isTouchDevice = function () {
                return null === window.ontouchstart
            }, t
        }(), t.exports = new i
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p = function (t, e) {
            return function () {
                return t.apply(e, arguments)
            }
        };
        c = i(2), a = i(6), l = i(22), u = i(8), n = i(1), s = i(36), h = i(10), o = i(4), r = function () {
            function t() {
                this.useScreen = p(this.useScreen, this), this.r = p(this.r, this), this.sh2 = p(this.sh2, this), this.sh = p(this.sh, this), this.sw = p(this.sw, this), this.inUrl = p(this.inUrl, this), this.clickable = p(this.clickable, this), this.cos2 = p(this.cos2, this), this.cos1 = p(this.cos1, this), this.sin2 = p(this.sin2, this), this.sin1 = p(this.sin1, this), this.val = p(this.val, this), this.allHeight = p(this.allHeight, this), this.isLG = p(this.isLG, this), this.isXS = p(this.isXS, this), this.screen = p(this.screen, this), this.ratio = p(this.ratio, this)
            }
            return t.prototype.ratio = function () {
                return window.devicePixelRatio || 1
            }, t.prototype.screen = function () {
                return window.innerWidth <= n.BREAKPOINT ? u.SCREEN.XS : u.SCREEN.LG
            }, t.prototype.isXS = function () {
                return this.screen() === u.SCREEN.XS
            }, t.prototype.isLG = function () {
                return this.screen() === u.SCREEN.LG
            }, t.prototype.allHeight = function () {
                return this.sh()
            }, t.prototype.val = function (t, e) {
                return this.isXS() ? t : e
            }, t.prototype.sin1 = function (t) {
                return Math.sin(t) + Math.sin(2 * t)
            }, t.prototype.sin2 = function (t) {
                return (Math.sin(t) + Math.sin(2.2 * t + 5.52) + Math.sin(2.9 * t + .93) + Math.sin(4.6 * t + 8.94)) / 4
            }, t.prototype.cos1 = function (t) {
                return Math.cos(t) + Math.cos(2 * t)
            }, t.prototype.cos2 = function (t) {
                return (Math.cos(t) + Math.cos(2.2 * t + 5.52) + Math.cos(2.9 * t + .93) + Math.cos(4.6 * t + 8.94)) / 4
            }, t.prototype.clickable = function (t) {
                var e, i;
                return i = "is-noClick", e = $("body"), null == t ? !e.hasClass(i) : t ? e.removeClass(i) : e.addClass(i)
            }, t.prototype.inUrl = function (t) {
                return location.href.indexOf(t) > 0
            }, t.prototype.sw = function () {
                return window.innerWidth
            }, t.prototype.sh = function () {
                return window.innerHeight
            }, t.prototype.sh2 = function () {
                return this.useScreen() ? screen.height : window.innerHeight
            }, t.prototype.r = function (t, e) {
                var i, n;
                return i = this.val(750, 1680), n = null != e ? Math.min(this.sw(), e) : this.sw(), t / i * n
            }, t.prototype.useScreen = function () {
                return n.IS_SP && "undefined" != typeof screen && null !== screen && this.isXS()
            }, t
        }(), t.exports = new r
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d = function (t, e) {
            return function () {
                return t.apply(e, arguments)
            }
        };
        p = i(93), n = i(1), h = i(8), r = i(3), u = i(2), l = i(5), s = i(6), a = i(22), c = i(9), o = function () {
            function t() {
                this._resize = d(this._resize, this), this._update = d(this._update, this), this._listen = d(this._listen, this), this._addGui = d(this._addGui, this), this._init = d(this._init, this), this.fps = h.FPS.MID, this.logofix = new c(0), this.mvYokoShow = new c(0), this.mvTateShow = new c(0), this.mvReverseBefore = new c(0), this.mvReverse = new c(0), this.mvScrollRate = new c(0), this.mvScrollOffset = new c(0), this.isHover = !1, this.isPlayingMainTxtMotion = !1, this.isWorksHover = !1, this.worksHoverRate = new c(0), this.isPlayingTr = !1, this.isOpenXSMenu = !1, this.lastBgRate = 0, this.isOpenDetailInfo = !1, this._gui, this.scroll = {
                    ease: {
                        value: 10,
                        min: 0,
                        max: 50
                    }
                }, this.all = {
                    speed: {
                        value: 100,
                        min: 0,
                        max: 200
                    },
                    alpha: {
                        value: 60,
                        min: 0,
                        max: 100
                    },
                    rate: {
                        value: 0,
                        min: 0,
                        max: 100
                    },
                    offset: {
                        value: 0,
                        min: -2e3,
                        max: 2e3
                    },
                    darkness: {
                        value: 0,
                        min: -2e3,
                        max: 2e3
                    },
                    reverse: {
                        value: !0
                    }
                }, this.ptTate = {
                    ptSize: {
                        value: 2800,
                        min: 0,
                        max: 4e3,
                        use: !1
                    },
                    radius: {
                        value: 400,
                        min: 0,
                        max: 1e3
                    },
                    alpha: {
                        value: 30,
                        min: 0,
                        max: 100
                    },
                    visible: {
                        value: !0
                    }
                }, this.ptYoko = {
                    ptSize: {
                        value: 2800,
                        min: 0,
                        max: 4e3,
                        use: !1
                    },
                    radius: {
                        value: 400,
                        min: 0,
                        max: 1e3
                    },
                    alpha: {
                        value: 30,
                        min: 0,
                        max: 100
                    },
                    visible: {
                        value: !0
                    }
                }, this.logo = {
                    maskRate: {
                        value: 100,
                        min: 0,
                        max: 100
                    }
                }, this.bgMask = {
                    x: {
                        value: 0,
                        min: -100,
                        max: 100,
                        use: !1
                    },
                    y: {
                        value: -12,
                        min: -100,
                        max: 100,
                        use: !1
                    },
                    wy: {
                        value: -100,
                        min: -100,
                        max: 100,
                        use: !1
                    },
                    revY: {
                        value: 0,
                        min: 0,
                        max: 100,
                        use: !1
                    },
                    hMax: {
                        value: 190,
                        min: 100,
                        max: 250
                    },
                    zure: {
                        value: 10,
                        min: 10,
                        max: 20
                    },
                    zureMax: {
                        value: 70,
                        min: 20,
                        max: 100
                    },
                    x2: {
                        value: -170,
                        min: -500,
                        max: 500,
                        use: !1
                    },
                    y2: {
                        value: 448,
                        min: -500,
                        max: 500,
                        use: !1
                    }
                }, this.cursor = {
                    width: {
                        value: 40,
                        min: 1,
                        max: 200
                    },
                    seg: {
                        value: 12,
                        min: 1,
                        max: 64
                    },
                    fineness: {
                        value: 36,
                        min: 1,
                        max: 64
                    },
                    start: {
                        value: 0,
                        min: 0,
                        max: 360
                    },
                    wave: {
                        value: 100,
                        min: 0,
                        max: 300
                    },
                    x: {
                        value: 0,
                        min: -100,
                        max: 100
                    },
                    y: {
                        value: 0,
                        min: -100,
                        max: 100
                    },
                    moveVec: {
                        value: 250,
                        min: 0,
                        max: 1e3
                    },
                    d: {
                        value: 7,
                        min: 0,
                        max: 100
                    },
                    speed: {
                        value: 28,
                        min: 0,
                        max: 100
                    },
                    range: {
                        value: 7,
                        min: 0,
                        max: 20
                    },
                    alpha: {
                        value: 5,
                        min: 0,
                        max: 50
                    },
                    move: {
                        value: !0
                    }
                }, this.tr = {
                    rate: {
                        value: 0,
                        min: 0,
                        max: 100
                    }
                }, this._init()
            }
            return t.prototype._init = function () {
                if (l.add(this._update), s.add(this._resize, !0), this._update(), n.FLG.PARAM) return this._gui = new p.GUI, this._addGui(this.bgMask, "mask")
            }, t.prototype._addGui = function (t, e) {
                var i, n, r, o;
                i = this._gui.addFolder(e), r = [];
                for (n in t) o = t[n], null == o.use ? n.indexOf("color") > 0 ? r.push(i.addColor(o, "value").name(n)) : null != o.list ? r.push(i.add(o, "value", o.list).name(n)) : r.push(i.add(o, "value", o.min, o.max).name(n)) : r.push(void 0);
                return r
            }, t.prototype._listen = function (t, e) {
                return null == e && (e = t), this._gui.add(this, t).name(e).listen()
            }, t.prototype._update = function () {
                return this.showPage = l.cnt >= 60, this.isFirstView = this.scroll < r.sh()
            }, t.prototype._resize = function () {}, t
        }(), t.exports = new o
    },
    function (t, e) {
        var i, n = function (t, e) {
            return function () {
                return t.apply(e, arguments)
            }
        };
        i = function () {
            function t() {
                this._update = n(this._update, this), this.remove = n(this.remove, this), this.add = n(this.add, this), this.cnt = 0, this._updateList = [], this.play = !0, this._init()
            }
            return t.prototype._init = function () {
                var t;
                return t = window.requestAnimationFrame(this._update)
            }, t.prototype.add = function (t) {
                return this._updateList.push(t)
            }, t.prototype.remove = function (t) {
                var e, i, n, r, o, s;
                for (e = [], o = this._updateList, i = n = 0, r = o.length; n < r; i = ++n) s = o[i], s !== t && e.push(s);
                return this._updateList = e
            }, t.prototype._update = function () {
                var t, e, i, n, r;
                if (this.play)
                    for (this.cnt++, n = this._updateList, t = e = 0, i = n.length; e < i; t = ++e) r = n[t], null != r && r();
                return window.requestAnimationFrame(this._update)
            }, t
        }(), t.exports = new i
    },
    function (t, e, i) {
        var n, r, o = function (t, e) {
            return function () {
                return t.apply(e, arguments)
            }
        };
        r = i(2), n = function () {
            function t() {
                this.oldSize = o(this.oldSize, this), this.size = o(this.size, this), this.sh = o(this.sh, this), this.sw = o(this.sw, this), this._setStageSize = o(this._setStageSize, this), this._call = o(this._call, this), this._eResize = o(this._eResize, this), this.refresh = o(this.refresh, this), this._init = o(this._init, this), this._resizeList = [], this._size = {
                    width: 0,
                    height: 0
                }, this._oldSize = {
                    width: 0,
                    height: 0
                }, this._timer, this._init()
            }
            return t.prototype._init = function () {
                return window.addEventListener("resize", this._eResize), this._setStageSize()
            }, t.prototype.add = function (t, e) {
                if (this._resizeList.push(t), null != e && e) return t(this._size)
            }, t.prototype.remove = function (t) {
                var e, i, n, r, o, s;
                for (e = [], o = this._resizeList, i = n = 0, r = o.length; n < r; i = ++n) s = o[i], s !== t && e.push(s);
                return this._resizeList = e
            }, t.prototype.refresh = function () {
                return this._call()
            }, t.prototype._eResize = function (t) {
                if (!isMobile.any || window.innerWidth !== this._size.width) return this._setStageSize(), null != this._timer && (clearInterval(this._timer), this._timer = null), this._timer = setTimeout(this._call, 300)
            }, t.prototype._call = function () {
                var t, e, i, n, r, o;
                for (n = this._resizeList, r = [], t = e = 0, i = n.length; e < i; t = ++e) o = n[t], r.push(o(this._size));
                return r
            }, t.prototype._setStageSize = function () {
                return this._oldSize.width = this._size.width, this._oldSize.height = this._size.height, this._size.width = window.innerWidth, this._size.height = window.innerHeight
            }, t.prototype.sw = function () {
                return this._setStageSize(), this._size.width
            }, t.prototype.sh = function () {
                return this._setStageSize(), this._size.height
            }, t.prototype.size = function () {
                return this._size
            }, t.prototype.oldSize = function () {
                return this._oldSize
            }, t
        }(), t.exports = new n
    },
    function (t, e) {
        var i, n = function (t, e) {
            return function () {
                return t.apply(e, arguments)
            }
        };
        i = function () {
            function t() {
                this.kill = n(this.kill, this), this.set = n(this.set, this), this.a = n(this.a, this)
            }
            return t.prototype.a = function (t, e, i, n, r, o, s, a) {
                var h, l, u, c;
                TweenMax.killTweensOf(t), h = {}, u = {};
                for (l in e) c = e[l], null != c[0] ? (h[l] = c[0], u[l] = c[1]) : u[l] = c;
                return h.force3D = !0, TweenMax.set(t, h), null != r ? u.ease = r : u.ease = Power0.easeNone, null != n && (u.delay = n), null != o && (u.onStart = o), null != s && (u.onUpdate = s), null != a && (u.onComplete = a), u.force3D = !0, TweenMax.to(t, i, u)
            }, t.prototype.set = function (t, e) {
                return e.force3D = !0, TweenMax.set(t, e)
            }, t.prototype.kill = function (t) {
                return TweenMax.killTweensOf(t)
            }, t
        }(), t.exports = new i
    },
    function (t, e) {
        var i;
        i = function () {
            function t() {
                this.SCREEN = {
                    XS: 0,
                    LG: 1
                }, this.FPS = {
                    HIGH: 0,
                    MID: 1,
                    LOW: 2,
                    NONE: 3
                }, this.LOGO = {
                    A: 0,
                    B: 1,
                    C: 2
                }, this.PAGE_ID = {
                    TOP: 0,
                    WORK: 1
                }
            }
            return t
        }(), t.exports = new i
    },
    function (t, e) {
        var i, n = function (t, e) {
            return function () {
                return t.apply(e, arguments)
            }
        };
        i = function () {
            function t(t) {
                this.toTg = n(this.toTg, this), this.val = t, this.tg = this.val
            }
            return t.prototype.toTg = function (t) {
                return this.val += (this.tg - this.val) * t
            }, t
        }(), t.exports = i
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l = function (t, e) {
            return function () {
                return t.apply(e, arguments)
            }
        };
        n = i(1), a = i(7), h = i(5), r = i(6), s = i(22), o = function () {
            function t() {
                this.move = l(this.move, this), this.setNormal = l(this.setNormal, this), this.resume = l(this.resume, this), this.pause = l(this.pause, this), this.set = l(this.set, this), this._resize = l(this._resize, this), this._update = l(this._update, this), this._init = l(this._init, this), this.normal = 0, this.val = 0, this.docSize = new s, this.old = 0, this.d = 0, this.sw = 0, this.sh = 0, this._cnt = 0, this._buffer = -1, this._move = {
                    tg: 0
                }, this._init()
            }
            return t.prototype._init = function () {
                return h.add(this._update), r.add(this._resize, !0), this._update()
            }, t.prototype._update = function () {
                return this._cnt++, this._cnt % 60 === 0 && (this.docSize.height = $(document).height()), this.old = this.val, this.val = $(window).scrollTop(), this.d = Math.abs(this.old - this.val)
            }, t.prototype._resize = function () {
                return this.docSize.height = $(document).height(), this.sw = window.innerWidth, this.sh = window.innerHeight
            }, t.prototype.set = function (t) {
                return $(window).scrollTop(t), this.old = this.val = t, this.d = 0
            }, t.prototype.pause = function () {
                return this._buffer = $(window).scrollTop() / ($(document).height() - window.innerHeight), this.setNormal(0)
            }, t.prototype.resume = function () {
                if (this._buffer !== -1) return this.setNormal(this._buffer), this._buffer = -1
            }, t.prototype.setNormal = function (t) {
                var e;
                return e = ($(document).height() - window.innerHeight) * t, $(window).scrollTop(e)
            }, t.prototype.move = function (t) {
                var e, i;
                return i = t.duration || 1, e = t.delay || 0, this._move.tg = $(window).scrollTop(), a.a(this._move, {
                    tg: t.tg
                }, i, e, Power2.easeInOut, null, function (t) {
                    return function () {
                        return $(window).scrollTop(t._move.tg)
                    }
                }(this), t.onComplete)
            }, t
        }(), t.exports = new o
    },
    function (t, e) {
        var i, n = function (t, e) {
            return function () {
                return t.apply(e, arguments)
            }
        };
        i = function () {
            function t() {
                this._slice = n(this._slice, this), this._update = n(this._update, this), this.remove = n(this.remove, this), this.add = n(this.add, this), this._registFunc = [], this._init()
            }
            return t.prototype._init = function () {
                var t;
                return t = window.requestAnimationFrame(this._update)
            }, t.prototype.add = function (t, e) {
                return this._slice(), this._registFunc.push({
                    f: t,
                    d: Number(e),
                    flg: !0
                })
            }, t.prototype.remove = function (t) {
                var e, i, n, r, o, s;
                for (e = [], o = this._registFunc, i = n = 0, r = o.length; n < r; i = ++n) s = o[i], null != s && s.f !== t && e.push(s);
                return this._registFunc = e
            }, t.prototype._update = function () {
                var t, e, i, n, r;
                for (n = this._registFunc, t = e = 0, i = n.length; e < i; t = ++e) r = n[t], null != r && r.flg && --r.d <= 0 && (r.f(), r.flg = !1);
                return window.requestAnimationFrame(this._update)
            }, t.prototype._slice = function () {
                var t, e, i, n, r, o, s, a, h;
                for (s = this._registFunc, t = e = 0, n = s.length; e < n; t = ++e) h = s[t], null == h || h.flg || (this._registFunc[t] = null);
                for (o = [], a = this._registFunc, t = i = 0, r = a.length; i < r; t = ++i) h = a[t], null != h && o.push(h);
                return this._registFunc = o
            }, t
        }(), t.exports = new i
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            g = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) v.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            v = {}.hasOwnProperty;
        l = i(6), d = i(5), f = i(2), r = i(11), o = i(58), h = i(29), u = i(22), s = i(3), n = i(1), p = i(8), c = i(7), a = function (t) {
            function e(t) {
                this.set = m(this.set, this), this.a = m(this.a, this), this.val = m(this.val, this), this.isLG = m(this.isLG, this), this.isXS = m(this.isXS, this), this.sh2 = m(this.sh2, this), this.sw2 = m(this.sw2, this), this.sh = m(this.sh, this), this.sw = m(this.sw, this), this._resize = m(this._resize, this), this._update = m(this._update, this), this.half = m(this.half, this), this.isSP = m(this.isSP, this), this.isPC = m(this.isPC, this), this.clickable = m(this.clickable, this), this.setFinish = m(this.setFinish, this), this.getVisible = m(this.getVisible, this), this.setVisible = m(this.setVisible, this), this.setActive = m(this.setActive, this), this.getData = m(this.getData, this), this.dispose = m(this.dispose, this), this.setHover = m(this.setHover, this), this.init = m(this.init, this), null == t && (t = {}), null == t.resize && (t.resize = !1), null == t.update && (t.update = !1), e.__super__.constructor.call(this, t), this._cnt = 0, this.isActive = !0, this.myParam = {}
            }
            return g(e, t), e.prototype.init = function () {
                if (e.__super__.init.call(this), this._opt.resize && l.add(this._resize), this._opt.update) return d.add(this._update)
            }, e.prototype.setHover = function (t, e, i) {
                return this.el().on("mouseenter", t).on("mouseleave", e).on("click", i)
            }, e.prototype.dispose = function () {
                return l.remove(this._resize), d.remove(this._update), this.myParam = null, e.__super__.dispose.call(this)
            }, e.prototype.getData = function (t) {
                return this.el().attr("data-" + t)
            }, e.prototype.setActive = function (t) {
                return t ? this.isActive || this.removeClass("is-none") : this.isActive && this.addClass("is-none"), this.isActive = t
            }, e.prototype.setVisible = function (t) {
                return t ? this.removeClass("is-none") : this.addClass("is-none")
            }, e.prototype.getVisible = function () {
                return !this.el().hasClass("is-none")
            }, e.prototype.setFinish = function (t) {
                return t ? this.addClass("is-finish") : this.removeClass("is-finish")
            }, e.prototype.clickable = function (t) {
                var e;
                return e = "is-noClick", null == t ? !this.el().hasClass(e) : t ? this.el().removeClass(e) : this.el().addClass(e)
            }, e.prototype.isPC = function () {
                return !isMobile.any
            }, e.prototype.isSP = function () {
                return isMobile.any
            }, e.prototype.half = function (t) {
                return~~ (.5 * t)
            }, e.prototype._update = function () {
                return this._cnt++
            }, e.prototype._resize = function (t) {}, e.prototype.sw = function () {
                return l.sw()
            }, e.prototype.sh = function () {
                return l.sh()
            }, e.prototype.sw2 = function () {
                return~~ (.5 * l.sw())
            }, e.prototype.sh2 = function () {
                return~~ (.5 * l.sh())
            }, e.prototype.isXS = function () {
                return s.screen() === p.SCREEN.XS
            }, e.prototype.isLG = function () {
                return s.screen() === p.SCREEN.LG
            }, e.prototype.val = function (t, e) {
                return this.isXS() ? t : e
            }, e.prototype.a = function (t, e, i, n, r, o, s) {
                return c.a(this.el(), t, e, i, n, function (t) {
                    return function () {
                        if (t.addClass("is-start"), null != r) return r()
                    }
                }(this), o, s)
            }, e.prototype.set = function (t) {
                return c.set(this.el(), t)
            }, e
        }(o), t.exports = a
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u = function (t, e) {
            return function () {
                return t.apply(e, arguments)
            }
        };
        s = i(4), n = i(1), r = i(3), l = i(2), a = i(29), h = i(5), o = function () {
            function t() {
                this._eMouseUp = u(this._eMouseUp, this), this._eMouseDown = u(this._eMouseDown, this), this._eMouseMove = u(this._eMouseMove, this), this.update = u(this.update, this), this.getTouchPoint = u(this.getTouchPoint, this), this._eTouchEnd = u(this._eTouchEnd, this), this._eTouchStart = u(this._eTouchStart, this), this._eTouchMove = u(this._eTouchMove, this), this._init = u(this._init, this), this.x = 0, this.y = 0, this.p = new THREE.Vector2, this.old = new THREE.Vector2, this.start = new THREE.Vector2, this.moveDist = new THREE.Vector2, this.follow = new THREE.Vector2, this.normal = new THREE.Vector2, this.three = new THREE.Vector3(0, 0), this.isTouch = !1, this.isMove = !1, this.totalMoveX = 0, this.useSwipe = !0, this.isCancelable = !1, this.onSwipe = [], this.onTouchStart = [], this.onTouchEnd = [], this.onMouseDown = [], this.onMouseUp = [], this._init()
            }
            return t.prototype._init = function () {
                return this.x = .5 * r.sw(), this.y = .5 * r.sh(), n.IS_SP ? (window.addEventListener("touchmove", this._eTouchMove, {
                    passive: !1
                }), window.addEventListener("touchstart", this._eTouchStart, {
                    passive: !1
                }), window.addEventListener("touchend", this._eTouchEnd, {
                    passive: !1
                })) : ($(window).on("mousedown", this._eMouseDown), $(window).on("mouseup", this._eMouseUp), $(window).on("mousemove", this._eMouseMove)), h.add(this.update)
            }, t.prototype._eTouchMove = function (t) {
                var e;
                return this.old.copy(this.p), e = this.getTouchPoint(), this.useSwipe && (this.follow.x = e.x - this.x, this.follow.y = e.y - this.y), event.cancelable && this.isCancelable && event.preventDefault(), this.x = this.p.x = e.x, this.y = this.p.y = e.y
            }, t.prototype._eTouchStart = function (t) {
                var e, i, n, o, s, a, h, u, c;
                for (this.isTouch = !0, this.totalMoveX = 0, s = this.getTouchPoint(), this.x = this.p.x = s.x, this.y = this.p.y = s.y, this.old.copy(this.p), c = r.sw(), e = r.sh(), this.normal.x = l.map(this.p.x, -1, 1, 0, c), this.normal.y = l.map(this.p.y, -1, 1, 0, e), this.three.x = l.map(this.p.x, .5 * -c, .5 * c, 0, c), this.three.y = l.map(this.p.y, .5 * e, .5 * -e, 0, e), this.start.x = s.x, this.start.y = s.y, a = this.onTouchStart, h = [], i = n = 0, o = a.length; n < o; i = ++n) u = a[i], null != u ? h.push(u()) : h.push(void 0);
                return h
            }, t.prototype._eTouchEnd = function (t) {
                var e, i, n, r, o, s, a, h, l;
                if (this.isTouch = !1, this.useSwipe && Math.abs(this.follow.x) > 1) {
                    for (s = this.onSwipe, e = i = 0, r = s.length; i < r; e = ++i) l = s[e], null != l && l(this.follow);
                    this.follow.x = 0, this.follow.y = 0
                }
                for (a = this.onTouchEnd, h = [], e = n = 0, o = a.length; n < o; e = ++n) l = a[e], null != l ? h.push(l()) : h.push(void 0);
                return h
            }, t.prototype.getTouchPoint = function () {
                var t, e;
                return t = new a, e = event.touches, null != e && e.length > 0 && (t.x = e[0].pageX, t.y = e[0].pageY), t
            }, t.prototype.update = function () {
                var t, e, i, n, o, s, a;
                return o = r.sw(), n = r.sh(), s = l.map(this.p.x, -1, 1, 0, o), a = l.map(this.p.y, -1, 1, 0, n), e = s - this.normal.x, i = a - this.normal.y, t = Math.sqrt(e * e + i * i), this.isMove = t > .001, this.moveDist.x = this.start.x - this.p.x, this.moveDist.y = this.start.y - this.p.y, this.normal.x = s, this.normal.y = a, this.three.x = l.map(this.p.x, .5 * -o, .5 * o, 0, o), this.three.y = l.map(this.p.y, .5 * n, .5 * -n, 0, n)
            }, t.prototype._eMouseMove = function (t) {
                return this.old.copy(this.p), this.x = this.p.x = t.clientX, this.y = this.p.y = t.clientY, this.follow.x = this.old.x - this.x, this.follow.y = this.old.y - this.y
            }, t.prototype._eMouseDown = function (t) {
                var e, i, n, r, o, s;
                for (this.isTouch = !0, this.totalMoveX = 0, this._eMouseMove(t), this.start.x = this.p.x, this.start.y = this.p.y, r = this.onMouseDown, o = [], e = i = 0, n = r.length; i < n; e = ++i) s = r[e], null != s ? o.push(s()) : o.push(void 0);
                return o
            }, t.prototype._eMouseUp = function (t) {
                var e, i, n, r, o, s;
                for (this.isTouch = !1, r = this.onMouseUp, o = [], e = i = 0, n = r.length; i < n; e = ++i) s = r[e], null != s ? o.push(s()) : o.push(void 0);
                return o
            }, t
        }(), t.exports = new o
    },
    function (t, e, i) {
        var n, r, o = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            s = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) a.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            a = {}.hasOwnProperty;
        r = i(3), n = function (t) {
            function e(t) {
                this.setSize = o(this.setSize, this), this.clear = o(this.clear, this), this.render = o(this.render, this), this.texture = o(this.texture, this), this.dispose = o(this.dispose, this), this.init = o(this.init, this), e.__super__.constructor.call(this), this.opt = t || {}, this._tgNum = this.opt.num || 1, this._texture = [], this._isFloat = !isMobile.any, this.texNum = this._tgNum, this.size = new THREE.Vector2
            }
            return s(e, t), e.prototype.init = function () {
                var t, e, i, n;
                for (t = 0, i = []; t < this._tgNum;) e = null != this.opt.param ? this.opt.param : {
                    depthBuffer: !1,
                    stencilBuffer: !1,
                    magFilter: THREE.NearestFilter,
                    minFilter: THREE.NearestFilter,
                    wrapS: THREE.ClampToEdgeWrapping,
                    wrapT: THREE.ClampToEdgeWrapping
                }, n = new THREE.WebGLRenderTarget(16, 16, e), this._texture.push(n), i.push(t++);
                return i
            }, e.prototype.dispose = function () {
                var t, e, i, n, r;
                for (n = this._texture, t = e = 0, i = n.length; e < i; t = ++e) r = n[t], r.dispose();
                return this._texture = null
            }, e.prototype.texture = function (t) {
                return null == t && (t = 0), this._texture[t].texture
            }, e.prototype.render = function (t, e, i, n) {
                var r;
                return null == n && (n = !0), null == i && (i = 0), r = this._texture[i], t.setRenderTarget(r), t.render(this, e), t.setRenderTarget(null)
            }, e.prototype.clear = function (t) {
                var e, i, n, r, o, s;
                for (r = this._texture, o = [], e = i = 0, n = r.length; i < n; e = ++i) s = r[e], o.push(t.clearTarget(s, !0));
                return o
            }, e.prototype.setSize = function (t, e, i) {
                var n, o, s, a, h;
                for (null == i && (i = r.ratio()), isMobile.any && (t * i > 4096 || e * i > 4096) && (i = 1), a = this._texture, n = o = 0, s = a.length; o < s; n = ++o) h = a[n], h.setSize(t * i, e * i);
                return this.size.x = t, this.size.y = e
            }, e
        }(THREE.Scene), t.exports = n
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u = function (t, e) {
            return function () {
                return t.apply(e, arguments)
            }
        };
        r = i(1), o = i(3), a = i(4), l = i(2), s = i(89), n = i(88), h = function () {
            function t() {
                this.add = u(this.add, this), this.getCanvasTex = u(this.getCanvasTex, this), this.get = u(this.get, this), this.check = u(this.check, this), this._loadedImg = u(this._loadedImg, this), this._load = u(this._load, this), this.load = u(this.load, this), this._list, this._tex = [], this._num, this._loadedNum = 0, this.onComplete, this.onProgress, this.isUse3Tex = !l.isIE()
            }
            return t.prototype.load = function (t) {
                return this.onComplete = t.onComplete, this.onProgress = t.onProgress, 0 === t.list.length ? void(null != this.onComplete && this.onComplete()) : (this._list = t.list, this._loadedNum = 0, this._load())
            }, t.prototype._load = function () {
                var t, e, i;
                return t = this._list[this._loadedNum], this.check(t.src) ? void this._loadedImg() : (this.isUse3Tex ? (i = new THREE.TextureLoader, i.crossOrigin = "*", e = i.load(t.src, this._loadedImg)) : (i = new s, e = i.load(t.src, this._loadedImg)), this._tex.push({
                    tex: e,
                    src: t.src
                }))
            }, t.prototype._loadedImg = function (t) {
                return this._loadedNum++, null != this.onProgress && this.onProgress(this._loadedNum / this._list.length), this._loadedNum >= this._list.length ? void(null != this.onComplete && this.onComplete()) : this._load()
            }, t.prototype.check = function (t) {
                var e, i, n, r, o;
                for (r = this._tex, e = i = 0, n = r.length; i < n; e = ++i)
                    if (o = r[e], o.src === t) return !0;
                return !1
            }, t.prototype.get = function (t) {
                var e, i, n, r, o, a, h;
                for (r = this._tex, e = i = 0, n = r.length; i < n; e = ++i)
                    if (h = r[e], h.src === t) return h.tex;
                return this.isUse3Tex ? (o = new THREE.TextureLoader, o.crossOrigin = "anonymous") : o = new s, a = o.load(t), this._tex.push({
                    tex: a,
                    src: t
                }), a
            }, t.prototype.getCanvasTex = function (t) {
                var e, i, r, o, s, a, h;
                for (o = this._tex, e = i = 0, r = o.length; i < r; e = ++i)
                    if (h = o[e], h.src === t) return h.tex;
                return s = new n, a = s.load(t), this._tex.push({
                    tex: a,
                    src: t
                }), a
            }, t.prototype.add = function (t, e) {
                return this._tex.push({
                    tex: e,
                    src: t
                })
            }, t
        }(), t.exports = new h
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            p = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) d.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            d = {}.hasOwnProperty;
        s = i(4), n = i(1), r = i(3), h = i(8), u = i(2), l = i(5), a = i(6), o = function (t) {
            function e(t) {
                this.secValue = c(this.secValue, this), this._resize = c(this._resize, this), this._update = c(this._update, this), this.setActive = c(this.setActive, this), this.dispose = c(this.dispose, this), this.init = c(this.init, this), e.__super__.constructor.call(this), this.opt = t, this.updateCnt = 0, this.isActive = !0
            }
            return p(e, t), e.prototype.init = function () {
                return l.add(this._update), a.add(this._resize)
            }, e.prototype.dispose = function () {
                return a.remove(this._resize), l.remove(this._update), this.opt = null
            }, e.prototype.setActive = function (t) {
                return this.isActive = t
            }, e.prototype._update = function () {
                return this.updateCnt++
            }, e.prototype._resize = function () {}, e.prototype.secValue = function (t, e, i) {
                var r, o, a, l, c, p, d, f, m, g, v, _;
                return n.FLG.LINE_TEST ? t : (r = s.lineParam.sec1.val, o = s.lineParam.sec2.val, c = s.lineParam.sec3.val, f = s.lineParam.sec4.val, v = s.lineParam.sec5.val, a = s.lineParam2.sec2.s0.val, l = s.lineParam2.sec2.s1.val, p = s.lineParam2.sec3.s0.val, d = s.lineParam2.sec3.s1.val, m = s.lineParam2.sec4.s0.val, g = s.lineParam2.sec4.s1.val, _ = u.mix(t, e[h.SEC.SEC1][i].value, r), _ = u.mix(_, e[h.SEC.SEC2][i].value, o), _ = u.mix(_, e[h.SEC.SEC3][i].value, c), _ = u.mix(_, e[h.SEC.SEC4][i].value, f), _ = u.mix(_, e[h.SEC.SEC5][i].value, v), _ = u.mix(_, e[h.SEC.SEC2_0][i].value, a), _ = u.mix(_, e[h.SEC.SEC2_1][i].value, l), _ = u.mix(_, e[h.SEC.SEC3_0][i].value, p), _ = u.mix(_, e[h.SEC.SEC3_1][i].value, d), _ = u.mix(_, e[h.SEC.SEC4_0][i].value, m), _ = u.mix(_, e[h.SEC.SEC4_1][i].value, g))
            }, e
        }(THREE.Object3D), t.exports = o
    },
    function (t, e) {
        function i() {
            throw new Error("setTimeout has not been defined")
        }

        function n() {
            throw new Error("clearTimeout has not been defined")
        }

        function r(t) {
            if (u === setTimeout) return setTimeout(t, 0);
            if ((u === i || !u) && setTimeout) return u = setTimeout, setTimeout(t, 0);
            try {
                return u(t, 0)
            } catch (e) {
                try {
                    return u.call(null, t, 0)
                } catch (e) {
                    return u.call(this, t, 0)
                }
            }
        }

        function o(t) {
            if (c === clearTimeout) return clearTimeout(t);
            if ((c === n || !c) && clearTimeout) return c = clearTimeout, clearTimeout(t);
            try {
                return c(t)
            } catch (e) {
                try {
                    return c.call(null, t)
                } catch (e) {
                    return c.call(this, t)
                }
            }
        }

        function s() {
            m && d && (m = !1, d.length ? f = d.concat(f) : g = -1, f.length && a())
        }

        function a() {
            if (!m) {
                var t = r(s);
                m = !0;
                for (var e = f.length; e;) {
                    for (d = f, f = []; ++g < e;) d && d[g].run();
                    g = -1, e = f.length
                }
                d = null, m = !1, o(t)
            }
        }

        function h(t, e) {
            this.fun = t, this.array = e
        }

        function l() {}
        var u, c, p = t.exports = {};
        ! function () {
            try {
                u = "function" == typeof setTimeout ? setTimeout : i
            } catch (t) {
                u = i
            }
            try {
                c = "function" == typeof clearTimeout ? clearTimeout : n
            } catch (t) {
                c = n
            }
        }();
        var d, f = [],
            m = !1,
            g = -1;
        p.nextTick = function (t) {
            var e = new Array(arguments.length - 1);
            if (arguments.length > 1)
                for (var i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
            f.push(new h(t, e)), 1 !== f.length || m || r(a)
        }, h.prototype.run = function () {
            this.fun.apply(null, this.array)
        }, p.title = "browser", p.browser = !0, p.env = {}, p.argv = [], p.version = "", p.versions = {}, p.on = l, p.addListener = l, p.once = l, p.off = l, p.removeListener = l, p.removeAllListeners = l, p.emit = l, p.prependListener = l, p.prependOnceListener = l, p.listeners = function (t) {
            return []
        }, p.binding = function (t) {
            throw new Error("process.binding is not supported")
        }, p.cwd = function () {
            return "/"
        }, p.chdir = function (t) {
            throw new Error("process.chdir is not supported")
        }, p.umask = function () {
            return 0
        }
    },
    function (t, e, i) {
        var n, r, o, s, a, h = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            l = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) u.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            u = {}.hasOwnProperty;
        o = i(4), n = i(1), s = i(7), a = i(2), r = function (t) {
            function e(t) {
                this.height = h(this.height, this), this.width = h(this.width, this), this.setSize = h(this.setSize, this), this.setAlpha = h(this.setAlpha, this), this.setTex = h(this.setTex, this), this.uni = h(this.uni, this), this.dispose = h(this.dispose, this), this.init = h(this.init, this), e.__super__.constructor.call(this), this._opt = t || {}, this._mesh
            }
            return l(e, t), e.prototype.init = function () {
                return this._mesh = new THREE.Mesh(new THREE.PlaneBufferGeometry(1, 1), new THREE.ShaderMaterial({
                    vertexShader: i(34),
                    fragmentShader: i(111),
                    transparent: !0,
                    side: THREE.DoubleSide,
                    uniforms: {
                        tDiffuse: {
                            value: this._opt.tex
                        },
                        alpha: {
                            value: 1
                        },
                        bright: {
                            value: 0
                        },
                        contrast: {
                            value: 0
                        },
                        color: {
                            value: new THREE.Color
                        },
                        colorLerp: {
                            value: 0
                        }
                    }
                })), this.add(this._mesh)
            }, e.prototype.dispose = function () {
                return null != this._mesh && (this.remove(this._mesh), this._mesh.material.dispose(), this._mesh.geometry.dispose(), this._mesh = null), this._opt = null
            }, e.prototype.uni = function () {
                return this._mesh.material.uniforms
            }, e.prototype.setTex = function (t) {
                return this.uni().tDiffuse.value = t
            }, e.prototype.setAlpha = function (t) {
                return this._mesh.material.uniforms.alpha.value = t
            }, e.prototype.setSize = function (t) {
                return this._mesh.scale.set(t, t, 1)
            }, e.prototype.width = function () {
                return this._mesh.scale.x
            }, e.prototype.height = function () {
                return this._mesh.scale.y
            }, e
        }(THREE.Object3D), t.exports = r
    },
    function (t, e, i) {
        "use strict";

        function n(t) {
            return this instanceof n ? (l.call(this, t), u.call(this, t), t && t.readable === !1 && (this.readable = !1), t && t.writable === !1 && (this.writable = !1), this.allowHalfOpen = !0, t && t.allowHalfOpen === !1 && (this.allowHalfOpen = !1), void this.once("end", r)) : new n(t)
        }

        function r() {
            this.allowHalfOpen || this._writableState.ended || s.nextTick(o, this)
        }

        function o(t) {
            t.end()
        }
        var s = i(33),
            a = Object.keys || function (t) {
                var e = [];
                for (var i in t) e.push(i);
                return e
            };
        t.exports = n;
        var h = i(26);
        h.inherits = i(21);
        var l = i(47),
            u = i(39);
        h.inherits(n, l);
        for (var c = a(u.prototype), p = 0; p < c.length; p++) {
            var d = c[p];
            n.prototype[d] || (n.prototype[d] = u.prototype[d])
        }
        Object.defineProperty(n.prototype, "destroyed", {
            get: function () {
                return void 0 !== this._readableState && void 0 !== this._writableState && (this._readableState.destroyed && this._writableState.destroyed)
            }, set: function (t) {
                void 0 !== this._readableState && void 0 !== this._writableState && (this._readableState.destroyed = t, this._writableState.destroyed = t)
            }
        }), n.prototype._destroy = function (t, e) {
            this.push(null), this.end(), s.nextTick(e, t)
        }
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v = function (t, e) {
            return function () {
                return t.apply(e, arguments)
            }
        };
        d = i(7), s = i(12), a = i(4), n = i(1), o = i(3), f = i(8), u = i(10), g = i(2), l = i(6), m = i(5), r = i(11), h = i(29), c = i(22), p = function () {
            function t(t) {
                this.getNowProgress = v(this.getNowProgress, this), this._resize = v(this._resize, this), this.flash = v(this.flash, this), this.setNowScroll = v(this.setNowScroll, this), this._update = v(this._update, this), this.getPos = v(this.getPos, this), this.setGuidePos = v(this.setGuidePos, this), this.updateHeight = v(this.updateHeight, this), this.reset = v(this.reset, this), this.setTg = v(this.setTg, this), this.init = v(this.init, this), this._use = !0, this._scrollTg, this._heightGuide, this._pos = new h, this.conData = {
                    width: 0,
                    height: 0
                }, this._offset = new h, this._updateParam = {
                    allHeight: 0,
                    cnt: 0
                }, this._elBody = $("body"), this._elWindow = $(window), this._buffer = 0, this.isUpdate = !0, this.init()
            }
            return t.prototype.init = function () {
                return n.USE_SM_SCROLL ? this._use = !0 : this._use = !1, this._elBody.append('<div class="js-height"></div>'), this._heightGuide = $(".js-height"), m.add(this._update), l.add(this._resize, !0)
            }, t.prototype.setTg = function (t) {
                return this.reset(), this._use ? (this._scrollTg = t, null != this._scrollTg && (this._scrollTg.css({
                    position: "fixed"
                }), this._pos.y = 0, d.set(this._scrollTg, {
                    y: this._pos.y
                })), this._heightGuide.css({
                    display: "",
                    top: 0
                }), this.flash()) : (this._heightGuide.css({
                    display: "",
                    top: ""
                }), void $("body").addClass("is-default-scroll"))
            }, t.prototype.reset = function () {
                return null != this._scrollTg && (this._scrollTg.css({
                    position: ""
                }), d.set(this._scrollTg, {
                    y: 0
                }), this._scrollTg = null), null != this._heightGuide && this._heightGuide.css({
                    display: "none",
                    top: ""
                }), this._pos.y = 0
            }, t.prototype.updateHeight = function () {
                if (null != this._scrollTg) return this._updateParam.allHeight = this._scrollTg.height()
            }, t.prototype.setGuidePos = function (t) {
                return this._heightGuide.css({
                    top: t.height
                })
            }, t.prototype.getPos = function () {
                return this._pos
            }, t.prototype._update = function () {
                var t, e, i, n;
                if (null != this._scrollTg) return e = u.val, i = o.sw(), t = o.sh(), this._updateParam.cnt >= 0 && m.cnt % 60 === 0 && (this.updateHeight(), this._updateParam.cnt--, this.conData.height = this._updateParam.allHeight, this._heightGuide.css({
                    top: this.conData.height
                })), this.isUpdate ? (n = g.map(e, 0, -(this.conData.height - t), 0, this.conData.height - t), this._pos.y += (n - this._pos.y) * (.01 * a.scroll.ease.value), d.set(this._scrollTg, {
                    y: this._pos.y
                })) : void 0
            }, t.prototype.setNowScroll = function (t) {
                var e, i;
                if (this._use) return this.updateHeight(), this.conData.height = this._updateParam.allHeight, this._heightGuide.css({
                    top: this.conData.height
                }), e = o.sh(), i = t.tg, this._pos.y = g.map(i, 0, -(this.conData.height - e), 0, this.conData.height - e), d.set(this._scrollTg, {
                    y: this._pos.y
                })
            }, t.prototype.flash = function () {
                if (this._resize(), this._pos.y = 0, null != this._scrollTg) return d.set(this._scrollTg, {
                    y: this._pos.y
                })
            }, t.prototype._resize = function () {
                return this._updateParam.cnt = 5
            }, t.prototype.getNowProgress = function () {
                var t;
                return t = window.innerHeight, g.map(u.val, 0, 1, 0, this.conData.height - t)
            }, t
        }(), t.exports = new p
    },
    function (t, e) {
        "function" == typeof Object.create ? t.exports = function (t, e) {
            t.super_ = e, t.prototype = Object.create(e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            })
        } : t.exports = function (t, e) {
            t.super_ = e;
            var i = function () {};
            i.prototype = e.prototype, t.prototype = new i, t.prototype.constructor = t
        }
    },
    function (t, e) {
        var i, n = function (t, e) {
            return function () {
                return t.apply(e, arguments)
            }
        };
        i = function () {
            function t(t, e) {
                this.copy = n(this.copy, this), this.set = n(this.set, this), this.equal = n(this.equal, this), this.max = n(this.max, this), this.min = n(this.min, this), this.height2 = n(this.height2, this), this.width2 = n(this.width2, this), this.width = t || 0, this.height = e || 0
            }
            return t.prototype.width2 = function () {
                return~~ (.5 * this.width)
            }, t.prototype.height2 = function () {
                return~~ (.5 * this.height)
            }, t.prototype.min = function () {
                return Math.min(this.width, this.height)
            }, t.prototype.max = function () {
                return Math.max(this.width, this.height)
            }, t.prototype.equal = function (t, e) {
                return this.width === t && this.height === e
            }, t.prototype.set = function (t, e) {
                return this.width = t, this.height = e
            }, t.prototype.copy = function (t) {
                return this.width = t.width, this.height = t.height
            }, t
        }(), t.exports = i
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            _ = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) y.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            y = {}.hasOwnProperty;
        p = i(7), h = i(12), l = i(4), n = i(1), o = i(3), d = i(8), c = i(10), m = i(2), u = i(6), f = i(5), r = i(11), g = i(9), a = i(79), s = function (t) {
            function e(t) {
                this._resize = v(this._resize, this), this._update = v(this._update, this), this._updateParam = v(this._updateParam, this), this.hide = v(this.hide, this), this._eShowed = v(this._eShowed, this), this.reset = v(this.reset, this), this.show = v(this.show, this), this.showFast = v(this.showFast, this), this.isShowed = v(this.isShowed, this), this.init = v(this.init, this), t.resize = !0, t.update = !0, e.__super__.constructor.call(this, t), this._id = t.id, this._item = [], this._shuffle = [], this._isShowed = !1, this._isManual = this.el().hasClass("is-manual"), this._isWork = this.el().hasClass("js-work"), this._interval = 0, this._param = {
                    height: 0,
                    y: 0,
                    life: 0,
                    rate: 0
                }, this.onShowed
            }
            return _(e, t), e.prototype.init = function () {
                var t, i;
                return e.__super__.init.call(this), i = this.getData("param"), t = this.getData("interval"), null != t && (this._interval = Number(t)), this.find("> span").each(function (t) {
                    return function (e, n) {
                        var r;
                        return r = new a({
                            el: $(n),
                            id: e,
                            param: i,
                            isWork: t._isWork
                        }), r.init(), t._item.push(r), t._shuffle.push(r)
                    }
                }(this)), n.IS_SIMPLE && p.set(this.el(), {
                    opacity: 1e-4
                }), this._resize()
            }, e.prototype.isShowed = function () {
                return this._isShowed
            }, e.prototype.showFast = function (t) {
                var e, i, r, o, s, a;
                if (!this._isShowed) {
                    for (this._isShowed = !0, this.addClass("is-finish"), n.IS_SIMPLE && p.set(this.el(), {
                        opacity: .99999
                    }), o = this._item, s = [], e = i = 0, r = o.length; i < r; e = ++i) a = o[e], s.push(a.showFast());
                    return s
                }
            }, e.prototype.show = function (t) {
                var e, i;
                if (!this._isShowed) return this._isShowed = !0, l.isPlayingMainTxtMotion = !0, t = t || {}, e = t.delay || 0, i = t.speed || .75, this.onShowed = t.onComplete, n.IS_SIMPLE || r.add(function (t) {
                    return function () {
                        var n, r, o, s, a, h;
                        for (s = t._item, a = [], n = r = 0, o = s.length; r < o; n = ++r) h = s[n], a.push(h.show({
                            speed: i,
                            delay: e + n * (.05 * i),
                            onComplete: n === t._item.length - 1 ? t._eShowed : null
                        }));
                        return a
                    }
                }(this), 60 * t.delay), n.IS_SIMPLE ? p.a(this.el(), {
                    opacity: [0, .9999]
                }, 1, e, null, null, null, this._eShowed) : void 0
            }, e.prototype.reset = function (t) {
                var e, i, n, r, o, s;
                for (this._isShowed = !1, r = this._item, o = [], e = i = 0, n = r.length; i < n; e = ++i) s = r[e], o.push(s.reset());
                return o
            }, e.prototype._eShowed = function () {
                if (l.isPlayingMainTxtMotion = !1, this.addClass("is-finish"), null != this.onShowed) return this.onShowed()
            }, e.prototype.hide = function (t) {}, e.prototype._updateParam = function () {
                if (this._param.life > 0 && f.cnt % 30 === 0) return this._param.height = this.el().height(), this._param.y = this.el().offset().top, this._param.life--
            }, e.prototype._update = function () {
                var t, i, r, s, a, h;
                if (e.__super__._update.call(this), !(this._isShowed || this._isManual || n.IS_SIMPLE || this._isWork || (h = o.sw(), s = o.sh(), this._updateParam(), r = c.val, a = this._param.y - 1.5 * s, t = a + s - .25 * s, r < a || r > t + 2 * s))) return i = m.map(r, 0, 1, a, t), i > .5 && r > .5 * s ? this.show({
                    delay: o.val(0, .1) + this._interval
                }) : void 0
            }, e.prototype._resize = function () {
                return e.__super__._resize.call(this), this._param.life = 10
            }, e
        }(h), t.exports = s
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            p = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) d.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            d = {}.hasOwnProperty;
        s = i(12), a = i(4), r = i(1), o = i(3), l = i(8), u = i(2), h = i(36), n = function (t) {
            function e(t) {
                this.isPage = c(this.isPage, this), this.isNowRenderFrame = c(this.isNowRenderFrame, this), this._makeMainScene = c(this._makeMainScene, this), this._makeRenderer = c(this._makeRenderer, this), this._updateOrthographicCamera = c(this._updateOrthographicCamera, this), this._updatePerspectiveCamera = c(this._updatePerspectiveCamera, this), this.updateCamera = c(this.updateCamera, this), this._makeCamera = c(this._makeCamera, this), this._resize = c(this._resize, this), this._update = c(this._update, this), this.dispose = c(this.dispose, this), this.init = c(this.init, this), e.__super__.constructor.call(this, {
                    update: !0,
                    resize: !0,
                    el: t.el
                }), this.camera, this.renderer, this.mainScene, this.renderParam, null == t.transparent && (t.transparent = !1), this.isTransparent = t.transparent, this.isOrthographic = !1, this.isRender = !0, this._page = t.page, this.renderCnt = 0, this._renderSize = new THREE.Vector2
            }
            return p(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this._makeRenderer(), this._makeMainScene()
            }, e.prototype.dispose = function () {
                var t;
                return this.camera = null, this.mainScene = null, t = this.renderer.getContext(), t.getExtension("WEBGL_lose_context") && (console.log("forceContextLoss"), this.renderer.forceContextLoss()), this.renderer.context = null, this.renderer.domElement = null, this.renderer.dispose(), this.renderer = null, this.renderParam = null, this._renderSize = null, e.__super__.dispose.call(this)
            }, e.prototype._update = function () {
                return e.__super__._update.call(this), this.renderer.autoClear = !0, this.renderer.render(this.mainScene, this.camera)
            }, e.prototype._resize = function () {
                var t, e;
                return e = window.innerWidth, t = window.innerHeight, this.camera.aspect = e / t, this.camera.updateProjectionMatrix(), this.renderer.setPixelRatio(o.ratio()), this.renderer.setSize(e, t, !0), this.renderer.clear()
            }, e.prototype._makeCamera = function (t) {
                var e;
                return t = t || {}, this.isOrthographic = t.isOrthographic, e = this.isOrthographic ? new THREE.OrthographicCamera : new THREE.PerspectiveCamera(90, 1, 1e-23, 5e4), e._size = new THREE.Vector2(10, 10), e
            }, e.prototype.updateCamera = function (t, e, i) {
                return this.isOrthographic ? this._updateOrthographicCamera(t, e, i) : this._updatePerspectiveCamera(t, e, i)
            }, e.prototype._updatePerspectiveCamera = function (t, e, i) {
                return e = e || 10, i = i || 10, t._size = new THREE.Vector2(e, i), t.aspect = e / i, t.updateProjectionMatrix(), t.position.z = i / Math.tan(t.fov * Math.PI / 360) / 2
            }, e.prototype._updateOrthographicCamera = function (t, e, i) {
                return e = e || 10, i = i || 10, t.left = .5 * -e, t.right = .5 * e, t.top = .5 * i, t.bottom = .5 * -i, t.near = .1, t.far = 1e4, t.zoom = 1, t.updateProjectionMatrix(), t.position.set(0, 0, 1), t.lookAt(new THREE.Vector3(0, 0, 0))
            }, e.prototype._makeRenderer = function () {
                return null == this.renderParam && (this.renderParam = {
                    canvas: this.el().get(0),
                    alpha: !0,
                    premultipliedAlpha: this.isTransparent,
                    preserveDrawingBuffer: this.isTransparent,
                    antialias: !1,
                    stencil: !1,
                    depth: !0,
                    powerPreference: "low-power"
                }), u.isIE() && delete this.renderParam.depth, this.renderer = new THREE.WebGLRenderer(this.renderParam), this.renderer.autoClear = !0, this.renderer.setClearColor(0, 0)
            }, e.prototype._makeMainScene = function () {
                return this.mainScene = new THREE.Scene
            }, e.prototype.isNowRenderFrame = function () {
                return this._cnt % 2 === 0
            }, e.prototype.isPage = function () {
                return router.isPage(this._page)
            }, e
        }(s), t.exports = n
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            p = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) d.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            d = {}.hasOwnProperty;
        a = i(4), n = i(1), h = i(7), o = i(3), l = i(2), u = i(9), s = i(16), r = function (t) {
            function e(t) {
                this._resize = c(this._resize, this), this._update = c(this._update, this), this.setSize = c(this.setSize, this), this.uni = c(this.uni, this), this.init = c(this.init, this), e.__super__.constructor.call(this, t), this._mesh
            }
            return p(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), null == this.opt.vert && (this.opt.vert = i(34)), null == this.opt.frag && (this.opt.frag = i(110)), null == this.opt.uni && (this.opt.uni = {
                    tDiffuse: {
                        value: this.opt.tex
                    },
                    alpha: {
                        value: 1
                    },
                    bright: {
                        value: 0
                    },
                    contrast: {
                        value: 0
                    }
                }), this._mesh = new THREE.Mesh(new THREE.PlaneBufferGeometry(1, 1), new THREE.ShaderMaterial({
                    vertexShader: this.opt.vert,
                    fragmentShader: this.opt.frag,
                    transparent: !0,
                    depthTest: !1,
                    uniforms: this.opt.uni
                })), this.add(this._mesh), this._resize()
            }, e.prototype.uni = function () {
                return this._mesh.material.uniforms
            }, e.prototype.setSize = function (t, e) {
                return this._mesh.scale.set(t, e, 1)
            }, e.prototype._update = function () {
                return e.__super__._update.call(this)
            }, e.prototype._resize = function () {
                return e.__super__._resize.call(this)
            }, e
        }(s), t.exports = r
    },
    function (t, e, i) {
        (function (t) {
            function i(t) {
                return Array.isArray ? Array.isArray(t) : "[object Array]" === g(t)
            }

            function n(t) {
                return "boolean" == typeof t
            }

            function r(t) {
                return null === t
            }

            function o(t) {
                return null == t
            }

            function s(t) {
                return "number" == typeof t
            }

            function a(t) {
                return "string" == typeof t
            }

            function h(t) {
                return "symbol" == typeof t
            }

            function l(t) {
                return void 0 === t
            }

            function u(t) {
                return "[object RegExp]" === g(t)
            }

            function c(t) {
                return "object" == typeof t && null !== t
            }

            function p(t) {
                return "[object Date]" === g(t)
            }

            function d(t) {
                return "[object Error]" === g(t) || t instanceof Error
            }

            function f(t) {
                return "function" == typeof t
            }

            function m(t) {
                return null === t || "boolean" == typeof t || "number" == typeof t || "string" == typeof t || "symbol" == typeof t || "undefined" == typeof t
            }

            function g(t) {
                return Object.prototype.toString.call(t)
            }
            e.isArray = i, e.isBoolean = n, e.isNull = r, e.isNullOrUndefined = o, e.isNumber = s, e.isString = a, e.isSymbol = h, e.isUndefined = l, e.isRegExp = u, e.isObject = c, e.isDate = p, e.isError = d, e.isFunction = f, e.isPrimitive = m, e.isBuffer = t.isBuffer
        }).call(e, i(28).Buffer)
    },
    function (t, e, i) {
        (function (e, n) {
            "use strict";

            function r(t, e) {
                var i = new Image;
                i.crossOrigin = "Anonymous", i.onload = function () {
                    var t = document.createElement("canvas");
                    t.width = i.width, t.height = i.height;
                    var n = t.getContext("2d");
                    n.drawImage(i, 0, 0);
                    var r = n.getImageData(0, 0, i.width, i.height);
                    e(null, u(new Uint8Array(r.data), [i.width, i.height, 4], [4, 4 * i.width, 1], 0))
                }, i.onerror = function (t) {
                    e(t)
                }, i.src = t
            }

            function o(t, e) {
                var i;
                try {
                    i = new c(t)
                } catch (t) {
                    return void e(t)
                }
                if (i.numFrames() > 0) {
                    var n = [i.numFrames(), i.height, i.width, 4],
                        r = new Uint8Array(n[0] * n[1] * n[2] * n[3]),
                        o = u(r, n);
                    try {
                        for (var s = 0; s < i.numFrames(); ++s) i.decodeAndBlitFrameRGBA(s, r.subarray(o.index(s, 0, 0, 0), o.index(s + 1, 0, 0, 0)))
                    } catch (t) {
                        return void e(t)
                    }
                    e(null, o.transpose(0, 2, 1))
                } else {
                    var n = [i.height, i.width, 4],
                        r = new Uint8Array(n[0] * n[1] * n[2]),
                        o = u(r, n);
                    try {
                        i.decodeAndBlitFrameRGBA(0, r)
                    } catch (t) {
                        return void e(t)
                    }
                    e(null, o.transpose(1, 0))
                }
            }

            function s(t, e) {
                var i = new XMLHttpRequest;
                i.open("GET", t, !0), i.responseType = "arraybuffer", i.overrideMimeType && i.overrideMimeType("application/binary"), i.onerror = function (t) {
                    e(t)
                }, i.onload = function () {
                    if (4 === i.readyState) {
                        var t = new Uint8Array(i.response);
                        o(t, e)
                    }
                }, i.send()
            }

            function a(t) {
                if (void 0 === t[0]) {
                    for (var e = t.length, i = new Uint8Array(e), n = 0; n < e; ++n) i[n] = t.get(n);
                    return i
                }
                return new Uint8Array(t)
            }

            function h(t, i) {
                e.nextTick(function () {
                    try {
                        var e = p(t);
                        e ? o(a(e), i) : i(new Error("Error parsing data URI"))
                    } catch (t) {
                        i(t)
                    }
                })
            }
            var l = i(105),
                u = i(45),
                c = i(104).GifReader,
                p = (i(102), i(127), i(96));
            t.exports = function (t, e, i) {
                i || (i = e, e = "");
                var o = l.extname(t);
                switch (e || o.toUpperCase()) {
                case ".GIF":
                    s(t, i);
                    break;
                default:
                    n.isBuffer(t) && (t = "data:" + e + ";base64," + t.toString("base64")), 0 === t.indexOf("data:image/gif;") ? h(t, i) : r(t, i)
                }
            }
        }).call(e, i(17), i(28).Buffer)
    },
    function (t, e, i) {
        (function (t) {
            /*!
             * The buffer module from node.js, for the browser.
             *
             * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
             * @license  MIT
             */
            "use strict";

            function n() {
                try {
                    var t = new Uint8Array(1);
                    return t.__proto__ = {
                        __proto__: Uint8Array.prototype,
                        foo: function () {
                            return 42
                        }
                    }, 42 === t.foo() && "function" == typeof t.subarray && 0 === t.subarray(1, 1).byteLength
                } catch (t) {
                    return !1
                }
            }

            function r() {
                return s.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
            }

            function o(t, e) {
                if (r() < e) throw new RangeError("Invalid typed array length");
                return s.TYPED_ARRAY_SUPPORT ? (t = new Uint8Array(e), t.__proto__ = s.prototype) : (null === t && (t = new s(e)), t.length = e), t
            }

            function s(t, e, i) {
                if (!(s.TYPED_ARRAY_SUPPORT || this instanceof s)) return new s(t, e, i);
                if ("number" == typeof t) {
                    if ("string" == typeof e) throw new Error("If encoding is specified then the first argument must be a string");
                    return u(this, t)
                }
                return a(this, t, e, i)
            }

            function a(t, e, i, n) {
                if ("number" == typeof e) throw new TypeError('"value" argument must not be a number');
                return "undefined" != typeof ArrayBuffer && e instanceof ArrayBuffer ? d(t, e, i, n) : "string" == typeof e ? c(t, e, i) : f(t, e)
            }

            function h(t) {
                if ("number" != typeof t) throw new TypeError('"size" argument must be a number');
                if (t < 0) throw new RangeError('"size" argument must not be negative')
            }

            function l(t, e, i, n) {
                return h(e), e <= 0 ? o(t, e) : void 0 !== i ? "string" == typeof n ? o(t, e).fill(i, n) : o(t, e).fill(i) : o(t, e)
            }

            function u(t, e) {
                if (h(e), t = o(t, e < 0 ? 0 : 0 | m(e)), !s.TYPED_ARRAY_SUPPORT)
                    for (var i = 0; i < e; ++i) t[i] = 0;
                return t
            }

            function c(t, e, i) {
                if ("string" == typeof i && "" !== i || (i = "utf8"), !s.isEncoding(i)) throw new TypeError('"encoding" must be a valid string encoding');
                var n = 0 | v(e, i);
                t = o(t, n);
                var r = t.write(e, i);
                return r !== n && (t = t.slice(0, r)), t
            }

            function p(t, e) {
                var i = e.length < 0 ? 0 : 0 | m(e.length);
                t = o(t, i);
                for (var n = 0; n < i; n += 1) t[n] = 255 & e[n];
                return t
            }

            function d(t, e, i, n) {
                if (e.byteLength, i < 0 || e.byteLength < i) throw new RangeError("'offset' is out of bounds");
                if (e.byteLength < i + (n || 0)) throw new RangeError("'length' is out of bounds");
                return e = void 0 === i && void 0 === n ? new Uint8Array(e) : void 0 === n ? new Uint8Array(e, i) : new Uint8Array(e, i, n), s.TYPED_ARRAY_SUPPORT ? (t = e, t.__proto__ = s.prototype) : t = p(t, e), t
            }

            function f(t, e) {
                if (s.isBuffer(e)) {
                    var i = 0 | m(e.length);
                    return t = o(t, i), 0 === t.length ? t : (e.copy(t, 0, 0, i), t)
                }
                if (e) {
                    if ("undefined" != typeof ArrayBuffer && e.buffer instanceof ArrayBuffer || "length" in e) return "number" != typeof e.length || J(e.length) ? o(t, 0) : p(t, e);
                    if ("Buffer" === e.type && Q(e.data)) return p(t, e.data)
                }
                throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")
            }

            function m(t) {
                if (t >= r()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + r().toString(16) + " bytes");
                return 0 | t
            }

            function g(t) {
                return +t != t && (t = 0), s.alloc(+t)
            }

            function v(t, e) {
                if (s.isBuffer(t)) return t.length;
                if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(t) || t instanceof ArrayBuffer)) return t.byteLength;
                "string" != typeof t && (t = "" + t);
                var i = t.length;
                if (0 === i) return 0;
                for (var n = !1;;) switch (e) {
                case "ascii":
                case "latin1":
                case "binary":
                    return i;
                case "utf8":
                case "utf-8":
                case void 0:
                    return W(t).length;
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return 2 * i;
                case "hex":
                    return i >>> 1;
                case "base64":
                    return Y(t).length;
                default:
                    if (n) return W(t).length;
                    e = ("" + e).toLowerCase(), n = !0
                }
            }

            function _(t, e, i) {
                var n = !1;
                if ((void 0 === e || e < 0) && (e = 0), e > this.length) return "";
                if ((void 0 === i || i > this.length) && (i = this.length), i <= 0) return "";
                if (i >>>= 0, e >>>= 0, i <= e) return "";
                for (t || (t = "utf8");;) switch (t) {
                case "hex":
                    return I(this, e, i);
                case "utf8":
                case "utf-8":
                    return P(this, e, i);
                case "ascii":
                    return L(this, e, i);
                case "latin1":
                case "binary":
                    return O(this, e, i);
                case "base64":
                    return C(this, e, i);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return D(this, e, i);
                default:
                    if (n) throw new TypeError("Unknown encoding: " + t);
                    t = (t + "").toLowerCase(), n = !0
                }
            }

            function y(t, e, i) {
                var n = t[e];
                t[e] = t[i], t[i] = n
            }

            function x(t, e, i, n, r) {
                if (0 === t.length) return -1;
                if ("string" == typeof i ? (n = i, i = 0) : i > 2147483647 ? i = 2147483647 : i < -2147483648 && (i = -2147483648), i = +i, isNaN(i) && (i = r ? 0 : t.length - 1), i < 0 && (i = t.length + i), i >= t.length) {
                    if (r) return -1;
                    i = t.length - 1
                } else if (i < 0) {
                    if (!r) return -1;
                    i = 0
                }
                if ("string" == typeof e && (e = s.from(e, n)), s.isBuffer(e)) return 0 === e.length ? -1 : w(t, e, i, n, r);
                if ("number" == typeof e) return e &= 255, s.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? r ? Uint8Array.prototype.indexOf.call(t, e, i) : Uint8Array.prototype.lastIndexOf.call(t, e, i) : w(t, [e], i, n, r);
                throw new TypeError("val must be string, number or Buffer")
            }

            function w(t, e, i, n, r) {
                function o(t, e) {
                    return 1 === s ? t[e] : t.readUInt16BE(e * s)
                }
                var s = 1,
                    a = t.length,
                    h = e.length;
                if (void 0 !== n && (n = String(n).toLowerCase(), "ucs2" === n || "ucs-2" === n || "utf16le" === n || "utf-16le" === n)) {
                    if (t.length < 2 || e.length < 2) return -1;
                    s = 2, a /= 2, h /= 2, i /= 2
                }
                var l;
                if (r) {
                    var u = -1;
                    for (l = i; l < a; l++)
                        if (o(t, l) === o(e, u === -1 ? 0 : l - u)) {
                            if (u === -1 && (u = l), l - u + 1 === h) return u * s
                        } else u !== -1 && (l -= l - u), u = -1
                } else
                    for (i + h > a && (i = a - h), l = i; l >= 0; l--) {
                        for (var c = !0, p = 0; p < h; p++)
                            if (o(t, l + p) !== o(e, p)) {
                                c = !1;
                                break
                            }
                        if (c) return l
                    }
                return -1
            }

            function b(t, e, i, n) {
                i = Number(i) || 0;
                var r = t.length - i;
                n ? (n = Number(n), n > r && (n = r)) : n = r;
                var o = e.length;
                if (o % 2 !== 0) throw new TypeError("Invalid hex string");
                n > o / 2 && (n = o / 2);
                for (var s = 0; s < n; ++s) {
                    var a = parseInt(e.substr(2 * s, 2), 16);
                    if (isNaN(a)) return s;
                    t[i + s] = a
                }
                return s
            }

            function S(t, e, i, n) {
                return Z(W(e, t.length - i), t, i, n)
            }

            function T(t, e, i, n) {
                return Z(q(e), t, i, n)
            }

            function M(t, e, i, n) {
                return T(t, e, i, n)
            }

            function E(t, e, i, n) {
                return Z(Y(e), t, i, n)
            }

            function A(t, e, i, n) {
                return Z(X(e, t.length - i), t, i, n)
            }

            function C(t, e, i) {
                return 0 === e && i === t.length ? $.fromByteArray(t) : $.fromByteArray(t.slice(e, i))
            }

            function P(t, e, i) {
                i = Math.min(t.length, i);
                for (var n = [], r = e; r < i;) {
                    var o = t[r],
                        s = null,
                        a = o > 239 ? 4 : o > 223 ? 3 : o > 191 ? 2 : 1;
                    if (r + a <= i) {
                        var h, l, u, c;
                        switch (a) {
                        case 1:
                            o < 128 && (s = o);
                            break;
                        case 2:
                            h = t[r + 1], 128 === (192 & h) && (c = (31 & o) << 6 | 63 & h, c > 127 && (s = c));
                            break;
                        case 3:
                            h = t[r + 1], l = t[r + 2], 128 === (192 & h) && 128 === (192 & l) && (c = (15 & o) << 12 | (63 & h) << 6 | 63 & l, c > 2047 && (c < 55296 || c > 57343) && (s = c));
                            break;
                        case 4:
                            h = t[r + 1], l = t[r + 2], u = t[r + 3], 128 === (192 & h) && 128 === (192 & l) && 128 === (192 & u) && (c = (15 & o) << 18 | (63 & h) << 12 | (63 & l) << 6 | 63 & u, c > 65535 && c < 1114112 && (s = c))
                        }
                    }
                    null === s ? (s = 65533, a = 1) : s > 65535 && (s -= 65536, n.push(s >>> 10 & 1023 | 55296), s = 56320 | 1023 & s), n.push(s), r += a
                }
                return R(n)
            }

            function R(t) {
                var e = t.length;
                if (e <= tt) return String.fromCharCode.apply(String, t);
                for (var i = "", n = 0; n < e;) i += String.fromCharCode.apply(String, t.slice(n, n += tt));
                return i
            }

            function L(t, e, i) {
                var n = "";
                i = Math.min(t.length, i);
                for (var r = e; r < i; ++r) n += String.fromCharCode(127 & t[r]);
                return n
            }

            function O(t, e, i) {
                var n = "";
                i = Math.min(t.length, i);
                for (var r = e; r < i; ++r) n += String.fromCharCode(t[r]);
                return n
            }

            function I(t, e, i) {
                var n = t.length;
                (!e || e < 0) && (e = 0), (!i || i < 0 || i > n) && (i = n);
                for (var r = "", o = e; o < i; ++o) r += V(t[o]);
                return r
            }

            function D(t, e, i) {
                for (var n = t.slice(e, i), r = "", o = 0; o < n.length; o += 2) r += String.fromCharCode(n[o] + 256 * n[o + 1]);
                return r
            }

            function k(t, e, i) {
                if (t % 1 !== 0 || t < 0) throw new RangeError("offset is not uint");
                if (t + e > i) throw new RangeError("Trying to access beyond buffer length")
            }

            function N(t, e, i, n, r, o) {
                if (!s.isBuffer(t)) throw new TypeError('"buffer" argument must be a Buffer instance');
                if (e > r || e < o) throw new RangeError('"value" argument is out of bounds');
                if (i + n > t.length) throw new RangeError("Index out of range")
            }

            function z(t, e, i, n) {
                e < 0 && (e = 65535 + e + 1);
                for (var r = 0, o = Math.min(t.length - i, 2); r < o; ++r) t[i + r] = (e & 255 << 8 * (n ? r : 1 - r)) >>> 8 * (n ? r : 1 - r)
            }

            function B(t, e, i, n) {
                e < 0 && (e = 4294967295 + e + 1);
                for (var r = 0, o = Math.min(t.length - i, 4); r < o; ++r) t[i + r] = e >>> 8 * (n ? r : 3 - r) & 255
            }

            function F(t, e, i, n, r, o) {
                if (i + n > t.length) throw new RangeError("Index out of range");
                if (i < 0) throw new RangeError("Index out of range")
            }

            function H(t, e, i, n, r) {
                return r || F(t, e, i, 4, 3.4028234663852886e38, -3.4028234663852886e38), K.write(t, e, i, n, 23, 4), i + 4
            }

            function U(t, e, i, n, r) {
                return r || F(t, e, i, 8, 1.7976931348623157e308, -1.7976931348623157e308), K.write(t, e, i, n, 52, 8), i + 8
            }

            function G(t) {
                if (t = j(t).replace(et, ""), t.length < 2) return "";
                for (; t.length % 4 !== 0;) t += "=";
                return t
            }

            function j(t) {
                return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "")
            }

            function V(t) {
                return t < 16 ? "0" + t.toString(16) : t.toString(16)
            }

            function W(t, e) {
                e = e || 1 / 0;
                for (var i, n = t.length, r = null, o = [], s = 0; s < n; ++s) {
                    if (i = t.charCodeAt(s), i > 55295 && i < 57344) {
                        if (!r) {
                            if (i > 56319) {
                                (e -= 3) > -1 && o.push(239, 191, 189);
                                continue
                            }
                            if (s + 1 === n) {
                                (e -= 3) > -1 && o.push(239, 191, 189);
                                continue
                            }
                            r = i;
                            continue
                        }
                        if (i < 56320) {
                            (e -= 3) > -1 && o.push(239, 191, 189), r = i;
                            continue
                        }
                        i = (r - 55296 << 10 | i - 56320) + 65536
                    } else r && (e -= 3) > -1 && o.push(239, 191, 189); if (r = null, i < 128) {
                        if ((e -= 1) < 0) break;
                        o.push(i)
                    } else if (i < 2048) {
                        if ((e -= 2) < 0) break;
                        o.push(i >> 6 | 192, 63 & i | 128)
                    } else if (i < 65536) {
                        if ((e -= 3) < 0) break;
                        o.push(i >> 12 | 224, i >> 6 & 63 | 128, 63 & i | 128)
                    } else {
                        if (!(i < 1114112)) throw new Error("Invalid code point");
                        if ((e -= 4) < 0) break;
                        o.push(i >> 18 | 240, i >> 12 & 63 | 128, i >> 6 & 63 | 128, 63 & i | 128)
                    }
                }
                return o
            }

            function q(t) {
                for (var e = [], i = 0; i < t.length; ++i) e.push(255 & t.charCodeAt(i));
                return e
            }

            function X(t, e) {
                for (var i, n, r, o = [], s = 0; s < t.length && !((e -= 2) < 0); ++s) i = t.charCodeAt(s), n = i >> 8, r = i % 256, o.push(r), o.push(n);
                return o
            }

            function Y(t) {
                return $.toByteArray(G(t))
            }

            function Z(t, e, i, n) {
                for (var r = 0; r < n && !(r + i >= e.length || r >= t.length); ++r) e[r + i] = t[r];
                return r
            }

            function J(t) {
                return t !== t
            }
            var $ = i(52),
                K = i(97),
                Q = i(53);
            e.Buffer = s, e.SlowBuffer = g, e.INSPECT_MAX_BYTES = 50, s.TYPED_ARRAY_SUPPORT = void 0 !== t.TYPED_ARRAY_SUPPORT ? t.TYPED_ARRAY_SUPPORT : n(), e.kMaxLength = r(), s.poolSize = 8192, s._augment = function (t) {
                return t.__proto__ = s.prototype, t
            }, s.from = function (t, e, i) {
                return a(null, t, e, i)
            }, s.TYPED_ARRAY_SUPPORT && (s.prototype.__proto__ = Uint8Array.prototype, s.__proto__ = Uint8Array, "undefined" != typeof Symbol && Symbol.species && s[Symbol.species] === s && Object.defineProperty(s, Symbol.species, {
                value: null,
                configurable: !0
            })), s.alloc = function (t, e, i) {
                return l(null, t, e, i)
            }, s.allocUnsafe = function (t) {
                return u(null, t)
            }, s.allocUnsafeSlow = function (t) {
                return u(null, t)
            }, s.isBuffer = function (t) {
                return !(null == t || !t._isBuffer)
            }, s.compare = function (t, e) {
                if (!s.isBuffer(t) || !s.isBuffer(e)) throw new TypeError("Arguments must be Buffers");
                if (t === e) return 0;
                for (var i = t.length, n = e.length, r = 0, o = Math.min(i, n); r < o; ++r)
                    if (t[r] !== e[r]) {
                        i = t[r], n = e[r];
                        break
                    }
                return i < n ? -1 : n < i ? 1 : 0
            }, s.isEncoding = function (t) {
                switch (String(t).toLowerCase()) {
                case "hex":
                case "utf8":
                case "utf-8":
                case "ascii":
                case "latin1":
                case "binary":
                case "base64":
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return !0;
                default:
                    return !1
                }
            }, s.concat = function (t, e) {
                if (!Q(t)) throw new TypeError('"list" argument must be an Array of Buffers');
                if (0 === t.length) return s.alloc(0);
                var i;
                if (void 0 === e)
                    for (e = 0, i = 0; i < t.length; ++i) e += t[i].length;
                var n = s.allocUnsafe(e),
                    r = 0;
                for (i = 0; i < t.length; ++i) {
                    var o = t[i];
                    if (!s.isBuffer(o)) throw new TypeError('"list" argument must be an Array of Buffers');
                    o.copy(n, r), r += o.length
                }
                return n
            }, s.byteLength = v, s.prototype._isBuffer = !0, s.prototype.swap16 = function () {
                var t = this.length;
                if (t % 2 !== 0) throw new RangeError("Buffer size must be a multiple of 16-bits");
                for (var e = 0; e < t; e += 2) y(this, e, e + 1);
                return this
            }, s.prototype.swap32 = function () {
                var t = this.length;
                if (t % 4 !== 0) throw new RangeError("Buffer size must be a multiple of 32-bits");
                for (var e = 0; e < t; e += 4) y(this, e, e + 3), y(this, e + 1, e + 2);
                return this
            }, s.prototype.swap64 = function () {
                var t = this.length;
                if (t % 8 !== 0) throw new RangeError("Buffer size must be a multiple of 64-bits");
                for (var e = 0; e < t; e += 8) y(this, e, e + 7), y(this, e + 1, e + 6), y(this, e + 2, e + 5), y(this, e + 3, e + 4);
                return this
            }, s.prototype.toString = function () {
                var t = 0 | this.length;
                return 0 === t ? "" : 0 === arguments.length ? P(this, 0, t) : _.apply(this, arguments)
            }, s.prototype.equals = function (t) {
                if (!s.isBuffer(t)) throw new TypeError("Argument must be a Buffer");
                return this === t || 0 === s.compare(this, t)
            }, s.prototype.inspect = function () {
                var t = "",
                    i = e.INSPECT_MAX_BYTES;
                return this.length > 0 && (t = this.toString("hex", 0, i).match(/.{2}/g).join(" "), this.length > i && (t += " ... ")), "<Buffer " + t + ">"
            }, s.prototype.compare = function (t, e, i, n, r) {
                if (!s.isBuffer(t)) throw new TypeError("Argument must be a Buffer");
                if (void 0 === e && (e = 0), void 0 === i && (i = t ? t.length : 0), void 0 === n && (n = 0), void 0 === r && (r = this.length), e < 0 || i > t.length || n < 0 || r > this.length) throw new RangeError("out of range index");
                if (n >= r && e >= i) return 0;
                if (n >= r) return -1;
                if (e >= i) return 1;
                if (e >>>= 0, i >>>= 0, n >>>= 0, r >>>= 0, this === t) return 0;
                for (var o = r - n, a = i - e, h = Math.min(o, a), l = this.slice(n, r), u = t.slice(e, i), c = 0; c < h; ++c)
                    if (l[c] !== u[c]) {
                        o = l[c], a = u[c];
                        break
                    }
                return o < a ? -1 : a < o ? 1 : 0
            }, s.prototype.includes = function (t, e, i) {
                return this.indexOf(t, e, i) !== -1
            }, s.prototype.indexOf = function (t, e, i) {
                return x(this, t, e, i, !0)
            }, s.prototype.lastIndexOf = function (t, e, i) {
                return x(this, t, e, i, !1)
            }, s.prototype.write = function (t, e, i, n) {
                if (void 0 === e) n = "utf8", i = this.length, e = 0;
                else if (void 0 === i && "string" == typeof e) n = e, i = this.length, e = 0;
                else {
                    if (!isFinite(e)) throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
                    e |= 0, isFinite(i) ? (i |= 0, void 0 === n && (n = "utf8")) : (n = i, i = void 0)
                }
                var r = this.length - e;
                if ((void 0 === i || i > r) && (i = r), t.length > 0 && (i < 0 || e < 0) || e > this.length) throw new RangeError("Attempt to write outside buffer bounds");
                n || (n = "utf8");
                for (var o = !1;;) switch (n) {
                case "hex":
                    return b(this, t, e, i);
                case "utf8":
                case "utf-8":
                    return S(this, t, e, i);
                case "ascii":
                    return T(this, t, e, i);
                case "latin1":
                case "binary":
                    return M(this, t, e, i);
                case "base64":
                    return E(this, t, e, i);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return A(this, t, e, i);
                default:
                    if (o) throw new TypeError("Unknown encoding: " + n);
                    n = ("" + n).toLowerCase(), o = !0
                }
            }, s.prototype.toJSON = function () {
                return {
                    type: "Buffer",
                    data: Array.prototype.slice.call(this._arr || this, 0)
                }
            };
            var tt = 4096;
            s.prototype.slice = function (t, e) {
                var i = this.length;
                t = ~~t, e = void 0 === e ? i : ~~e, t < 0 ? (t += i, t < 0 && (t = 0)) : t > i && (t = i), e < 0 ? (e += i, e < 0 && (e = 0)) : e > i && (e = i), e < t && (e = t);
                var n;
                if (s.TYPED_ARRAY_SUPPORT) n = this.subarray(t, e), n.__proto__ = s.prototype;
                else {
                    var r = e - t;
                    n = new s(r, void 0);
                    for (var o = 0; o < r; ++o) n[o] = this[o + t]
                }
                return n
            }, s.prototype.readUIntLE = function (t, e, i) {
                t |= 0, e |= 0, i || k(t, e, this.length);
                for (var n = this[t], r = 1, o = 0; ++o < e && (r *= 256);) n += this[t + o] * r;
                return n
            }, s.prototype.readUIntBE = function (t, e, i) {
                t |= 0, e |= 0, i || k(t, e, this.length);
                for (var n = this[t + --e], r = 1; e > 0 && (r *= 256);) n += this[t + --e] * r;
                return n
            }, s.prototype.readUInt8 = function (t, e) {
                return e || k(t, 1, this.length), this[t]
            }, s.prototype.readUInt16LE = function (t, e) {
                return e || k(t, 2, this.length), this[t] | this[t + 1] << 8
            }, s.prototype.readUInt16BE = function (t, e) {
                return e || k(t, 2, this.length), this[t] << 8 | this[t + 1]
            }, s.prototype.readUInt32LE = function (t, e) {
                return e || k(t, 4, this.length), (this[t] | this[t + 1] << 8 | this[t + 2] << 16) + 16777216 * this[t + 3]
            }, s.prototype.readUInt32BE = function (t, e) {
                return e || k(t, 4, this.length), 16777216 * this[t] + (this[t + 1] << 16 | this[t + 2] << 8 | this[t + 3])
            }, s.prototype.readIntLE = function (t, e, i) {
                t |= 0, e |= 0, i || k(t, e, this.length);
                for (var n = this[t], r = 1, o = 0; ++o < e && (r *= 256);) n += this[t + o] * r;
                return r *= 128, n >= r && (n -= Math.pow(2, 8 * e)), n
            }, s.prototype.readIntBE = function (t, e, i) {
                t |= 0, e |= 0, i || k(t, e, this.length);
                for (var n = e, r = 1, o = this[t + --n]; n > 0 && (r *= 256);) o += this[t + --n] * r;
                return r *= 128, o >= r && (o -= Math.pow(2, 8 * e)), o
            }, s.prototype.readInt8 = function (t, e) {
                return e || k(t, 1, this.length), 128 & this[t] ? (255 - this[t] + 1) * -1 : this[t]
            }, s.prototype.readInt16LE = function (t, e) {
                e || k(t, 2, this.length);
                var i = this[t] | this[t + 1] << 8;
                return 32768 & i ? 4294901760 | i : i
            }, s.prototype.readInt16BE = function (t, e) {
                e || k(t, 2, this.length);
                var i = this[t + 1] | this[t] << 8;
                return 32768 & i ? 4294901760 | i : i
            }, s.prototype.readInt32LE = function (t, e) {
                return e || k(t, 4, this.length), this[t] | this[t + 1] << 8 | this[t + 2] << 16 | this[t + 3] << 24
            }, s.prototype.readInt32BE = function (t, e) {
                return e || k(t, 4, this.length), this[t] << 24 | this[t + 1] << 16 | this[t + 2] << 8 | this[t + 3]
            }, s.prototype.readFloatLE = function (t, e) {
                return e || k(t, 4, this.length), K.read(this, t, !0, 23, 4)
            }, s.prototype.readFloatBE = function (t, e) {
                return e || k(t, 4, this.length), K.read(this, t, !1, 23, 4)
            }, s.prototype.readDoubleLE = function (t, e) {
                return e || k(t, 8, this.length), K.read(this, t, !0, 52, 8)
            }, s.prototype.readDoubleBE = function (t, e) {
                return e || k(t, 8, this.length), K.read(this, t, !1, 52, 8)
            }, s.prototype.writeUIntLE = function (t, e, i, n) {
                if (t = +t, e |= 0, i |= 0, !n) {
                    var r = Math.pow(2, 8 * i) - 1;
                    N(this, t, e, i, r, 0)
                }
                var o = 1,
                    s = 0;
                for (this[e] = 255 & t; ++s < i && (o *= 256);) this[e + s] = t / o & 255;
                return e + i
            }, s.prototype.writeUIntBE = function (t, e, i, n) {
                if (t = +t, e |= 0, i |= 0, !n) {
                    var r = Math.pow(2, 8 * i) - 1;
                    N(this, t, e, i, r, 0)
                }
                var o = i - 1,
                    s = 1;
                for (this[e + o] = 255 & t; --o >= 0 && (s *= 256);) this[e + o] = t / s & 255;
                return e + i
            }, s.prototype.writeUInt8 = function (t, e, i) {
                return t = +t, e |= 0, i || N(this, t, e, 1, 255, 0), s.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)), this[e] = 255 & t, e + 1
            }, s.prototype.writeUInt16LE = function (t, e, i) {
                return t = +t, e |= 0, i || N(this, t, e, 2, 65535, 0), s.TYPED_ARRAY_SUPPORT ? (this[e] = 255 & t, this[e + 1] = t >>> 8) : z(this, t, e, !0), e + 2
            }, s.prototype.writeUInt16BE = function (t, e, i) {
                return t = +t, e |= 0, i || N(this, t, e, 2, 65535, 0), s.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 8, this[e + 1] = 255 & t) : z(this, t, e, !1), e + 2
            }, s.prototype.writeUInt32LE = function (t, e, i) {
                return t = +t, e |= 0, i || N(this, t, e, 4, 4294967295, 0), s.TYPED_ARRAY_SUPPORT ? (this[e + 3] = t >>> 24, this[e + 2] = t >>> 16, this[e + 1] = t >>> 8, this[e] = 255 & t) : B(this, t, e, !0), e + 4
            }, s.prototype.writeUInt32BE = function (t, e, i) {
                return t = +t, e |= 0, i || N(this, t, e, 4, 4294967295, 0), s.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 24, this[e + 1] = t >>> 16, this[e + 2] = t >>> 8, this[e + 3] = 255 & t) : B(this, t, e, !1), e + 4
            }, s.prototype.writeIntLE = function (t, e, i, n) {
                if (t = +t, e |= 0, !n) {
                    var r = Math.pow(2, 8 * i - 1);
                    N(this, t, e, i, r - 1, -r)
                }
                var o = 0,
                    s = 1,
                    a = 0;
                for (this[e] = 255 & t; ++o < i && (s *= 256);) t < 0 && 0 === a && 0 !== this[e + o - 1] && (a = 1), this[e + o] = (t / s >> 0) - a & 255;
                return e + i
            }, s.prototype.writeIntBE = function (t, e, i, n) {
                if (t = +t, e |= 0, !n) {
                    var r = Math.pow(2, 8 * i - 1);
                    N(this, t, e, i, r - 1, -r)
                }
                var o = i - 1,
                    s = 1,
                    a = 0;
                for (this[e + o] = 255 & t; --o >= 0 && (s *= 256);) t < 0 && 0 === a && 0 !== this[e + o + 1] && (a = 1), this[e + o] = (t / s >> 0) - a & 255;
                return e + i
            }, s.prototype.writeInt8 = function (t, e, i) {
                return t = +t, e |= 0, i || N(this, t, e, 1, 127, -128), s.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)), t < 0 && (t = 255 + t + 1), this[e] = 255 & t, e + 1
            }, s.prototype.writeInt16LE = function (t, e, i) {
                return t = +t, e |= 0, i || N(this, t, e, 2, 32767, -32768), s.TYPED_ARRAY_SUPPORT ? (this[e] = 255 & t, this[e + 1] = t >>> 8) : z(this, t, e, !0), e + 2
            }, s.prototype.writeInt16BE = function (t, e, i) {
                return t = +t, e |= 0, i || N(this, t, e, 2, 32767, -32768), s.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 8, this[e + 1] = 255 & t) : z(this, t, e, !1), e + 2
            }, s.prototype.writeInt32LE = function (t, e, i) {
                return t = +t, e |= 0, i || N(this, t, e, 4, 2147483647, -2147483648), s.TYPED_ARRAY_SUPPORT ? (this[e] = 255 & t, this[e + 1] = t >>> 8, this[e + 2] = t >>> 16, this[e + 3] = t >>> 24) : B(this, t, e, !0), e + 4
            }, s.prototype.writeInt32BE = function (t, e, i) {
                return t = +t, e |= 0, i || N(this, t, e, 4, 2147483647, -2147483648), t < 0 && (t = 4294967295 + t + 1), s.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 24, this[e + 1] = t >>> 16, this[e + 2] = t >>> 8, this[e + 3] = 255 & t) : B(this, t, e, !1), e + 4
            }, s.prototype.writeFloatLE = function (t, e, i) {
                return H(this, t, e, !0, i)
            }, s.prototype.writeFloatBE = function (t, e, i) {
                return H(this, t, e, !1, i)
            }, s.prototype.writeDoubleLE = function (t, e, i) {
                return U(this, t, e, !0, i)
            }, s.prototype.writeDoubleBE = function (t, e, i) {
                return U(this, t, e, !1, i)
            }, s.prototype.copy = function (t, e, i, n) {
                if (i || (i = 0), n || 0 === n || (n = this.length), e >= t.length && (e = t.length), e || (e = 0), n > 0 && n < i && (n = i), n === i) return 0;
                if (0 === t.length || 0 === this.length) return 0;
                if (e < 0) throw new RangeError("targetStart out of bounds");
                if (i < 0 || i >= this.length) throw new RangeError("sourceStart out of bounds");
                if (n < 0) throw new RangeError("sourceEnd out of bounds");
                n > this.length && (n = this.length), t.length - e < n - i && (n = t.length - e + i);
                var r, o = n - i;
                if (this === t && i < e && e < n)
                    for (r = o - 1; r >= 0; --r) t[r + e] = this[r + i];
                else if (o < 1e3 || !s.TYPED_ARRAY_SUPPORT)
                    for (r = 0; r < o; ++r) t[r + e] = this[r + i];
                else Uint8Array.prototype.set.call(t, this.subarray(i, i + o), e);
                return o
            }, s.prototype.fill = function (t, e, i, n) {
                if ("string" == typeof t) {
                    if ("string" == typeof e ? (n = e, e = 0, i = this.length) : "string" == typeof i && (n = i, i = this.length), 1 === t.length) {
                        var r = t.charCodeAt(0);
                        r < 256 && (t = r)
                    }
                    if (void 0 !== n && "string" != typeof n) throw new TypeError("encoding must be a string");
                    if ("string" == typeof n && !s.isEncoding(n)) throw new TypeError("Unknown encoding: " + n)
                } else "number" == typeof t && (t &= 255); if (e < 0 || this.length < e || this.length < i) throw new RangeError("Out of range index");
                if (i <= e) return this;
                e >>>= 0, i = void 0 === i ? this.length : i >>> 0, t || (t = 0);
                var o;
                if ("number" == typeof t)
                    for (o = e; o < i; ++o) this[o] = t;
                else {
                    var a = s.isBuffer(t) ? t : W(new s(t, n).toString()),
                        h = a.length;
                    for (o = 0; o < i - e; ++o) this[o + e] = a[o % h]
                }
                return this
            };
            var et = /[^+\/0-9A-Za-z-_]/g
        }).call(e, function () {
            return this
        }())
    },
    function (t, e) {
        var i, n = function (t, e) {
            return function () {
                return t.apply(e, arguments)
            }
        };
        i = function () {
            function t(t, e, i) {
                this.set = n(this.set, this), this.copy = n(this.copy, this), this.subtract = n(this.subtract, this), this.x = t || 0, this.y = e || 0, this.z = i || 0
            }
            return t.prototype.subtract = function (e) {
                return new t(this.x - e.x, this.y - e.y)
            }, t.prototype.copy = function (t) {
                return this.x = t.x, this.y = t.y, this.z = t.z
            }, t.prototype.set = function (t, e, i) {
                return this.x = t || 0, this.y = e || 0, this.z = i || 0
            }, t
        }(), t.exports = i
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v, _, y = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            x = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) w.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            w = {}.hasOwnProperty;
        u = i(4), o = i(1), f = i(7), s = i(3), h = i(13), m = i(8), p = i(10), v = i(2), g = i(5), c = i(6), _ = i(9), l = i(16), r = i(14), d = i(15), a = i(18), n = function (t) {
            function e(t) {
                this._resize = y(this._resize, this), this._update = y(this._update, this), this.render = y(this.render, this), this.texture = y(this.texture, this), this.show = y(this.show, this), this.init = y(this.init, this), e.__super__.constructor.call(this, t), this._cap, this._ten, this._one, this._white, this._whiteScrollRate = -100
            }
            return x(e, t), e.prototype.init = function () {
                var t, i;
                return e.__super__.init.call(this), this._cap = new r, this._cap.init(), this._white = new THREE.Mesh(new THREE.PlaneBufferGeometry(1, 1), new THREE.MeshBasicMaterial({
                    color: 255
                })), this._cap.add(this._white), t = d.get(o.PATH_IMG + "kv/mask_a.png"), this._ten = new a({
                    tex: t
                }), this._ten.init(), this._cap.add(this._ten), i = d.get(o.PATH_IMG + "kv/mask_b.png"), this._one = new a({
                    tex: i
                }), this._one.init(), this._cap.add(this._one), this._resize()
            }, e.prototype.show = function (t) {}, e.prototype.texture = function () {
                return this._cap.texture()
            }, e.prototype.render = function (t, e) {
                return this._cap.render(t, e)
            }, e.prototype._update = function () {
                var t, i, n, r, a, h;
                return e.__super__._update.call(this), a = s.sw(), i = s.sh2(), r = s.r(1024 * s.val(.8, 1)), this._ten.setSize(r), this._one.setSize(r), n = v.map(p.val, 0, 1, 0, i * (.01 * u.bgMask.hMax.value)), n = v.mix(0, n, u.mvReverse.val), o.IS_SIMPLE ? u.mvScrollRate.val = n : o.USE_SM_SCROLL ? u.mvScrollRate.val += (n - u.mvScrollRate.val) * (.01 * u.scroll.ease.value) : u.mvScrollRate.val += .2 * (n - u.mvScrollRate.val), this._ten.position.x = .5 * -a + .5 * r - s.r(64 * s.val(1.1, 1)), t = .5 * (i - s.sh()) - .5 * i - .5 * r + v.mix(0, .15 * r + .5 * (i - s.sh()), u.mvScrollOffset.val), this._ten.position.y = t + i * v.map(u.mvScrollRate.val, 0, s.val(2, 2), 0, .8), this._one.position.x = .5 * a - .5 * r - s.r(u.bgMask.x2.value), h = a < i ? 2 : 1, s.isLG() && o.IS_SP && a < i && (h = 3), this._one.position.y = i * v.map(u.mvScrollRate.val, -.5, s.val(2, 1.75), 0, 1) - s.r(u.bgMask.y2.value * h), this._white.scale.set(a, i, 1), this._white.position.y = i * v.map(u.mvScrollRate.val, -1, 0, .01 * u.bgMask.zure.value, .01 * u.bgMask.zureMax.value)
            }, e.prototype._resize = function () {
                var t, i;
                return e.__super__._resize.call(this), i = s.sw(), t = s.sh2(), this._cap.setSize(i, t)
            }, e
        }(l), t.exports = n
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            v = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) _.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            _ = {}.hasOwnProperty;
        h = i(4), r = i(1), p = i(7), o = i(3), s = i(13), f = i(2), d = i(5), u = i(6), m = i(9), a = i(16), n = i(14), c = i(15), l = function (t) {
            function e(t) {
                this._makeGeo = g(this._makeGeo, this), this._resize = g(this._resize, this), this._update = g(this._update, this), this.init = g(this.init, this), e.__super__.constructor.call(this, t), this._sample = t.sample, this._isYoko = t.isYoko, this._isLast = t.isLast, this._isMenu = t.isMenu, this._mesh
            }
            return v(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this._mesh = new THREE.Points(this._makeGeo(), new THREE.RawShaderMaterial({
                    vertexShader: i(115),
                    fragmentShader: i(114),
                    side: THREE.DoubleSide,
                    transparent: !0,
                    depthTest: !1,
                    uniforms: {
                        pointSize: {
                            value: 1
                        },
                        alpha: {
                            value: 1
                        },
                        time: {
                            value: f.random(0, 1e3)
                        },
                        radius: {
                            value: 1
                        },
                        isRev: h.all.reverse,
                        isBlackOnly: {
                            value: !1
                        },
                        isMenu: {
                            value: !1
                        },
                        colorA: {
                            value: r.BLACK_COLOR
                        },
                        colorB: {
                            value: r.BG_COLOR
                        }
                    }
                })), this.add(this._mesh)
            }, e.prototype._update = function () {
                var t, i, n, s, a, l, u;
                if (e.__super__._update.call(this), u = o.sw(), t = o.sh(), this._mesh.scale.set(u, t, 1), this._isYoko ? (this._mesh.rotation.z = f.radian(90), n = h.ptYoko) : n = h.ptTate, this._mesh.visible = n.visible.value, a = this._mesh.material.uniforms, s = this._isYoko ? f.mix(0, 1, h.mvYokoShow.val) : f.mix(0, 1, h.mvTateShow.val), i = f.map(Math.sin(f.radian(180 * s)), 0, 3, 0, 1), i += s, l = h.mvReverseBefore.val * (1 - h.mvReverse.val), a.time.value -= .001 * h.all.speed.value, a.pointSize.value = .01 * n.ptSize.value, a.radius.value = .01 * n.radius.value * f.mix(1, 2, l), a.alpha.value = .01 * n.alpha.value * h.all.alpha.value * .01 * i * f.mix(1, 2.5, l), r.IS_SP && !r.IS_TABLET && (a.alpha.value *= 1.5), a.isBlackOnly.value = h.isWorksHover, this._isLast && (a.isBlackOnly.value = !0, a.alpha.value = .01 * n.alpha.value * h.all.alpha.value * .01 * 1, a.radius.value = .01 * n.radius.value), this._isMenu) return a.isMenu.value = !0, a.isBlackOnly.value = !1, a.alpha.value = .01 * n.alpha.value * h.all.alpha.value * .01 * 1.5, a.radius.value = .01 * n.radius.value
            }, e.prototype._resize = function () {
                var t, i;
                return e.__super__._resize.call(this), i = o.sw(), t = o.sh()
            }, e.prototype._makeGeo = function () {
                var t, e, i, n, r, o, s, a, h;
                for (r = this._sample.length, e = new THREE.BufferGeometry, o = new Float32Array(3 * r), n = new Float32Array(3 * r), i = 0; i < r;) t = this._sample[i], s = f.map(t.position.x, -.5, .5, .5 * -t.size.x, .5 * t.size.x), a = f.map(t.position.y, -.5, .5, .5 * -t.size.y, .5 * t.size.y), h = 0, o[3 * i + 0] = s, o[3 * i + 1] = a, o[3 * i + 2] = h, n[3 * i + 0] = f.map(i, 0, 1, 0, r - 1), n[3 * i + 1] = 0, n[3 * i + 2] = 0, i++;
                return e.setAttribute("position", new THREE.BufferAttribute(o, 3, 1)), e.setAttribute("info", new THREE.BufferAttribute(n, 3, 1)), e.computeBoundingSphere(), e
            }, e
        }(a), t.exports = l
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v, _, y, x = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            w = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) b.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            b = {}.hasOwnProperty;
        y = i(27), u = i(4), r = i(1), f = i(7), s = i(3), h = i(13), p = i(10), g = i(2), m = i(5), c = i(6), v = i(9), l = i(16), n = i(14), d = i(15), o = i(25), a = i(18), _ = function (t) {
            function e(t) {
                this._resize = x(this._resize, this), this._update = x(this._update, this), this.setTex = x(this.setTex, this), this.init = x(this.init, this), e.__super__.constructor.call(this, t), this._tex = [], this._img
            }
            return w(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), $(".p-top-works > .inner > .list > .item").each(function (t) {
                    return function (e, i) {
                        var n;
                        return n = $(i), t._tex.push({
                            tex: d.get(n.attr("data-hover-img")),
                            dir: n.attr("data-dir")
                        })
                    }
                }(this)), this._img = new a, this._img.init(), this.add(this._img), this._img.setTex(this._tex[0].tex), this._resize()
            }, e.prototype.setTex = function (t) {
                var e, i, n, r, o;
                for (r = this._tex, e = i = 0, n = r.length; i < n; e = ++i)
                    if (o = r[e], o.dir === t) return void this._img.setTex(o.tex)
            }, e.prototype._update = function () {
                var t, i, n, r, o, a, l;
                if (e.__super__._update.call(this), o = s.sw(), n = s.sh2(), this.visible = u.isWorksHover, this.visible) return r = s.r(400), this.position.x = .5 * -o + .5 * r, this.position.y = .5 * n - .5 * r, a = .02 * o, l = s.r(100), t = h.old.x - h.x, t = g.map(t, -l, l, -a, a), i = h.old.y - h.y, i = g.map(i, -l, l, -a, a) * -1
            }, e.prototype._resize = function () {
                var t;
                return e.__super__._resize.call(this), t = s.r(600), this._img.setSize(t)
            }, e
        }(l), t.exports = _
    },
    function (t, e, i) {
        (function (e) {
            "use strict";

            function i(t, i, n, r) {
                if ("function" != typeof t) throw new TypeError('"callback" argument must be a function');
                var o, s, a = arguments.length;
                switch (a) {
                case 0:
                case 1:
                    return e.nextTick(t);
                case 2:
                    return e.nextTick(function () {
                        t.call(null, i)
                    });
                case 3:
                    return e.nextTick(function () {
                        t.call(null, i, n)
                    });
                case 4:
                    return e.nextTick(function () {
                        t.call(null, i, n, r)
                    });
                default:
                    for (o = new Array(a - 1), s = 0; s < o.length;) o[s++] = arguments[s];
                    return e.nextTick(function () {
                        t.apply(null, o)
                    })
                }
            }!e.version || 0 === e.version.indexOf("v0.") || 0 === e.version.indexOf("v1.") && 0 !== e.version.indexOf("v1.8.") ? t.exports = {
                nextTick: i
            } : t.exports = e
        }).call(e, i(17))
    },
    function (t, e) {
        t.exports = "#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main(){\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"
    },
    function (t, e, i) {
        function n(t, e) {
            for (var i in t) e[i] = t[i]
        }

        function r(t, e, i) {
            return s(t, e, i)
        }
        var o = i(28),
            s = o.Buffer;
        s.from && s.alloc && s.allocUnsafe && s.allocUnsafeSlow ? t.exports = o : (n(o, e), e.Buffer = r), n(s, r), r.from = function (t, e, i) {
            if ("number" == typeof t) throw new TypeError("Argument must not be a number");
            return s(t, e, i)
        }, r.alloc = function (t, e, i) {
            if ("number" != typeof t) throw new TypeError("Argument must be a number");
            var n = s(t);
            return void 0 !== e ? "string" == typeof i ? n.fill(e, i) : n.fill(e) : n.fill(0), n
        }, r.allocUnsafe = function (t) {
            if ("number" != typeof t) throw new TypeError("Argument must be a number");
            return s(t)
        }, r.allocUnsafeSlow = function (t) {
            if ("number" != typeof t) throw new TypeError("Argument must be a number");
            return o.SlowBuffer(t)
        }
    },
    function (t, e, i) {
        var n, r, o, s;
        n = i(1), o = i(124), s = i(5), r = function () {
            function t() {
                this.fps = 60, this.averageFps = this.fps, this.isLow = !1, this._totalFps = 0, this._cnt = 0, this._stats = new o, this._stats.domElement.style.position = "fixed", this._stats.domElement.style.left = "0px", this._stats.domElement.style.top = "0px", this._stats.domElement.style.zIndex = "99999", document.body.appendChild(this._stats.domElement), n.FLG.STATS || (this._stats.domElement.style.display = "none"), s.add(function (t) {
                    return function () {
                        return t._cnt++, t._stats.update()
                    }
                }(this))
            }
            return t
        }(), t.exports = new r
    },
    function (t, e) {
        function i() {
            this._events = this._events || {}, this._maxListeners = this._maxListeners || void 0
        }

        function n(t) {
            return "function" == typeof t
        }

        function r(t) {
            return "number" == typeof t
        }

        function o(t) {
            return "object" == typeof t && null !== t
        }

        function s(t) {
            return void 0 === t
        }
        t.exports = i, i.EventEmitter = i, i.prototype._events = void 0, i.prototype._maxListeners = void 0, i.defaultMaxListeners = 10, i.prototype.setMaxListeners = function (t) {
            if (!r(t) || t < 0 || isNaN(t)) throw TypeError("n must be a positive number");
            return this._maxListeners = t, this
        }, i.prototype.emit = function (t) {
            var e, i, r, a, h, l;
            if (this._events || (this._events = {}), "error" === t && (!this._events.error || o(this._events.error) && !this._events.error.length)) {
                if (e = arguments[1], e instanceof Error) throw e;
                var u = new Error('Uncaught, unspecified "error" event. (' + e + ")");
                throw u.context = e, u
            }
            if (i = this._events[t], s(i)) return !1;
            if (n(i)) switch (arguments.length) {
            case 1:
                i.call(this);
                break;
            case 2:
                i.call(this, arguments[1]);
                break;
            case 3:
                i.call(this, arguments[1], arguments[2]);
                break;
            default:
                a = Array.prototype.slice.call(arguments, 1), i.apply(this, a)
            } else if (o(i))
                for (a = Array.prototype.slice.call(arguments, 1), l = i.slice(), r = l.length, h = 0; h < r; h++) l[h].apply(this, a);
            return !0
        }, i.prototype.addListener = function (t, e) {
            var r;
            if (!n(e)) throw TypeError("listener must be a function");
            return this._events || (this._events = {}), this._events.newListener && this.emit("newListener", t, n(e.listener) ? e.listener : e), this._events[t] ? o(this._events[t]) ? this._events[t].push(e) : this._events[t] = [this._events[t], e] : this._events[t] = e, o(this._events[t]) && !this._events[t].warned && (r = s(this._maxListeners) ? i.defaultMaxListeners : this._maxListeners, r && r > 0 && this._events[t].length > r && (this._events[t].warned = !0, console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.", this._events[t].length), "function" == typeof console.trace && console.trace())), this
        }, i.prototype.on = i.prototype.addListener, i.prototype.once = function (t, e) {
            function i() {
                this.removeListener(t, i), r || (r = !0, e.apply(this, arguments))
            }
            if (!n(e)) throw TypeError("listener must be a function");
            var r = !1;
            return i.listener = e, this.on(t, i), this
        }, i.prototype.removeListener = function (t, e) {
            var i, r, s, a;
            if (!n(e)) throw TypeError("listener must be a function");
            if (!this._events || !this._events[t]) return this;
            if (i = this._events[t], s = i.length, r = -1, i === e || n(i.listener) && i.listener === e) delete this._events[t], this._events.removeListener && this.emit("removeListener", t, e);
            else if (o(i)) {
                for (a = s; a-- > 0;)
                    if (i[a] === e || i[a].listener && i[a].listener === e) {
                        r = a;
                        break
                    }
                if (r < 0) return this;
                1 === i.length ? (i.length = 0, delete this._events[t]) : i.splice(r, 1), this._events.removeListener && this.emit("removeListener", t, e);
            }
            return this
        }, i.prototype.removeAllListeners = function (t) {
            var e, i;
            if (!this._events) return this;
            if (!this._events.removeListener) return 0 === arguments.length ? this._events = {} : this._events[t] && delete this._events[t], this;
            if (0 === arguments.length) {
                for (e in this._events) "removeListener" !== e && this.removeAllListeners(e);
                return this.removeAllListeners("removeListener"), this._events = {}, this
            }
            if (i = this._events[t], n(i)) this.removeListener(t, i);
            else if (i)
                for (; i.length;) this.removeListener(t, i[i.length - 1]);
            return delete this._events[t], this
        }, i.prototype.listeners = function (t) {
            var e;
            return e = this._events && this._events[t] ? n(this._events[t]) ? [this._events[t]] : this._events[t].slice() : []
        }, i.prototype.listenerCount = function (t) {
            if (this._events) {
                var e = this._events[t];
                if (n(e)) return 1;
                if (e) return e.length
            }
            return 0
        }, i.listenerCount = function (t, e) {
            return t.listenerCount(e)
        }
    },
    function (t, e, i) {
        var n, r;
        (function (i) {
            /*!
             * VERSION: 1.20.4
             * DATE: 2018-02-15
             * UPDATES AND DOCS AT: http://greensock.com
             *
             * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
             *
             * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
             * This work is subject to the terms at http://greensock.com/standard-license or for
             * Club GreenSock members, the software agreement that was issued with your membership.
             *
             * @author: Jack Doyle, jack@greensock.com
             **/
            var o = "undefined" != typeof t && t.exports && "undefined" != typeof i ? i : this || window;
            (o._gsQueue || (o._gsQueue = [])).push(function () {
                    "use strict";
                    o._gsDefine("TweenMax", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function (t, e, i) {
                            var n = function (t) {
                                    var e, i = [],
                                        n = t.length;
                                    for (e = 0; e !== n; i.push(t[e++]));
                                    return i
                                },
                                r = function (t, e, i) {
                                    var n, r, o = t.cycle;
                                    for (n in o) r = o[n], t[n] = "function" == typeof r ? r(i, e[i]) : r[i % r.length];
                                    delete t.cycle
                                },
                                o = function (t, e, n) {
                                    i.call(this, t, e, n), this._cycle = 0, this._yoyo = this.vars.yoyo === !0 || !!this.vars.yoyoEase, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._repeat && this._uncache(!0), this.render = o.prototype.render
                                },
                                s = 1e-10,
                                a = i._internals,
                                h = a.isSelector,
                                l = a.isArray,
                                u = o.prototype = i.to({}, .1, {}),
                                c = [];
                            o.version = "1.20.4", u.constructor = o, u.kill()._gc = !1, o.killTweensOf = o.killDelayedCallsTo = i.killTweensOf, o.getTweensOf = i.getTweensOf, o.lagSmoothing = i.lagSmoothing, o.ticker = i.ticker, o.render = i.render, u.invalidate = function () {
                                return this._yoyo = this.vars.yoyo === !0 || !!this.vars.yoyoEase, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._yoyoEase = null, this._uncache(!0), i.prototype.invalidate.call(this)
                            }, u.updateTo = function (t, e) {
                                var n, r = this.ratio,
                                    o = this.vars.immediateRender || t.immediateRender;
                                e && this._startTime < this._timeline._time && (this._startTime = this._timeline._time, this._uncache(!1), this._gc ? this._enabled(!0, !1) : this._timeline.insert(this, this._startTime - this._delay));
                                for (n in t) this.vars[n] = t[n];
                                if (this._initted || o)
                                    if (e) this._initted = !1, o && this.render(0, !0, !0);
                                    else if (this._gc && this._enabled(!0, !1), this._notifyPluginsOfEnabled && this._firstPT && i._onPluginEvent("_onDisable", this), this._time / this._duration > .998) {
                                    var s = this._totalTime;
                                    this.render(0, !0, !1), this._initted = !1, this.render(s, !0, !1)
                                } else if (this._initted = !1, this._init(), this._time > 0 || o)
                                    for (var a, h = 1 / (1 - r), l = this._firstPT; l;) a = l.s + l.c, l.c *= h, l.s = a - l.c, l = l._next;
                                return this
                            }, u.render = function (t, e, n) {
                                this._initted || 0 === this._duration && this.vars.repeat && this.invalidate();
                                var r, o, h, l, u, c, p, d, f, m = this._dirty ? this.totalDuration() : this._totalDuration,
                                    g = this._time,
                                    v = this._totalTime,
                                    _ = this._cycle,
                                    y = this._duration,
                                    x = this._rawPrevTime;
                                if (t >= m - 1e-7 && t >= 0 ? (this._totalTime = m, this._cycle = this._repeat, this._yoyo && 0 !== (1 & this._cycle) ? (this._time = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0) : (this._time = y, this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1), this._reversed || (r = !0, o = "onComplete", n = n || this._timeline.autoRemoveChildren), 0 === y && (this._initted || !this.vars.lazy || n) && (this._startTime === this._timeline._duration && (t = 0), (x < 0 || t <= 0 && t >= -1e-7 || x === s && "isPause" !== this.data) && x !== t && (n = !0, x > s && (o = "onReverseComplete")), this._rawPrevTime = d = !e || t || x === t ? t : s)) : t < 1e-7 ? (this._totalTime = this._time = this._cycle = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0, (0 !== v || 0 === y && x > 0) && (o = "onReverseComplete", r = this._reversed), t < 0 && (this._active = !1, 0 === y && (this._initted || !this.vars.lazy || n) && (x >= 0 && (n = !0), this._rawPrevTime = d = !e || t || x === t ? t : s)), this._initted || (n = !0)) : (this._totalTime = this._time = t, 0 !== this._repeat && (l = y + this._repeatDelay, this._cycle = this._totalTime / l >> 0, 0 !== this._cycle && this._cycle === this._totalTime / l && v <= t && this._cycle--, this._time = this._totalTime - this._cycle * l, this._yoyo && 0 !== (1 & this._cycle) && (this._time = y - this._time, f = this._yoyoEase || this.vars.yoyoEase, f && (this._yoyoEase || (f !== !0 || this._initted ? this._yoyoEase = f = f === !0 ? this._ease : f instanceof Ease ? f : Ease.map[f] : (f = this.vars.ease, this._yoyoEase = f = f ? f instanceof Ease ? f : "function" == typeof f ? new Ease(f, this.vars.easeParams) : Ease.map[f] || i.defaultEase : i.defaultEase)), this.ratio = f ? 1 - f.getRatio((y - this._time) / y) : 0)), this._time > y ? this._time = y : this._time < 0 && (this._time = 0)), this._easeType && !f ? (u = this._time / y, c = this._easeType, p = this._easePower, (1 === c || 3 === c && u >= .5) && (u = 1 - u), 3 === c && (u *= 2), 1 === p ? u *= u : 2 === p ? u *= u * u : 3 === p ? u *= u * u * u : 4 === p && (u *= u * u * u * u), 1 === c ? this.ratio = 1 - u : 2 === c ? this.ratio = u : this._time / y < .5 ? this.ratio = u / 2 : this.ratio = 1 - u / 2) : f || (this.ratio = this._ease.getRatio(this._time / y))), g === this._time && !n && _ === this._cycle) return void(v !== this._totalTime && this._onUpdate && (e || this._callback("onUpdate")));
                                if (!this._initted) {
                                    if (this._init(), !this._initted || this._gc) return;
                                    if (!n && this._firstPT && (this.vars.lazy !== !1 && this._duration || this.vars.lazy && !this._duration)) return this._time = g, this._totalTime = v, this._rawPrevTime = x, this._cycle = _, a.lazyTweens.push(this), void(this._lazy = [t, e]);
                                    !this._time || r || f ? r && this._ease._calcEnd && !f && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1)) : this.ratio = this._ease.getRatio(this._time / y)
                                }
                                for (this._lazy !== !1 && (this._lazy = !1), this._active || !this._paused && this._time !== g && t >= 0 && (this._active = !0), 0 === v && (2 === this._initted && t > 0 && this._init(), this._startAt && (t >= 0 ? this._startAt.render(t, !0, n) : o || (o = "_dummyGS")), this.vars.onStart && (0 === this._totalTime && 0 !== y || e || this._callback("onStart"))), h = this._firstPT; h;) h.f ? h.t[h.p](h.c * this.ratio + h.s) : h.t[h.p] = h.c * this.ratio + h.s, h = h._next;
                                this._onUpdate && (t < 0 && this._startAt && this._startTime && this._startAt.render(t, !0, n), e || (this._totalTime !== v || o) && this._callback("onUpdate")), this._cycle !== _ && (e || this._gc || this.vars.onRepeat && this._callback("onRepeat")), o && (this._gc && !n || (t < 0 && this._startAt && !this._onUpdate && this._startTime && this._startAt.render(t, !0, n), r && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[o] && this._callback(o), 0 === y && this._rawPrevTime === s && d !== s && (this._rawPrevTime = 0)))
                            }, o.to = function (t, e, i) {
                                return new o(t, e, i)
                            }, o.from = function (t, e, i) {
                                return i.runBackwards = !0, i.immediateRender = 0 != i.immediateRender, new o(t, e, i)
                            }, o.fromTo = function (t, e, i, n) {
                                return n.startAt = i, n.immediateRender = 0 != n.immediateRender && 0 != i.immediateRender, new o(t, e, n)
                            }, o.staggerTo = o.allTo = function (t, e, s, a, u, p, d) {
                                a = a || 0;
                                var f, m, g, v, _ = 0,
                                    y = [],
                                    x = function () {
                                        s.onComplete && s.onComplete.apply(s.onCompleteScope || this, arguments), u.apply(d || s.callbackScope || this, p || c)
                                    },
                                    w = s.cycle,
                                    b = s.startAt && s.startAt.cycle;
                                for (l(t) || ("string" == typeof t && (t = i.selector(t) || t), h(t) && (t = n(t))), t = t || [], a < 0 && (t = n(t), t.reverse(), a *= -1), f = t.length - 1, g = 0; g <= f; g++) {
                                    m = {};
                                    for (v in s) m[v] = s[v];
                                    if (w && (r(m, t, g), null != m.duration && (e = m.duration, delete m.duration)), b) {
                                        b = m.startAt = {};
                                        for (v in s.startAt) b[v] = s.startAt[v];
                                        r(m.startAt, t, g)
                                    }
                                    m.delay = _ + (m.delay || 0), g === f && u && (m.onComplete = x), y[g] = new o(t[g], e, m), _ += a
                                }
                                return y
                            }, o.staggerFrom = o.allFrom = function (t, e, i, n, r, s, a) {
                                return i.runBackwards = !0, i.immediateRender = 0 != i.immediateRender, o.staggerTo(t, e, i, n, r, s, a)
                            }, o.staggerFromTo = o.allFromTo = function (t, e, i, n, r, s, a, h) {
                                return n.startAt = i, n.immediateRender = 0 != n.immediateRender && 0 != i.immediateRender, o.staggerTo(t, e, n, r, s, a, h)
                            }, o.delayedCall = function (t, e, i, n, r) {
                                return new o(e, 0, {
                                    delay: t,
                                    onComplete: e,
                                    onCompleteParams: i,
                                    callbackScope: n,
                                    onReverseComplete: e,
                                    onReverseCompleteParams: i,
                                    immediateRender: !1,
                                    useFrames: r,
                                    overwrite: 0
                                })
                            }, o.set = function (t, e) {
                                return new o(t, 0, e)
                            }, o.isTweening = function (t) {
                                return i.getTweensOf(t, !0).length > 0
                            };
                            var p = function (t, e) {
                                    for (var n = [], r = 0, o = t._first; o;) o instanceof i ? n[r++] = o : (e && (n[r++] = o), n = n.concat(p(o, e)), r = n.length), o = o._next;
                                    return n
                                },
                                d = o.getAllTweens = function (e) {
                                    return p(t._rootTimeline, e).concat(p(t._rootFramesTimeline, e))
                                };
                            o.killAll = function (t, i, n, r) {
                                null == i && (i = !0), null == n && (n = !0);
                                var o, s, a, h = d(0 != r),
                                    l = h.length,
                                    u = i && n && r;
                                for (a = 0; a < l; a++) s = h[a], (u || s instanceof e || (o = s.target === s.vars.onComplete) && n || i && !o) && (t ? s.totalTime(s._reversed ? 0 : s.totalDuration()) : s._enabled(!1, !1))
                            }, o.killChildTweensOf = function (t, e) {
                                if (null != t) {
                                    var r, s, u, c, p, d = a.tweenLookup;
                                    if ("string" == typeof t && (t = i.selector(t) || t), h(t) && (t = n(t)), l(t))
                                        for (c = t.length; --c > -1;) o.killChildTweensOf(t[c], e);
                                    else {
                                        r = [];
                                        for (u in d)
                                            for (s = d[u].target.parentNode; s;) s === t && (r = r.concat(d[u].tweens)), s = s.parentNode;
                                        for (p = r.length, c = 0; c < p; c++) e && r[c].totalTime(r[c].totalDuration()), r[c]._enabled(!1, !1)
                                    }
                                }
                            };
                            var f = function (t, i, n, r) {
                                i = i !== !1, n = n !== !1, r = r !== !1;
                                for (var o, s, a = d(r), h = i && n && r, l = a.length; --l > -1;) s = a[l], (h || s instanceof e || (o = s.target === s.vars.onComplete) && n || i && !o) && s.paused(t)
                            };
                            return o.pauseAll = function (t, e, i) {
                                f(!0, t, e, i)
                            }, o.resumeAll = function (t, e, i) {
                                f(!1, t, e, i)
                            }, o.globalTimeScale = function (e) {
                                var n = t._rootTimeline,
                                    r = i.ticker.time;
                                return arguments.length ? (e = e || s, n._startTime = r - (r - n._startTime) * n._timeScale / e, n = t._rootFramesTimeline, r = i.ticker.frame, n._startTime = r - (r - n._startTime) * n._timeScale / e, n._timeScale = t._rootTimeline._timeScale = e, e) : n._timeScale
                            }, u.progress = function (t, e) {
                                return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 !== (1 & this._cycle) ? 1 - t : t) + this._cycle * (this._duration + this._repeatDelay), e) : this._time / this.duration()
                            }, u.totalProgress = function (t, e) {
                                return arguments.length ? this.totalTime(this.totalDuration() * t, e) : this._totalTime / this.totalDuration()
                            }, u.time = function (t, e) {
                                return arguments.length ? (this._dirty && this.totalDuration(), t > this._duration && (t = this._duration), this._yoyo && 0 !== (1 & this._cycle) ? t = this._duration - t + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (t += this._cycle * (this._duration + this._repeatDelay)), this.totalTime(t, e)) : this._time
                            }, u.duration = function (e) {
                                return arguments.length ? t.prototype.duration.call(this, e) : this._duration
                            }, u.totalDuration = function (t) {
                                return arguments.length ? this._repeat === -1 ? this : this.duration((t - this._repeat * this._repeatDelay) / (this._repeat + 1)) : (this._dirty && (this._totalDuration = this._repeat === -1 ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat, this._dirty = !1), this._totalDuration)
                            }, u.repeat = function (t) {
                                return arguments.length ? (this._repeat = t, this._uncache(!0)) : this._repeat
                            }, u.repeatDelay = function (t) {
                                return arguments.length ? (this._repeatDelay = t, this._uncache(!0)) : this._repeatDelay
                            }, u.yoyo = function (t) {
                                return arguments.length ? (this._yoyo = t, this) : this._yoyo
                            }, o
                        }, !0), o._gsDefine("TimelineLite", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function (t, e, i) {
                            var n = function (t) {
                                    e.call(this, t), this._labels = {}, this.autoRemoveChildren = this.vars.autoRemoveChildren === !0, this.smoothChildTiming = this.vars.smoothChildTiming === !0, this._sortChildren = !0, this._onUpdate = this.vars.onUpdate;
                                    var i, n, r = this.vars;
                                    for (n in r) i = r[n], l(i) && i.join("").indexOf("{self}") !== -1 && (r[n] = this._swapSelfInParams(i));
                                    l(r.tweens) && this.add(r.tweens, 0, r.align, r.stagger)
                                },
                                r = 1e-10,
                                s = i._internals,
                                a = n._internals = {},
                                h = s.isSelector,
                                l = s.isArray,
                                u = s.lazyTweens,
                                c = s.lazyRender,
                                p = o._gsDefine.globals,
                                d = function (t) {
                                    var e, i = {};
                                    for (e in t) i[e] = t[e];
                                    return i
                                },
                                f = function (t, e, i) {
                                    var n, r, o = t.cycle;
                                    for (n in o) r = o[n], t[n] = "function" == typeof r ? r(i, e[i]) : r[i % r.length];
                                    delete t.cycle
                                },
                                m = a.pauseCallback = function () {},
                                g = function (t) {
                                    var e, i = [],
                                        n = t.length;
                                    for (e = 0; e !== n; i.push(t[e++]));
                                    return i
                                },
                                v = n.prototype = new e;
                            return n.version = "1.20.4", v.constructor = n, v.kill()._gc = v._forcingPlayhead = v._hasPause = !1, v.to = function (t, e, n, r) {
                                var o = n.repeat && p.TweenMax || i;
                                return e ? this.add(new o(t, e, n), r) : this.set(t, n, r)
                            }, v.from = function (t, e, n, r) {
                                return this.add((n.repeat && p.TweenMax || i).from(t, e, n), r)
                            }, v.fromTo = function (t, e, n, r, o) {
                                var s = r.repeat && p.TweenMax || i;
                                return e ? this.add(s.fromTo(t, e, n, r), o) : this.set(t, r, o)
                            }, v.staggerTo = function (t, e, r, o, s, a, l, u) {
                                var c, p, m = new n({
                                        onComplete: a,
                                        onCompleteParams: l,
                                        callbackScope: u,
                                        smoothChildTiming: this.smoothChildTiming
                                    }),
                                    v = r.cycle;
                                for ("string" == typeof t && (t = i.selector(t) || t), t = t || [], h(t) && (t = g(t)), o = o || 0, o < 0 && (t = g(t), t.reverse(), o *= -1), p = 0; p < t.length; p++) c = d(r), c.startAt && (c.startAt = d(c.startAt), c.startAt.cycle && f(c.startAt, t, p)), v && (f(c, t, p), null != c.duration && (e = c.duration, delete c.duration)), m.to(t[p], e, c, p * o);
                                return this.add(m, s)
                            }, v.staggerFrom = function (t, e, i, n, r, o, s, a) {
                                return i.immediateRender = 0 != i.immediateRender, i.runBackwards = !0, this.staggerTo(t, e, i, n, r, o, s, a)
                            }, v.staggerFromTo = function (t, e, i, n, r, o, s, a, h) {
                                return n.startAt = i, n.immediateRender = 0 != n.immediateRender && 0 != i.immediateRender, this.staggerTo(t, e, n, r, o, s, a, h)
                            }, v.call = function (t, e, n, r) {
                                return this.add(i.delayedCall(0, t, e, n), r)
                            }, v.set = function (t, e, n) {
                                return n = this._parseTimeOrLabel(n, 0, !0), null == e.immediateRender && (e.immediateRender = n === this._time && !this._paused), this.add(new i(t, 0, e), n)
                            }, n.exportRoot = function (t, e) {
                                t = t || {}, null == t.smoothChildTiming && (t.smoothChildTiming = !0);
                                var r, o, s, a, h = new n(t),
                                    l = h._timeline;
                                for (null == e && (e = !0), l._remove(h, !0), h._startTime = 0, h._rawPrevTime = h._time = h._totalTime = l._time, s = l._first; s;) a = s._next, e && s instanceof i && s.target === s.vars.onComplete || (o = s._startTime - s._delay, o < 0 && (r = 1), h.add(s, o)), s = a;
                                return l.add(h, 0), r && h.totalDuration(), h
                            }, v.add = function (r, o, s, a) {
                                var h, u, c, p, d, f;
                                if ("number" != typeof o && (o = this._parseTimeOrLabel(o, 0, !0, r)), !(r instanceof t)) {
                                    if (r instanceof Array || r && r.push && l(r)) {
                                        for (s = s || "normal", a = a || 0, h = o, u = r.length, c = 0; c < u; c++) l(p = r[c]) && (p = new n({
                                            tweens: p
                                        })), this.add(p, h), "string" != typeof p && "function" != typeof p && ("sequence" === s ? h = p._startTime + p.totalDuration() / p._timeScale : "start" === s && (p._startTime -= p.delay())), h += a;
                                        return this._uncache(!0)
                                    }
                                    if ("string" == typeof r) return this.addLabel(r, o);
                                    if ("function" != typeof r) throw "Cannot add " + r + " into the timeline; it is not a tween, timeline, function, or string.";
                                    r = i.delayedCall(0, r)
                                }
                                if (e.prototype.add.call(this, r, o), r._time && r.render((this.rawTime() - r._startTime) * r._timeScale, !1, !1), (this._gc || this._time === this._duration) && !this._paused && this._duration < this.duration())
                                    for (d = this, f = d.rawTime() > r._startTime; d._timeline;) f && d._timeline.smoothChildTiming ? d.totalTime(d._totalTime, !0) : d._gc && d._enabled(!0, !1), d = d._timeline;
                                return this
                            }, v.remove = function (e) {
                                if (e instanceof t) {
                                    this._remove(e, !1);
                                    var i = e._timeline = e.vars.useFrames ? t._rootFramesTimeline : t._rootTimeline;
                                    return e._startTime = (e._paused ? e._pauseTime : i._time) - (e._reversed ? e.totalDuration() - e._totalTime : e._totalTime) / e._timeScale, this
                                }
                                if (e instanceof Array || e && e.push && l(e)) {
                                    for (var n = e.length; --n > -1;) this.remove(e[n]);
                                    return this
                                }
                                return "string" == typeof e ? this.removeLabel(e) : this.kill(null, e)
                            }, v._remove = function (t, i) {
                                e.prototype._remove.call(this, t, i);
                                var n = this._last;
                                return n ? this._time > this.duration() && (this._time = this._duration, this._totalTime = this._totalDuration) : this._time = this._totalTime = this._duration = this._totalDuration = 0, this
                            }, v.append = function (t, e) {
                                return this.add(t, this._parseTimeOrLabel(null, e, !0, t))
                            }, v.insert = v.insertMultiple = function (t, e, i, n) {
                                return this.add(t, e || 0, i, n)
                            }, v.appendMultiple = function (t, e, i, n) {
                                return this.add(t, this._parseTimeOrLabel(null, e, !0, t), i, n)
                            }, v.addLabel = function (t, e) {
                                return this._labels[t] = this._parseTimeOrLabel(e), this
                            }, v.addPause = function (t, e, n, r) {
                                var o = i.delayedCall(0, m, n, r || this);
                                return o.vars.onComplete = o.vars.onReverseComplete = e, o.data = "isPause", this._hasPause = !0, this.add(o, t)
                            }, v.removeLabel = function (t) {
                                return delete this._labels[t], this
                            }, v.getLabelTime = function (t) {
                                return null != this._labels[t] ? this._labels[t] : -1
                            }, v._parseTimeOrLabel = function (e, i, n, r) {
                                var o, s;
                                if (r instanceof t && r.timeline === this) this.remove(r);
                                else if (r && (r instanceof Array || r.push && l(r)))
                                    for (s = r.length; --s > -1;) r[s] instanceof t && r[s].timeline === this && this.remove(r[s]);
                                if (o = "number" != typeof e || i ? this.duration() > 99999999999 ? this.recent().endTime(!1) : this._duration : 0, "string" == typeof i) return this._parseTimeOrLabel(i, n && "number" == typeof e && null == this._labels[i] ? e - o : 0, n);
                                if (i = i || 0, "string" != typeof e || !isNaN(e) && null == this._labels[e]) null == e && (e = o);
                                else {
                                    if (s = e.indexOf("="), s === -1) return null == this._labels[e] ? n ? this._labels[e] = o + i : i : this._labels[e] + i;
                                    i = parseInt(e.charAt(s - 1) + "1", 10) * Number(e.substr(s + 1)), e = s > 1 ? this._parseTimeOrLabel(e.substr(0, s - 1), 0, n) : o
                                }
                                return Number(e) + i
                            }, v.seek = function (t, e) {
                                return this.totalTime("number" == typeof t ? t : this._parseTimeOrLabel(t), e !== !1)
                            }, v.stop = function () {
                                return this.paused(!0)
                            }, v.gotoAndPlay = function (t, e) {
                                return this.play(t, e)
                            }, v.gotoAndStop = function (t, e) {
                                return this.pause(t, e)
                            }, v.render = function (t, e, i) {
                                this._gc && this._enabled(!0, !1);
                                var n, o, s, a, h, l, p, d = this._time,
                                    f = this._dirty ? this.totalDuration() : this._totalDuration,
                                    m = this._startTime,
                                    g = this._timeScale,
                                    v = this._paused;
                                if (d !== this._time && (t += this._time - d), t >= f - 1e-7 && t >= 0) this._totalTime = this._time = f, this._reversed || this._hasPausedChild() || (o = !0, a = "onComplete", h = !!this._timeline.autoRemoveChildren, 0 === this._duration && (t <= 0 && t >= -1e-7 || this._rawPrevTime < 0 || this._rawPrevTime === r) && this._rawPrevTime !== t && this._first && (h = !0, this._rawPrevTime > r && (a = "onReverseComplete"))), this._rawPrevTime = this._duration || !e || t || this._rawPrevTime === t ? t : r, t = f + 1e-4;
                                else if (t < 1e-7)
                                    if (this._totalTime = this._time = 0, (0 !== d || 0 === this._duration && this._rawPrevTime !== r && (this._rawPrevTime > 0 || t < 0 && this._rawPrevTime >= 0)) && (a = "onReverseComplete", o = this._reversed), t < 0) this._active = !1, this._timeline.autoRemoveChildren && this._reversed ? (h = o = !0, a = "onReverseComplete") : this._rawPrevTime >= 0 && this._first && (h = !0), this._rawPrevTime = t;
                                    else {
                                        if (this._rawPrevTime = this._duration || !e || t || this._rawPrevTime === t ? t : r, 0 === t && o)
                                            for (n = this._first; n && 0 === n._startTime;) n._duration || (o = !1), n = n._next;
                                        t = 0, this._initted || (h = !0)
                                    } else {
                                    if (this._hasPause && !this._forcingPlayhead && !e) {
                                        if (t >= d)
                                            for (n = this._first; n && n._startTime <= t && !l;) n._duration || "isPause" !== n.data || n.ratio || 0 === n._startTime && 0 === this._rawPrevTime || (l = n), n = n._next;
                                        else
                                            for (n = this._last; n && n._startTime >= t && !l;) n._duration || "isPause" === n.data && n._rawPrevTime > 0 && (l = n), n = n._prev;
                                        l && (this._time = t = l._startTime, this._totalTime = t + this._cycle * (this._totalDuration + this._repeatDelay))
                                    }
                                    this._totalTime = this._time = this._rawPrevTime = t
                                } if (this._time !== d && this._first || i || h || l) {
                                    if (this._initted || (this._initted = !0), this._active || !this._paused && this._time !== d && t > 0 && (this._active = !0), 0 === d && this.vars.onStart && (0 === this._time && this._duration || e || this._callback("onStart")), p = this._time, p >= d)
                                        for (n = this._first; n && (s = n._next, p === this._time && (!this._paused || v));)(n._active || n._startTime <= p && !n._paused && !n._gc) && (l === n && this.pause(), n._reversed ? n.render((n._dirty ? n.totalDuration() : n._totalDuration) - (t - n._startTime) * n._timeScale, e, i) : n.render((t - n._startTime) * n._timeScale, e, i)), n = s;
                                    else
                                        for (n = this._last; n && (s = n._prev, p === this._time && (!this._paused || v));) {
                                            if (n._active || n._startTime <= d && !n._paused && !n._gc) {
                                                if (l === n) {
                                                    for (l = n._prev; l && l.endTime() > this._time;) l.render(l._reversed ? l.totalDuration() - (t - l._startTime) * l._timeScale : (t - l._startTime) * l._timeScale, e, i), l = l._prev;
                                                    l = null, this.pause()
                                                }
                                                n._reversed ? n.render((n._dirty ? n.totalDuration() : n._totalDuration) - (t - n._startTime) * n._timeScale, e, i) : n.render((t - n._startTime) * n._timeScale, e, i)
                                            }
                                            n = s
                                        }
                                    this._onUpdate && (e || (u.length && c(), this._callback("onUpdate"))), a && (this._gc || m !== this._startTime && g === this._timeScale || (0 === this._time || f >= this.totalDuration()) && (o && (u.length && c(), this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[a] && this._callback(a)))
                                }
                            }, v._hasPausedChild = function () {
                                for (var t = this._first; t;) {
                                    if (t._paused || t instanceof n && t._hasPausedChild()) return !0;
                                    t = t._next
                                }
                                return !1
                            }, v.getChildren = function (t, e, n, r) {
                                r = r || -9999999999;
                                for (var o = [], s = this._first, a = 0; s;) s._startTime < r || (s instanceof i ? e !== !1 && (o[a++] = s) : (n !== !1 && (o[a++] = s), t !== !1 && (o = o.concat(s.getChildren(!0, e, n)), a = o.length))), s = s._next;
                                return o
                            }, v.getTweensOf = function (t, e) {
                                var n, r, o = this._gc,
                                    s = [],
                                    a = 0;
                                for (o && this._enabled(!0, !0), n = i.getTweensOf(t), r = n.length; --r > -1;)(n[r].timeline === this || e && this._contains(n[r])) && (s[a++] = n[r]);
                                return o && this._enabled(!1, !0), s
                            }, v.recent = function () {
                                return this._recent
                            }, v._contains = function (t) {
                                for (var e = t.timeline; e;) {
                                    if (e === this) return !0;
                                    e = e.timeline
                                }
                                return !1
                            }, v.shiftChildren = function (t, e, i) {
                                i = i || 0;
                                for (var n, r = this._first, o = this._labels; r;) r._startTime >= i && (r._startTime += t), r = r._next;
                                if (e)
                                    for (n in o) o[n] >= i && (o[n] += t);
                                return this._uncache(!0)
                            }, v._kill = function (t, e) {
                                if (!t && !e) return this._enabled(!1, !1);
                                for (var i = e ? this.getTweensOf(e) : this.getChildren(!0, !0, !1), n = i.length, r = !1; --n > -1;) i[n]._kill(t, e) && (r = !0);
                                return r
                            }, v.clear = function (t) {
                                var e = this.getChildren(!1, !0, !0),
                                    i = e.length;
                                for (this._time = this._totalTime = 0; --i > -1;) e[i]._enabled(!1, !1);
                                return t !== !1 && (this._labels = {}), this._uncache(!0)
                            }, v.invalidate = function () {
                                for (var e = this._first; e;) e.invalidate(), e = e._next;
                                return t.prototype.invalidate.call(this)
                            }, v._enabled = function (t, i) {
                                if (t === this._gc)
                                    for (var n = this._first; n;) n._enabled(t, !0), n = n._next;
                                return e.prototype._enabled.call(this, t, i)
                            }, v.totalTime = function (e, i, n) {
                                this._forcingPlayhead = !0;
                                var r = t.prototype.totalTime.apply(this, arguments);
                                return this._forcingPlayhead = !1, r
                            }, v.duration = function (t) {
                                return arguments.length ? (0 !== this.duration() && 0 !== t && this.timeScale(this._duration / t), this) : (this._dirty && this.totalDuration(), this._duration)
                            }, v.totalDuration = function (t) {
                                if (!arguments.length) {
                                    if (this._dirty) {
                                        for (var e, i, n = 0, r = this._last, o = 999999999999; r;) e = r._prev, r._dirty && r.totalDuration(), r._startTime > o && this._sortChildren && !r._paused && !this._calculatingDuration ? (this._calculatingDuration = 1, this.add(r, r._startTime - r._delay), this._calculatingDuration = 0) : o = r._startTime, r._startTime < 0 && !r._paused && (n -= r._startTime, this._timeline.smoothChildTiming && (this._startTime += r._startTime / this._timeScale, this._time -= r._startTime, this._totalTime -= r._startTime, this._rawPrevTime -= r._startTime), this.shiftChildren(-r._startTime, !1, -9999999999), o = 0), i = r._startTime + r._totalDuration / r._timeScale, i > n && (n = i), r = e;
                                        this._duration = this._totalDuration = n, this._dirty = !1
                                    }
                                    return this._totalDuration
                                }
                                return t && this.totalDuration() ? this.timeScale(this._totalDuration / t) : this
                            }, v.paused = function (e) {
                                if (!e)
                                    for (var i = this._first, n = this._time; i;) i._startTime === n && "isPause" === i.data && (i._rawPrevTime = 0), i = i._next;
                                return t.prototype.paused.apply(this, arguments)
                            }, v.usesFrames = function () {
                                for (var e = this._timeline; e._timeline;) e = e._timeline;
                                return e === t._rootFramesTimeline
                            }, v.rawTime = function (t) {
                                return t && (this._paused || this._repeat && this.time() > 0 && this.totalProgress() < 1) ? this._totalTime % (this._duration + this._repeatDelay) : this._paused ? this._totalTime : (this._timeline.rawTime(t) - this._startTime) * this._timeScale
                            }, n
                        }, !0), o._gsDefine("TimelineMax", ["TimelineLite", "TweenLite", "easing.Ease"], function (t, e, i) {
                            var n = function (e) {
                                    t.call(this, e), this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._cycle = 0, this._yoyo = this.vars.yoyo === !0, this._dirty = !0
                                },
                                r = 1e-10,
                                s = e._internals,
                                a = s.lazyTweens,
                                h = s.lazyRender,
                                l = o._gsDefine.globals,
                                u = new i(null, null, 1, 0),
                                c = n.prototype = new t;
                            return c.constructor = n, c.kill()._gc = !1, n.version = "1.20.4", c.invalidate = function () {
                                return this._yoyo = this.vars.yoyo === !0, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._uncache(!0), t.prototype.invalidate.call(this)
                            }, c.addCallback = function (t, i, n, r) {
                                return this.add(e.delayedCall(0, t, n, r), i)
                            }, c.removeCallback = function (t, e) {
                                if (t)
                                    if (null == e) this._kill(null, t);
                                    else
                                        for (var i = this.getTweensOf(t, !1), n = i.length, r = this._parseTimeOrLabel(e); --n > -1;) i[n]._startTime === r && i[n]._enabled(!1, !1);
                                return this
                            }, c.removePause = function (e) {
                                return this.removeCallback(t._internals.pauseCallback, e)
                            }, c.tweenTo = function (t, i) {
                                i = i || {};
                                var n, r, o, s = {
                                        ease: u,
                                        useFrames: this.usesFrames(),
                                        immediateRender: !1,
                                        lazy: !1
                                    },
                                    a = i.repeat && l.TweenMax || e;
                                for (r in i) s[r] = i[r];
                                return s.time = this._parseTimeOrLabel(t), n = Math.abs(Number(s.time) - this._time) / this._timeScale || .001, o = new a(this, n, s), s.onStart = function () {
                                    o.target.paused(!0), o.vars.time === o.target.time() || n !== o.duration() || o.isFromTo || o.duration(Math.abs(o.vars.time - o.target.time()) / o.target._timeScale).render(o.time(), !0, !0), i.onStart && i.onStart.apply(i.onStartScope || i.callbackScope || o, i.onStartParams || [])
                                }, o
                            }, c.tweenFromTo = function (t, e, i) {
                                i = i || {}, t = this._parseTimeOrLabel(t), i.startAt = {
                                    onComplete: this.seek,
                                    onCompleteParams: [t],
                                    callbackScope: this
                                }, i.immediateRender = i.immediateRender !== !1;
                                var n = this.tweenTo(e, i);
                                return n.isFromTo = 1, n.duration(Math.abs(n.vars.time - t) / this._timeScale || .001)
                            }, c.render = function (t, e, i) {
                                this._gc && this._enabled(!0, !1);
                                var n, o, s, l, u, c, p, d, f = this._time,
                                    m = this._dirty ? this.totalDuration() : this._totalDuration,
                                    g = this._duration,
                                    v = this._totalTime,
                                    _ = this._startTime,
                                    y = this._timeScale,
                                    x = this._rawPrevTime,
                                    w = this._paused,
                                    b = this._cycle;
                                if (f !== this._time && (t += this._time - f), t >= m - 1e-7 && t >= 0) this._locked || (this._totalTime = m, this._cycle = this._repeat), this._reversed || this._hasPausedChild() || (o = !0, l = "onComplete", u = !!this._timeline.autoRemoveChildren, 0 === this._duration && (t <= 0 && t >= -1e-7 || x < 0 || x === r) && x !== t && this._first && (u = !0, x > r && (l = "onReverseComplete"))), this._rawPrevTime = this._duration || !e || t || this._rawPrevTime === t ? t : r, this._yoyo && 0 !== (1 & this._cycle) ? this._time = t = 0 : (this._time = g, t = g + 1e-4);
                                else if (t < 1e-7)
                                    if (this._locked || (this._totalTime = this._cycle = 0), this._time = 0, (0 !== f || 0 === g && x !== r && (x > 0 || t < 0 && x >= 0) && !this._locked) && (l = "onReverseComplete", o = this._reversed), t < 0) this._active = !1, this._timeline.autoRemoveChildren && this._reversed ? (u = o = !0, l = "onReverseComplete") : x >= 0 && this._first && (u = !0), this._rawPrevTime = t;
                                    else {
                                        if (this._rawPrevTime = g || !e || t || this._rawPrevTime === t ? t : r, 0 === t && o)
                                            for (n = this._first; n && 0 === n._startTime;) n._duration || (o = !1), n = n._next;
                                        t = 0, this._initted || (u = !0)
                                    } else if (0 === g && x < 0 && (u = !0), this._time = this._rawPrevTime = t, this._locked || (this._totalTime = t, 0 !== this._repeat && (c = g + this._repeatDelay, this._cycle = this._totalTime / c >> 0, 0 !== this._cycle && this._cycle === this._totalTime / c && v <= t && this._cycle--, this._time = this._totalTime - this._cycle * c, this._yoyo && 0 !== (1 & this._cycle) && (this._time = g - this._time), this._time > g ? (this._time = g, t = g + 1e-4) : this._time < 0 ? this._time = t = 0 : t = this._time)), this._hasPause && !this._forcingPlayhead && !e) {
                                    if (t = this._time, t >= f || this._repeat && b !== this._cycle)
                                        for (n = this._first; n && n._startTime <= t && !p;) n._duration || "isPause" !== n.data || n.ratio || 0 === n._startTime && 0 === this._rawPrevTime || (p = n), n = n._next;
                                    else
                                        for (n = this._last; n && n._startTime >= t && !p;) n._duration || "isPause" === n.data && n._rawPrevTime > 0 && (p = n), n = n._prev;
                                    p && p._startTime < g && (this._time = t = p._startTime, this._totalTime = t + this._cycle * (this._totalDuration + this._repeatDelay))
                                }
                                if (this._cycle !== b && !this._locked) {
                                    var S = this._yoyo && 0 !== (1 & b),
                                        T = S === (this._yoyo && 0 !== (1 & this._cycle)),
                                        M = this._totalTime,
                                        E = this._cycle,
                                        A = this._rawPrevTime,
                                        C = this._time;
                                    if (this._totalTime = b * g, this._cycle < b ? S = !S : this._totalTime += g, this._time = f, this._rawPrevTime = 0 === g ? x - 1e-4 : x, this._cycle = b, this._locked = !0, f = S ? 0 : g, this.render(f, e, 0 === g), e || this._gc || this.vars.onRepeat && (this._cycle = E, this._locked = !1, this._callback("onRepeat")), f !== this._time) return;
                                    if (T && (this._cycle = b, this._locked = !0, f = S ? g + 1e-4 : -1e-4, this.render(f, !0, !1)), this._locked = !1, this._paused && !w) return;
                                    this._time = C, this._totalTime = M, this._cycle = E, this._rawPrevTime = A
                                }
                                if (!(this._time !== f && this._first || i || u || p)) return void(v !== this._totalTime && this._onUpdate && (e || this._callback("onUpdate")));
                                if (this._initted || (this._initted = !0), this._active || !this._paused && this._totalTime !== v && t > 0 && (this._active = !0), 0 === v && this.vars.onStart && (0 === this._totalTime && this._totalDuration || e || this._callback("onStart")), d = this._time, d >= f)
                                    for (n = this._first; n && (s = n._next, d === this._time && (!this._paused || w));)(n._active || n._startTime <= this._time && !n._paused && !n._gc) && (p === n && this.pause(), n._reversed ? n.render((n._dirty ? n.totalDuration() : n._totalDuration) - (t - n._startTime) * n._timeScale, e, i) : n.render((t - n._startTime) * n._timeScale, e, i)), n = s;
                                else
                                    for (n = this._last; n && (s = n._prev, d === this._time && (!this._paused || w));) {
                                        if (n._active || n._startTime <= f && !n._paused && !n._gc) {
                                            if (p === n) {
                                                for (p = n._prev; p && p.endTime() > this._time;) p.render(p._reversed ? p.totalDuration() - (t - p._startTime) * p._timeScale : (t - p._startTime) * p._timeScale, e, i), p = p._prev;
                                                p = null, this.pause()
                                            }
                                            n._reversed ? n.render((n._dirty ? n.totalDuration() : n._totalDuration) - (t - n._startTime) * n._timeScale, e, i) : n.render((t - n._startTime) * n._timeScale, e, i)
                                        }
                                        n = s
                                    }
                                this._onUpdate && (e || (a.length && h(), this._callback("onUpdate"))), l && (this._locked || this._gc || _ !== this._startTime && y === this._timeScale || (0 === this._time || m >= this.totalDuration()) && (o && (a.length && h(), this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[l] && this._callback(l)))
                            }, c.getActive = function (t, e, i) {
                                null == t && (t = !0), null == e && (e = !0), null == i && (i = !1);
                                var n, r, o = [],
                                    s = this.getChildren(t, e, i),
                                    a = 0,
                                    h = s.length;
                                for (n = 0; n < h; n++) r = s[n], r.isActive() && (o[a++] = r);
                                return o
                            }, c.getLabelAfter = function (t) {
                                t || 0 !== t && (t = this._time);
                                var e, i = this.getLabelsArray(),
                                    n = i.length;
                                for (e = 0; e < n; e++)
                                    if (i[e].time > t) return i[e].name;
                                return null
                            }, c.getLabelBefore = function (t) {
                                null == t && (t = this._time);
                                for (var e = this.getLabelsArray(), i = e.length; --i > -1;)
                                    if (e[i].time < t) return e[i].name;
                                return null
                            }, c.getLabelsArray = function () {
                                var t, e = [],
                                    i = 0;
                                for (t in this._labels) e[i++] = {
                                    time: this._labels[t],
                                    name: t
                                };
                                return e.sort(function (t, e) {
                                    return t.time - e.time
                                }), e
                            }, c.invalidate = function () {
                                return this._locked = !1, t.prototype.invalidate.call(this)
                            }, c.progress = function (t, e) {
                                return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 !== (1 & this._cycle) ? 1 - t : t) + this._cycle * (this._duration + this._repeatDelay), e) : this._time / this.duration() || 0
                            }, c.totalProgress = function (t, e) {
                                return arguments.length ? this.totalTime(this.totalDuration() * t, e) : this._totalTime / this.totalDuration() || 0
                            }, c.totalDuration = function (e) {
                                return arguments.length ? this._repeat !== -1 && e ? this.timeScale(this.totalDuration() / e) : this : (this._dirty && (t.prototype.totalDuration.call(this), this._totalDuration = this._repeat === -1 ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat), this._totalDuration)
                            }, c.time = function (t, e) {
                                return arguments.length ? (this._dirty && this.totalDuration(), t > this._duration && (t = this._duration), this._yoyo && 0 !== (1 & this._cycle) ? t = this._duration - t + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (t += this._cycle * (this._duration + this._repeatDelay)), this.totalTime(t, e)) : this._time
                            }, c.repeat = function (t) {
                                return arguments.length ? (this._repeat = t, this._uncache(!0)) : this._repeat
                            }, c.repeatDelay = function (t) {
                                return arguments.length ? (this._repeatDelay = t, this._uncache(!0)) : this._repeatDelay
                            }, c.yoyo = function (t) {
                                return arguments.length ? (this._yoyo = t, this) : this._yoyo
                            }, c.currentLabel = function (t) {
                                return arguments.length ? this.seek(t, !0) : this.getLabelBefore(this._time + 1e-8)
                            }, n
                        }, !0),
                        function () {
                            var t = 180 / Math.PI,
                                e = [],
                                i = [],
                                n = [],
                                r = {},
                                s = o._gsDefine.globals,
                                a = function (t, e, i, n) {
                                    i === n && (i = n - (n - e) / 1e6), t === e && (e = t + (i - t) / 1e6), this.a = t, this.b = e, this.c = i, this.d = n, this.da = n - t, this.ca = i - t, this.ba = e - t
                                },
                                h = ",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",
                                l = function (t, e, i, n) {
                                    var r = {
                                            a: t
                                        },
                                        o = {},
                                        s = {},
                                        a = {
                                            c: n
                                        },
                                        h = (t + e) / 2,
                                        l = (e + i) / 2,
                                        u = (i + n) / 2,
                                        c = (h + l) / 2,
                                        p = (l + u) / 2,
                                        d = (p - c) / 8;
                                    return r.b = h + (t - h) / 4, o.b = c + d, r.c = o.a = (r.b + o.b) / 2, o.c = s.a = (c + p) / 2, s.b = p - d, a.b = u + (n - u) / 4, s.c = a.a = (s.b + a.b) / 2, [r, o, s, a]
                                },
                                u = function (t, r, o, s, a) {
                                    var h, u, c, p, d, f, m, g, v, _, y, x, w, b = t.length - 1,
                                        S = 0,
                                        T = t[0].a;
                                    for (h = 0; h < b; h++) d = t[S], u = d.a, c = d.d, p = t[S + 1].d, a ? (y = e[h], x = i[h], w = (x + y) * r * .25 / (s ? .5 : n[h] || .5), f = c - (c - u) * (s ? .5 * r : 0 !== y ? w / y : 0), m = c + (p - c) * (s ? .5 * r : 0 !== x ? w / x : 0), g = c - (f + ((m - f) * (3 * y / (y + x) + .5) / 4 || 0))) : (f = c - (c - u) * r * .5, m = c + (p - c) * r * .5, g = c - (f + m) / 2), f += g, m += g, d.c = v = f, 0 !== h ? d.b = T : d.b = T = d.a + .6 * (d.c - d.a), d.da = c - u, d.ca = v - u, d.ba = T - u, o ? (_ = l(u, T, v, c), t.splice(S, 1, _[0], _[1], _[2], _[3]), S += 4) : S++, T = m;
                                    d = t[S], d.b = T, d.c = T + .4 * (d.d - T), d.da = d.d - d.a, d.ca = d.c - d.a, d.ba = T - d.a, o && (_ = l(d.a, T, d.c, d.d), t.splice(S, 1, _[0], _[1], _[2], _[3]))
                                },
                                c = function (t, n, r, o) {
                                    var s, h, l, u, c, p, d = [];
                                    if (o)
                                        for (t = [o].concat(t), h = t.length; --h > -1;) "string" == typeof (p = t[h][n]) && "=" === p.charAt(1) && (t[h][n] = o[n] + Number(p.charAt(0) + p.substr(2)));
                                    if (s = t.length - 2, s < 0) return d[0] = new a(t[0][n], 0, 0, t[0][n]), d;
                                    for (h = 0; h < s; h++) l = t[h][n], u = t[h + 1][n], d[h] = new a(l, 0, 0, u), r && (c = t[h + 2][n], e[h] = (e[h] || 0) + (u - l) * (u - l), i[h] = (i[h] || 0) + (c - u) * (c - u));
                                    return d[h] = new a(t[h][n], 0, 0, t[h + 1][n]), d
                                },
                                p = function (t, o, s, a, l, p) {
                                    var d, f, m, g, v, _, y, x, w = {},
                                        b = [],
                                        S = p || t[0];
                                    l = "string" == typeof l ? "," + l + "," : h, null == o && (o = 1);
                                    for (f in t[0]) b.push(f);
                                    if (t.length > 1) {
                                        for (x = t[t.length - 1], y = !0, d = b.length; --d > -1;)
                                            if (f = b[d], Math.abs(S[f] - x[f]) > .05) {
                                                y = !1;
                                                break
                                            }
                                        y && (t = t.concat(), p && t.unshift(p), t.push(t[1]), p = t[t.length - 3])
                                    }
                                    for (e.length = i.length = n.length = 0, d = b.length; --d > -1;) f = b[d], r[f] = l.indexOf("," + f + ",") !== -1, w[f] = c(t, f, r[f], p);
                                    for (d = e.length; --d > -1;) e[d] = Math.sqrt(e[d]), i[d] = Math.sqrt(i[d]);
                                    if (!a) {
                                        for (d = b.length; --d > -1;)
                                            if (r[f])
                                                for (m = w[b[d]], _ = m.length - 1, g = 0; g < _; g++) v = m[g + 1].da / i[g] + m[g].da / e[g] || 0, n[g] = (n[g] || 0) + v * v;
                                        for (d = n.length; --d > -1;) n[d] = Math.sqrt(n[d]);
                                    }
                                    for (d = b.length, g = s ? 4 : 1; --d > -1;) f = b[d], m = w[f], u(m, o, s, a, r[f]), y && (m.splice(0, g), m.splice(m.length - g, g));
                                    return w
                                },
                                d = function (t, e, i) {
                                    e = e || "soft";
                                    var n, r, o, s, h, l, u, c, p, d, f, m = {},
                                        g = "cubic" === e ? 3 : 2,
                                        v = "soft" === e,
                                        _ = [];
                                    if (v && i && (t = [i].concat(t)), null == t || t.length < g + 1) throw "invalid Bezier data";
                                    for (p in t[0]) _.push(p);
                                    for (l = _.length; --l > -1;) {
                                        for (p = _[l], m[p] = h = [], d = 0, c = t.length, u = 0; u < c; u++) n = null == i ? t[u][p] : "string" == typeof (f = t[u][p]) && "=" === f.charAt(1) ? i[p] + Number(f.charAt(0) + f.substr(2)) : Number(f), v && u > 1 && u < c - 1 && (h[d++] = (n + h[d - 2]) / 2), h[d++] = n;
                                        for (c = d - g + 1, d = 0, u = 0; u < c; u += g) n = h[u], r = h[u + 1], o = h[u + 2], s = 2 === g ? 0 : h[u + 3], h[d++] = f = 3 === g ? new a(n, r, o, s) : new a(n, (2 * r + n) / 3, (2 * r + o) / 3, o);
                                        h.length = d
                                    }
                                    return m
                                },
                                f = function (t, e, i) {
                                    for (var n, r, o, s, a, h, l, u, c, p, d, f = 1 / i, m = t.length; --m > -1;)
                                        for (p = t[m], o = p.a, s = p.d - o, a = p.c - o, h = p.b - o, n = r = 0, u = 1; u <= i; u++) l = f * u, c = 1 - l, n = r - (r = (l * l * s + 3 * c * (l * a + c * h)) * l), d = m * i + u - 1, e[d] = (e[d] || 0) + n * n
                                },
                                m = function (t, e) {
                                    e = e >> 0 || 6;
                                    var i, n, r, o, s = [],
                                        a = [],
                                        h = 0,
                                        l = 0,
                                        u = e - 1,
                                        c = [],
                                        p = [];
                                    for (i in t) f(t[i], s, e);
                                    for (r = s.length, n = 0; n < r; n++) h += Math.sqrt(s[n]), o = n % e, p[o] = h, o === u && (l += h, o = n / e >> 0, c[o] = p, a[o] = l, h = 0, p = []);
                                    return {
                                        length: l,
                                        lengths: a,
                                        segments: c
                                    }
                                },
                                g = o._gsDefine.plugin({
                                    propName: "bezier",
                                    priority: -1,
                                    version: "1.3.8",
                                    API: 2,
                                    global: !0,
                                    init: function (t, e, i) {
                                        this._target = t, e instanceof Array && (e = {
                                            values: e
                                        }), this._func = {}, this._mod = {}, this._props = [], this._timeRes = null == e.timeResolution ? 6 : parseInt(e.timeResolution, 10);
                                        var n, r, o, s, a, h = e.values || [],
                                            l = {},
                                            u = h[0],
                                            c = e.autoRotate || i.vars.orientToBezier;
                                        this._autoRotate = c ? c instanceof Array ? c : [
                                            ["x", "y", "rotation", c === !0 ? 0 : Number(c) || 0]
                                        ] : null;
                                        for (n in u) this._props.push(n);
                                        for (o = this._props.length; --o > -1;) n = this._props[o], this._overwriteProps.push(n), r = this._func[n] = "function" == typeof t[n], l[n] = r ? t[n.indexOf("set") || "function" != typeof t["get" + n.substr(3)] ? n : "get" + n.substr(3)]() : parseFloat(t[n]), a || l[n] !== h[0][n] && (a = l);
                                        if (this._beziers = "cubic" !== e.type && "quadratic" !== e.type && "soft" !== e.type ? p(h, isNaN(e.curviness) ? 1 : e.curviness, !1, "thruBasic" === e.type, e.correlate, a) : d(h, e.type, l), this._segCount = this._beziers[n].length, this._timeRes) {
                                            var f = m(this._beziers, this._timeRes);
                                            this._length = f.length, this._lengths = f.lengths, this._segments = f.segments, this._l1 = this._li = this._s1 = this._si = 0, this._l2 = this._lengths[0], this._curSeg = this._segments[0], this._s2 = this._curSeg[0], this._prec = 1 / this._curSeg.length
                                        }
                                        if (c = this._autoRotate)
                                            for (this._initialRotations = [], c[0] instanceof Array || (this._autoRotate = c = [c]), o = c.length; --o > -1;) {
                                                for (s = 0; s < 3; s++) n = c[o][s], this._func[n] = "function" == typeof t[n] && t[n.indexOf("set") || "function" != typeof t["get" + n.substr(3)] ? n : "get" + n.substr(3)];
                                                n = c[o][2], this._initialRotations[o] = (this._func[n] ? this._func[n].call(this._target) : this._target[n]) || 0, this._overwriteProps.push(n)
                                            }
                                        return this._startRatio = i.vars.runBackwards ? 1 : 0, !0
                                    }, set: function (e) {
                                        var i, n, r, o, s, a, h, l, u, c, p = this._segCount,
                                            d = this._func,
                                            f = this._target,
                                            m = e !== this._startRatio;
                                        if (this._timeRes) {
                                            if (u = this._lengths, c = this._curSeg, e *= this._length, r = this._li, e > this._l2 && r < p - 1) {
                                                for (l = p - 1; r < l && (this._l2 = u[++r]) <= e;);
                                                this._l1 = u[r - 1], this._li = r, this._curSeg = c = this._segments[r], this._s2 = c[this._s1 = this._si = 0]
                                            } else if (e < this._l1 && r > 0) {
                                                for (; r > 0 && (this._l1 = u[--r]) >= e;);
                                                0 === r && e < this._l1 ? this._l1 = 0 : r++, this._l2 = u[r], this._li = r, this._curSeg = c = this._segments[r], this._s1 = c[(this._si = c.length - 1) - 1] || 0, this._s2 = c[this._si]
                                            }
                                            if (i = r, e -= this._l1, r = this._si, e > this._s2 && r < c.length - 1) {
                                                for (l = c.length - 1; r < l && (this._s2 = c[++r]) <= e;);
                                                this._s1 = c[r - 1], this._si = r
                                            } else if (e < this._s1 && r > 0) {
                                                for (; r > 0 && (this._s1 = c[--r]) >= e;);
                                                0 === r && e < this._s1 ? this._s1 = 0 : r++, this._s2 = c[r], this._si = r
                                            }
                                            a = (r + (e - this._s1) / (this._s2 - this._s1)) * this._prec || 0
                                        } else i = e < 0 ? 0 : e >= 1 ? p - 1 : p * e >> 0, a = (e - i * (1 / p)) * p;
                                        for (n = 1 - a, r = this._props.length; --r > -1;) o = this._props[r], s = this._beziers[o][i], h = (a * a * s.da + 3 * n * (a * s.ca + n * s.ba)) * a + s.a, this._mod[o] && (h = this._mod[o](h, f)), d[o] ? f[o](h) : f[o] = h;
                                        if (this._autoRotate) {
                                            var g, v, _, y, x, w, b, S = this._autoRotate;
                                            for (r = S.length; --r > -1;) o = S[r][2], w = S[r][3] || 0, b = S[r][4] === !0 ? 1 : t, s = this._beziers[S[r][0]], g = this._beziers[S[r][1]], s && g && (s = s[i], g = g[i], v = s.a + (s.b - s.a) * a, y = s.b + (s.c - s.b) * a, v += (y - v) * a, y += (s.c + (s.d - s.c) * a - y) * a, _ = g.a + (g.b - g.a) * a, x = g.b + (g.c - g.b) * a, _ += (x - _) * a, x += (g.c + (g.d - g.c) * a - x) * a, h = m ? Math.atan2(x - _, y - v) * b + w : this._initialRotations[r], this._mod[o] && (h = this._mod[o](h, f)), d[o] ? f[o](h) : f[o] = h)
                                        }
                                    }
                                }),
                                v = g.prototype;
                            g.bezierThrough = p, g.cubicToQuadratic = l, g._autoCSS = !0, g.quadraticToCubic = function (t, e, i) {
                                return new a(t, (2 * e + t) / 3, (2 * e + i) / 3, i)
                            }, g._cssRegister = function () {
                                var t = s.CSSPlugin;
                                if (t) {
                                    var e = t._internals,
                                        i = e._parseToProxy,
                                        n = e._setPluginRatio,
                                        r = e.CSSPropTween;
                                    e._registerComplexSpecialProp("bezier", {
                                        parser: function (t, e, o, s, a, h) {
                                            e instanceof Array && (e = {
                                                values: e
                                            }), h = new g;
                                            var l, u, c, p = e.values,
                                                d = p.length - 1,
                                                f = [],
                                                m = {};
                                            if (d < 0) return a;
                                            for (l = 0; l <= d; l++) c = i(t, p[l], s, a, h, d !== l), f[l] = c.end;
                                            for (u in e) m[u] = e[u];
                                            return m.values = f, a = new r(t, "bezier", 0, 0, c.pt, 2), a.data = c, a.plugin = h, a.setRatio = n, 0 === m.autoRotate && (m.autoRotate = !0), !m.autoRotate || m.autoRotate instanceof Array || (l = m.autoRotate === !0 ? 0 : Number(m.autoRotate), m.autoRotate = null != c.end.left ? [
                                                ["left", "top", "rotation", l, !1]
                                            ] : null != c.end.x && [
                                                ["x", "y", "rotation", l, !1]
                                            ]), m.autoRotate && (s._transform || s._enableTransforms(!1), c.autoRotate = s._target._gsTransform, c.proxy.rotation = c.autoRotate.rotation || 0, s._overwriteProps.push("rotation")), h._onInitTween(c.proxy, m, s._tween), a
                                        }
                                    })
                                }
                            }, v._mod = function (t) {
                                for (var e, i = this._overwriteProps, n = i.length; --n > -1;) e = t[i[n]], e && "function" == typeof e && (this._mod[i[n]] = e)
                            }, v._kill = function (t) {
                                var e, i, n = this._props;
                                for (e in this._beziers)
                                    if (e in t)
                                        for (delete this._beziers[e], delete this._func[e], i = n.length; --i > -1;) n[i] === e && n.splice(i, 1);
                                if (n = this._autoRotate)
                                    for (i = n.length; --i > -1;) t[n[i][2]] && n.splice(i, 1);
                                return this._super._kill.call(this, t)
                            }
                        }(), o._gsDefine("plugins.CSSPlugin", ["plugins.TweenPlugin", "TweenLite"], function (t, e) {
                            var i, n, r, s, a = function () {
                                    t.call(this, "css"), this._overwriteProps.length = 0, this.setRatio = a.prototype.setRatio
                                },
                                h = o._gsDefine.globals,
                                l = {},
                                u = a.prototype = new t("css");
                            u.constructor = a, a.version = "1.20.4", a.API = 2, a.defaultTransformPerspective = 0, a.defaultSkewType = "compensated", a.defaultSmoothOrigin = !0, u = "px", a.suffixMap = {
                                top: u,
                                right: u,
                                bottom: u,
                                left: u,
                                width: u,
                                height: u,
                                fontSize: u,
                                padding: u,
                                margin: u,
                                perspective: u,
                                lineHeight: ""
                            };
                            var c, p, d, f, m, g, v, _, y = /(?:\-|\.|\b)(\d|\.|e\-)+/g,
                                x = /(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,
                                w = /(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,
                                b = /(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,
                                S = /(?:\d|\-|\+|=|#|\.)*/g,
                                T = /opacity *= *([^)]*)/i,
                                M = /opacity:([^;]*)/i,
                                E = /alpha\(opacity *=.+?\)/i,
                                A = /^(rgb|hsl)/,
                                C = /([A-Z])/g,
                                P = /-([a-z])/gi,
                                R = /(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,
                                L = function (t, e) {
                                    return e.toUpperCase()
                                },
                                O = /(?:Left|Right|Width)/i,
                                I = /(M11|M12|M21|M22)=[\d\-\.e]+/gi,
                                D = /progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,
                                k = /,(?=[^\)]*(?:\(|$))/gi,
                                N = /[\s,\(]/i,
                                z = Math.PI / 180,
                                B = 180 / Math.PI,
                                F = {},
                                H = {
                                    style: {}
                                },
                                U = o.document || {
                                    createElement: function () {
                                        return H
                                    }
                                },
                                G = function (t, e) {
                                    return U.createElementNS ? U.createElementNS(e || "http://www.w3.org/1999/xhtml", t) : U.createElement(t)
                                },
                                j = G("div"),
                                V = G("img"),
                                W = a._internals = {
                                    _specialProps: l
                                },
                                q = (o.navigator || {}).userAgent || "",
                                X = function () {
                                    var t = q.indexOf("Android"),
                                        e = G("a");
                                    return d = q.indexOf("Safari") !== -1 && q.indexOf("Chrome") === -1 && (t === -1 || parseFloat(q.substr(t + 8, 2)) > 3), m = d && parseFloat(q.substr(q.indexOf("Version/") + 8, 2)) < 6, f = q.indexOf("Firefox") !== -1, (/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(q) || /Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(q)) && (g = parseFloat(RegExp.$1)), !!e && (e.style.cssText = "top:1px;opacity:.55;", /^0.55/.test(e.style.opacity))
                                }(),
                                Y = function (t) {
                                    return T.test("string" == typeof t ? t : (t.currentStyle ? t.currentStyle.filter : t.style.filter) || "") ? parseFloat(RegExp.$1) / 100 : 1
                                },
                                Z = function (t) {
                                    o.console && console.log(t)
                                },
                                J = "",
                                $ = "",
                                K = function (t, e) {
                                    e = e || j;
                                    var i, n, r = e.style;
                                    if (void 0 !== r[t]) return t;
                                    for (t = t.charAt(0).toUpperCase() + t.substr(1), i = ["O", "Moz", "ms", "Ms", "Webkit"], n = 5; --n > -1 && void 0 === r[i[n] + t];);
                                    return n >= 0 ? ($ = 3 === n ? "ms" : i[n], J = "-" + $.toLowerCase() + "-", $ + t) : null
                                },
                                Q = U.defaultView ? U.defaultView.getComputedStyle : function () {},
                                tt = a.getStyle = function (t, e, i, n, r) {
                                    var o;
                                    return X || "opacity" !== e ? (!n && t.style[e] ? o = t.style[e] : (i = i || Q(t)) ? o = i[e] || i.getPropertyValue(e) || i.getPropertyValue(e.replace(C, "-$1").toLowerCase()) : t.currentStyle && (o = t.currentStyle[e]), null == r || o && "none" !== o && "auto" !== o && "auto auto" !== o ? o : r) : Y(t)
                                },
                                et = W.convertToPixels = function (t, i, n, r, o) {
                                    if ("px" === r || !r && "lineHeight" !== i) return n;
                                    if ("auto" === r || !n) return 0;
                                    var s, h, l, u = O.test(i),
                                        c = t,
                                        p = j.style,
                                        d = n < 0,
                                        f = 1 === n;
                                    if (d && (n = -n), f && (n *= 100), "lineHeight" !== i || r)
                                        if ("%" === r && i.indexOf("border") !== -1) s = n / 100 * (u ? t.clientWidth : t.clientHeight);
                                        else {
                                            if (p.cssText = "border:0 solid red;position:" + tt(t, "position") + ";line-height:0;", "%" !== r && c.appendChild && "v" !== r.charAt(0) && "rem" !== r) p[u ? "borderLeftWidth" : "borderTopWidth"] = n + r;
                                            else {
                                                if (c = t.parentNode || U.body, tt(c, "display").indexOf("flex") !== -1 && (p.position = "absolute"), h = c._gsCache, l = e.ticker.frame, h && u && h.time === l) return h.width * n / 100;
                                                p[u ? "width" : "height"] = n + r
                                            }
                                            c.appendChild(j), s = parseFloat(j[u ? "offsetWidth" : "offsetHeight"]), c.removeChild(j), u && "%" === r && a.cacheWidths !== !1 && (h = c._gsCache = c._gsCache || {}, h.time = l, h.width = s / n * 100), 0 !== s || o || (s = et(t, i, n, r, !0))
                                        } else h = Q(t).lineHeight, t.style.lineHeight = n, s = parseFloat(Q(t).lineHeight), t.style.lineHeight = h;
                                    return f && (s /= 100), d ? -s : s
                                },
                                it = W.calculateOffset = function (t, e, i) {
                                    if ("absolute" !== tt(t, "position", i)) return 0;
                                    var n = "left" === e ? "Left" : "Top",
                                        r = tt(t, "margin" + n, i);
                                    return t["offset" + n] - (et(t, e, parseFloat(r), r.replace(S, "")) || 0)
                                },
                                nt = function (t, e) {
                                    var i, n, r, o = {};
                                    if (e = e || Q(t, null))
                                        if (i = e.length)
                                            for (; --i > -1;) r = e[i], r.indexOf("-transform") !== -1 && Rt !== r || (o[r.replace(P, L)] = e.getPropertyValue(r));
                                        else
                                            for (i in e) i.indexOf("Transform") !== -1 && Pt !== i || (o[i] = e[i]);
                                    else if (e = t.currentStyle || t.style)
                                        for (i in e) "string" == typeof i && void 0 === o[i] && (o[i.replace(P, L)] = e[i]);
                                    return X || (o.opacity = Y(t)), n = Vt(t, e, !1), o.rotation = n.rotation, o.skewX = n.skewX, o.scaleX = n.scaleX, o.scaleY = n.scaleY, o.x = n.x, o.y = n.y, Ot && (o.z = n.z, o.rotationX = n.rotationX, o.rotationY = n.rotationY, o.scaleZ = n.scaleZ), o.filters && delete o.filters, o
                                },
                                rt = function (t, e, i, n, r) {
                                    var o, s, a, h = {},
                                        l = t.style;
                                    for (s in i) "cssText" !== s && "length" !== s && isNaN(s) && (e[s] !== (o = i[s]) || r && r[s]) && s.indexOf("Origin") === -1 && ("number" != typeof o && "string" != typeof o || (h[s] = "auto" !== o || "left" !== s && "top" !== s ? "" !== o && "auto" !== o && "none" !== o || "string" != typeof e[s] || "" === e[s].replace(b, "") ? o : 0 : it(t, s), void 0 !== l[s] && (a = new yt(l, s, l[s], a))));
                                    if (n)
                                        for (s in n) "className" !== s && (h[s] = n[s]);
                                    return {
                                        difs: h,
                                        firstMPT: a
                                    }
                                },
                                ot = {
                                    width: ["Left", "Right"],
                                    height: ["Top", "Bottom"]
                                },
                                st = ["marginLeft", "marginRight", "marginTop", "marginBottom"],
                                at = function (t, e, i) {
                                    if ("svg" === (t.nodeName + "").toLowerCase()) return (i || Q(t))[e] || 0;
                                    if (t.getCTM && Ut(t)) return t.getBBox()[e] || 0;
                                    var n = parseFloat("width" === e ? t.offsetWidth : t.offsetHeight),
                                        r = ot[e],
                                        o = r.length;
                                    for (i = i || Q(t, null); --o > -1;) n -= parseFloat(tt(t, "padding" + r[o], i, !0)) || 0, n -= parseFloat(tt(t, "border" + r[o] + "Width", i, !0)) || 0;
                                    return n
                                },
                                ht = function (t, e) {
                                    if ("contain" === t || "auto" === t || "auto auto" === t) return t + " ";
                                    null != t && "" !== t || (t = "0 0");
                                    var i, n = t.split(" "),
                                        r = t.indexOf("left") !== -1 ? "0%" : t.indexOf("right") !== -1 ? "100%" : n[0],
                                        o = t.indexOf("top") !== -1 ? "0%" : t.indexOf("bottom") !== -1 ? "100%" : n[1];
                                    if (n.length > 3 && !e) {
                                        for (n = t.split(", ").join(",").split(","), t = [], i = 0; i < n.length; i++) t.push(ht(n[i]));
                                        return t.join(",")
                                    }
                                    return null == o ? o = "center" === r ? "50%" : "0" : "center" === o && (o = "50%"), ("center" === r || isNaN(parseFloat(r)) && (r + "").indexOf("=") === -1) && (r = "50%"), t = r + " " + o + (n.length > 2 ? " " + n[2] : ""), e && (e.oxp = r.indexOf("%") !== -1, e.oyp = o.indexOf("%") !== -1, e.oxr = "=" === r.charAt(1), e.oyr = "=" === o.charAt(1), e.ox = parseFloat(r.replace(b, "")), e.oy = parseFloat(o.replace(b, "")), e.v = t), e || t
                                },
                                lt = function (t, e) {
                                    return "function" == typeof t && (t = t(_, v)), "string" == typeof t && "=" === t.charAt(1) ? parseInt(t.charAt(0) + "1", 10) * parseFloat(t.substr(2)) : parseFloat(t) - parseFloat(e) || 0
                                },
                                ut = function (t, e) {
                                    return "function" == typeof t && (t = t(_, v)), null == t ? e : "string" == typeof t && "=" === t.charAt(1) ? parseInt(t.charAt(0) + "1", 10) * parseFloat(t.substr(2)) + e : parseFloat(t) || 0
                                },
                                ct = function (t, e, i, n) {
                                    var r, o, s, a, h, l = 1e-6;
                                    return "function" == typeof t && (t = t(_, v)), null == t ? a = e : "number" == typeof t ? a = t : (r = 360, o = t.split("_"), h = "=" === t.charAt(1), s = (h ? parseInt(t.charAt(0) + "1", 10) * parseFloat(o[0].substr(2)) : parseFloat(o[0])) * (t.indexOf("rad") === -1 ? 1 : B) - (h ? 0 : e), o.length && (n && (n[i] = e + s), t.indexOf("short") !== -1 && (s %= r, s !== s % (r / 2) && (s = s < 0 ? s + r : s - r)), t.indexOf("_cw") !== -1 && s < 0 ? s = (s + 9999999999 * r) % r - (s / r | 0) * r : t.indexOf("ccw") !== -1 && s > 0 && (s = (s - 9999999999 * r) % r - (s / r | 0) * r)), a = e + s), a < l && a > -l && (a = 0), a
                                },
                                pt = {
                                    aqua: [0, 255, 255],
                                    lime: [0, 255, 0],
                                    silver: [192, 192, 192],
                                    black: [0, 0, 0],
                                    maroon: [128, 0, 0],
                                    teal: [0, 128, 128],
                                    blue: [0, 0, 255],
                                    navy: [0, 0, 128],
                                    white: [255, 255, 255],
                                    fuchsia: [255, 0, 255],
                                    olive: [128, 128, 0],
                                    yellow: [255, 255, 0],
                                    orange: [255, 165, 0],
                                    gray: [128, 128, 128],
                                    purple: [128, 0, 128],
                                    green: [0, 128, 0],
                                    red: [255, 0, 0],
                                    pink: [255, 192, 203],
                                    cyan: [0, 255, 255],
                                    transparent: [255, 255, 255, 0]
                                },
                                dt = function (t, e, i) {
                                    return t = t < 0 ? t + 1 : t > 1 ? t - 1 : t, 255 * (6 * t < 1 ? e + (i - e) * t * 6 : t < .5 ? i : 3 * t < 2 ? e + (i - e) * (2 / 3 - t) * 6 : e) + .5 | 0
                                },
                                ft = a.parseColor = function (t, e) {
                                    var i, n, r, o, s, a, h, l, u, c, p;
                                    if (t)
                                        if ("number" == typeof t) i = [t >> 16, t >> 8 & 255, 255 & t];
                                        else {
                                            if ("," === t.charAt(t.length - 1) && (t = t.substr(0, t.length - 1)), pt[t]) i = pt[t];
                                            else if ("#" === t.charAt(0)) 4 === t.length && (n = t.charAt(1), r = t.charAt(2), o = t.charAt(3), t = "#" + n + n + r + r + o + o), t = parseInt(t.substr(1), 16), i = [t >> 16, t >> 8 & 255, 255 & t];
                                            else if ("hsl" === t.substr(0, 3))
                                                if (i = p = t.match(y), e) {
                                                    if (t.indexOf("=") !== -1) return t.match(x)
                                                } else s = Number(i[0]) % 360 / 360, a = Number(i[1]) / 100, h = Number(i[2]) / 100, r = h <= .5 ? h * (a + 1) : h + a - h * a, n = 2 * h - r, i.length > 3 && (i[3] = Number(i[3])), i[0] = dt(s + 1 / 3, n, r), i[1] = dt(s, n, r), i[2] = dt(s - 1 / 3, n, r);
                                            else i = t.match(y) || pt.transparent;
                                            i[0] = Number(i[0]), i[1] = Number(i[1]), i[2] = Number(i[2]), i.length > 3 && (i[3] = Number(i[3]))
                                        } else i = pt.black;
                                    return e && !p && (n = i[0] / 255, r = i[1] / 255, o = i[2] / 255, l = Math.max(n, r, o), u = Math.min(n, r, o), h = (l + u) / 2, l === u ? s = a = 0 : (c = l - u, a = h > .5 ? c / (2 - l - u) : c / (l + u), s = l === n ? (r - o) / c + (r < o ? 6 : 0) : l === r ? (o - n) / c + 2 : (n - r) / c + 4, s *= 60), i[0] = s + .5 | 0, i[1] = 100 * a + .5 | 0, i[2] = 100 * h + .5 | 0), i
                                },
                                mt = function (t, e) {
                                    var i, n, r, o = t.match(gt) || [],
                                        s = 0,
                                        a = "";
                                    if (!o.length) return t;
                                    for (i = 0; i < o.length; i++) n = o[i], r = t.substr(s, t.indexOf(n, s) - s), s += r.length + n.length, n = ft(n, e), 3 === n.length && n.push(1), a += r + (e ? "hsla(" + n[0] + "," + n[1] + "%," + n[2] + "%," + n[3] : "rgba(" + n.join(",")) + ")";
                                    return a + t.substr(s)
                                },
                                gt = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";
                            for (u in pt) gt += "|" + u + "\\b";
                            gt = new RegExp(gt + ")", "gi"), a.colorStringFilter = function (t) {
                                var e, i = t[0] + " " + t[1];
                                gt.test(i) && (e = i.indexOf("hsl(") !== -1 || i.indexOf("hsla(") !== -1, t[0] = mt(t[0], e), t[1] = mt(t[1], e)), gt.lastIndex = 0
                            }, e.defaultStringFilter || (e.defaultStringFilter = a.colorStringFilter);
                            var vt = function (t, e, i, n) {
                                    if (null == t) return function (t) {
                                        return t
                                    };
                                    var r, o = e ? (t.match(gt) || [""])[0] : "",
                                        s = t.split(o).join("").match(w) || [],
                                        a = t.substr(0, t.indexOf(s[0])),
                                        h = ")" === t.charAt(t.length - 1) ? ")" : "",
                                        l = t.indexOf(" ") !== -1 ? " " : ",",
                                        u = s.length,
                                        c = u > 0 ? s[0].replace(y, "") : "";
                                    return u ? r = e ? function (t) {
                                        var e, p, d, f;
                                        if ("number" == typeof t) t += c;
                                        else if (n && k.test(t)) {
                                            for (f = t.replace(k, "|").split("|"), d = 0; d < f.length; d++) f[d] = r(f[d]);
                                            return f.join(",")
                                        }
                                        if (e = (t.match(gt) || [o])[0], p = t.split(e).join("").match(w) || [], d = p.length, u > d--)
                                            for (; ++d < u;) p[d] = i ? p[(d - 1) / 2 | 0] : s[d];
                                        return a + p.join(l) + l + e + h + (t.indexOf("inset") !== -1 ? " inset" : "")
                                    } : function (t) {
                                        var e, o, p;
                                        if ("number" == typeof t) t += c;
                                        else if (n && k.test(t)) {
                                            for (o = t.replace(k, "|").split("|"), p = 0; p < o.length; p++) o[p] = r(o[p]);
                                            return o.join(",")
                                        }
                                        if (e = t.match(w) || [], p = e.length, u > p--)
                                            for (; ++p < u;) e[p] = i ? e[(p - 1) / 2 | 0] : s[p];
                                        return a + e.join(l) + h
                                    } : function (t) {
                                        return t
                                    }
                                },
                                _t = function (t) {
                                    return t = t.split(","),
                                        function (e, i, n, r, o, s, a) {
                                            var h, l = (i + "").split(" ");
                                            for (a = {}, h = 0; h < 4; h++) a[t[h]] = l[h] = l[h] || l[(h - 1) / 2 >> 0];
                                            return r.parse(e, a, o, s)
                                        }
                                },
                                yt = (W._setPluginRatio = function (t) {
                                    this.plugin.setRatio(t);
                                    for (var e, i, n, r, o, s = this.data, a = s.proxy, h = s.firstMPT, l = 1e-6; h;) e = a[h.v], h.r ? e = Math.round(e) : e < l && e > -l && (e = 0), h.t[h.p] = e, h = h._next;
                                    if (s.autoRotate && (s.autoRotate.rotation = s.mod ? s.mod(a.rotation, this.t) : a.rotation), 1 === t || 0 === t)
                                        for (h = s.firstMPT, o = 1 === t ? "e" : "b"; h;) {
                                            if (i = h.t, i.type) {
                                                if (1 === i.type) {
                                                    for (r = i.xs0 + i.s + i.xs1, n = 1; n < i.l; n++) r += i["xn" + n] + i["xs" + (n + 1)];
                                                    i[o] = r
                                                }
                                            } else i[o] = i.s + i.xs0;
                                            h = h._next
                                        }
                                }, function (t, e, i, n, r) {
                                    this.t = t, this.p = e, this.v = i, this.r = r, n && (n._prev = this, this._next = n)
                                }),
                                xt = (W._parseToProxy = function (t, e, i, n, r, o) {
                                    var s, a, h, l, u, c = n,
                                        p = {},
                                        d = {},
                                        f = i._transform,
                                        m = F;
                                    for (i._transform = null, F = e, n = u = i.parse(t, e, n, r), F = m, o && (i._transform = f, c && (c._prev = null, c._prev && (c._prev._next = null))); n && n !== c;) {
                                        if (n.type <= 1 && (a = n.p, d[a] = n.s + n.c, p[a] = n.s, o || (l = new yt(n, "s", a, l, n.r), n.c = 0), 1 === n.type))
                                            for (s = n.l; --s > 0;) h = "xn" + s, a = n.p + "_" + h, d[a] = n.data[h], p[a] = n[h], o || (l = new yt(n, h, a, l, n.rxp[h]));
                                        n = n._next
                                    }
                                    return {
                                        proxy: p,
                                        end: d,
                                        firstMPT: l,
                                        pt: u
                                    }
                                }, W.CSSPropTween = function (t, e, n, r, o, a, h, l, u, c, p) {
                                    this.t = t, this.p = e, this.s = n, this.c = r, this.n = h || e, t instanceof xt || s.push(this.n), this.r = l, this.type = a || 0, u && (this.pr = u, i = !0), this.b = void 0 === c ? n : c, this.e = void 0 === p ? n + r : p, o && (this._next = o, o._prev = this)
                                }),
                                wt = function (t, e, i, n, r, o) {
                                    var s = new xt(t, e, i, n - i, r, -1, o);
                                    return s.b = i, s.e = s.xs0 = n, s
                                },
                                bt = a.parseComplex = function (t, e, i, n, r, o, s, h, l, u) {
                                    i = i || o || "", "function" == typeof n && (n = n(_, v)), s = new xt(t, e, 0, 0, s, u ? 2 : 1, null, !1, h, i, n), n += "", r && gt.test(n + i) && (n = [i, n], a.colorStringFilter(n), i = n[0], n = n[1]);
                                    var p, d, f, m, g, w, b, S, T, M, E, A, C, P = i.split(", ").join(",").split(" "),
                                        R = n.split(", ").join(",").split(" "),
                                        L = P.length,
                                        O = c !== !1;
                                    for (n.indexOf(",") === -1 && i.indexOf(",") === -1 || ((n + i).indexOf("rgb") !== -1 || (n + i).indexOf("hsl") !== -1 ? (P = P.join(" ").replace(k, ", ").split(" "), R = R.join(" ").replace(k, ", ").split(" ")) : (P = P.join(" ").split(",").join(", ").split(" "), R = R.join(" ").split(",").join(", ").split(" ")), L = P.length), L !== R.length && (P = (o || "").split(" "), L = P.length), s.plugin = l, s.setRatio = u, gt.lastIndex = 0, p = 0; p < L; p++)
                                        if (m = P[p], g = R[p], S = parseFloat(m), S || 0 === S) s.appendXtra("", S, lt(g, S), g.replace(x, ""), O && g.indexOf("px") !== -1, !0);
                                        else if (r && gt.test(m)) A = g.indexOf(")") + 1, A = ")" + (A ? g.substr(A) : ""), C = g.indexOf("hsl") !== -1 && X, M = g, m = ft(m, C), g = ft(g, C), T = m.length + g.length > 6, T && !X && 0 === g[3] ? (s["xs" + s.l] += s.l ? " transparent" : "transparent", s.e = s.e.split(R[p]).join("transparent")) : (X || (T = !1), C ? s.appendXtra(M.substr(0, M.indexOf("hsl")) + (T ? "hsla(" : "hsl("), m[0], lt(g[0], m[0]), ",", !1, !0).appendXtra("", m[1], lt(g[1], m[1]), "%,", !1).appendXtra("", m[2], lt(g[2], m[2]), T ? "%," : "%" + A, !1) : s.appendXtra(M.substr(0, M.indexOf("rgb")) + (T ? "rgba(" : "rgb("), m[0], g[0] - m[0], ",", !0, !0).appendXtra("", m[1], g[1] - m[1], ",", !0).appendXtra("", m[2], g[2] - m[2], T ? "," : A, !0), T && (m = m.length < 4 ? 1 : m[3], s.appendXtra("", m, (g.length < 4 ? 1 : g[3]) - m, A, !1))), gt.lastIndex = 0;
                                    else if (w = m.match(y)) {
                                        if (b = g.match(x), !b || b.length !== w.length) return s;
                                        for (f = 0, d = 0; d < w.length; d++) E = w[d], M = m.indexOf(E, f), s.appendXtra(m.substr(f, M - f), Number(E), lt(b[d], E), "", O && "px" === m.substr(M + E.length, 2), 0 === d), f = M + E.length;
                                        s["xs" + s.l] += m.substr(f)
                                    } else s["xs" + s.l] += s.l || s["xs" + s.l] ? " " + g : g; if (n.indexOf("=") !== -1 && s.data) {
                                        for (A = s.xs0 + s.data.s, p = 1; p < s.l; p++) A += s["xs" + p] + s.data["xn" + p];
                                        s.e = A + s["xs" + p]
                                    }
                                    return s.l || (s.type = -1, s.xs0 = s.e), s.xfirst || s
                                },
                                St = 9;
                            for (u = xt.prototype, u.l = u.pr = 0; --St > 0;) u["xn" + St] = 0, u["xs" + St] = "";
                            u.xs0 = "", u._next = u._prev = u.xfirst = u.data = u.plugin = u.setRatio = u.rxp = null, u.appendXtra = function (t, e, i, n, r, o) {
                                var s = this,
                                    a = s.l;
                                return s["xs" + a] += o && (a || s["xs" + a]) ? " " + t : t || "", i || 0 === a || s.plugin ? (s.l++, s.type = s.setRatio ? 2 : 1, s["xs" + s.l] = n || "", a > 0 ? (s.data["xn" + a] = e + i, s.rxp["xn" + a] = r, s["xn" + a] = e, s.plugin || (s.xfirst = new xt(s, "xn" + a, e, i, s.xfirst || s, 0, s.n, r, s.pr), s.xfirst.xs0 = 0), s) : (s.data = {
                                    s: e + i
                                }, s.rxp = {}, s.s = e, s.c = i, s.r = r, s)) : (s["xs" + a] += e + (n || ""), s)
                            };
                            var Tt = function (t, e) {
                                    e = e || {}, this.p = e.prefix ? K(t) || t : t, l[t] = l[this.p] = this, this.format = e.formatter || vt(e.defaultValue, e.color, e.collapsible, e.multi), e.parser && (this.parse = e.parser), this.clrs = e.color, this.multi = e.multi, this.keyword = e.keyword, this.dflt = e.defaultValue, this.pr = e.priority || 0
                                },
                                Mt = W._registerComplexSpecialProp = function (t, e, i) {
                                    "object" != typeof e && (e = {
                                        parser: i
                                    });
                                    var n, r, o = t.split(","),
                                        s = e.defaultValue;
                                    for (i = i || [s], n = 0; n < o.length; n++) e.prefix = 0 === n && e.prefix, e.defaultValue = i[n] || s, r = new Tt(o[n], e)
                                },
                                Et = W._registerPluginProp = function (t) {
                                    if (!l[t]) {
                                        var e = t.charAt(0).toUpperCase() + t.substr(1) + "Plugin";
                                        Mt(t, {
                                            parser: function (t, i, n, r, o, s, a) {
                                                var u = h.com.greensock.plugins[e];
                                                return u ? (u._cssRegister(), l[n].parse(t, i, n, r, o, s, a)) : (Z("Error: " + e + " js file not loaded."), o)
                                            }
                                        })
                                    }
                                };
                            u = Tt.prototype, u.parseComplex = function (t, e, i, n, r, o) {
                                var s, a, h, l, u, c, p = this.keyword;
                                if (this.multi && (k.test(i) || k.test(e) ? (a = e.replace(k, "|").split("|"), h = i.replace(k, "|").split("|")) : p && (a = [e], h = [i])), h) {
                                    for (l = h.length > a.length ? h.length : a.length, s = 0; s < l; s++) e = a[s] = a[s] || this.dflt, i = h[s] = h[s] || this.dflt, p && (u = e.indexOf(p), c = i.indexOf(p), u !== c && (c === -1 ? a[s] = a[s].split(p).join("") : u === -1 && (a[s] += " " + p)));
                                    e = a.join(", "), i = h.join(", ")
                                }
                                return bt(t, this.p, e, i, this.clrs, this.dflt, n, this.pr, r, o)
                            }, u.parse = function (t, e, i, n, o, s, a) {
                                return this.parseComplex(t.style, this.format(tt(t, this.p, r, !1, this.dflt)), this.format(e), o, s)
                            }, a.registerSpecialProp = function (t, e, i) {
                                Mt(t, {
                                    parser: function (t, n, r, o, s, a, h) {
                                        var l = new xt(t, r, 0, 0, s, 2, r, !1, i);
                                        return l.plugin = a, l.setRatio = e(t, n, o._tween, r), l
                                    }, priority: i
                                })
                            }, a.useSVGTransformAttr = !0;
                            var At, Ct = "scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),
                                Pt = K("transform"),
                                Rt = J + "transform",
                                Lt = K("transformOrigin"),
                                Ot = null !== K("perspective"),
                                It = W.Transform = function () {
                                    this.perspective = parseFloat(a.defaultTransformPerspective) || 0, this.force3D = !(a.defaultForce3D === !1 || !Ot) && (a.defaultForce3D || "auto")
                                },
                                Dt = o.SVGElement,
                                kt = function (t, e, i) {
                                    var n, r = U.createElementNS("http://www.w3.org/2000/svg", t),
                                        o = /([a-z])([A-Z])/g;
                                    for (n in i) r.setAttributeNS(null, n.replace(o, "$1-$2").toLowerCase(), i[n]);
                                    return e.appendChild(r), r
                                },
                                Nt = U.documentElement || {},
                                zt = function () {
                                    var t, e, i, n = g || /Android/i.test(q) && !o.chrome;
                                    return U.createElementNS && !n && (t = kt("svg", Nt), e = kt("rect", t, {
                                        width: 100,
                                        height: 50,
                                        x: 100
                                    }), i = e.getBoundingClientRect().width, e.style[Lt] = "50% 50%", e.style[Pt] = "scaleX(0.5)", n = i === e.getBoundingClientRect().width && !(f && Ot), Nt.removeChild(t)), n
                                }(),
                                Bt = function (t, e, i, n, r, o) {
                                    var s, h, l, u, c, p, d, f, m, g, v, _, y, x, w = t._gsTransform,
                                        b = jt(t, !0);
                                    w && (y = w.xOrigin, x = w.yOrigin), (!n || (s = n.split(" ")).length < 2) && (d = t.getBBox(), 0 === d.x && 0 === d.y && d.width + d.height === 0 && (d = {
                                        x: parseFloat(t.hasAttribute("x") ? t.getAttribute("x") : t.hasAttribute("cx") ? t.getAttribute("cx") : 0) || 0,
                                        y: parseFloat(t.hasAttribute("y") ? t.getAttribute("y") : t.hasAttribute("cy") ? t.getAttribute("cy") : 0) || 0,
                                        width: 0,
                                        height: 0
                                    }), e = ht(e).split(" "), s = [(e[0].indexOf("%") !== -1 ? parseFloat(e[0]) / 100 * d.width : parseFloat(e[0])) + d.x, (e[1].indexOf("%") !== -1 ? parseFloat(e[1]) / 100 * d.height : parseFloat(e[1])) + d.y]), i.xOrigin = u = parseFloat(s[0]), i.yOrigin = c = parseFloat(s[1]), n && b !== Gt && (p = b[0], d = b[1], f = b[2], m = b[3], g = b[4], v = b[5], _ = p * m - d * f, _ && (h = u * (m / _) + c * (-f / _) + (f * v - m * g) / _, l = u * (-d / _) + c * (p / _) - (p * v - d * g) / _, u = i.xOrigin = s[0] = h, c = i.yOrigin = s[1] = l)), w && (o && (i.xOffset = w.xOffset, i.yOffset = w.yOffset, w = i), r || r !== !1 && a.defaultSmoothOrigin !== !1 ? (h = u - y, l = c - x, w.xOffset += h * b[0] + l * b[2] - h, w.yOffset += h * b[1] + l * b[3] - l) : w.xOffset = w.yOffset = 0), o || t.setAttribute("data-svg-origin", s.join(" "))
                                },
                                Ft = function (t) {
                                    var e, i = G("svg", this.ownerSVGElement && this.ownerSVGElement.getAttribute("xmlns") || "http://www.w3.org/2000/svg"),
                                        n = this.parentNode,
                                        r = this.nextSibling,
                                        o = this.style.cssText;
                                    if (Nt.appendChild(i), i.appendChild(this), this.style.display = "block", t) try {
                                        e = this.getBBox(), this._originalGetBBox = this.getBBox, this.getBBox = Ft
                                    } catch (t) {} else this._originalGetBBox && (e = this._originalGetBBox());
                                    return r ? n.insertBefore(this, r) : n.appendChild(this), Nt.removeChild(i), this.style.cssText = o, e
                                },
                                Ht = function (t) {
                                    try {
                                        return t.getBBox()
                                    } catch (e) {
                                        return Ft.call(t, !0)
                                    }
                                },
                                Ut = function (t) {
                                    return !(!Dt || !t.getCTM || t.parentNode && !t.ownerSVGElement || !Ht(t))
                                },
                                Gt = [1, 0, 0, 1, 0, 0],
                                jt = function (t, e) {
                                    var i, n, r, o, s, a, h = t._gsTransform || new It,
                                        l = 1e5,
                                        u = t.style;
                                    if (Pt ? n = tt(t, Rt, null, !0) : t.currentStyle && (n = t.currentStyle.filter.match(I), n = n && 4 === n.length ? [n[0].substr(4), Number(n[2].substr(4)), Number(n[1].substr(4)), n[3].substr(4), h.x || 0, h.y || 0].join(",") : ""), i = !n || "none" === n || "matrix(1, 0, 0, 1, 0, 0)" === n, !Pt || !(a = !Q(t) || "none" === Q(t).display) && t.parentNode || (a && (o = u.display, u.display = "block"), t.parentNode || (s = 1, Nt.appendChild(t)), n = tt(t, Rt, null, !0), i = !n || "none" === n || "matrix(1, 0, 0, 1, 0, 0)" === n, o ? u.display = o : a && Yt(u, "display"), s && Nt.removeChild(t)), (h.svg || t.getCTM && Ut(t)) && (i && (u[Pt] + "").indexOf("matrix") !== -1 && (n = u[Pt], i = 0), r = t.getAttribute("transform"), i && r && (r = t.transform.baseVal.consolidate().matrix, n = "matrix(" + r.a + "," + r.b + "," + r.c + "," + r.d + "," + r.e + "," + r.f + ")", i = 0)), i) return Gt;
                                    for (r = (n || "").match(y) || [], St = r.length; --St > -1;) o = Number(r[St]), r[St] = (s = o - (o |= 0)) ? (s * l + (s < 0 ? -.5 : .5) | 0) / l + o : o;
                                    return e && r.length > 6 ? [r[0], r[1], r[4], r[5], r[12], r[13]] : r
                                },
                                Vt = W.getTransform = function (t, i, n, r) {
                                    if (t._gsTransform && n && !r) return t._gsTransform;
                                    var o, s, h, l, u, c, p = n ? t._gsTransform || new It : new It,
                                        d = p.scaleX < 0,
                                        f = 2e-5,
                                        m = 1e5,
                                        g = Ot ? parseFloat(tt(t, Lt, i, !1, "0 0 0").split(" ")[2]) || p.zOrigin || 0 : 0,
                                        v = parseFloat(a.defaultTransformPerspective) || 0;
                                    if (p.svg = !(!t.getCTM || !Ut(t)), p.svg && (Bt(t, tt(t, Lt, i, !1, "50% 50%") + "", p, t.getAttribute("data-svg-origin")), At = a.useSVGTransformAttr || zt), o = jt(t), o !== Gt) {
                                        if (16 === o.length) {
                                            var _, y, x, w, b, S = o[0],
                                                T = o[1],
                                                M = o[2],
                                                E = o[3],
                                                A = o[4],
                                                C = o[5],
                                                P = o[6],
                                                R = o[7],
                                                L = o[8],
                                                O = o[9],
                                                I = o[10],
                                                D = o[12],
                                                k = o[13],
                                                N = o[14],
                                                z = o[11],
                                                F = Math.atan2(P, I);
                                            p.zOrigin && (N = -p.zOrigin, D = L * N - o[12], k = O * N - o[13], N = I * N + p.zOrigin - o[14]), p.rotationX = F * B, F && (w = Math.cos(-F), b = Math.sin(-F), _ = A * w + L * b, y = C * w + O * b, x = P * w + I * b, L = A * -b + L * w, O = C * -b + O * w, I = P * -b + I * w, z = R * -b + z * w, A = _, C = y, P = x), F = Math.atan2(-M, I), p.rotationY = F * B, F && (w = Math.cos(-F), b = Math.sin(-F), _ = S * w - L * b, y = T * w - O * b, x = M * w - I * b, O = T * b + O * w, I = M * b + I * w, z = E * b + z * w, S = _, T = y, M = x), F = Math.atan2(T, S), p.rotation = F * B, F && (w = Math.cos(F), b = Math.sin(F), _ = S * w + T * b, y = A * w + C * b, x = L * w + O * b, T = T * w - S * b, C = C * w - A * b, O = O * w - L * b, S = _, A = y, L = x), p.rotationX && Math.abs(p.rotationX) + Math.abs(p.rotation) > 359.9 && (p.rotationX = p.rotation = 0, p.rotationY = 180 - p.rotationY), F = Math.atan2(A, C), p.scaleX = (Math.sqrt(S * S + T * T + M * M) * m + .5 | 0) / m, p.scaleY = (Math.sqrt(C * C + P * P) * m + .5 | 0) / m, p.scaleZ = (Math.sqrt(L * L + O * O + I * I) * m + .5 | 0) / m, S /= p.scaleX, A /= p.scaleY, T /= p.scaleX, C /= p.scaleY, Math.abs(F) > f ? (p.skewX = F * B, A = 0, "simple" !== p.skewType && (p.scaleY *= 1 / Math.cos(F))) : p.skewX = 0, p.perspective = z ? 1 / (z < 0 ? -z : z) : 0, p.x = D, p.y = k, p.z = N, p.svg && (p.x -= p.xOrigin - (p.xOrigin * S - p.yOrigin * A), p.y -= p.yOrigin - (p.yOrigin * T - p.xOrigin * C))
                                        } else if (!Ot || r || !o.length || p.x !== o[4] || p.y !== o[5] || !p.rotationX && !p.rotationY) {
                                            var H = o.length >= 6,
                                                U = H ? o[0] : 1,
                                                G = o[1] || 0,
                                                j = o[2] || 0,
                                                V = H ? o[3] : 1;
                                            p.x = o[4] || 0, p.y = o[5] || 0, h = Math.sqrt(U * U + G * G), l = Math.sqrt(V * V + j * j), u = U || G ? Math.atan2(G, U) * B : p.rotation || 0, c = j || V ? Math.atan2(j, V) * B + u : p.skewX || 0, p.scaleX = h, p.scaleY = l, p.rotation = u, p.skewX = c, Ot && (p.rotationX = p.rotationY = p.z = 0, p.perspective = v, p.scaleZ = 1), p.svg && (p.x -= p.xOrigin - (p.xOrigin * U + p.yOrigin * j), p.y -= p.yOrigin - (p.xOrigin * G + p.yOrigin * V))
                                        }
                                        Math.abs(p.skewX) > 90 && Math.abs(p.skewX) < 270 && (d ? (p.scaleX *= -1, p.skewX += p.rotation <= 0 ? 180 : -180, p.rotation += p.rotation <= 0 ? 180 : -180) : (p.scaleY *= -1, p.skewX += p.skewX <= 0 ? 180 : -180)), p.zOrigin = g;
                                        for (s in p) p[s] < f && p[s] > -f && (p[s] = 0)
                                    }
                                    return n && (t._gsTransform = p, p.svg && (At && t.style[Pt] ? e.delayedCall(.001, function () {
                                        Yt(t.style, Pt)
                                    }) : !At && t.getAttribute("transform") && e.delayedCall(.001, function () {
                                        t.removeAttribute("transform")
                                    }))), p
                                },
                                Wt = function (t) {
                                    var e, i, n = this.data,
                                        r = -n.rotation * z,
                                        o = r + n.skewX * z,
                                        s = 1e5,
                                        a = (Math.cos(r) * n.scaleX * s | 0) / s,
                                        h = (Math.sin(r) * n.scaleX * s | 0) / s,
                                        l = (Math.sin(o) * -n.scaleY * s | 0) / s,
                                        u = (Math.cos(o) * n.scaleY * s | 0) / s,
                                        c = this.t.style,
                                        p = this.t.currentStyle;
                                    if (p) {
                                        i = h, h = -l, l = -i, e = p.filter, c.filter = "";
                                        var d, f, m = this.t.offsetWidth,
                                            v = this.t.offsetHeight,
                                            _ = "absolute" !== p.position,
                                            y = "progid:DXImageTransform.Microsoft.Matrix(M11=" + a + ", M12=" + h + ", M21=" + l + ", M22=" + u,
                                            x = n.x + m * n.xPercent / 100,
                                            w = n.y + v * n.yPercent / 100;
                                        if (null != n.ox && (d = (n.oxp ? m * n.ox * .01 : n.ox) - m / 2, f = (n.oyp ? v * n.oy * .01 : n.oy) - v / 2, x += d - (d * a + f * h), w += f - (d * l + f * u)), _ ? (d = m / 2, f = v / 2, y += ", Dx=" + (d - (d * a + f * h) + x) + ", Dy=" + (f - (d * l + f * u) + w) + ")") : y += ", sizingMethod='auto expand')", e.indexOf("DXImageTransform.Microsoft.Matrix(") !== -1 ? c.filter = e.replace(D, y) : c.filter = y + " " + e, 0 !== t && 1 !== t || 1 === a && 0 === h && 0 === l && 1 === u && (_ && y.indexOf("Dx=0, Dy=0") === -1 || T.test(e) && 100 !== parseFloat(RegExp.$1) || e.indexOf(e.indexOf("Alpha")) === -1 && c.removeAttribute("filter")), !_) {
                                            var b, M, E, A = g < 8 ? 1 : -1;
                                            for (d = n.ieOffsetX || 0, f = n.ieOffsetY || 0, n.ieOffsetX = Math.round((m - ((a < 0 ? -a : a) * m + (h < 0 ? -h : h) * v)) / 2 + x), n.ieOffsetY = Math.round((v - ((u < 0 ? -u : u) * v + (l < 0 ? -l : l) * m)) / 2 + w), St = 0; St < 4; St++) M = st[St], b = p[M], i = b.indexOf("px") !== -1 ? parseFloat(b) : et(this.t, M, parseFloat(b), b.replace(S, "")) || 0, E = i !== n[M] ? St < 2 ? -n.ieOffsetX : -n.ieOffsetY : St < 2 ? d - n.ieOffsetX : f - n.ieOffsetY, c[M] = (n[M] = Math.round(i - E * (0 === St || 2 === St ? 1 : A))) + "px"
                                        }
                                    }
                                },
                                qt = W.set3DTransformRatio = W.setTransformRatio = function (t) {
                                    var e, i, n, r, o, s, a, h, l, u, c, p, d, m, g, v, _, y, x, w, b, S, T, M = this.data,
                                        E = this.t.style,
                                        A = M.rotation,
                                        C = M.rotationX,
                                        P = M.rotationY,
                                        R = M.scaleX,
                                        L = M.scaleY,
                                        O = M.scaleZ,
                                        I = M.x,
                                        D = M.y,
                                        k = M.z,
                                        N = M.svg,
                                        B = M.perspective,
                                        F = M.force3D,
                                        H = M.skewY,
                                        U = M.skewX;
                                    if (H && (U += H, A += H), ((1 === t || 0 === t) && "auto" === F && (this.tween._totalTime === this.tween._totalDuration || !this.tween._totalTime) || !F) && !k && !B && !P && !C && 1 === O || At && N || !Ot) return void(A || U || N ? (A *= z, S = U * z, T = 1e5, i = Math.cos(A) * R, o = Math.sin(A) * R, n = Math.sin(A - S) * -L, s = Math.cos(A - S) * L, S && "simple" === M.skewType && (e = Math.tan(S - H * z), e = Math.sqrt(1 + e * e), n *= e, s *= e, H && (e = Math.tan(H * z), e = Math.sqrt(1 + e * e), i *= e, o *= e)), N && (I += M.xOrigin - (M.xOrigin * i + M.yOrigin * n) + M.xOffset, D += M.yOrigin - (M.xOrigin * o + M.yOrigin * s) + M.yOffset, At && (M.xPercent || M.yPercent) && (g = this.t.getBBox(), I += .01 * M.xPercent * g.width, D += .01 * M.yPercent * g.height), g = 1e-6, I < g && I > -g && (I = 0), D < g && D > -g && (D = 0)), x = (i * T | 0) / T + "," + (o * T | 0) / T + "," + (n * T | 0) / T + "," + (s * T | 0) / T + "," + I + "," + D + ")", N && At ? this.t.setAttribute("transform", "matrix(" + x) : E[Pt] = (M.xPercent || M.yPercent ? "translate(" + M.xPercent + "%," + M.yPercent + "%) matrix(" : "matrix(") + x) : E[Pt] = (M.xPercent || M.yPercent ? "translate(" + M.xPercent + "%," + M.yPercent + "%) matrix(" : "matrix(") + R + ",0,0," + L + "," + I + "," + D + ")");
                                    if (f && (g = 1e-4, R < g && R > -g && (R = O = 2e-5), L < g && L > -g && (L = O = 2e-5), !B || M.z || M.rotationX || M.rotationY || (B = 0)), A || U) A *= z, v = i = Math.cos(A), _ = o = Math.sin(A), U && (A -= U * z, v = Math.cos(A), _ = Math.sin(A), "simple" === M.skewType && (e = Math.tan((U - H) * z), e = Math.sqrt(1 + e * e), v *= e, _ *= e, M.skewY && (e = Math.tan(H * z), e = Math.sqrt(1 + e * e), i *= e, o *= e))), n = -_, s = v;
                                    else {
                                        if (!(P || C || 1 !== O || B || N)) return void(E[Pt] = (M.xPercent || M.yPercent ? "translate(" + M.xPercent + "%," + M.yPercent + "%) translate3d(" : "translate3d(") + I + "px," + D + "px," + k + "px)" + (1 !== R || 1 !== L ? " scale(" + R + "," + L + ")" : ""));
                                        i = s = 1, n = o = 0
                                    }
                                    u = 1, r = a = h = l = c = p = 0, d = B ? -1 / B : 0, m = M.zOrigin, g = 1e-6, w = ",", b = "0", A = P * z, A && (v = Math.cos(A), _ = Math.sin(A), h = -_, c = d * -_, r = i * _, a = o * _, u = v, d *= v, i *= v, o *= v), A = C * z, A && (v = Math.cos(A), _ = Math.sin(A), e = n * v + r * _, y = s * v + a * _, l = u * _, p = d * _, r = n * -_ + r * v, a = s * -_ + a * v, u *= v, d *= v, n = e, s = y), 1 !== O && (r *= O, a *= O, u *= O, d *= O), 1 !== L && (n *= L, s *= L, l *= L, p *= L), 1 !== R && (i *= R, o *= R, h *= R, c *= R), (m || N) && (m && (I += r * -m, D += a * -m, k += u * -m + m), N && (I += M.xOrigin - (M.xOrigin * i + M.yOrigin * n) + M.xOffset, D += M.yOrigin - (M.xOrigin * o + M.yOrigin * s) + M.yOffset), I < g && I > -g && (I = b), D < g && D > -g && (D = b), k < g && k > -g && (k = 0)), x = M.xPercent || M.yPercent ? "translate(" + M.xPercent + "%," + M.yPercent + "%) matrix3d(" : "matrix3d(", x += (i < g && i > -g ? b : i) + w + (o < g && o > -g ? b : o) + w + (h < g && h > -g ? b : h), x += w + (c < g && c > -g ? b : c) + w + (n < g && n > -g ? b : n) + w + (s < g && s > -g ? b : s), C || P || 1 !== O ? (x += w + (l < g && l > -g ? b : l) + w + (p < g && p > -g ? b : p) + w + (r < g && r > -g ? b : r), x += w + (a < g && a > -g ? b : a) + w + (u < g && u > -g ? b : u) + w + (d < g && d > -g ? b : d) + w) : x += ",0,0,0,0,1,0,", x += I + w + D + w + k + w + (B ? 1 + -k / B : 1) + ")", E[Pt] = x
                                };
                            u = It.prototype, u.x = u.y = u.z = u.skewX = u.skewY = u.rotation = u.rotationX = u.rotationY = u.zOrigin = u.xPercent = u.yPercent = u.xOffset = u.yOffset = 0, u.scaleX = u.scaleY = u.scaleZ = 1, Mt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin", {
                                parser: function (t, e, i, n, o, s, h) {
                                    if (n._lastParsedTransform === h) return o;
                                    n._lastParsedTransform = h;
                                    var l, u = h.scale && "function" == typeof h.scale ? h.scale : 0;
                                    "function" == typeof h[i] && (l = h[i], h[i] = e), u && (h.scale = u(_, t));
                                    var c, p, d, f, m, g, y, x, w, b = t._gsTransform,
                                        S = t.style,
                                        T = 1e-6,
                                        M = Ct.length,
                                        E = h,
                                        A = {},
                                        C = "transformOrigin",
                                        P = Vt(t, r, !0, E.parseTransform),
                                        R = E.transform && ("function" == typeof E.transform ? E.transform(_, v) : E.transform);
                                    if (P.skewType = E.skewType || P.skewType || a.defaultSkewType, n._transform = P, R && "string" == typeof R && Pt) p = j.style, p[Pt] = R, p.display = "block", p.position = "absolute", U.body.appendChild(j), c = Vt(j, null, !1), "simple" === P.skewType && (c.scaleY *= Math.cos(c.skewX * z)), P.svg && (g = P.xOrigin, y = P.yOrigin, c.x -= P.xOffset, c.y -= P.yOffset, (E.transformOrigin || E.svgOrigin) && (R = {}, Bt(t, ht(E.transformOrigin), R, E.svgOrigin, E.smoothOrigin, !0), g = R.xOrigin, y = R.yOrigin, c.x -= R.xOffset - P.xOffset, c.y -= R.yOffset - P.yOffset), (g || y) && (x = jt(j, !0), c.x -= g - (g * x[0] + y * x[2]), c.y -= y - (g * x[1] + y * x[3]))), U.body.removeChild(j), c.perspective || (c.perspective = P.perspective), null != E.xPercent && (c.xPercent = ut(E.xPercent, P.xPercent)), null != E.yPercent && (c.yPercent = ut(E.yPercent, P.yPercent));
                                    else if ("object" == typeof E) {
                                        if (c = {
                                            scaleX: ut(null != E.scaleX ? E.scaleX : E.scale, P.scaleX),
                                            scaleY: ut(null != E.scaleY ? E.scaleY : E.scale, P.scaleY),
                                            scaleZ: ut(E.scaleZ, P.scaleZ),
                                            x: ut(E.x, P.x),
                                            y: ut(E.y, P.y),
                                            z: ut(E.z, P.z),
                                            xPercent: ut(E.xPercent, P.xPercent),
                                            yPercent: ut(E.yPercent, P.yPercent),
                                            perspective: ut(E.transformPerspective, P.perspective)
                                        }, m = E.directionalRotation, null != m)
                                            if ("object" == typeof m)
                                                for (p in m) E[p] = m[p];
                                            else E.rotation = m;
                                            "string" == typeof E.x && E.x.indexOf("%") !== -1 && (c.x = 0, c.xPercent = ut(E.x, P.xPercent)), "string" == typeof E.y && E.y.indexOf("%") !== -1 && (c.y = 0, c.yPercent = ut(E.y, P.yPercent)), c.rotation = ct("rotation" in E ? E.rotation : "shortRotation" in E ? E.shortRotation + "_short" : "rotationZ" in E ? E.rotationZ : P.rotation, P.rotation, "rotation", A), Ot && (c.rotationX = ct("rotationX" in E ? E.rotationX : "shortRotationX" in E ? E.shortRotationX + "_short" : P.rotationX || 0, P.rotationX, "rotationX", A), c.rotationY = ct("rotationY" in E ? E.rotationY : "shortRotationY" in E ? E.shortRotationY + "_short" : P.rotationY || 0, P.rotationY, "rotationY", A)), c.skewX = ct(E.skewX, P.skewX), c.skewY = ct(E.skewY, P.skewY)
                                    }
                                    for (Ot && null != E.force3D && (P.force3D = E.force3D, f = !0), d = P.force3D || P.z || P.rotationX || P.rotationY || c.z || c.rotationX || c.rotationY || c.perspective, d || null == E.scale || (c.scaleZ = 1); --M > -1;) w = Ct[M], R = c[w] - P[w], (R > T || R < -T || null != E[w] || null != F[w]) && (f = !0, o = new xt(P, w, P[w], R, o), w in A && (o.e = A[w]), o.xs0 = 0, o.plugin = s, n._overwriteProps.push(o.n));
                                    return R = E.transformOrigin, P.svg && (R || E.svgOrigin) && (g = P.xOffset, y = P.yOffset, Bt(t, ht(R), c, E.svgOrigin, E.smoothOrigin), o = wt(P, "xOrigin", (b ? P : c).xOrigin, c.xOrigin, o, C), o = wt(P, "yOrigin", (b ? P : c).yOrigin, c.yOrigin, o, C), g === P.xOffset && y === P.yOffset || (o = wt(P, "xOffset", b ? g : P.xOffset, P.xOffset, o, C), o = wt(P, "yOffset", b ? y : P.yOffset, P.yOffset, o, C)), R = "0px 0px"), (R || Ot && d && P.zOrigin) && (Pt ? (f = !0, w = Lt, R = (R || tt(t, w, r, !1, "50% 50%")) + "", o = new xt(S, w, 0, 0, o, -1, C), o.b = S[w], o.plugin = s, Ot ? (p = P.zOrigin, R = R.split(" "), P.zOrigin = (R.length > 2 && (0 === p || "0px" !== R[2]) ? parseFloat(R[2]) : p) || 0, o.xs0 = o.e = R[0] + " " + (R[1] || "50%") + " 0px", o = new xt(P, "zOrigin", 0, 0, o, -1, o.n), o.b = p, o.xs0 = o.e = P.zOrigin) : o.xs0 = o.e = R) : ht(R + "", P)), f && (n._transformType = P.svg && At || !d && 3 !== this._transformType ? 2 : 3), l && (h[i] = l), u && (h.scale = u), o
                                }, prefix: !0
                            }), Mt("boxShadow", {
                                defaultValue: "0px 0px 0px 0px #999",
                                prefix: !0,
                                color: !0,
                                multi: !0,
                                keyword: "inset"
                            }), Mt("borderRadius", {
                                defaultValue: "0px",
                                parser: function (t, e, i, o, s, a) {
                                    e = this.format(e);
                                    var h, l, u, c, p, d, f, m, g, v, _, y, x, w, b, S, T = ["borderTopLeftRadius", "borderTopRightRadius", "borderBottomRightRadius", "borderBottomLeftRadius"],
                                        M = t.style;
                                    for (g = parseFloat(t.offsetWidth), v = parseFloat(t.offsetHeight), h = e.split(" "), l = 0; l < T.length; l++) this.p.indexOf("border") && (T[l] = K(T[l])), p = c = tt(t, T[l], r, !1, "0px"), p.indexOf(" ") !== -1 && (c = p.split(" "), p = c[0], c = c[1]), d = u = h[l], f = parseFloat(p), y = p.substr((f + "").length), x = "=" === d.charAt(1), x ? (m = parseInt(d.charAt(0) + "1", 10), d = d.substr(2), m *= parseFloat(d), _ = d.substr((m + "").length - (m < 0 ? 1 : 0)) || "") : (m = parseFloat(d), _ = d.substr((m + "").length)), "" === _ && (_ = n[i] || y), _ !== y && (w = et(t, "borderLeft", f, y), b = et(t, "borderTop", f, y), "%" === _ ? (p = w / g * 100 + "%", c = b / v * 100 + "%") : "em" === _ ? (S = et(t, "borderLeft", 1, "em"), p = w / S + "em", c = b / S + "em") : (p = w + "px", c = b + "px"), x && (d = parseFloat(p) + m + _, u = parseFloat(c) + m + _)), s = bt(M, T[l], p + " " + c, d + " " + u, !1, "0px", s);
                                    return s
                                }, prefix: !0,
                                formatter: vt("0px 0px 0px 0px", !1, !0)
                            }), Mt("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius", {
                                defaultValue: "0px",
                                parser: function (t, e, i, n, o, s) {
                                    return bt(t.style, i, this.format(tt(t, i, r, !1, "0px 0px")), this.format(e), !1, "0px", o)
                                }, prefix: !0,
                                formatter: vt("0px 0px", !1, !0)
                            }), Mt("backgroundPosition", {
                                defaultValue: "0 0",
                                parser: function (t, e, i, n, o, s) {
                                    var a, h, l, u, c, p, d = "background-position",
                                        f = r || Q(t, null),
                                        m = this.format((f ? g ? f.getPropertyValue(d + "-x") + " " + f.getPropertyValue(d + "-y") : f.getPropertyValue(d) : t.currentStyle.backgroundPositionX + " " + t.currentStyle.backgroundPositionY) || "0 0"),
                                        v = this.format(e);
                                    if (m.indexOf("%") !== -1 != (v.indexOf("%") !== -1) && v.split(",").length < 2 && (p = tt(t, "backgroundImage").replace(R, ""), p && "none" !== p)) {
                                        for (a = m.split(" "), h = v.split(" "), V.setAttribute("src", p), l = 2; --l > -1;) m = a[l], u = m.indexOf("%") !== -1, u !== (h[l].indexOf("%") !== -1) && (c = 0 === l ? t.offsetWidth - V.width : t.offsetHeight - V.height, a[l] = u ? parseFloat(m) / 100 * c + "px" : parseFloat(m) / c * 100 + "%");
                                        m = a.join(" ")
                                    }
                                    return this.parseComplex(t.style, m, v, o, s)
                                }, formatter: ht
                            }), Mt("backgroundSize", {
                                defaultValue: "0 0",
                                formatter: function (t) {
                                    return t += "", ht(t.indexOf(" ") === -1 ? t + " " + t : t)
                                }
                            }), Mt("perspective", {
                                defaultValue: "0px",
                                prefix: !0
                            }), Mt("perspectiveOrigin", {
                                defaultValue: "50% 50%",
                                prefix: !0
                            }), Mt("transformStyle", {
                                prefix: !0
                            }), Mt("backfaceVisibility", {
                                prefix: !0
                            }), Mt("userSelect", {
                                prefix: !0
                            }), Mt("margin", {
                                parser: _t("marginTop,marginRight,marginBottom,marginLeft")
                            }), Mt("padding", {
                                parser: _t("paddingTop,paddingRight,paddingBottom,paddingLeft")
                            }), Mt("clip", {
                                defaultValue: "rect(0px,0px,0px,0px)",
                                parser: function (t, e, i, n, o, s) {
                                    var a, h, l;
                                    return g < 9 ? (h = t.currentStyle, l = g < 8 ? " " : ",", a = "rect(" + h.clipTop + l + h.clipRight + l + h.clipBottom + l + h.clipLeft + ")", e = this.format(e).split(",").join(l)) : (a = this.format(tt(t, this.p, r, !1, this.dflt)), e = this.format(e)), this.parseComplex(t.style, a, e, o, s)
                                }
                            }), Mt("textShadow", {
                                defaultValue: "0px 0px 0px #999",
                                color: !0,
                                multi: !0
                            }), Mt("autoRound,strictUnits", {
                                parser: function (t, e, i, n, r) {
                                    return r
                                }
                            }), Mt("border", {
                                defaultValue: "0px solid #000",
                                parser: function (t, e, i, n, o, s) {
                                    var a = tt(t, "borderTopWidth", r, !1, "0px"),
                                        h = this.format(e).split(" "),
                                        l = h[0].replace(S, "");
                                    return "px" !== l && (a = parseFloat(a) / et(t, "borderTopWidth", 1, l) + l), this.parseComplex(t.style, this.format(a + " " + tt(t, "borderTopStyle", r, !1, "solid") + " " + tt(t, "borderTopColor", r, !1, "#000")), h.join(" "), o, s)
                                }, color: !0,
                                formatter: function (t) {
                                    var e = t.split(" ");
                                    return e[0] + " " + (e[1] || "solid") + " " + (t.match(gt) || ["#000"])[0]
                                }
                            }), Mt("borderWidth", {
                                parser: _t("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")
                            }), Mt("float,cssFloat,styleFloat", {
                                parser: function (t, e, i, n, r, o) {
                                    var s = t.style,
                                        a = "cssFloat" in s ? "cssFloat" : "styleFloat";
                                    return new xt(s, a, 0, 0, r, -1, i, !1, 0, s[a], e)
                                }
                            });
                            var Xt = function (t) {
                                var e, i = this.t,
                                    n = i.filter || tt(this.data, "filter") || "",
                                    r = this.s + this.c * t | 0;
                                100 === r && (n.indexOf("atrix(") === -1 && n.indexOf("radient(") === -1 && n.indexOf("oader(") === -1 ? (i.removeAttribute("filter"), e = !tt(this.data, "filter")) : (i.filter = n.replace(E, ""), e = !0)), e || (this.xn1 && (i.filter = n = n || "alpha(opacity=" + r + ")"), n.indexOf("pacity") === -1 ? 0 === r && this.xn1 || (i.filter = n + " alpha(opacity=" + r + ")") : i.filter = n.replace(T, "opacity=" + r))
                            };
                            Mt("opacity,alpha,autoAlpha", {
                                defaultValue: "1",
                                parser: function (t, e, i, n, o, s) {
                                    var a = parseFloat(tt(t, "opacity", r, !1, "1")),
                                        h = t.style,
                                        l = "autoAlpha" === i;
                                    return "string" == typeof e && "=" === e.charAt(1) && (e = ("-" === e.charAt(0) ? -1 : 1) * parseFloat(e.substr(2)) + a), l && 1 === a && "hidden" === tt(t, "visibility", r) && 0 !== e && (a = 0), X ? o = new xt(h, "opacity", a, e - a, o) : (o = new xt(h, "opacity", 100 * a, 100 * (e - a), o), o.xn1 = l ? 1 : 0, h.zoom = 1, o.type = 2, o.b = "alpha(opacity=" + o.s + ")", o.e = "alpha(opacity=" + (o.s + o.c) + ")", o.data = t, o.plugin = s, o.setRatio = Xt), l && (o = new xt(h, "visibility", 0, 0, o, -1, null, !1, 0, 0 !== a ? "inherit" : "hidden", 0 === e ? "hidden" : "inherit"), o.xs0 = "inherit", n._overwriteProps.push(o.n), n._overwriteProps.push(i)), o
                                }
                            });
                            var Yt = function (t, e) {
                                    e && (t.removeProperty ? ("ms" !== e.substr(0, 2) && "webkit" !== e.substr(0, 6) || (e = "-" + e), t.removeProperty(e.replace(C, "-$1").toLowerCase())) : t.removeAttribute(e))
                                },
                                Zt = function (t) {
                                    if (this.t._gsClassPT = this, 1 === t || 0 === t) {
                                        this.t.setAttribute("class", 0 === t ? this.b : this.e);
                                        for (var e = this.data, i = this.t.style; e;) e.v ? i[e.p] = e.v : Yt(i, e.p), e = e._next;
                                        1 === t && this.t._gsClassPT === this && (this.t._gsClassPT = null)
                                    } else this.t.getAttribute("class") !== this.e && this.t.setAttribute("class", this.e)
                                };
                            Mt("className", {
                                parser: function (t, e, n, o, s, a, h) {
                                    var l, u, c, p, d, f = t.getAttribute("class") || "",
                                        m = t.style.cssText;
                                    if (s = o._classNamePT = new xt(t, n, 0, 0, s, 2), s.setRatio = Zt, s.pr = -11, i = !0, s.b = f, u = nt(t, r), c = t._gsClassPT) {
                                        for (p = {}, d = c.data; d;) p[d.p] = 1, d = d._next;
                                        c.setRatio(1)
                                    }
                                    return t._gsClassPT = s, s.e = "=" !== e.charAt(1) ? e : f.replace(new RegExp("(?:\\s|^)" + e.substr(2) + "(?![\\w-])"), "") + ("+" === e.charAt(0) ? " " + e.substr(2) : ""), t.setAttribute("class", s.e), l = rt(t, u, nt(t), h, p), t.setAttribute("class", f), s.data = l.firstMPT, t.style.cssText = m, s = s.xfirst = o.parse(t, l.difs, s, a)
                                }
                            });
                            var Jt = function (t) {
                                if ((1 === t || 0 === t) && this.data._totalTime === this.data._totalDuration && "isFromStart" !== this.data.data) {
                                    var e, i, n, r, o, s = this.t.style,
                                        a = l.transform.parse;
                                    if ("all" === this.e) s.cssText = "", r = !0;
                                    else
                                        for (e = this.e.split(" ").join("").split(","), n = e.length; --n > -1;) i = e[n], l[i] && (l[i].parse === a ? r = !0 : i = "transformOrigin" === i ? Lt : l[i].p), Yt(s, i);
                                    r && (Yt(s, Pt), o = this.t._gsTransform, o && (o.svg && (this.t.removeAttribute("data-svg-origin"), this.t.removeAttribute("transform")), delete this.t._gsTransform))
                                }
                            };
                            for (Mt("clearProps", {
                                parser: function (t, e, n, r, o) {
                                    return o = new xt(t, n, 0, 0, o, 2), o.setRatio = Jt, o.e = e, o.pr = -10, o.data = r._tween, i = !0, o
                                }
                            }), u = "bezier,throwProps,physicsProps,physics2D".split(","), St = u.length; St--;) Et(u[St]);
                            u = a.prototype, u._firstPT = u._lastParsedTransform = u._transform = null, u._onInitTween = function (t, e, o, h) {
                                if (!t.nodeType) return !1;
                                this._target = v = t, this._tween = o, this._vars = e, _ = h, c = e.autoRound, i = !1, n = e.suffixMap || a.suffixMap, r = Q(t, ""), s = this._overwriteProps;
                                var u, f, g, y, x, w, b, S, T, E = t.style;
                                if (p && "" === E.zIndex && (u = tt(t, "zIndex", r), "auto" !== u && "" !== u || this._addLazySet(E, "zIndex", 0)), "string" == typeof e && (y = E.cssText, u = nt(t, r), E.cssText = y + ";" + e, u = rt(t, u, nt(t)).difs, !X && M.test(e) && (u.opacity = parseFloat(RegExp.$1)), e = u, E.cssText = y), e.className ? this._firstPT = f = l.className.parse(t, e.className, "className", this, null, null, e) : this._firstPT = f = this.parse(t, e, null), this._transformType) {
                                    for (T = 3 === this._transformType, Pt ? d && (p = !0, "" === E.zIndex && (b = tt(t, "zIndex", r), "auto" !== b && "" !== b || this._addLazySet(E, "zIndex", 0)), m && this._addLazySet(E, "WebkitBackfaceVisibility", this._vars.WebkitBackfaceVisibility || (T ? "visible" : "hidden"))) : E.zoom = 1, g = f; g && g._next;) g = g._next;
                                    S = new xt(t, "transform", 0, 0, null, 2), this._linkCSSP(S, null, g), S.setRatio = Pt ? qt : Wt, S.data = this._transform || Vt(t, r, !0), S.tween = o, S.pr = -1, s.pop()
                                }
                                if (i) {
                                    for (; f;) {
                                        for (w = f._next, g = y; g && g.pr > f.pr;) g = g._next;
                                        (f._prev = g ? g._prev : x) ? f._prev._next = f: y = f, (f._next = g) ? g._prev = f : x = f, f = w
                                    }
                                    this._firstPT = y
                                }
                                return !0
                            }, u.parse = function (t, e, i, o) {
                                var s, a, h, u, p, d, f, m, g, y, x = t.style;
                                for (s in e) {
                                    if (d = e[s], "function" == typeof d && (d = d(_, v)), a = l[s]) i = a.parse(t, d, s, this, i, o, e);
                                    else {
                                        if ("--" === s.substr(0, 2)) {
                                            this._tween._propLookup[s] = this._addTween.call(this._tween, t.style, "setProperty", Q(t).getPropertyValue(s) + "", d + "", s, !1, s);
                                            continue
                                        }
                                        p = tt(t, s, r) + "", g = "string" == typeof d, "color" === s || "fill" === s || "stroke" === s || s.indexOf("Color") !== -1 || g && A.test(d) ? (g || (d = ft(d), d = (d.length > 3 ? "rgba(" : "rgb(") + d.join(",") + ")"), i = bt(x, s, p, d, !0, "transparent", i, 0, o)) : g && N.test(d) ? i = bt(x, s, p, d, !0, null, i, 0, o) : (h = parseFloat(p), f = h || 0 === h ? p.substr((h + "").length) : "", "" !== p && "auto" !== p || ("width" === s || "height" === s ? (h = at(t, s, r), f = "px") : "left" === s || "top" === s ? (h = it(t, s, r), f = "px") : (h = "opacity" !== s ? 0 : 1, f = "")), y = g && "=" === d.charAt(1), y ? (u = parseInt(d.charAt(0) + "1", 10), d = d.substr(2), u *= parseFloat(d), m = d.replace(S, "")) : (u = parseFloat(d), m = g ? d.replace(S, "") : ""), "" === m && (m = s in n ? n[s] : f), d = u || 0 === u ? (y ? u + h : u) + m : e[s], f !== m && ("" === m && "lineHeight" !== s || (u || 0 === u) && h && (h = et(t, s, h, f), "%" === m ? (h /= et(t, s, 100, "%") / 100, e.strictUnits !== !0 && (p = h + "%")) : "em" === m || "rem" === m || "vw" === m || "vh" === m ? h /= et(t, s, 1, m) : "px" !== m && (u = et(t, s, u, m), m = "px"), y && (u || 0 === u) && (d = u + h + m))), y && (u += h), !h && 0 !== h || !u && 0 !== u ? void 0 !== x[s] && (d || d + "" != "NaN" && null != d) ? (i = new xt(x, s, u || h || 0, 0, i, -1, s, !1, 0, p, d), i.xs0 = "none" !== d || "display" !== s && s.indexOf("Style") === -1 ? d : p) : Z("invalid " + s + " tween value: " + e[s]) : (i = new xt(x, s, h, u - h, i, 0, s, c !== !1 && ("px" === m || "zIndex" === s), 0, p, d), i.xs0 = m))
                                    }
                                    o && i && !i.plugin && (i.plugin = o)
                                }
                                return i
                            }, u.setRatio = function (t) {
                                var e, i, n, r = this._firstPT,
                                    o = 1e-6;
                                if (1 !== t || this._tween._time !== this._tween._duration && 0 !== this._tween._time)
                                    if (t || this._tween._time !== this._tween._duration && 0 !== this._tween._time || this._tween._rawPrevTime === -1e-6)
                                        for (; r;) {
                                            if (e = r.c * t + r.s, r.r ? e = Math.round(e) : e < o && e > -o && (e = 0), r.type)
                                                if (1 === r.type)
                                                    if (n = r.l, 2 === n) r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2;
                                                    else if (3 === n) r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2 + r.xn2 + r.xs3;
                                            else if (4 === n) r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2 + r.xn2 + r.xs3 + r.xn3 + r.xs4;
                                            else if (5 === n) r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2 + r.xn2 + r.xs3 + r.xn3 + r.xs4 + r.xn4 + r.xs5;
                                            else {
                                                for (i = r.xs0 + e + r.xs1, n = 1; n < r.l; n++) i += r["xn" + n] + r["xs" + (n + 1)];
                                                r.t[r.p] = i
                                            } else r.type === -1 ? r.t[r.p] = r.xs0 : r.setRatio && r.setRatio(t);
                                            else r.t[r.p] = e + r.xs0;
                                            r = r._next
                                        } else
                                            for (; r;) 2 !== r.type ? r.t[r.p] = r.b : r.setRatio(t), r = r._next;
                                    else
                                        for (; r;) {
                                            if (2 !== r.type)
                                                if (r.r && r.type !== -1)
                                                    if (e = Math.round(r.s + r.c), r.type) {
                                                        if (1 === r.type) {
                                                            for (n = r.l, i = r.xs0 + e + r.xs1, n = 1; n < r.l; n++) i += r["xn" + n] + r["xs" + (n + 1)];
                                                            r.t[r.p] = i
                                                        }
                                                    } else r.t[r.p] = e + r.xs0;
                                            else r.t[r.p] = r.e;
                                            else r.setRatio(t);
                                            r = r._next
                                        }
                            }, u._enableTransforms = function (t) {
                                this._transform = this._transform || Vt(this._target, r, !0), this._transformType = this._transform.svg && At || !t && 3 !== this._transformType ? 2 : 3
                            };
                            var $t = function (t) {
                                this.t[this.p] = this.e, this.data._linkCSSP(this, this._next, null, !0)
                            };
                            u._addLazySet = function (t, e, i) {
                                var n = this._firstPT = new xt(t, e, 0, 0, this._firstPT, 2);
                                n.e = i, n.setRatio = $t, n.data = this
                            }, u._linkCSSP = function (t, e, i, n) {
                                return t && (e && (e._prev = t), t._next && (t._next._prev = t._prev), t._prev ? t._prev._next = t._next : this._firstPT === t && (this._firstPT = t._next, n = !0), i ? i._next = t : n || null !== this._firstPT || (this._firstPT = t), t._next = e, t._prev = i), t
                            }, u._mod = function (t) {
                                for (var e = this._firstPT; e;) "function" == typeof t[e.p] && t[e.p] === Math.round && (e.r = 1), e = e._next
                            }, u._kill = function (e) {
                                var i, n, r, o = e;
                                if (e.autoAlpha || e.alpha) {
                                    o = {};
                                    for (n in e) o[n] = e[n];
                                    o.opacity = 1, o.autoAlpha && (o.visibility = 1)
                                }
                                for (e.className && (i = this._classNamePT) && (r = i.xfirst, r && r._prev ? this._linkCSSP(r._prev, i._next, r._prev._prev) : r === this._firstPT && (this._firstPT = i._next), i._next && this._linkCSSP(i._next, i._next._next, r._prev), this._classNamePT = null), i = this._firstPT; i;) i.plugin && i.plugin !== n && i.plugin._kill && (i.plugin._kill(e), n = i.plugin), i = i._next;
                                return t.prototype._kill.call(this, o)
                            };
                            var Kt = function (t, e, i) {
                                var n, r, o, s;
                                if (t.slice)
                                    for (r = t.length; --r > -1;) Kt(t[r], e, i);
                                else
                                    for (n = t.childNodes, r = n.length; --r > -1;) o = n[r], s = o.type, o.style && (e.push(nt(o)), i && i.push(o)), 1 !== s && 9 !== s && 11 !== s || !o.childNodes.length || Kt(o, e, i)
                            };
                            return a.cascadeTo = function (t, i, n) {
                                var r, o, s, a, h = e.to(t, i, n),
                                    l = [h],
                                    u = [],
                                    c = [],
                                    p = [],
                                    d = e._internals.reservedProps;
                                for (t = h._targets || h.target, Kt(t, u, p), h.render(i, !0, !0), Kt(t, c), h.render(0, !0, !0), h._enabled(!0), r = p.length; --r > -1;)
                                    if (o = rt(p[r], u[r], c[r]), o.firstMPT) {
                                        o = o.difs;
                                        for (s in n) d[s] && (o[s] = n[s]);
                                        a = {};
                                        for (s in o) a[s] = u[r][s];
                                        l.push(e.fromTo(p[r], i, a, o))
                                    }
                                return l
                            }, t.activate([a]), a
                        }, !0),
                        function () {
                            var t = o._gsDefine.plugin({
                                    propName: "roundProps",
                                    version: "1.6.0",
                                    priority: -1,
                                    API: 2,
                                    init: function (t, e, i) {
                                        return this._tween = i, !0
                                    }
                                }),
                                e = function (t) {
                                    for (; t;) t.f || t.blob || (t.m = Math.round), t = t._next
                                },
                                i = t.prototype;
                            i._onInitAllProps = function () {
                                for (var t, i, n, r = this._tween, o = r.vars.roundProps.join ? r.vars.roundProps : r.vars.roundProps.split(","), s = o.length, a = {}, h = r._propLookup.roundProps; --s > -1;) a[o[s]] = Math.round;
                                for (s = o.length; --s > -1;)
                                    for (t = o[s], i = r._firstPT; i;) n = i._next, i.pg ? i.t._mod(a) : i.n === t && (2 === i.f && i.t ? e(i.t._firstPT) : (this._add(i.t, t, i.s, i.c), n && (n._prev = i._prev), i._prev ? i._prev._next = n : r._firstPT === i && (r._firstPT = n), i._next = i._prev = null, r._propLookup[t] = h)), i = n;
                                return !1
                            }, i._add = function (t, e, i, n) {
                                this._addTween(t, e, i, i + n, e, Math.round), this._overwriteProps.push(e)
                            }
                        }(),
                        function () {
                            o._gsDefine.plugin({
                                propName: "attr",
                                API: 2,
                                version: "0.6.1",
                                init: function (t, e, i, n) {
                                    var r, o;
                                    if ("function" != typeof t.setAttribute) return !1;
                                    for (r in e) o = e[r], "function" == typeof o && (o = o(n, t)), this._addTween(t, "setAttribute", t.getAttribute(r) + "", o + "", r, !1, r), this._overwriteProps.push(r);
                                    return !0
                                }
                            })
                        }(), o._gsDefine.plugin({
                            propName: "directionalRotation",
                            version: "0.3.1",
                            API: 2,
                            init: function (t, e, i, n) {
                                "object" != typeof e && (e = {
                                    rotation: e
                                }), this.finals = {};
                                var r, o, s, a, h, l, u = e.useRadians === !0 ? 2 * Math.PI : 360,
                                    c = 1e-6;
                                for (r in e) "useRadians" !== r && (a = e[r], "function" == typeof a && (a = a(n, t)), l = (a + "").split("_"), o = l[0], s = parseFloat("function" != typeof t[r] ? t[r] : t[r.indexOf("set") || "function" != typeof t["get" + r.substr(3)] ? r : "get" + r.substr(3)]()), a = this.finals[r] = "string" == typeof o && "=" === o.charAt(1) ? s + parseInt(o.charAt(0) + "1", 10) * Number(o.substr(2)) : Number(o) || 0, h = a - s, l.length && (o = l.join("_"), o.indexOf("short") !== -1 && (h %= u, h !== h % (u / 2) && (h = h < 0 ? h + u : h - u)), o.indexOf("_cw") !== -1 && h < 0 ? h = (h + 9999999999 * u) % u - (h / u | 0) * u : o.indexOf("ccw") !== -1 && h > 0 && (h = (h - 9999999999 * u) % u - (h / u | 0) * u)), (h > c || h < -c) && (this._addTween(t, r, s, s + h, r), this._overwriteProps.push(r)));
                                return !0
                            }, set: function (t) {
                                var e;
                                if (1 !== t) this._super.setRatio.call(this, t);
                                else
                                    for (e = this._firstPT; e;) e.f ? e.t[e.p](this.finals[e.p]) : e.t[e.p] = this.finals[e.p], e = e._next
                            }
                        })._autoCSS = !0, o._gsDefine("easing.Back", ["easing.Ease"], function (t) {
                            var e, i, n, r, s = o.GreenSockGlobals || o,
                                a = s.com.greensock,
                                h = 2 * Math.PI,
                                l = Math.PI / 2,
                                u = a._class,
                                c = function (e, i) {
                                    var n = u("easing." + e, function () {}, !0),
                                        r = n.prototype = new t;
                                    return r.constructor = n, r.getRatio = i, n
                                },
                                p = t.register || function () {},
                                d = function (t, e, i, n, r) {
                                    var o = u("easing." + t, {
                                        easeOut: new e,
                                        easeIn: new i,
                                        easeInOut: new n
                                    }, !0);
                                    return p(o, t), o
                                },
                                f = function (t, e, i) {
                                    this.t = t, this.v = e, i && (this.next = i, i.prev = this, this.c = i.v - e, this.gap = i.t - t)
                                },
                                m = function (e, i) {
                                    var n = u("easing." + e, function (t) {
                                            this._p1 = t || 0 === t ? t : 1.70158, this._p2 = 1.525 * this._p1
                                        }, !0),
                                        r = n.prototype = new t;
                                    return r.constructor = n, r.getRatio = i, r.config = function (t) {
                                        return new n(t)
                                    }, n
                                },
                                g = d("Back", m("BackOut", function (t) {
                                    return (t -= 1) * t * ((this._p1 + 1) * t + this._p1) + 1
                                }), m("BackIn", function (t) {
                                    return t * t * ((this._p1 + 1) * t - this._p1)
                                }), m("BackInOut", function (t) {
                                    return (t *= 2) < 1 ? .5 * t * t * ((this._p2 + 1) * t - this._p2) : .5 * ((t -= 2) * t * ((this._p2 + 1) * t + this._p2) + 2)
                                })),
                                v = u("easing.SlowMo", function (t, e, i) {
                                    e = e || 0 === e ? e : .7, null == t ? t = .7 : t > 1 && (t = 1), this._p = 1 !== t ? e : 0, this._p1 = (1 - t) / 2, this._p2 = t, this._p3 = this._p1 + this._p2, this._calcEnd = i === !0
                                }, !0),
                                _ = v.prototype = new t;
                            return _.constructor = v, _.getRatio = function (t) {
                                var e = t + (.5 - t) * this._p;
                                return t < this._p1 ? this._calcEnd ? 1 - (t = 1 - t / this._p1) * t : e - (t = 1 - t / this._p1) * t * t * t * e : t > this._p3 ? this._calcEnd ? 1 === t ? 0 : 1 - (t = (t - this._p3) / this._p1) * t : e + (t - e) * (t = (t - this._p3) / this._p1) * t * t * t : this._calcEnd ? 1 : e
                            }, v.ease = new v(.7, .7), _.config = v.config = function (t, e, i) {
                                return new v(t, e, i)
                            }, e = u("easing.SteppedEase", function (t, e) {
                                t = t || 1, this._p1 = 1 / t, this._p2 = t + (e ? 0 : 1), this._p3 = e ? 1 : 0
                            }, !0), _ = e.prototype = new t, _.constructor = e, _.getRatio = function (t) {
                                return t < 0 ? t = 0 : t >= 1 && (t = .999999999), ((this._p2 * t | 0) + this._p3) * this._p1
                            }, _.config = e.config = function (t, i) {
                                return new e(t, i)
                            }, i = u("easing.ExpoScaleEase", function (t, e, i) {
                                this._p1 = Math.log(e / t), this._p2 = e - t, this._p3 = t, this._ease = i
                            }, !0), _ = i.prototype = new t, _.constructor = i, _.getRatio = function (t) {
                                return this._ease && (t = this._ease.getRatio(t)), (this._p3 * Math.exp(this._p1 * t) - this._p3) / this._p2
                            }, _.config = i.config = function (t, e, n) {
                                return new i(t, e, n)
                            }, n = u("easing.RoughEase", function (e) {
                                e = e || {};
                                for (var i, n, r, o, s, a, h = e.taper || "none", l = [], u = 0, c = 0 | (e.points || 20), p = c, d = e.randomize !== !1, m = e.clamp === !0, g = e.template instanceof t ? e.template : null, v = "number" == typeof e.strength ? .4 * e.strength : .4; --p > -1;) i = d ? Math.random() : 1 / c * p, n = g ? g.getRatio(i) : i, "none" === h ? r = v : "out" === h ? (o = 1 - i, r = o * o * v) : "in" === h ? r = i * i * v : i < .5 ? (o = 2 * i, r = o * o * .5 * v) : (o = 2 * (1 - i), r = o * o * .5 * v), d ? n += Math.random() * r - .5 * r : p % 2 ? n += .5 * r : n -= .5 * r, m && (n > 1 ? n = 1 : n < 0 && (n = 0)), l[u++] = {
                                    x: i,
                                    y: n
                                };
                                for (l.sort(function (t, e) {
                                    return t.x - e.x
                                }), a = new f(1, 1, null), p = c; --p > -1;) s = l[p], a = new f(s.x, s.y, a);
                                this._prev = new f(0, 0, 0 !== a.t ? a : a.next)
                            }, !0), _ = n.prototype = new t, _.constructor = n, _.getRatio = function (t) {
                                var e = this._prev;
                                if (t > e.t) {
                                    for (; e.next && t >= e.t;) e = e.next;
                                    e = e.prev
                                } else
                                    for (; e.prev && t <= e.t;) e = e.prev;
                                return this._prev = e, e.v + (t - e.t) / e.gap * e.c
                            }, _.config = function (t) {
                                return new n(t)
                            }, n.ease = new n, d("Bounce", c("BounceOut", function (t) {
                                return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375
                            }), c("BounceIn", function (t) {
                                return (t = 1 - t) < 1 / 2.75 ? 1 - 7.5625 * t * t : t < 2 / 2.75 ? 1 - (7.5625 * (t -= 1.5 / 2.75) * t + .75) : t < 2.5 / 2.75 ? 1 - (7.5625 * (t -= 2.25 / 2.75) * t + .9375) : 1 - (7.5625 * (t -= 2.625 / 2.75) * t + .984375)
                            }), c("BounceInOut", function (t) {
                                var e = t < .5;
                                return t = e ? 1 - 2 * t : 2 * t - 1, t < 1 / 2.75 ? t *= 7.5625 * t : t = t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375, e ? .5 * (1 - t) : .5 * t + .5
                            })), d("Circ", c("CircOut", function (t) {
                                return Math.sqrt(1 - (t -= 1) * t)
                            }), c("CircIn", function (t) {
                                return -(Math.sqrt(1 - t * t) - 1)
                            }), c("CircInOut", function (t) {
                                return (t *= 2) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1)
                            })), r = function (e, i, n) {
                                var r = u("easing." + e, function (t, e) {
                                        this._p1 = t >= 1 ? t : 1, this._p2 = (e || n) / (t < 1 ? t : 1), this._p3 = this._p2 / h * (Math.asin(1 / this._p1) || 0), this._p2 = h / this._p2
                                    }, !0),
                                    o = r.prototype = new t;
                                return o.constructor = r, o.getRatio = i, o.config = function (t, e) {
                                    return new r(t, e)
                                }, r
                            }, d("Elastic", r("ElasticOut", function (t) {
                                return this._p1 * Math.pow(2, -10 * t) * Math.sin((t - this._p3) * this._p2) + 1
                            }, .3), r("ElasticIn", function (t) {
                                return -(this._p1 * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - this._p3) * this._p2))
                            }, .3), r("ElasticInOut", function (t) {
                                return (t *= 2) < 1 ? -.5 * (this._p1 * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - this._p3) * this._p2)) : this._p1 * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - this._p3) * this._p2) * .5 + 1
                            }, .45)), d("Expo", c("ExpoOut", function (t) {
                                return 1 - Math.pow(2, -10 * t)
                            }), c("ExpoIn", function (t) {
                                return Math.pow(2, 10 * (t - 1)) - .001
                            }), c("ExpoInOut", function (t) {
                                return (t *= 2) < 1 ? .5 * Math.pow(2, 10 * (t - 1)) : .5 * (2 - Math.pow(2, -10 * (t - 1)))
                            })), d("Sine", c("SineOut", function (t) {
                                return Math.sin(t * l)
                            }), c("SineIn", function (t) {
                                return -Math.cos(t * l) + 1
                            }), c("SineInOut", function (t) {
                                return -.5 * (Math.cos(Math.PI * t) - 1)
                            })), u("easing.EaseLookup", {
                                find: function (e) {
                                    return t.map[e]
                                }
                            }, !0), p(s.SlowMo, "SlowMo", "ease,"), p(n, "RoughEase", "ease,"), p(e, "SteppedEase", "ease,"), g
                        }, !0)
                }), o._gsDefine && o._gsQueue.pop()(),
                function (i, o) {
                    "use strict";
                    var s = {},
                        a = i.document,
                        h = i.GreenSockGlobals = i.GreenSockGlobals || i;
                    if (!h.TweenLite) {
                        var l, u, c, p, d, f = function (t) {
                                var e, i = t.split("."),
                                    n = h;
                                for (e = 0; e < i.length; e++) n[i[e]] = n = n[i[e]] || {};
                                return n
                            },
                            m = f("com.greensock"),
                            g = 1e-10,
                            v = function (t) {
                                var e, i = [],
                                    n = t.length;
                                for (e = 0; e !== n; i.push(t[e++]));
                                return i
                            },
                            _ = function () {},
                            y = function () {
                                var t = Object.prototype.toString,
                                    e = t.call([]);
                                return function (i) {
                                    return null != i && (i instanceof Array || "object" == typeof i && !!i.push && t.call(i) === e)
                                }
                            }(),
                            x = {},
                            w = function (i, a, l, u) {
                                this.sc = x[i] ? x[i].sc : [], x[i] = this, this.gsClass = null, this.func = l;
                                var c = [];
                                this.check = function (p) {
                                    for (var d, m, g, v, _ = a.length, y = _; --_ > -1;)(d = x[a[_]] || new w(a[_], [])).gsClass ? (c[_] = d.gsClass, y--) : p && d.sc.push(this);
                                    if (0 === y && l) {
                                        if (m = ("com.greensock." + i).split("."), g = m.pop(), v = f(m.join("."))[g] = this.gsClass = l.apply(l, c), u)
                                            if (h[g] = s[g] = v, "undefined" != typeof t && t.exports)
                                                if (i === o) {
                                                    t.exports = s[o] = v;
                                                    for (_ in s) v[_] = s[_]
                                                } else s[o] && (s[o][g] = v);
                                        else n = [], r = function () {
                                            return v
                                        }.apply(e, n), !(void 0 !== r && (t.exports = r));
                                        for (_ = 0; _ < this.sc.length; _++) this.sc[_].check()
                                    }
                                }, this.check(!0)
                            },
                            b = i._gsDefine = function (t, e, i, n) {
                                return new w(t, e, i, n)
                            },
                            S = m._class = function (t, e, i) {
                                return e = e || function () {}, b(t, [], function () {
                                    return e
                                }, i), e
                            };
                        b.globals = h;
                        var T = [0, 0, 1, 1],
                            M = S("easing.Ease", function (t, e, i, n) {
                                this._func = t, this._type = i || 0, this._power = n || 0, this._params = e ? T.concat(e) : T
                            }, !0),
                            E = M.map = {},
                            A = M.register = function (t, e, i, n) {
                                for (var r, o, s, a, h = e.split(","), l = h.length, u = (i || "easeIn,easeOut,easeInOut").split(","); --l > -1;)
                                    for (o = h[l], r = n ? S("easing." + o, null, !0) : m.easing[o] || {}, s = u.length; --s > -1;) a = u[s], E[o + "." + a] = E[a + o] = r[a] = t.getRatio ? t : t[a] || new t
                            };
                        for (c = M.prototype, c._calcEnd = !1, c.getRatio = function (t) {
                            if (this._func) return this._params[0] = t, this._func.apply(null, this._params);
                            var e = this._type,
                                i = this._power,
                                n = 1 === e ? 1 - t : 2 === e ? t : t < .5 ? 2 * t : 2 * (1 - t);
                            return 1 === i ? n *= n : 2 === i ? n *= n * n : 3 === i ? n *= n * n * n : 4 === i && (n *= n * n * n * n), 1 === e ? 1 - n : 2 === e ? n : t < .5 ? n / 2 : 1 - n / 2
                        }, l = ["Linear", "Quad", "Cubic", "Quart", "Quint,Strong"], u = l.length; --u > -1;) c = l[u] + ",Power" + u, A(new M(null, null, 1, u), c, "easeOut", !0), A(new M(null, null, 2, u), c, "easeIn" + (0 === u ? ",easeNone" : "")), A(new M(null, null, 3, u), c, "easeInOut");
                        E.linear = m.easing.Linear.easeIn, E.swing = m.easing.Quad.easeInOut;
                        var C = S("events.EventDispatcher", function (t) {
                            this._listeners = {}, this._eventTarget = t || this
                        });
                        c = C.prototype, c.addEventListener = function (t, e, i, n, r) {
                            r = r || 0;
                            var o, s, a = this._listeners[t],
                                h = 0;
                            for (this !== p || d || p.wake(), null == a && (this._listeners[t] = a = []), s = a.length; --s > -1;) o = a[s], o.c === e && o.s === i ? a.splice(s, 1) : 0 === h && o.pr < r && (h = s + 1);
                            a.splice(h, 0, {
                                c: e,
                                s: i,
                                up: n,
                                pr: r
                            })
                        }, c.removeEventListener = function (t, e) {
                            var i, n = this._listeners[t];
                            if (n)
                                for (i = n.length; --i > -1;)
                                    if (n[i].c === e) return void n.splice(i, 1)
                        }, c.dispatchEvent = function (t) {
                            var e, i, n, r = this._listeners[t];
                            if (r)
                                for (e = r.length, e > 1 && (r = r.slice(0)), i = this._eventTarget; --e > -1;) n = r[e], n && (n.up ? n.c.call(n.s || i, {
                                    type: t,
                                    target: i
                                }) : n.c.call(n.s || i))
                        };
                        var P = i.requestAnimationFrame,
                            R = i.cancelAnimationFrame,
                            L = Date.now || function () {
                                return (new Date).getTime()
                            },
                            O = L();
                        for (l = ["ms", "moz", "webkit", "o"], u = l.length; --u > -1 && !P;) P = i[l[u] + "RequestAnimationFrame"], R = i[l[u] + "CancelAnimationFrame"] || i[l[u] + "CancelRequestAnimationFrame"];
                        S("Ticker", function (t, e) {
                            var i, n, r, o, s, h = this,
                                l = L(),
                                u = !(e === !1 || !P) && "auto",
                                c = 500,
                                f = 33,
                                m = "tick",
                                v = function (t) {
                                    var e, a, u = L() - O;
                                    u > c && (l += u - f), O += u, h.time = (O - l) / 1e3, e = h.time - s, (!i || e > 0 || t === !0) && (h.frame++, s += e + (e >= o ? .004 : o - e), a = !0), t !== !0 && (r = n(v)), a && h.dispatchEvent(m)
                                };
                            C.call(h), h.time = h.frame = 0, h.tick = function () {
                                v(!0)
                            }, h.lagSmoothing = function (t, e) {
                                return arguments.length ? (c = t || 1 / g, void(f = Math.min(e, c, 0))) : c < 1 / g
                            }, h.sleep = function () {
                                null != r && (u && R ? R(r) : clearTimeout(r), n = _, r = null, h === p && (d = !1))
                            }, h.wake = function (t) {
                                null !== r ? h.sleep() : t ? l += -O + (O = L()) : h.frame > 10 && (O = L() - c + 5), n = 0 === i ? _ : u && P ? P : function (t) {
                                    return setTimeout(t, 1e3 * (s - h.time) + 1 | 0)
                                }, h === p && (d = !0), v(2)
                            }, h.fps = function (t) {
                                return arguments.length ? (i = t, o = 1 / (i || 60), s = this.time + o, void h.wake()) : i
                            }, h.useRAF = function (t) {
                                return arguments.length ? (h.sleep(), u = t, void h.fps(i)) : u
                            }, h.fps(t), setTimeout(function () {
                                "auto" === u && h.frame < 5 && "hidden" !== (a || {}).visibilityState && h.useRAF(!1)
                            }, 1500)
                        }), c = m.Ticker.prototype = new m.events.EventDispatcher, c.constructor = m.Ticker;
                        var I = S("core.Animation", function (t, e) {
                            if (this.vars = e = e || {}, this._duration = this._totalDuration = t || 0, this._delay = Number(e.delay) || 0, this._timeScale = 1, this._active = e.immediateRender === !0, this.data = e.data, this._reversed = e.reversed === !0, Q) {
                                d || p.wake();
                                var i = this.vars.useFrames ? K : Q;
                                i.add(this, i._time), this.vars.paused && this.paused(!0)
                            }
                        });
                        p = I.ticker = new m.Ticker, c = I.prototype, c._dirty = c._gc = c._initted = c._paused = !1, c._totalTime = c._time = 0, c._rawPrevTime = -1, c._next = c._last = c._onUpdate = c._timeline = c.timeline = null, c._paused = !1;
                        var D = function () {
                            d && L() - O > 2e3 && ("hidden" !== (a || {}).visibilityState || !p.lagSmoothing()) && p.wake();
                            var t = setTimeout(D, 2e3);
                            t.unref && t.unref()
                        };
                        D(), c.play = function (t, e) {
                            return null != t && this.seek(t, e), this.reversed(!1).paused(!1)
                        }, c.pause = function (t, e) {
                            return null != t && this.seek(t, e), this.paused(!0)
                        }, c.resume = function (t, e) {
                            return null != t && this.seek(t, e), this.paused(!1)
                        }, c.seek = function (t, e) {
                            return this.totalTime(Number(t), e !== !1)
                        }, c.restart = function (t, e) {
                            return this.reversed(!1).paused(!1).totalTime(t ? -this._delay : 0, e !== !1, !0)
                        }, c.reverse = function (t, e) {
                            return null != t && this.seek(t || this.totalDuration(), e), this.reversed(!0).paused(!1)
                        }, c.render = function (t, e, i) {}, c.invalidate = function () {
                            return this._time = this._totalTime = 0, this._initted = this._gc = !1, this._rawPrevTime = -1, !this._gc && this.timeline || this._enabled(!0), this
                        }, c.isActive = function () {
                            var t, e = this._timeline,
                                i = this._startTime;
                            return !e || !this._gc && !this._paused && e.isActive() && (t = e.rawTime(!0)) >= i && t < i + this.totalDuration() / this._timeScale - 1e-7
                        }, c._enabled = function (t, e) {
                            return d || p.wake(), this._gc = !t, this._active = this.isActive(), e !== !0 && (t && !this.timeline ? this._timeline.add(this, this._startTime - this._delay) : !t && this.timeline && this._timeline._remove(this, !0)), !1
                        }, c._kill = function (t, e) {
                            return this._enabled(!1, !1)
                        }, c.kill = function (t, e) {
                            return this._kill(t, e), this
                        }, c._uncache = function (t) {
                            for (var e = t ? this : this.timeline; e;) e._dirty = !0, e = e.timeline;
                            return this
                        }, c._swapSelfInParams = function (t) {
                            for (var e = t.length, i = t.concat(); --e > -1;) "{self}" === t[e] && (i[e] = this);
                            return i
                        }, c._callback = function (t) {
                            var e = this.vars,
                                i = e[t],
                                n = e[t + "Params"],
                                r = e[t + "Scope"] || e.callbackScope || this,
                                o = n ? n.length : 0;
                            switch (o) {
                            case 0:
                                i.call(r);
                                break;
                            case 1:
                                i.call(r, n[0]);
                                break;
                            case 2:
                                i.call(r, n[0], n[1]);
                                break;
                            default:
                                i.apply(r, n)
                            }
                        }, c.eventCallback = function (t, e, i, n) {
                            if ("on" === (t || "").substr(0, 2)) {
                                var r = this.vars;
                                if (1 === arguments.length) return r[t];
                                null == e ? delete r[t] : (r[t] = e, r[t + "Params"] = y(i) && i.join("").indexOf("{self}") !== -1 ? this._swapSelfInParams(i) : i, r[t + "Scope"] = n), "onUpdate" === t && (this._onUpdate = e)
                            }
                            return this
                        }, c.delay = function (t) {
                            return arguments.length ? (this._timeline.smoothChildTiming && this.startTime(this._startTime + t - this._delay), this._delay = t, this) : this._delay
                        }, c.duration = function (t) {
                            return arguments.length ? (this._duration = this._totalDuration = t, this._uncache(!0), this._timeline.smoothChildTiming && this._time > 0 && this._time < this._duration && 0 !== t && this.totalTime(this._totalTime * (t / this._duration), !0), this) : (this._dirty = !1, this._duration)
                        }, c.totalDuration = function (t) {
                            return this._dirty = !1, arguments.length ? this.duration(t) : this._totalDuration
                        }, c.time = function (t, e) {
                            return arguments.length ? (this._dirty && this.totalDuration(), this.totalTime(t > this._duration ? this._duration : t, e)) : this._time
                        }, c.totalTime = function (t, e, i) {
                            if (d || p.wake(), !arguments.length) return this._totalTime;
                            if (this._timeline) {
                                if (t < 0 && !i && (t += this.totalDuration()), this._timeline.smoothChildTiming) {
                                    this._dirty && this.totalDuration();
                                    var n = this._totalDuration,
                                        r = this._timeline;
                                    if (t > n && !i && (t = n), this._startTime = (this._paused ? this._pauseTime : r._time) - (this._reversed ? n - t : t) / this._timeScale, r._dirty || this._uncache(!1), r._timeline)
                                        for (; r._timeline;) r._timeline._time !== (r._startTime + r._totalTime) / r._timeScale && r.totalTime(r._totalTime, !0), r = r._timeline
                                }
                                this._gc && this._enabled(!0, !1), this._totalTime === t && 0 !== this._duration || (F.length && et(), this.render(t, e, !1), F.length && et())
                            }
                            return this
                        }, c.progress = c.totalProgress = function (t, e) {
                            var i = this.duration();
                            return arguments.length ? this.totalTime(i * t, e) : i ? this._time / i : this.ratio
                        }, c.startTime = function (t) {
                            return arguments.length ? (t !== this._startTime && (this._startTime = t, this.timeline && this.timeline._sortChildren && this.timeline.add(this, t - this._delay)), this) : this._startTime
                        }, c.endTime = function (t) {
                            return this._startTime + (0 != t ? this.totalDuration() : this.duration()) / this._timeScale
                        }, c.timeScale = function (t) {
                            if (!arguments.length) return this._timeScale;
                            var e, i;
                            for (t = t || g, this._timeline && this._timeline.smoothChildTiming && (e = this._pauseTime, i = e || 0 === e ? e : this._timeline.totalTime(), this._startTime = i - (i - this._startTime) * this._timeScale / t), this._timeScale = t, i = this.timeline; i && i.timeline;) i._dirty = !0, i.totalDuration(), i = i.timeline;
                            return this
                        }, c.reversed = function (t) {
                            return arguments.length ? (t != this._reversed && (this._reversed = t, this.totalTime(this._timeline && !this._timeline.smoothChildTiming ? this.totalDuration() - this._totalTime : this._totalTime, !0)), this) : this._reversed
                        }, c.paused = function (t) {
                            if (!arguments.length) return this._paused;
                            var e, i, n = this._timeline;
                            return t != this._paused && n && (d || t || p.wake(), e = n.rawTime(),
                                i = e - this._pauseTime, !t && n.smoothChildTiming && (this._startTime += i, this._uncache(!1)), this._pauseTime = t ? e : null, this._paused = t, this._active = this.isActive(), !t && 0 !== i && this._initted && this.duration() && (e = n.smoothChildTiming ? this._totalTime : (e - this._startTime) / this._timeScale, this.render(e, e === this._totalTime, !0))), this._gc && !t && this._enabled(!0, !1), this
                        };
                        var k = S("core.SimpleTimeline", function (t) {
                            I.call(this, 0, t), this.autoRemoveChildren = this.smoothChildTiming = !0
                        });
                        c = k.prototype = new I, c.constructor = k, c.kill()._gc = !1, c._first = c._last = c._recent = null, c._sortChildren = !1, c.add = c.insert = function (t, e, i, n) {
                            var r, o;
                            if (t._startTime = Number(e || 0) + t._delay, t._paused && this !== t._timeline && (t._pauseTime = t._startTime + (this.rawTime() - t._startTime) / t._timeScale), t.timeline && t.timeline._remove(t, !0), t.timeline = t._timeline = this, t._gc && t._enabled(!0, !0), r = this._last, this._sortChildren)
                                for (o = t._startTime; r && r._startTime > o;) r = r._prev;
                            return r ? (t._next = r._next, r._next = t) : (t._next = this._first, this._first = t), t._next ? t._next._prev = t : this._last = t, t._prev = r, this._recent = t, this._timeline && this._uncache(!0), this
                        }, c._remove = function (t, e) {
                            return t.timeline === this && (e || t._enabled(!1, !0), t._prev ? t._prev._next = t._next : this._first === t && (this._first = t._next), t._next ? t._next._prev = t._prev : this._last === t && (this._last = t._prev), t._next = t._prev = t.timeline = null, t === this._recent && (this._recent = this._last), this._timeline && this._uncache(!0)), this
                        }, c.render = function (t, e, i) {
                            var n, r = this._first;
                            for (this._totalTime = this._time = this._rawPrevTime = t; r;) n = r._next, (r._active || t >= r._startTime && !r._paused && !r._gc) && (r._reversed ? r.render((r._dirty ? r.totalDuration() : r._totalDuration) - (t - r._startTime) * r._timeScale, e, i) : r.render((t - r._startTime) * r._timeScale, e, i)), r = n
                        }, c.rawTime = function () {
                            return d || p.wake(), this._totalTime
                        };
                        var N = S("TweenLite", function (t, e, n) {
                                if (I.call(this, e, n), this.render = N.prototype.render, null == t) throw "Cannot tween a null target.";
                                this.target = t = "string" != typeof t ? t : N.selector(t) || t;
                                var r, o, s, a = t.jquery || t.length && t !== i && t[0] && (t[0] === i || t[0].nodeType && t[0].style && !t.nodeType),
                                    h = this.vars.overwrite;
                                if (this._overwrite = h = null == h ? $[N.defaultOverwrite] : "number" == typeof h ? h >> 0 : $[h], (a || t instanceof Array || t.push && y(t)) && "number" != typeof t[0])
                                    for (this._targets = s = v(t), this._propLookup = [], this._siblings = [], r = 0; r < s.length; r++) o = s[r], o ? "string" != typeof o ? o.length && o !== i && o[0] && (o[0] === i || o[0].nodeType && o[0].style && !o.nodeType) ? (s.splice(r--, 1), this._targets = s = s.concat(v(o))) : (this._siblings[r] = it(o, this, !1), 1 === h && this._siblings[r].length > 1 && rt(o, this, null, 1, this._siblings[r])) : (o = s[r--] = N.selector(o), "string" == typeof o && s.splice(r + 1, 1)) : s.splice(r--, 1);
                                else this._propLookup = {}, this._siblings = it(t, this, !1), 1 === h && this._siblings.length > 1 && rt(t, this, null, 1, this._siblings);
                                (this.vars.immediateRender || 0 === e && 0 === this._delay && this.vars.immediateRender !== !1) && (this._time = -g, this.render(Math.min(0, -this._delay)))
                            }, !0),
                            z = function (t) {
                                return t && t.length && t !== i && t[0] && (t[0] === i || t[0].nodeType && t[0].style && !t.nodeType)
                            },
                            B = function (t, e) {
                                var i, n = {};
                                for (i in t) J[i] || i in e && "transform" !== i && "x" !== i && "y" !== i && "width" !== i && "height" !== i && "className" !== i && "border" !== i || !(!X[i] || X[i] && X[i]._autoCSS) || (n[i] = t[i], delete t[i]);
                                t.css = n
                            };
                        c = N.prototype = new I, c.constructor = N, c.kill()._gc = !1, c.ratio = 0, c._firstPT = c._targets = c._overwrittenProps = c._startAt = null, c._notifyPluginsOfEnabled = c._lazy = !1, N.version = "1.20.4", N.defaultEase = c._ease = new M(null, null, 1, 1), N.defaultOverwrite = "auto", N.ticker = p, N.autoSleep = 120, N.lagSmoothing = function (t, e) {
                            p.lagSmoothing(t, e)
                        }, N.selector = i.$ || i.jQuery || function (t) {
                            var e = i.$ || i.jQuery;
                            return e ? (N.selector = e, e(t)) : "undefined" == typeof a ? t : a.querySelectorAll ? a.querySelectorAll(t) : a.getElementById("#" === t.charAt(0) ? t.substr(1) : t)
                        };
                        var F = [],
                            H = {},
                            U = /(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,
                            G = /[\+-]=-?[\.\d]/,
                            j = function (t) {
                                for (var e, i = this._firstPT, n = 1e-6; i;) e = i.blob ? 1 === t && null != this.end ? this.end : t ? this.join("") : this.start : i.c * t + i.s, i.m ? e = i.m(e, this._target || i.t) : e < n && e > -n && !i.blob && (e = 0), i.f ? i.fp ? i.t[i.p](i.fp, e) : i.t[i.p](e) : i.t[i.p] = e, i = i._next
                            },
                            V = function (t, e, i, n) {
                                var r, o, s, a, h, l, u, c = [],
                                    p = 0,
                                    d = "",
                                    f = 0;
                                for (c.start = t, c.end = e, t = c[0] = t + "", e = c[1] = e + "", i && (i(c), t = c[0], e = c[1]), c.length = 0, r = t.match(U) || [], o = e.match(U) || [], n && (n._next = null, n.blob = 1, c._firstPT = c._applyPT = n), h = o.length, a = 0; a < h; a++) u = o[a], l = e.substr(p, e.indexOf(u, p) - p), d += l || !a ? l : ",", p += l.length, f ? f = (f + 1) % 5 : "rgba(" === l.substr(-5) && (f = 1), u === r[a] || r.length <= a ? d += u : (d && (c.push(d), d = ""), s = parseFloat(r[a]), c.push(s), c._firstPT = {
                                    _next: c._firstPT,
                                    t: c,
                                    p: c.length - 1,
                                    s: s,
                                    c: ("=" === u.charAt(1) ? parseInt(u.charAt(0) + "1", 10) * parseFloat(u.substr(2)) : parseFloat(u) - s) || 0,
                                    f: 0,
                                    m: f && f < 4 ? Math.round : 0
                                }), p += u.length;
                                return d += e.substr(p), d && c.push(d), c.setRatio = j, G.test(e) && (c.end = null), c
                            },
                            W = function (t, e, i, n, r, o, s, a, h) {
                                "function" == typeof n && (n = n(h || 0, t));
                                var l, u = typeof t[e],
                                    c = "function" !== u ? "" : e.indexOf("set") || "function" != typeof t["get" + e.substr(3)] ? e : "get" + e.substr(3),
                                    p = "get" !== i ? i : c ? s ? t[c](s) : t[c]() : t[e],
                                    d = "string" == typeof n && "=" === n.charAt(1),
                                    f = {
                                        t: t,
                                        p: e,
                                        s: p,
                                        f: "function" === u,
                                        pg: 0,
                                        n: r || e,
                                        m: o ? "function" == typeof o ? o : Math.round : 0,
                                        pr: 0,
                                        c: d ? parseInt(n.charAt(0) + "1", 10) * parseFloat(n.substr(2)) : parseFloat(n) - p || 0
                                    };
                                if (("number" != typeof p || "number" != typeof n && !d) && (s || isNaN(p) || !d && isNaN(n) || "boolean" == typeof p || "boolean" == typeof n ? (f.fp = s, l = V(p, d ? parseFloat(f.s) + f.c + (f.s + "").replace(/[0-9\-\.]/g, "") : n, a || N.defaultStringFilter, f), f = {
                                    t: l,
                                    p: "setRatio",
                                    s: 0,
                                    c: 1,
                                    f: 2,
                                    pg: 0,
                                    n: r || e,
                                    pr: 0,
                                    m: 0
                                }) : (f.s = parseFloat(p), d || (f.c = parseFloat(n) - f.s || 0))), f.c) return (f._next = this._firstPT) && (f._next._prev = f), this._firstPT = f, f
                            },
                            q = N._internals = {
                                isArray: y,
                                isSelector: z,
                                lazyTweens: F,
                                blobDif: V
                            },
                            X = N._plugins = {},
                            Y = q.tweenLookup = {},
                            Z = 0,
                            J = q.reservedProps = {
                                ease: 1,
                                delay: 1,
                                overwrite: 1,
                                onComplete: 1,
                                onCompleteParams: 1,
                                onCompleteScope: 1,
                                useFrames: 1,
                                runBackwards: 1,
                                startAt: 1,
                                onUpdate: 1,
                                onUpdateParams: 1,
                                onUpdateScope: 1,
                                onStart: 1,
                                onStartParams: 1,
                                onStartScope: 1,
                                onReverseComplete: 1,
                                onReverseCompleteParams: 1,
                                onReverseCompleteScope: 1,
                                onRepeat: 1,
                                onRepeatParams: 1,
                                onRepeatScope: 1,
                                easeParams: 1,
                                yoyo: 1,
                                immediateRender: 1,
                                repeat: 1,
                                repeatDelay: 1,
                                data: 1,
                                paused: 1,
                                reversed: 1,
                                autoCSS: 1,
                                lazy: 1,
                                onOverwrite: 1,
                                callbackScope: 1,
                                stringFilter: 1,
                                id: 1,
                                yoyoEase: 1
                            },
                            $ = {
                                none: 0,
                                all: 1,
                                auto: 2,
                                concurrent: 3,
                                allOnStart: 4,
                                preexisting: 5,
                                true: 1,
                                false: 0
                            },
                            K = I._rootFramesTimeline = new k,
                            Q = I._rootTimeline = new k,
                            tt = 30,
                            et = q.lazyRender = function () {
                                var t, e = F.length;
                                for (H = {}; --e > -1;) t = F[e], t && t._lazy !== !1 && (t.render(t._lazy[0], t._lazy[1], !0), t._lazy = !1);
                                F.length = 0
                            };
                        Q._startTime = p.time, K._startTime = p.frame, Q._active = K._active = !0, setTimeout(et, 1), I._updateRoot = N.render = function () {
                            var t, e, i;
                            if (F.length && et(), Q.render((p.time - Q._startTime) * Q._timeScale, !1, !1), K.render((p.frame - K._startTime) * K._timeScale, !1, !1), F.length && et(), p.frame >= tt) {
                                tt = p.frame + (parseInt(N.autoSleep, 10) || 120);
                                for (i in Y) {
                                    for (e = Y[i].tweens, t = e.length; --t > -1;) e[t]._gc && e.splice(t, 1);
                                    0 === e.length && delete Y[i]
                                }
                                if (i = Q._first, (!i || i._paused) && N.autoSleep && !K._first && 1 === p._listeners.tick.length) {
                                    for (; i && i._paused;) i = i._next;
                                    i || p.sleep()
                                }
                            }
                        }, p.addEventListener("tick", I._updateRoot);
                        var it = function (t, e, i) {
                                var n, r, o = t._gsTweenID;
                                if (Y[o || (t._gsTweenID = o = "t" + Z++)] || (Y[o] = {
                                    target: t,
                                    tweens: []
                                }), e && (n = Y[o].tweens, n[r = n.length] = e, i))
                                    for (; --r > -1;) n[r] === e && n.splice(r, 1);
                                return Y[o].tweens
                            },
                            nt = function (t, e, i, n) {
                                var r, o, s = t.vars.onOverwrite;
                                return s && (r = s(t, e, i, n)), s = N.onOverwrite, s && (o = s(t, e, i, n)), r !== !1 && o !== !1
                            },
                            rt = function (t, e, i, n, r) {
                                var o, s, a, h;
                                if (1 === n || n >= 4) {
                                    for (h = r.length, o = 0; o < h; o++)
                                        if ((a = r[o]) !== e) a._gc || a._kill(null, t, e) && (s = !0);
                                        else if (5 === n) break;
                                    return s
                                }
                                var l, u = e._startTime + g,
                                    c = [],
                                    p = 0,
                                    d = 0 === e._duration;
                                for (o = r.length; --o > -1;)(a = r[o]) === e || a._gc || a._paused || (a._timeline !== e._timeline ? (l = l || ot(e, 0, d), 0 === ot(a, l, d) && (c[p++] = a)) : a._startTime <= u && a._startTime + a.totalDuration() / a._timeScale > u && ((d || !a._initted) && u - a._startTime <= 2e-10 || (c[p++] = a)));
                                for (o = p; --o > -1;)
                                    if (a = c[o], 2 === n && a._kill(i, t, e) && (s = !0), 2 !== n || !a._firstPT && a._initted) {
                                        if (2 !== n && !nt(a, e)) continue;
                                        a._enabled(!1, !1) && (s = !0)
                                    }
                                return s
                            },
                            ot = function (t, e, i) {
                                for (var n = t._timeline, r = n._timeScale, o = t._startTime; n._timeline;) {
                                    if (o += n._startTime, r *= n._timeScale, n._paused) return -100;
                                    n = n._timeline
                                }
                                return o /= r, o > e ? o - e : i && o === e || !t._initted && o - e < 2 * g ? g : (o += t.totalDuration() / t._timeScale / r) > e + g ? 0 : o - e - g
                            };
                        c._init = function () {
                            var t, e, i, n, r, o, s = this.vars,
                                a = this._overwrittenProps,
                                h = this._duration,
                                l = !!s.immediateRender,
                                u = s.ease;
                            if (s.startAt) {
                                this._startAt && (this._startAt.render(-1, !0), this._startAt.kill()), r = {};
                                for (n in s.startAt) r[n] = s.startAt[n];
                                if (r.data = "isStart", r.overwrite = !1, r.immediateRender = !0, r.lazy = l && s.lazy !== !1, r.startAt = r.delay = null, r.onUpdate = s.onUpdate, r.onUpdateParams = s.onUpdateParams, r.onUpdateScope = s.onUpdateScope || s.callbackScope || this, this._startAt = N.to(this.target, 0, r), l)
                                    if (this._time > 0) this._startAt = null;
                                    else if (0 !== h) return
                            } else if (s.runBackwards && 0 !== h)
                                if (this._startAt) this._startAt.render(-1, !0), this._startAt.kill(), this._startAt = null;
                                else {
                                    0 !== this._time && (l = !1), i = {};
                                    for (n in s) J[n] && "autoCSS" !== n || (i[n] = s[n]);
                                    if (i.overwrite = 0, i.data = "isFromStart", i.lazy = l && s.lazy !== !1, i.immediateRender = l, this._startAt = N.to(this.target, 0, i), l) {
                                        if (0 === this._time) return
                                    } else this._startAt._init(), this._startAt._enabled(!1), this.vars.immediateRender && (this._startAt = null)
                                }
                            if (this._ease = u = u ? u instanceof M ? u : "function" == typeof u ? new M(u, s.easeParams) : E[u] || N.defaultEase : N.defaultEase, s.easeParams instanceof Array && u.config && (this._ease = u.config.apply(u, s.easeParams)), this._easeType = this._ease._type, this._easePower = this._ease._power, this._firstPT = null, this._targets)
                                for (o = this._targets.length, t = 0; t < o; t++) this._initProps(this._targets[t], this._propLookup[t] = {}, this._siblings[t], a ? a[t] : null, t) && (e = !0);
                            else e = this._initProps(this.target, this._propLookup, this._siblings, a, 0); if (e && N._onPluginEvent("_onInitAllProps", this), a && (this._firstPT || "function" != typeof this.target && this._enabled(!1, !1)), s.runBackwards)
                                for (i = this._firstPT; i;) i.s += i.c, i.c = -i.c, i = i._next;
                            this._onUpdate = s.onUpdate, this._initted = !0
                        }, c._initProps = function (t, e, n, r, o) {
                            var s, a, h, l, u, c;
                            if (null == t) return !1;
                            H[t._gsTweenID] && et(), this.vars.css || t.style && t !== i && t.nodeType && X.css && this.vars.autoCSS !== !1 && B(this.vars, t);
                            for (s in this.vars)
                                if (c = this.vars[s], J[s]) c && (c instanceof Array || c.push && y(c)) && c.join("").indexOf("{self}") !== -1 && (this.vars[s] = c = this._swapSelfInParams(c, this));
                                else if (X[s] && (l = new X[s])._onInitTween(t, this.vars[s], this, o)) {
                                for (this._firstPT = u = {
                                    _next: this._firstPT,
                                    t: l,
                                    p: "setRatio",
                                    s: 0,
                                    c: 1,
                                    f: 1,
                                    n: s,
                                    pg: 1,
                                    pr: l._priority,
                                    m: 0
                                }, a = l._overwriteProps.length; --a > -1;) e[l._overwriteProps[a]] = this._firstPT;
                                (l._priority || l._onInitAllProps) && (h = !0), (l._onDisable || l._onEnable) && (this._notifyPluginsOfEnabled = !0), u._next && (u._next._prev = u)
                            } else e[s] = W.call(this, t, s, "get", c, s, 0, null, this.vars.stringFilter, o);
                            return r && this._kill(r, t) ? this._initProps(t, e, n, r, o) : this._overwrite > 1 && this._firstPT && n.length > 1 && rt(t, this, e, this._overwrite, n) ? (this._kill(e, t), this._initProps(t, e, n, r, o)) : (this._firstPT && (this.vars.lazy !== !1 && this._duration || this.vars.lazy && !this._duration) && (H[t._gsTweenID] = !0), h)
                        }, c.render = function (t, e, i) {
                            var n, r, o, s, a = this._time,
                                h = this._duration,
                                l = this._rawPrevTime;
                            if (t >= h - 1e-7 && t >= 0) this._totalTime = this._time = h, this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1, this._reversed || (n = !0, r = "onComplete", i = i || this._timeline.autoRemoveChildren), 0 === h && (this._initted || !this.vars.lazy || i) && (this._startTime === this._timeline._duration && (t = 0), (l < 0 || t <= 0 && t >= -1e-7 || l === g && "isPause" !== this.data) && l !== t && (i = !0, l > g && (r = "onReverseComplete")), this._rawPrevTime = s = !e || t || l === t ? t : g);
                            else if (t < 1e-7) this._totalTime = this._time = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0, (0 !== a || 0 === h && l > 0) && (r = "onReverseComplete", n = this._reversed), t < 0 && (this._active = !1, 0 === h && (this._initted || !this.vars.lazy || i) && (l >= 0 && (l !== g || "isPause" !== this.data) && (i = !0), this._rawPrevTime = s = !e || t || l === t ? t : g)), (!this._initted || this._startAt && this._startAt.progress()) && (i = !0);
                            else if (this._totalTime = this._time = t, this._easeType) {
                                var u = t / h,
                                    c = this._easeType,
                                    p = this._easePower;
                                (1 === c || 3 === c && u >= .5) && (u = 1 - u), 3 === c && (u *= 2), 1 === p ? u *= u : 2 === p ? u *= u * u : 3 === p ? u *= u * u * u : 4 === p && (u *= u * u * u * u), 1 === c ? this.ratio = 1 - u : 2 === c ? this.ratio = u : t / h < .5 ? this.ratio = u / 2 : this.ratio = 1 - u / 2
                            } else this.ratio = this._ease.getRatio(t / h); if (this._time !== a || i) {
                                if (!this._initted) {
                                    if (this._init(), !this._initted || this._gc) return;
                                    if (!i && this._firstPT && (this.vars.lazy !== !1 && this._duration || this.vars.lazy && !this._duration)) return this._time = this._totalTime = a, this._rawPrevTime = l, F.push(this), void(this._lazy = [t, e]);
                                    this._time && !n ? this.ratio = this._ease.getRatio(this._time / h) : n && this._ease._calcEnd && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1))
                                }
                                for (this._lazy !== !1 && (this._lazy = !1), this._active || !this._paused && this._time !== a && t >= 0 && (this._active = !0), 0 === a && (this._startAt && (t >= 0 ? this._startAt.render(t, !0, i) : r || (r = "_dummyGS")), this.vars.onStart && (0 === this._time && 0 !== h || e || this._callback("onStart"))), o = this._firstPT; o;) o.f ? o.t[o.p](o.c * this.ratio + o.s) : o.t[o.p] = o.c * this.ratio + o.s, o = o._next;
                                this._onUpdate && (t < 0 && this._startAt && t !== -1e-4 && this._startAt.render(t, !0, i), e || (this._time !== a || n || i) && this._callback("onUpdate")), r && (this._gc && !i || (t < 0 && this._startAt && !this._onUpdate && t !== -1e-4 && this._startAt.render(t, !0, i), n && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[r] && this._callback(r), 0 === h && this._rawPrevTime === g && s !== g && (this._rawPrevTime = 0)))
                            }
                        }, c._kill = function (t, e, i) {
                            if ("all" === t && (t = null), null == t && (null == e || e === this.target)) return this._lazy = !1, this._enabled(!1, !1);
                            e = "string" != typeof e ? e || this._targets || this.target : N.selector(e) || e;
                            var n, r, o, s, a, h, l, u, c, p = i && this._time && i._startTime === this._startTime && this._timeline === i._timeline;
                            if ((y(e) || z(e)) && "number" != typeof e[0])
                                for (n = e.length; --n > -1;) this._kill(t, e[n], i) && (h = !0);
                            else {
                                if (this._targets) {
                                    for (n = this._targets.length; --n > -1;)
                                        if (e === this._targets[n]) {
                                            a = this._propLookup[n] || {}, this._overwrittenProps = this._overwrittenProps || [], r = this._overwrittenProps[n] = t ? this._overwrittenProps[n] || {} : "all";
                                            break
                                        }
                                } else {
                                    if (e !== this.target) return !1;
                                    a = this._propLookup, r = this._overwrittenProps = t ? this._overwrittenProps || {} : "all"
                                } if (a) {
                                    if (l = t || a, u = t !== r && "all" !== r && t !== a && ("object" != typeof t || !t._tempKill), i && (N.onOverwrite || this.vars.onOverwrite)) {
                                        for (o in l) a[o] && (c || (c = []), c.push(o));
                                        if ((c || !t) && !nt(this, i, e, c)) return !1
                                    }
                                    for (o in l)(s = a[o]) && (p && (s.f ? s.t[s.p](s.s) : s.t[s.p] = s.s, h = !0), s.pg && s.t._kill(l) && (h = !0), s.pg && 0 !== s.t._overwriteProps.length || (s._prev ? s._prev._next = s._next : s === this._firstPT && (this._firstPT = s._next), s._next && (s._next._prev = s._prev), s._next = s._prev = null), delete a[o]), u && (r[o] = 1);
                                    !this._firstPT && this._initted && this._enabled(!1, !1)
                                }
                            }
                            return h
                        }, c.invalidate = function () {
                            return this._notifyPluginsOfEnabled && N._onPluginEvent("_onDisable", this), this._firstPT = this._overwrittenProps = this._startAt = this._onUpdate = null, this._notifyPluginsOfEnabled = this._active = this._lazy = !1, this._propLookup = this._targets ? {} : [], I.prototype.invalidate.call(this), this.vars.immediateRender && (this._time = -g, this.render(Math.min(0, -this._delay))), this
                        }, c._enabled = function (t, e) {
                            if (d || p.wake(), t && this._gc) {
                                var i, n = this._targets;
                                if (n)
                                    for (i = n.length; --i > -1;) this._siblings[i] = it(n[i], this, !0);
                                else this._siblings = it(this.target, this, !0)
                            }
                            return I.prototype._enabled.call(this, t, e), !(!this._notifyPluginsOfEnabled || !this._firstPT) && N._onPluginEvent(t ? "_onEnable" : "_onDisable", this)
                        }, N.to = function (t, e, i) {
                            return new N(t, e, i)
                        }, N.from = function (t, e, i) {
                            return i.runBackwards = !0, i.immediateRender = 0 != i.immediateRender, new N(t, e, i)
                        }, N.fromTo = function (t, e, i, n) {
                            return n.startAt = i, n.immediateRender = 0 != n.immediateRender && 0 != i.immediateRender, new N(t, e, n)
                        }, N.delayedCall = function (t, e, i, n, r) {
                            return new N(e, 0, {
                                delay: t,
                                onComplete: e,
                                onCompleteParams: i,
                                callbackScope: n,
                                onReverseComplete: e,
                                onReverseCompleteParams: i,
                                immediateRender: !1,
                                lazy: !1,
                                useFrames: r,
                                overwrite: 0
                            })
                        }, N.set = function (t, e) {
                            return new N(t, 0, e)
                        }, N.getTweensOf = function (t, e) {
                            if (null == t) return [];
                            t = "string" != typeof t ? t : N.selector(t) || t;
                            var i, n, r, o;
                            if ((y(t) || z(t)) && "number" != typeof t[0]) {
                                for (i = t.length, n = []; --i > -1;) n = n.concat(N.getTweensOf(t[i], e));
                                for (i = n.length; --i > -1;)
                                    for (o = n[i], r = i; --r > -1;) o === n[r] && n.splice(i, 1)
                            } else if (t._gsTweenID)
                                for (n = it(t).concat(), i = n.length; --i > -1;)(n[i]._gc || e && !n[i].isActive()) && n.splice(i, 1);
                            return n || []
                        }, N.killTweensOf = N.killDelayedCallsTo = function (t, e, i) {
                            "object" == typeof e && (i = e, e = !1);
                            for (var n = N.getTweensOf(t, e), r = n.length; --r > -1;) n[r]._kill(i, t)
                        };
                        var st = S("plugins.TweenPlugin", function (t, e) {
                            this._overwriteProps = (t || "").split(","), this._propName = this._overwriteProps[0], this._priority = e || 0, this._super = st.prototype
                        }, !0);
                        if (c = st.prototype, st.version = "1.19.0", st.API = 2, c._firstPT = null, c._addTween = W, c.setRatio = j, c._kill = function (t) {
                            var e, i = this._overwriteProps,
                                n = this._firstPT;
                            if (null != t[this._propName]) this._overwriteProps = [];
                            else
                                for (e = i.length; --e > -1;) null != t[i[e]] && i.splice(e, 1);
                            for (; n;) null != t[n.n] && (n._next && (n._next._prev = n._prev), n._prev ? (n._prev._next = n._next, n._prev = null) : this._firstPT === n && (this._firstPT = n._next)), n = n._next;
                            return !1
                        }, c._mod = c._roundProps = function (t) {
                            for (var e, i = this._firstPT; i;) e = t[this._propName] || null != i.n && t[i.n.split(this._propName + "_").join("")], e && "function" == typeof e && (2 === i.f ? i.t._applyPT.m = e : i.m = e), i = i._next
                        }, N._onPluginEvent = function (t, e) {
                            var i, n, r, o, s, a = e._firstPT;
                            if ("_onInitAllProps" === t) {
                                for (; a;) {
                                    for (s = a._next, n = r; n && n.pr > a.pr;) n = n._next;
                                    (a._prev = n ? n._prev : o) ? a._prev._next = a: r = a, (a._next = n) ? n._prev = a : o = a, a = s
                                }
                                a = e._firstPT = r
                            }
                            for (; a;) a.pg && "function" == typeof a.t[t] && a.t[t]() && (i = !0), a = a._next;
                            return i
                        }, st.activate = function (t) {
                            for (var e = t.length; --e > -1;) t[e].API === st.API && (X[(new t[e])._propName] = t[e]);
                            return !0
                        }, b.plugin = function (t) {
                            if (!(t && t.propName && t.init && t.API)) throw "illegal plugin definition.";
                            var e, i = t.propName,
                                n = t.priority || 0,
                                r = t.overwriteProps,
                                o = {
                                    init: "_onInitTween",
                                    set: "setRatio",
                                    kill: "_kill",
                                    round: "_mod",
                                    mod: "_mod",
                                    initAll: "_onInitAllProps"
                                },
                                s = S("plugins." + i.charAt(0).toUpperCase() + i.substr(1) + "Plugin", function () {
                                    st.call(this, i, n), this._overwriteProps = r || []
                                }, t.global === !0),
                                a = s.prototype = new st(i);
                            a.constructor = s, s.API = t.API;
                            for (e in o) "function" == typeof t[e] && (a[o[e]] = t[e]);
                            return s.version = t.version, st.activate([s]), s
                        }, l = i._gsQueue) {
                            for (u = 0; u < l.length; u++) l[u]();
                            for (c in x) x[c].func || i.console.log("GSAP encountered missing dependency: " + c)
                        }
                        d = !1
                    }
                }("undefined" != typeof t && t.exports && "undefined" != typeof i ? i : this || window, "TweenMax")
        }).call(e, function () {
            return this
        }())
    },
    function (t, e, i) {
        (function (e, n, r) {
            "use strict";

            function o(t) {
                var e = this;
                this.next = null, this.entry = null, this.finish = function () {
                    A(e, t)
                }
            }

            function s(t) {
                return D.from(t)
            }

            function a(t) {
                return D.isBuffer(t) || t instanceof k
            }

            function h() {}

            function l(t, e) {
                P = P || i(19), t = t || {};
                var n = e instanceof P;
                this.objectMode = !!t.objectMode, n && (this.objectMode = this.objectMode || !!t.writableObjectMode);
                var r = t.highWaterMark,
                    s = t.writableHighWaterMark,
                    a = this.objectMode ? 16 : 16384;
                r || 0 === r ? this.highWaterMark = r : n && (s || 0 === s) ? this.highWaterMark = s : this.highWaterMark = a, this.highWaterMark = Math.floor(this.highWaterMark), this.finalCalled = !1, this.needDrain = !1, this.ending = !1, this.ended = !1, this.finished = !1, this.destroyed = !1;
                var h = t.decodeStrings === !1;
                this.decodeStrings = !h, this.defaultEncoding = t.defaultEncoding || "utf8", this.length = 0, this.writing = !1, this.corked = 0, this.sync = !0, this.bufferProcessing = !1, this.onwrite = function (t) {
                    _(e, t)
                }, this.writecb = null, this.writelen = 0, this.bufferedRequest = null, this.lastBufferedRequest = null, this.pendingcb = 0, this.prefinished = !1, this.errorEmitted = !1, this.bufferedRequestCount = 0, this.corkedRequestsFree = new o(this)
            }

            function u(t) {
                return P = P || i(19), z.call(u, this) || this instanceof P ? (this._writableState = new l(t, this), this.writable = !0, t && ("function" == typeof t.write && (this._write = t.write), "function" == typeof t.writev && (this._writev = t.writev), "function" == typeof t.destroy && (this._destroy = t.destroy), "function" == typeof t.final && (this._final = t.final)), void I.call(this)) : new u(t)
            }

            function c(t, e) {
                var i = new Error("write after end");
                t.emit("error", i), C.nextTick(e, i)
            }

            function p(t, e, i, n) {
                var r = !0,
                    o = !1;
                return null === i ? o = new TypeError("May not write null values to stream") : "string" == typeof i || void 0 === i || e.objectMode || (o = new TypeError("Invalid non-string/buffer chunk")), o && (t.emit("error", o), C.nextTick(n, o), r = !1), r
            }

            function d(t, e, i) {
                return t.objectMode || t.decodeStrings === !1 || "string" != typeof e || (e = D.from(e, i)), e
            }

            function f(t, e, i, n, r, o) {
                if (!i) {
                    var s = d(e, n, r);
                    n !== s && (i = !0, r = "buffer", n = s)
                }
                var a = e.objectMode ? 1 : n.length;
                e.length += a;
                var h = e.length < e.highWaterMark;
                if (h || (e.needDrain = !0), e.writing || e.corked) {
                    var l = e.lastBufferedRequest;
                    e.lastBufferedRequest = {
                        chunk: n,
                        encoding: r,
                        isBuf: i,
                        callback: o,
                        next: null
                    }, l ? l.next = e.lastBufferedRequest : e.bufferedRequest = e.lastBufferedRequest, e.bufferedRequestCount += 1
                } else m(t, e, !1, a, n, r, o);
                return h
            }

            function m(t, e, i, n, r, o, s) {
                e.writelen = n, e.writecb = s, e.writing = !0, e.sync = !0, i ? t._writev(r, e.onwrite) : t._write(r, o, e.onwrite), e.sync = !1
            }

            function g(t, e, i, n, r) {
                --e.pendingcb, i ? (C.nextTick(r, n), C.nextTick(M, t, e), t._writableState.errorEmitted = !0, t.emit("error", n)) : (r(n), t._writableState.errorEmitted = !0, t.emit("error", n), M(t, e))
            }

            function v(t) {
                t.writing = !1, t.writecb = null, t.length -= t.writelen, t.writelen = 0
            }

            function _(t, e) {
                var i = t._writableState,
                    n = i.sync,
                    r = i.writecb;
                if (v(i), e) g(t, i, n, e, r);
                else {
                    var o = b(i);
                    o || i.corked || i.bufferProcessing || !i.bufferedRequest || w(t, i), n ? R(y, t, i, o, r) : y(t, i, o, r)
                }
            }

            function y(t, e, i, n) {
                i || x(t, e), e.pendingcb--, n(), M(t, e)
            }

            function x(t, e) {
                0 === e.length && e.needDrain && (e.needDrain = !1, t.emit("drain"))
            }

            function w(t, e) {
                e.bufferProcessing = !0;
                var i = e.bufferedRequest;
                if (t._writev && i && i.next) {
                    var n = e.bufferedRequestCount,
                        r = new Array(n),
                        s = e.corkedRequestsFree;
                    s.entry = i;
                    for (var a = 0, h = !0; i;) r[a] = i, i.isBuf || (h = !1), i = i.next, a += 1;
                    r.allBuffers = h, m(t, e, !0, e.length, r, "", s.finish), e.pendingcb++, e.lastBufferedRequest = null, s.next ? (e.corkedRequestsFree = s.next, s.next = null) : e.corkedRequestsFree = new o(e), e.bufferedRequestCount = 0
                } else {
                    for (; i;) {
                        var l = i.chunk,
                            u = i.encoding,
                            c = i.callback,
                            p = e.objectMode ? 1 : l.length;
                        if (m(t, e, !1, p, l, u, c), i = i.next, e.bufferedRequestCount--, e.writing) break
                    }
                    null === i && (e.lastBufferedRequest = null)
                }
                e.bufferedRequest = i, e.bufferProcessing = !1
            }

            function b(t) {
                return t.ending && 0 === t.length && null === t.bufferedRequest && !t.finished && !t.writing
            }

            function S(t, e) {
                t._final(function (i) {
                    e.pendingcb--, i && t.emit("error", i), e.prefinished = !0, t.emit("prefinish"), M(t, e)
                })
            }

            function T(t, e) {
                e.prefinished || e.finalCalled || ("function" == typeof t._final ? (e.pendingcb++, e.finalCalled = !0, C.nextTick(S, t, e)) : (e.prefinished = !0, t.emit("prefinish")))
            }

            function M(t, e) {
                var i = b(e);
                return i && (T(t, e), 0 === e.pendingcb && (e.finished = !0, t.emit("finish"))), i
            }

            function E(t, e, i) {
                e.ending = !0, M(t, e), i && (e.finished ? C.nextTick(i) : t.once("finish", i)), e.ended = !0, t.writable = !1
            }

            function A(t, e, i) {
                var n = t.entry;
                for (t.entry = null; n;) {
                    var r = n.callback;
                    e.pendingcb--, r(i), n = n.next
                }
                e.corkedRequestsFree ? e.corkedRequestsFree.next = t : e.corkedRequestsFree = t
            }
            var C = i(33);
            t.exports = u;
            var P, R = !e.browser && ["v0.10", "v0.9."].indexOf(e.version.slice(0, 5)) > -1 ? n : C.nextTick;
            u.WritableState = l;
            var L = i(26);
            L.inherits = i(21);
            var O = {
                    deprecate: i(130)
                },
                I = i(50),
                D = i(35).Buffer,
                k = r.Uint8Array || function () {},
                N = i(49);
            L.inherits(u, I), l.prototype.getBuffer = function () {
                    for (var t = this.bufferedRequest, e = []; t;) e.push(t), t = t.next;
                    return e
                },
                function () {
                    try {
                        Object.defineProperty(l.prototype, "buffer", {
                            get: O.deprecate(function () {
                                return this.getBuffer()
                            }, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.", "DEP0003")
                        })
                    } catch (t) {}
                }();
            var z;
            "function" == typeof Symbol && Symbol.hasInstance && "function" == typeof Function.prototype[Symbol.hasInstance] ? (z = Function.prototype[Symbol.hasInstance], Object.defineProperty(u, Symbol.hasInstance, {
                value: function (t) {
                    return !!z.call(this, t) || this === u && (t && t._writableState instanceof l)
                }
            })) : z = function (t) {
                return t instanceof this
            }, u.prototype.pipe = function () {
                this.emit("error", new Error("Cannot pipe, not readable"))
            }, u.prototype.write = function (t, e, i) {
                var n = this._writableState,
                    r = !1,
                    o = !n.objectMode && a(t);
                return o && !D.isBuffer(t) && (t = s(t)), "function" == typeof e && (i = e, e = null), o ? e = "buffer" : e || (e = n.defaultEncoding), "function" != typeof i && (i = h), n.ended ? c(this, i) : (o || p(this, n, t, i)) && (n.pendingcb++, r = f(this, n, o, t, e, i)), r
            }, u.prototype.cork = function () {
                var t = this._writableState;
                t.corked++
            }, u.prototype.uncork = function () {
                var t = this._writableState;
                t.corked && (t.corked--, t.writing || t.corked || t.finished || t.bufferProcessing || !t.bufferedRequest || w(this, t))
            }, u.prototype.setDefaultEncoding = function (t) {
                if ("string" == typeof t && (t = t.toLowerCase()), !(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((t + "").toLowerCase()) > -1)) throw new TypeError("Unknown encoding: " + t);
                return this._writableState.defaultEncoding = t, this
            }, u.prototype._write = function (t, e, i) {
                i(new Error("_write() is not implemented"))
            }, u.prototype._writev = null, u.prototype.end = function (t, e, i) {
                var n = this._writableState;
                "function" == typeof t ? (i = t, t = null, e = null) : "function" == typeof e && (i = e, e = null), null !== t && void 0 !== t && this.write(t, e), n.corked && (n.corked = 1, this.uncork()), n.ending || n.finished || E(this, n, i)
            }, Object.defineProperty(u.prototype, "destroyed", {
                get: function () {
                    return void 0 !== this._writableState && this._writableState.destroyed
                }, set: function (t) {
                    this._writableState && (this._writableState.destroyed = t)
                }
            }), u.prototype.destroy = N.destroy, u.prototype._undestroy = N.undestroy, u.prototype._destroy = function (t, e) {
                this.end(), e(t)
            }
        }).call(e, i(17), i(128).setImmediate, function () {
            return this
        }())
    },
    function (t, e, i) {
        e = t.exports = i(47), e.Stream = e, e.Readable = e, e.Writable = i(39), e.Duplex = i(19), e.Transform = i(48), e.PassThrough = i(117)
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d = function (t, e) {
            return function () {
                return t.apply(e, arguments)
            }
        };
        p = i(2), s = i(6), n = i(1), r = i(3), c = i(8), o = i(4), h = i(10), u = i(7), l = i(68), a = function () {
            function t() {
                this.isDetailPage = d(this.isDetailPage, this), this.isPage = d(this.isPage, this), this.getDefaultPage = d(this.getDefaultPage, this), this._eError = d(this._eError, this), this._eLoadHtmlSuccess = d(this._eLoadHtmlSuccess, this), this._eCompleteTransition = d(this._eCompleteTransition, this), this.move = d(this.move, this), this.setPageTitle = d(this.setPageTitle, this), this.setURL = d(this.setURL, this), this._ePopState = d(this._ePopState, this), this.setDefaultPage = d(this.setDefaultPage, this), this.init = d(this.init, this), this._nextOpt, this.default = {
                    pageId: -1,
                    dir: ""
                }, this.nowPage = -1, this.transition
            }
            return t.prototype.init = function () {
                return this.transition = new l({
                    parent: $(".l-transition"),
                    el: $(".l-transition > .cvs")
                }), this.transition.init(), window.onpopstate = this._ePopState
            }, t.prototype.setDefaultPage = function () {
                return this.default.pageId = Number($("body").attr("data-default")), this.default.dir = $("body").attr("data-dir"), this.nowPage = this.default.pageId
            }, t.prototype._ePopState = function (t) {
                var e, i;
                return i = location.href.split("/"), 4 === i.length ? (e = location.href, e = e.replace("?op=n", ""), location.href = e + "?op=n") : location.reload(!1)
            }, t.prototype.setURL = function (t) {
                var e;
                if (this.setPageTitle(t.title), "undefined" != typeof history && null !== history && (e = t.dir, history.pushState(e, null, e), "undefined" != typeof gtag && null !== gtag)) return gtag("config", "UA-175984425-1", {
                    page_path: location.pathname,
                    page_title: document.title
                })
            }, t.prototype.setPageTitle = function (t) {
                return document.title = t
            }, t.prototype.move = function (t) {
                return this._nextOpt = t, r.clickable(!1), this.transition.start({
                    onComplete: this._eCompleteTransition
                })
            }, t.prototype._eCompleteTransition = function () {
                var t;
                return this.nowPage = this._nextOpt.pageId, main.top.hide(), main.detail.hide(), this.nowPage === c.PAGE_ID.TOP ? (this.transition.hide({
                    fade: !0
                }), main.top.show({
                    fromDetail: !0
                })) : (this.transition.hide({
                    fade: !1
                }), main.detail.show({
                    workId: this._nextOpt.workId
                })), r.clickable(!0), this.nowPage === c.PAGE_ID.TOP ? this.setURL({
                    dir: "/",
                    title: $(".p-top").attr("data-title")
                }) : (t = main.detail.nowItem, this.setURL({
                    dir: t.dir,
                    title: t.title
                }))
            }, t.prototype._eLoadHtmlSuccess = function (t) {}, t.prototype._eError = function () {
                return console.log("_eError")
            }, t.prototype.getDefaultPage = function () {}, t.prototype.isPage = function (t) {}, t.prototype.isDetailPage = function (t) {}, t
        }(), t.exports = a
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v, _ = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            y = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) x.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            x = {}.hasOwnProperty;
        u = i(4), r = i(1), d = i(7), o = i(3), h = i(13), f = i(8), g = i(2), m = i(5), c = i(6), v = i(9), l = i(16), n = i(14), p = i(15), a = i(65), s = function (t) {
            function e(t) {
                this._resize = _(this._resize, this), this._update = _(this._update, this), this.render = _(this.render, this), this.show = _(this.show, this), this.showFast = _(this.showFast, this), this.init = _(this.init, this), e.__super__.constructor.call(this, t), this._itemA, this._itemB, this._itemC, this._isShow = !1
            }
            return y(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this._itemA = new a({
                    type: f.LOGO.A,
                    isLast: this.opt.isLast
                }), this._itemA.init(), this.add(this._itemA), this._itemB = new a({
                    type: f.LOGO.B,
                    isLast: this.opt.isLast
                }), this._itemB.init(), this.add(this._itemB), this._itemC = new a({
                    type: f.LOGO.C,
                    isLast: this.opt.isLast
                }), this._itemC.init(), this.add(this._itemC)
            }, e.prototype.showFast = function (t) {
                return this._isShow = !0, u.mvYokoShow.val = 1, u.mvTateShow.val = 1, this._itemA.showFast(), this._itemB.showFast(), this._itemC.showFast()
            }, e.prototype.show = function (t) {
                var e;
                if (!this._isShow) return this._isShow = !0, e = t.delay, this._itemB.show({
                    delay: e
                }), e += 1, this._itemC.show({
                    delay: e
                }), e += 1.25, this._itemA.show({
                    delay: e
                }), e += 1, this._itemB.show2({
                    delay: e
                }), d.a(u.mvYokoShow, {
                    val: 1
                }, 1, e, Power2.easeInOut), e += .5, d.a(u.mvTateShow, {
                    val: 1
                }, 1, e, Power2.easeInOut), this._itemC.show2({
                    delay: e,
                    onComplete: t.onComplete
                })
            }, e.prototype.render = function (t, e) {
                return this._itemA.render(t, e), this._itemB.render(t, e), this._itemC.render(t, e)
            }, e.prototype._update = function () {
                return e.__super__._update.call(this)
            }, e.prototype._resize = function () {
                var t, i;
                return e.__super__._resize.call(this), i = o.sw(), t = o.sh()
            }, e
        }(l), t.exports = s
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            v = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) _.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            _ = {}.hasOwnProperty;
        c = i(7), s = i(12), h = i(4), n = i(1), o = i(3), p = i(8), u = i(10), f = i(2), l = i(6), d = i(5), r = i(11), m = i(9), a = function (t) {
            function e(t) {
                this._resize = g(this._resize, this), this._update = g(this._update, this), this.hide = g(this.hide, this), this.show = g(this.show, this), this.init = g(this.init, this), t.resize = !0, t.update = !0, e.__super__.constructor.call(this, t), this.isActive = !1
            }
            return v(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this)
            }, e.prototype.show = function (t) {
                return this.isActive = !0, this.removeClass("is-page-hide")
            }, e.prototype.hide = function (t) {
                return this.isActive = !1, this.addClass("is-page-hide")
            }, e.prototype._update = function () {
                return e.__super__._update.call(this)
            }, e.prototype._resize = function () {
                return e.__super__._resize.call(this)
            }, e
        }(s), t.exports = a
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            v = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) _.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            _ = {}.hasOwnProperty;
        c = i(7), s = i(12), a = i(4), n = i(1), o = i(3), p = i(8), u = i(10), f = i(2), h = i(6), d = i(5), r = i(11), m = i(9), l = function (t) {
                function e(t) {
                    this._resize = g(this._resize, this), this._update = g(this._update, this), this.hide = g(this.hide, this), this.init = g(this.init, this), e.__super__.constructor.call(this, t), this._item = [], this._shuffle = []
                }
                return v(e, t), e.prototype.init = function () {
                    var t, i, n, r, o;
                    for (e.__super__.init.call(this), o = this.el().html(), t = 0, i = o.length, r = ""; t < i;) n = o.substr(t, 1), r += '<span class="is-' + t + '">' + n + "</span>", t++;
                    return this.el().html(r)
                }, e.prototype.hide = function (t) {}, e.prototype._update = function () {
                    return e.__super__._update.call(this)
                }, e.prototype._resize = function () {
                    return e.__super__._resize.call(this)
                }, e
            }(s),
            t.exports = l
    },
    function (t, e, i) {
        function n(t, e) {
            return t[0] - e[0]
        }

        function r() {
            var t, e = this.stride,
                i = new Array(e.length);
            for (t = 0; t < i.length; ++t) i[t] = [Math.abs(e[t]), t];
            i.sort(n);
            var r = new Array(i.length);
            for (t = 0; t < r.length; ++t) r[t] = i[t][1];
            return r
        }

        function o(t, e) {
            var i = ["View", e, "d", t].join("");
            e < 0 && (i = "View_Nil" + t);
            var n = "generic" === t;
            if (e === -1) {
                var o = "function " + i + "(a){this.data=a;};\tvar proto=" + i + ".prototype;\tproto.dtype='" + t + "';\tproto.index=function(){return -1};\tproto.size=0;\tproto.dimension=-1;\tproto.shape=proto.stride=proto.order=[];\tproto.lo=proto.hi=proto.transpose=proto.step=\tfunction(){return new " + i + "(this.data);};\tproto.get=proto.set=function(){};\tproto.pick=function(){return null};\treturn function construct_" + i + "(a){return new " + i + "(a);}",
                    s = new Function(o);
                return s()
            }
            if (0 === e) {
                var o = "function " + i + "(a,d) {\tthis.data = a;\tthis.offset = d\t};\tvar proto=" + i + ".prototype;\tproto.dtype='" + t + "';\tproto.index=function(){return this.offset};\tproto.dimension=0;\tproto.size=1;\tproto.shape=\tproto.stride=\tproto.order=[];\tproto.lo=\tproto.hi=\tproto.transpose=\tproto.step=function " + i + "_copy() {\treturn new " + i + "(this.data,this.offset)\t};\tproto.pick=function " + i + "_pick(){\treturn TrivialArray(this.data);\t};\tproto.valueOf=proto.get=function " + i + "_get(){\treturn " + (n ? "this.data.get(this.offset)" : "this.data[this.offset]") + "};\tproto.set=function " + i + "_set(v){\treturn " + (n ? "this.data.set(this.offset,v)" : "this.data[this.offset]=v") + "\t};\treturn function construct_" + i + "(a,b,c,d){return new " + i + "(a,d)}",
                    s = new Function("TrivialArray", o);
                return s(c[t][0])
            }
            var o = ["'use strict'"],
                a = h(e),
                l = a.map(function (t) {
                    return "i" + t
                }),
                u = "this.offset+" + a.map(function (t) {
                    return "this.stride[" + t + "]*i" + t
                }).join("+"),
                p = a.map(function (t) {
                    return "b" + t
                }).join(","),
                d = a.map(function (t) {
                    return "c" + t
                }).join(",");
            o.push("function " + i + "(a," + p + "," + d + ",d){this.data=a", "this.shape=[" + p + "]", "this.stride=[" + d + "]", "this.offset=d|0}", "var proto=" + i + ".prototype", "proto.dtype='" + t + "'", "proto.dimension=" + e), o.push("Object.defineProperty(proto,'size',{get:function " + i + "_size(){\treturn " + a.map(function (t) {
                return "this.shape[" + t + "]"
            }).join("*"), "}})"), 1 === e ? o.push("proto.order=[0]") : (o.push("Object.defineProperty(proto,'order',{get:"), e < 4 ? (o.push("function " + i + "_order(){"), 2 === e ? o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})") : 3 === e && o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);\tif(s0>s1){\tif(s1>s2){\treturn [2,1,0];\t}else if(s0>s2){\treturn [1,2,0];\t}else{\treturn [1,0,2];\t}\t}else if(s0>s2){\treturn [2,0,1];\t}else if(s2>s1){\treturn [0,1,2];\t}else{\treturn [0,2,1];\t}}})")) : o.push("ORDER})")), o.push("proto.set=function " + i + "_set(" + l.join(",") + ",v){"), n ? o.push("return this.data.set(" + u + ",v)}") : o.push("return this.data[" + u + "]=v}"), o.push("proto.get=function " + i + "_get(" + l.join(",") + "){"), n ? o.push("return this.data.get(" + u + ")}") : o.push("return this.data[" + u + "]}"), o.push("proto.index=function " + i + "_index(", l.join(), "){return " + u + "}"), o.push("proto.hi=function " + i + "_hi(" + l.join(",") + "){return new " + i + "(this.data," + a.map(function (t) {
                return ["(typeof i", t, "!=='number'||i", t, "<0)?this.shape[", t, "]:i", t, "|0"].join("")
            }).join(",") + "," + a.map(function (t) {
                return "this.stride[" + t + "]"
            }).join(",") + ",this.offset)}");
            var f = a.map(function (t) {
                    return "a" + t + "=this.shape[" + t + "]"
                }),
                m = a.map(function (t) {
                    return "c" + t + "=this.stride[" + t + "]"
                });
            o.push("proto.lo=function " + i + "_lo(" + l.join(",") + "){var b=this.offset,d=0," + f.join(",") + "," + m.join(","));
            for (var g = 0; g < e; ++g) o.push("if(typeof i" + g + "==='number'&&i" + g + ">=0){\td=i" + g + "|0;\tb+=c" + g + "*d;\ta" + g + "-=d}");
            o.push("return new " + i + "(this.data," + a.map(function (t) {
                return "a" + t
            }).join(",") + "," + a.map(function (t) {
                return "c" + t
            }).join(",") + ",b)}"), o.push("proto.step=function " + i + "_step(" + l.join(",") + "){var " + a.map(function (t) {
                return "a" + t + "=this.shape[" + t + "]"
            }).join(",") + "," + a.map(function (t) {
                return "b" + t + "=this.stride[" + t + "]"
            }).join(",") + ",c=this.offset,d=0,ceil=Math.ceil");
            for (var g = 0; g < e; ++g) o.push("if(typeof i" + g + "==='number'){\td=i" + g + "|0;\tif(d<0){\tc+=b" + g + "*(a" + g + "-1);\ta" + g + "=ceil(-a" + g + "/d)\t}else{\ta" + g + "=ceil(a" + g + "/d)\t}\tb" + g + "*=d\t}");
            o.push("return new " + i + "(this.data," + a.map(function (t) {
                return "a" + t
            }).join(",") + "," + a.map(function (t) {
                return "b" + t
            }).join(",") + ",c)}");
            for (var v = new Array(e), _ = new Array(e), g = 0; g < e; ++g) v[g] = "a[i" + g + "]", _[g] = "b[i" + g + "]";
            o.push("proto.transpose=function " + i + "_transpose(" + l + "){" + l.map(function (t, e) {
                return t + "=(" + t + "===undefined?" + e + ":" + t + "|0)"
            }).join(";"), "var a=this.shape,b=this.stride;return new " + i + "(this.data," + v.join(",") + "," + _.join(",") + ",this.offset)}"), o.push("proto.pick=function " + i + "_pick(" + l + "){var a=[],b=[],c=this.offset");
            for (var g = 0; g < e; ++g) o.push("if(typeof i" + g + "==='number'&&i" + g + ">=0){c=(c+this.stride[" + g + "]*i" + g + ")|0}else{a.push(this.shape[" + g + "]);b.push(this.stride[" + g + "])}");
            o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"), o.push("return function construct_" + i + "(data,shape,stride,offset){return new " + i + "(data," + a.map(function (t) {
                return "shape[" + t + "]"
            }).join(",") + "," + a.map(function (t) {
                return "stride[" + t + "]"
            }).join(",") + ",offset)}");
            var s = new Function("CTOR_LIST", "ORDER", o.join("\n"));
            return s(c[t], r)
        }

        function s(t) {
            if (l(t)) return "buffer";
            if (u) switch (Object.prototype.toString.call(t)) {
            case "[object Float64Array]":
                return "float64";
            case "[object Float32Array]":
                return "float32";
            case "[object Int8Array]":
                return "int8";
            case "[object Int16Array]":
                return "int16";
            case "[object Int32Array]":
                return "int32";
            case "[object Uint8Array]":
                return "uint8";
            case "[object Uint16Array]":
                return "uint16";
            case "[object Uint32Array]":
                return "uint32";
            case "[object Uint8ClampedArray]":
                return "uint8_clamped";
            case "[object BigInt64Array]":
                return "bigint64";
            case "[object BigUint64Array]":
                return "biguint64"
            }
            return Array.isArray(t) ? "array" : "generic"
        }

        function a(t, e, i, n) {
            if (void 0 === t) {
                var r = c.array[0];
                return r([])
            }
            "number" == typeof t && (t = [t]), void 0 === e && (e = [t.length]);
            var a = e.length;
            if (void 0 === i) {
                i = new Array(a);
                for (var h = a - 1, l = 1; h >= 0; --h) i[h] = l, l *= e[h]
            }
            if (void 0 === n) {
                n = 0;
                for (var h = 0; h < a; ++h) i[h] < 0 && (n -= (e[h] - 1) * i[h])
            }
            for (var u = s(t), p = c[u]; p.length <= a + 1;) p.push(o(u, p.length - 1));
            var r = p[a + 1];
            return r(t, e, i, n)
        }
        var h = i(98),
            l = i(99),
            u = "undefined" != typeof Float64Array,
            c = {
                float32: [],
                float64: [],
                int8: [],
                int16: [],
                int32: [],
                uint8: [],
                uint16: [],
                uint32: [],
                array: [],
                uint8_clamped: [],
                bigint64: [],
                biguint64: [],
                buffer: [],
                generic: []
            };
        t.exports = a
    },
    function (t, e) {
        t.exports = "#define GLSLIFY 1\nuniform sampler2D tDiffuse;\nuniform float revRate;\nuniform float revY;\nuniform float alpha;\nuniform float offset;\nuniform float darkness;\nuniform float time;\nuniform bool isBlackOnly;\n\nvarying vec2 vUv;\n\nvoid main(void) {\n\n  vec4 dest = texture2D(tDiffuse, vUv);\n  dest.a *= alpha;\n\n  gl_FragColor = dest;\n\n}\n"
    },
    function (t, e, i) {
        (function (e, n) {
            "use strict";

            function r(t) {
                return z.from(t)
            }

            function o(t) {
                return z.isBuffer(t) || t instanceof B
            }

            function s(t, e, i) {
                return "function" == typeof t.prependListener ? t.prependListener(e, i) : void(t._events && t._events[e] ? D(t._events[e]) ? t._events[e].unshift(i) : t._events[e] = [i, t._events[e]] : t.on(e, i))
            }

            function a(t, e) {
                I = I || i(19), t = t || {};
                var n = e instanceof I;
                this.objectMode = !!t.objectMode, n && (this.objectMode = this.objectMode || !!t.readableObjectMode);
                var r = t.highWaterMark,
                    o = t.readableHighWaterMark,
                    s = this.objectMode ? 16 : 16384;
                r || 0 === r ? this.highWaterMark = r : n && (o || 0 === o) ? this.highWaterMark = o : this.highWaterMark = s, this.highWaterMark = Math.floor(this.highWaterMark), this.buffer = new j, this.length = 0, this.pipes = null, this.pipesCount = 0, this.flowing = null, this.ended = !1, this.endEmitted = !1, this.reading = !1, this.sync = !0, this.needReadable = !1, this.emittedReadable = !1, this.readableListening = !1, this.resumeScheduled = !1, this.destroyed = !1, this.defaultEncoding = t.defaultEncoding || "utf8", this.awaitDrain = 0, this.readingMore = !1, this.decoder = null, this.encoding = null, t.encoding && (G || (G = i(51).StringDecoder), this.decoder = new G(t.encoding), this.encoding = t.encoding)
            }

            function h(t) {
                return I = I || i(19), this instanceof h ? (this._readableState = new a(t, this), this.readable = !0, t && ("function" == typeof t.read && (this._read = t.read), "function" == typeof t.destroy && (this._destroy = t.destroy)), void N.call(this)) : new h(t)
            }

            function l(t, e, i, n, o) {
                var s = t._readableState;
                if (null === e) s.reading = !1, m(t, s);
                else {
                    var a;
                    o || (a = c(s, e)), a ? t.emit("error", a) : s.objectMode || e && e.length > 0 ? ("string" == typeof e || s.objectMode || Object.getPrototypeOf(e) === z.prototype || (e = r(e)), n ? s.endEmitted ? t.emit("error", new Error("stream.unshift() after end event")) : u(t, s, e, !0) : s.ended ? t.emit("error", new Error("stream.push() after EOF")) : (s.reading = !1, s.decoder && !i ? (e = s.decoder.write(e), s.objectMode || 0 !== e.length ? u(t, s, e, !1) : _(t, s)) : u(t, s, e, !1))) : n || (s.reading = !1)
                }
                return p(s)
            }

            function u(t, e, i, n) {
                e.flowing && 0 === e.length && !e.sync ? (t.emit("data", i), t.read(0)) : (e.length += e.objectMode ? 1 : i.length, n ? e.buffer.unshift(i) : e.buffer.push(i), e.needReadable && g(t)), _(t, e)
            }

            function c(t, e) {
                var i;
                return o(e) || "string" == typeof e || void 0 === e || t.objectMode || (i = new TypeError("Invalid non-string/buffer chunk")), i
            }

            function p(t) {
                return !t.ended && (t.needReadable || t.length < t.highWaterMark || 0 === t.length)
            }

            function d(t) {
                return t >= q ? t = q : (t--, t |= t >>> 1, t |= t >>> 2, t |= t >>> 4, t |= t >>> 8, t |= t >>> 16, t++), t
            }

            function f(t, e) {
                return t <= 0 || 0 === e.length && e.ended ? 0 : e.objectMode ? 1 : t !== t ? e.flowing && e.length ? e.buffer.head.data.length : e.length : (t > e.highWaterMark && (e.highWaterMark = d(t)), t <= e.length ? t : e.ended ? e.length : (e.needReadable = !0, 0))
            }

            function m(t, e) {
                if (!e.ended) {
                    if (e.decoder) {
                        var i = e.decoder.end();
                        i && i.length && (e.buffer.push(i), e.length += e.objectMode ? 1 : i.length)
                    }
                    e.ended = !0, g(t)
                }
            }

            function g(t) {
                var e = t._readableState;
                e.needReadable = !1, e.emittedReadable || (U("emitReadable", e.flowing), e.emittedReadable = !0, e.sync ? O.nextTick(v, t) : v(t))
            }

            function v(t) {
                U("emit readable"), t.emit("readable"), T(t)
            }

            function _(t, e) {
                e.readingMore || (e.readingMore = !0, O.nextTick(y, t, e))
            }

            function y(t, e) {
                for (var i = e.length; !e.reading && !e.flowing && !e.ended && e.length < e.highWaterMark && (U("maybeReadMore read 0"), t.read(0), i !== e.length);) i = e.length;
                e.readingMore = !1
            }

            function x(t) {
                return function () {
                    var e = t._readableState;
                    U("pipeOnDrain", e.awaitDrain), e.awaitDrain && e.awaitDrain--, 0 === e.awaitDrain && k(t, "data") && (e.flowing = !0, T(t))
                }
            }

            function w(t) {
                U("readable nexttick read 0"), t.read(0)
            }

            function b(t, e) {
                e.resumeScheduled || (e.resumeScheduled = !0, O.nextTick(S, t, e))
            }

            function S(t, e) {
                e.reading || (U("resume read 0"), t.read(0)), e.resumeScheduled = !1, e.awaitDrain = 0, t.emit("resume"), T(t), e.flowing && !e.reading && t.read(0)
            }

            function T(t) {
                var e = t._readableState;
                for (U("flow", e.flowing); e.flowing && null !== t.read(););
            }

            function M(t, e) {
                if (0 === e.length) return null;
                var i;
                return e.objectMode ? i = e.buffer.shift() : !t || t >= e.length ? (i = e.decoder ? e.buffer.join("") : 1 === e.buffer.length ? e.buffer.head.data : e.buffer.concat(e.length), e.buffer.clear()) : i = E(t, e.buffer, e.decoder), i
            }

            function E(t, e, i) {
                var n;
                return t < e.head.data.length ? (n = e.head.data.slice(0, t), e.head.data = e.head.data.slice(t)) : n = t === e.head.data.length ? e.shift() : i ? A(t, e) : C(t, e), n
            }

            function A(t, e) {
                var i = e.head,
                    n = 1,
                    r = i.data;
                for (t -= r.length; i = i.next;) {
                    var o = i.data,
                        s = t > o.length ? o.length : t;
                    if (r += s === o.length ? o : o.slice(0, t), t -= s, 0 === t) {
                        s === o.length ? (++n, i.next ? e.head = i.next : e.head = e.tail = null) : (e.head = i, i.data = o.slice(s));
                        break
                    }++n
                }
                return e.length -= n, r
            }

            function C(t, e) {
                var i = z.allocUnsafe(t),
                    n = e.head,
                    r = 1;
                for (n.data.copy(i), t -= n.data.length; n = n.next;) {
                    var o = n.data,
                        s = t > o.length ? o.length : t;
                    if (o.copy(i, i.length - t, 0, s), t -= s, 0 === t) {
                        s === o.length ? (++r, n.next ? e.head = n.next : e.head = e.tail = null) : (e.head = n, n.data = o.slice(s));
                        break
                    }++r
                }
                return e.length -= r, i
            }

            function P(t) {
                var e = t._readableState;
                if (e.length > 0) throw new Error('"endReadable()" called on non-empty stream');
                e.endEmitted || (e.ended = !0, O.nextTick(R, e, t))
            }

            function R(t, e) {
                t.endEmitted || 0 !== t.length || (t.endEmitted = !0, e.readable = !1, e.emit("end"))
            }

            function L(t, e) {
                for (var i = 0, n = t.length; i < n; i++)
                    if (t[i] === e) return i;
                return -1
            }
            var O = i(33);
            t.exports = h;
            var I, D = i(119);
            h.ReadableState = a;
            var k = (i(37).EventEmitter, function (t, e) {
                    return t.listeners(e).length
                }),
                N = i(50),
                z = i(35).Buffer,
                B = e.Uint8Array || function () {},
                F = i(26);
            F.inherits = i(21);
            var H = i(131),
                U = void 0;
            U = H && H.debuglog ? H.debuglog("stream") : function () {};
            var G, j = i(118),
                V = i(49);
            F.inherits(h, N);
            var W = ["error", "close", "destroy", "pause", "resume"];
            Object.defineProperty(h.prototype, "destroyed", {
                get: function () {
                    return void 0 !== this._readableState && this._readableState.destroyed
                }, set: function (t) {
                    this._readableState && (this._readableState.destroyed = t)
                }
            }), h.prototype.destroy = V.destroy, h.prototype._undestroy = V.undestroy, h.prototype._destroy = function (t, e) {
                this.push(null), e(t)
            }, h.prototype.push = function (t, e) {
                var i, n = this._readableState;
                return n.objectMode ? i = !0 : "string" == typeof t && (e = e || n.defaultEncoding, e !== n.encoding && (t = z.from(t, e), e = ""), i = !0), l(this, t, e, !1, i)
            }, h.prototype.unshift = function (t) {
                return l(this, t, null, !0, !1)
            }, h.prototype.isPaused = function () {
                return this._readableState.flowing === !1
            }, h.prototype.setEncoding = function (t) {
                return G || (G = i(51).StringDecoder), this._readableState.decoder = new G(t), this._readableState.encoding = t, this
            };
            var q = 8388608;
            h.prototype.read = function (t) {
                U("read", t), t = parseInt(t, 10);
                var e = this._readableState,
                    i = t;
                if (0 !== t && (e.emittedReadable = !1), 0 === t && e.needReadable && (e.length >= e.highWaterMark || e.ended)) return U("read: emitReadable", e.length, e.ended), 0 === e.length && e.ended ? P(this) : g(this), null;
                if (t = f(t, e), 0 === t && e.ended) return 0 === e.length && P(this), null;
                var n = e.needReadable;
                U("need readable", n), (0 === e.length || e.length - t < e.highWaterMark) && (n = !0, U("length less than watermark", n)), e.ended || e.reading ? (n = !1, U("reading or ended", n)) : n && (U("do read"), e.reading = !0, e.sync = !0, 0 === e.length && (e.needReadable = !0), this._read(e.highWaterMark), e.sync = !1, e.reading || (t = f(i, e)));
                var r;
                return r = t > 0 ? M(t, e) : null, null === r ? (e.needReadable = !0, t = 0) : e.length -= t, 0 === e.length && (e.ended || (e.needReadable = !0), i !== t && e.ended && P(this)), null !== r && this.emit("data", r), r
            }, h.prototype._read = function (t) {
                this.emit("error", new Error("_read() is not implemented"))
            }, h.prototype.pipe = function (t, e) {
                function i(t, e) {
                    U("onunpipe"), t === p && e && e.hasUnpiped === !1 && (e.hasUnpiped = !0, o())
                }

                function r() {
                    U("onend"), t.end()
                }

                function o() {
                    U("cleanup"), t.removeListener("close", l), t.removeListener("finish", u), t.removeListener("drain", g), t.removeListener("error", h), t.removeListener("unpipe", i), p.removeListener("end", r), p.removeListener("end", c), p.removeListener("data", a), v = !0, !d.awaitDrain || t._writableState && !t._writableState.needDrain || g()
                }

                function a(e) {
                    U("ondata"), _ = !1;
                    var i = t.write(e);
                    !1 !== i || _ || ((1 === d.pipesCount && d.pipes === t || d.pipesCount > 1 && L(d.pipes, t) !== -1) && !v && (U("false write response, pause", p._readableState.awaitDrain), p._readableState.awaitDrain++, _ = !0), p.pause())
                }

                function h(e) {
                    U("onerror", e), c(), t.removeListener("error", h), 0 === k(t, "error") && t.emit("error", e)
                }

                function l() {
                    t.removeListener("finish", u), c()
                }

                function u() {
                    U("onfinish"), t.removeListener("close", l), c()
                }

                function c() {
                    U("unpipe"), p.unpipe(t)
                }
                var p = this,
                    d = this._readableState;
                switch (d.pipesCount) {
                case 0:
                    d.pipes = t;
                    break;
                case 1:
                    d.pipes = [d.pipes, t];
                    break;
                default:
                    d.pipes.push(t)
                }
                d.pipesCount += 1, U("pipe count=%d opts=%j", d.pipesCount, e);
                var f = (!e || e.end !== !1) && t !== n.stdout && t !== n.stderr,
                    m = f ? r : c;
                d.endEmitted ? O.nextTick(m) : p.once("end", m), t.on("unpipe", i);
                var g = x(p);
                t.on("drain", g);
                var v = !1,
                    _ = !1;
                return p.on("data", a), s(t, "error", h), t.once("close", l), t.once("finish", u), t.emit("pipe", p), d.flowing || (U("pipe resume"), p.resume()), t
            }, h.prototype.unpipe = function (t) {
                var e = this._readableState,
                    i = {
                        hasUnpiped: !1
                    };
                if (0 === e.pipesCount) return this;
                if (1 === e.pipesCount) return t && t !== e.pipes ? this : (t || (t = e.pipes), e.pipes = null, e.pipesCount = 0, e.flowing = !1, t && t.emit("unpipe", this, i), this);
                if (!t) {
                    var n = e.pipes,
                        r = e.pipesCount;
                    e.pipes = null, e.pipesCount = 0, e.flowing = !1;
                    for (var o = 0; o < r; o++) n[o].emit("unpipe", this, i);
                    return this
                }
                var s = L(e.pipes, t);
                return s === -1 ? this : (e.pipes.splice(s, 1), e.pipesCount -= 1, 1 === e.pipesCount && (e.pipes = e.pipes[0]), t.emit("unpipe", this, i), this)
            }, h.prototype.on = function (t, e) {
                var i = N.prototype.on.call(this, t, e);
                if ("data" === t) this._readableState.flowing !== !1 && this.resume();
                else if ("readable" === t) {
                    var n = this._readableState;
                    n.endEmitted || n.readableListening || (n.readableListening = n.needReadable = !0, n.emittedReadable = !1, n.reading ? n.length && g(this) : O.nextTick(w, this))
                }
                return i
            }, h.prototype.addListener = h.prototype.on, h.prototype.resume = function () {
                var t = this._readableState;
                return t.flowing || (U("resume"), t.flowing = !0, b(this, t)), this
            }, h.prototype.pause = function () {
                return U("call pause flowing=%j", this._readableState.flowing), !1 !== this._readableState.flowing && (U("pause"), this._readableState.flowing = !1, this.emit("pause")), this
            }, h.prototype.wrap = function (t) {
                var e = this,
                    i = this._readableState,
                    n = !1;
                t.on("end", function () {
                    if (U("wrapped end"), i.decoder && !i.ended) {
                        var t = i.decoder.end();
                        t && t.length && e.push(t)
                    }
                    e.push(null)
                }), t.on("data", function (r) {
                    if (U("wrapped data"), i.decoder && (r = i.decoder.write(r)), (!i.objectMode || null !== r && void 0 !== r) && (i.objectMode || r && r.length)) {
                        var o = e.push(r);
                        o || (n = !0, t.pause())
                    }
                });
                for (var r in t) void 0 === this[r] && "function" == typeof t[r] && (this[r] = function (e) {
                    return function () {
                        return t[e].apply(t, arguments)
                    }
                }(r));
                for (var o = 0; o < W.length; o++) t.on(W[o], this.emit.bind(this, W[o]));
                return this._read = function (e) {
                    U("wrapped _read", e), n && (n = !1, t.resume())
                }, this
            }, h._fromList = M
        }).call(e, function () {
            return this
        }(), i(17))
    },
    function (t, e, i) {
        "use strict";

        function n(t, e) {
            var i = this._transformState;
            i.transforming = !1;
            var n = i.writecb;
            if (!n) return this.emit("error", new Error("write callback called multiple times"));
            i.writechunk = null, i.writecb = null, null != e && this.push(e), n(t);
            var r = this._readableState;
            r.reading = !1, (r.needReadable || r.length < r.highWaterMark) && this._read(r.highWaterMark)
        }

        function r(t) {
            return this instanceof r ? (a.call(this, t), this._transformState = {
                afterTransform: n.bind(this),
                needTransform: !1,
                transforming: !1,
                writecb: null,
                writechunk: null,
                writeencoding: null
            }, this._readableState.needReadable = !0, this._readableState.sync = !1, t && ("function" == typeof t.transform && (this._transform = t.transform), "function" == typeof t.flush && (this._flush = t.flush)), void this.on("prefinish", o)) : new r(t)
        }

        function o() {
            var t = this;
            "function" == typeof this._flush ? this._flush(function (e, i) {
                s(t, e, i)
            }) : s(this, null, null)
        }

        function s(t, e, i) {
            if (e) return t.emit("error", e);
            if (null != i && t.push(i), t._writableState.length) throw new Error("Calling transform done when ws.length != 0");
            if (t._transformState.transforming) throw new Error("Calling transform done when still transforming");
            return t.push(null)
        }
        t.exports = r;
        var a = i(19),
            h = i(26);
        h.inherits = i(21), h.inherits(r, a), r.prototype.push = function (t, e) {
            return this._transformState.needTransform = !1, a.prototype.push.call(this, t, e)
        }, r.prototype._transform = function (t, e, i) {
            throw new Error("_transform() is not implemented")
        }, r.prototype._write = function (t, e, i) {
            var n = this._transformState;
            if (n.writecb = i, n.writechunk = t, n.writeencoding = e, !n.transforming) {
                var r = this._readableState;
                (n.needTransform || r.needReadable || r.length < r.highWaterMark) && this._read(r.highWaterMark)
            }
        }, r.prototype._read = function (t) {
            var e = this._transformState;
            null !== e.writechunk && e.writecb && !e.transforming ? (e.transforming = !0, this._transform(e.writechunk, e.writeencoding, e.afterTransform)) : e.needTransform = !0
        }, r.prototype._destroy = function (t, e) {
            var i = this;
            a.prototype._destroy.call(this, t, function (t) {
                e(t), i.emit("close")
            })
        }
    },
    function (t, e, i) {
        "use strict";

        function n(t, e) {
            var i = this,
                n = this._readableState && this._readableState.destroyed,
                r = this._writableState && this._writableState.destroyed;
            return n || r ? (e ? e(t) : !t || this._writableState && this._writableState.errorEmitted || s.nextTick(o, this, t), this) : (this._readableState && (this._readableState.destroyed = !0), this._writableState && (this._writableState.destroyed = !0), this._destroy(t || null, function (t) {
                !e && t ? (s.nextTick(o, i, t), i._writableState && (i._writableState.errorEmitted = !0)) : e && e(t)
            }), this)
        }

        function r() {
            this._readableState && (this._readableState.destroyed = !1, this._readableState.reading = !1, this._readableState.ended = !1, this._readableState.endEmitted = !1), this._writableState && (this._writableState.destroyed = !1, this._writableState.ended = !1, this._writableState.ending = !1, this._writableState.finished = !1, this._writableState.errorEmitted = !1)
        }

        function o(t, e) {
            t.emit("error", e)
        }
        var s = i(33);
        t.exports = {
            destroy: n,
            undestroy: r
        }
    },
    function (t, e, i) {
        t.exports = i(37).EventEmitter
    },
    function (t, e, i) {
        "use strict";

        function n(t) {
            if (!t) return "utf8";
            for (var e;;) switch (t) {
            case "utf8":
            case "utf-8":
                return "utf8";
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
                return "utf16le";
            case "latin1":
            case "binary":
                return "latin1";
            case "base64":
            case "ascii":
            case "hex":
                return t;
            default:
                if (e) return;
                t = ("" + t).toLowerCase(), e = !0
            }
        }

        function r(t) {
            var e = n(t);
            if ("string" != typeof e && (_.isEncoding === y || !y(t))) throw new Error("Unknown encoding: " + t);
            return e || t
        }

        function o(t) {
            this.encoding = r(t);
            var e;
            switch (this.encoding) {
            case "utf16le":
                this.text = p, this.end = d, e = 4;
                break;
            case "utf8":
                this.fillLast = l, e = 4;
                break;
            case "base64":
                this.text = f, this.end = m, e = 3;
                break;
            default:
                return this.write = g, void(this.end = v)
            }
            this.lastNeed = 0, this.lastTotal = 0, this.lastChar = _.allocUnsafe(e)
        }

        function s(t) {
            return t <= 127 ? 0 : t >> 5 === 6 ? 2 : t >> 4 === 14 ? 3 : t >> 3 === 30 ? 4 : -1
        }

        function a(t, e, i) {
            var n = e.length - 1;
            if (n < i) return 0;
            var r = s(e[n]);
            return r >= 0 ? (r > 0 && (t.lastNeed = r - 1), r) : --n < i ? 0 : (r = s(e[n]), r >= 0 ? (r > 0 && (t.lastNeed = r - 2), r) : --n < i ? 0 : (r = s(e[n]), r >= 0 ? (r > 0 && (2 === r ? r = 0 : t.lastNeed = r - 3), r) : 0))
        }

        function h(t, e, i) {
            if (128 !== (192 & e[0])) return t.lastNeed = 0, "�ｽ".repeat(i);
            if (t.lastNeed > 1 && e.length > 1) {
                if (128 !== (192 & e[1])) return t.lastNeed = 1, "�ｽ".repeat(i + 1);
                if (t.lastNeed > 2 && e.length > 2 && 128 !== (192 & e[2])) return t.lastNeed = 2, "�ｽ".repeat(i + 2)
            }
        }

        function l(t) {
            var e = this.lastTotal - this.lastNeed,
                i = h(this, t, e);
            return void 0 !== i ? i : this.lastNeed <= t.length ? (t.copy(this.lastChar, e, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal)) : (t.copy(this.lastChar, e, 0, t.length), void(this.lastNeed -= t.length))
        }

        function u(t, e) {
            var i = a(this, t, e);
            if (!this.lastNeed) return t.toString("utf8", e);
            this.lastTotal = i;
            var n = t.length - (i - this.lastNeed);
            return t.copy(this.lastChar, 0, n), t.toString("utf8", e, n)
        }

        function c(t) {
            var e = t && t.length ? this.write(t) : "";
            return this.lastNeed ? e + "�ｽ".repeat(this.lastTotal - this.lastNeed) : e
        }

        function p(t, e) {
            if ((t.length - e) % 2 === 0) {
                var i = t.toString("utf16le", e);
                if (i) {
                    var n = i.charCodeAt(i.length - 1);
                    if (n >= 55296 && n <= 56319) return this.lastNeed = 2, this.lastTotal = 4, this.lastChar[0] = t[t.length - 2], this.lastChar[1] = t[t.length - 1], i.slice(0, -1)
                }
                return i
            }
            return this.lastNeed = 1, this.lastTotal = 2, this.lastChar[0] = t[t.length - 1], t.toString("utf16le", e, t.length - 1)
        }

        function d(t) {
            var e = t && t.length ? this.write(t) : "";
            if (this.lastNeed) {
                var i = this.lastTotal - this.lastNeed;
                return e + this.lastChar.toString("utf16le", 0, i)
            }
            return e
        }

        function f(t, e) {
            var i = (t.length - e) % 3;
            return 0 === i ? t.toString("base64", e) : (this.lastNeed = 3 - i, this.lastTotal = 3, 1 === i ? this.lastChar[0] = t[t.length - 1] : (this.lastChar[0] = t[t.length - 2], this.lastChar[1] = t[t.length - 1]), t.toString("base64", e, t.length - i))
        }

        function m(t) {
            var e = t && t.length ? this.write(t) : "";
            return this.lastNeed ? e + this.lastChar.toString("base64", 0, 3 - this.lastNeed) : e
        }

        function g(t) {
            return t.toString(this.encoding)
        }

        function v(t) {
            return t && t.length ? this.write(t) : ""
        }
        var _ = i(35).Buffer,
            y = _.isEncoding || function (t) {
                switch (t = "" + t, t && t.toLowerCase()) {
                case "hex":
                case "utf8":
                case "utf-8":
                case "ascii":
                case "binary":
                case "base64":
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                case "raw":
                    return !0;
                default:
                    return !1
                }
            };
        e.StringDecoder = o, o.prototype.write = function (t) {
            if (0 === t.length) return "";
            var e, i;
            if (this.lastNeed) {
                if (e = this.fillLast(t), void 0 === e) return "";
                i = this.lastNeed, this.lastNeed = 0
            } else i = 0;
            return i < t.length ? e ? e + this.text(t, i) : this.text(t, i) : e || ""
        }, o.prototype.end = c, o.prototype.text = u, o.prototype.fillLast = function (t) {
            return this.lastNeed <= t.length ? (t.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal)) : (t.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, t.length), void(this.lastNeed -= t.length))
        }
    },
    function (t, e) {
        "use strict";

        function i(t) {
            var e = t.length;
            if (e % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
            return "=" === t[e - 2] ? 2 : "=" === t[e - 1] ? 1 : 0
        }

        function n(t) {
            return 3 * t.length / 4 - i(t)
        }

        function r(t) {
            var e, n, r, o, s, a = t.length;
            o = i(t), s = new u(3 * a / 4 - o), n = o > 0 ? a - 4 : a;
            var h = 0;
            for (e = 0; e < n; e += 4) r = l[t.charCodeAt(e)] << 18 | l[t.charCodeAt(e + 1)] << 12 | l[t.charCodeAt(e + 2)] << 6 | l[t.charCodeAt(e + 3)], s[h++] = r >> 16 & 255, s[h++] = r >> 8 & 255, s[h++] = 255 & r;
            return 2 === o ? (r = l[t.charCodeAt(e)] << 2 | l[t.charCodeAt(e + 1)] >> 4, s[h++] = 255 & r) : 1 === o && (r = l[t.charCodeAt(e)] << 10 | l[t.charCodeAt(e + 1)] << 4 | l[t.charCodeAt(e + 2)] >> 2, s[h++] = r >> 8 & 255, s[h++] = 255 & r), s
        }

        function o(t) {
            return h[t >> 18 & 63] + h[t >> 12 & 63] + h[t >> 6 & 63] + h[63 & t]
        }

        function s(t, e, i) {
            for (var n, r = [], s = e; s < i; s += 3) n = (t[s] << 16 & 16711680) + (t[s + 1] << 8 & 65280) + (255 & t[s + 2]), r.push(o(n));
            return r.join("")
        }

        function a(t) {
            for (var e, i = t.length, n = i % 3, r = "", o = [], a = 16383, l = 0, u = i - n; l < u; l += a) o.push(s(t, l, l + a > u ? u : l + a));
            return 1 === n ? (e = t[i - 1], r += h[e >> 2], r += h[e << 4 & 63], r += "==") : 2 === n && (e = (t[i - 2] << 8) + t[i - 1], r += h[e >> 10], r += h[e >> 4 & 63], r += h[e << 2 & 63], r += "="), o.push(r), o.join("")
        }
        e.byteLength = n, e.toByteArray = r, e.fromByteArray = a;
        for (var h = [], l = [], u = "undefined" != typeof Uint8Array ? Uint8Array : Array, c = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", p = 0, d = c.length; p < d; ++p) h[p] = c[p], l[c.charCodeAt(p)] = p;
        l["-".charCodeAt(0)] = 62, l["_".charCodeAt(0)] = 63
    },
    function (t, e) {
        var i = {}.toString;
        t.exports = Array.isArray || function (t) {
            return "[object Array]" == i.call(t)
        }
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f = function (t, e) {
            return function () {
                return t.apply(e, arguments)
            }
        };
        window.$ = i(101), window.requestAnimationFrame = i(106), window.THREE = i(126), window.TweenMax = i(38).TweenMax, window.CustomEase = i(38).CustomEase, window.TimelineMax = i(38).TimelineMax, window.isMobile = i(100), a = i(4), h = i(36), s = i(3), n = i(1), c = i(10), r = i(11), d = i(2), l = i(6), p = i(5), u = i(44), o = function () {
            function t() {
                this._resize = f(this._resize, this), this._update = f(this._update, this), this.init = f(this.init, this), this.isJp = "ja" === (window.navigator.userLanguage || window.navigator.language || window.navigator.browserLanguage).substr(0, 2)
            }
            return t.prototype.init = function () {
                return window.main = this, n.RELEASE && (console.warn = function (t) {
                    return function () {}
                }(this)), Number.isNaN = Number.isNaN || function (t) {
                    return "number" == typeof t && isNaN(t)
                }, n.IS_WEBGL || $("body").addClass("is-nowebgl"), n.IS_PC && $("body").addClass("is-pc"), n.IS_SIMPLE && $("body").addClass("is-simple"), n.IS_SP && $("body").addClass("is-sp"), d.isSafari() && $("body").addClass("is-safari"), d.isIE2() && $("body").addClass("is-ie11"), d.isFF() && $("body").addClass("is-ff"), isMobile.android.device && $("body").addClass("is-and"), $(".js-anchor").on("click", function (t) {
                    return function (t) {
                        var e, i;
                        return i = $(t.currentTarget).attr("data-tg"), e = $(i).offset().top, n.USE_SM_SCROLL ? c.set(e) : c.move({
                            tg: e
                        })
                    }
                }(this)), $(".js-richtext").each(function (t) {
                    return function (t, e) {
                        var i;
                        return i = new u({
                            el: $(e)
                        }), i.init()
                    }
                }(this)), l.add(this._resize, !0), p.add(this._update)
            }, t.prototype._update = function () {}, t.prototype._resize = function () {
                var t, e;
                if (e = s.sw(), t = s.sh(), e > t ? $("body").removeClass("is-portrait") : $("body").addClass("is-portrait"), isMobile.phone) return e > t ? $(".l-alert").addClass("is-show") : $(".l-alert").removeClass("is-show")
            }, t
        }(), t.exports = o
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v, _, y, x, w, b = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            S = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) T.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            T = {}.hasOwnProperty;
        x = i(2), y = i(5), l = i(11), f = i(6), w = i(9), s = i(1), d = i(4), v = i(7), u = i(3), _ = i(8), p = i(13), m = i(10), n = i(24), r = i(14), g = i(15), c = i(18), h = i(56), o = i(73), a = function (t) {
            function e(t) {
                this.isNowRenderFrame = b(this.isNowRenderFrame, this), this._resize = b(this._resize, this), this.render = b(this.render, this), this._update = b(this._update, this), this.start = b(this.start, this), this.init = b(this.init, this), t.transparent = !0, e.__super__.constructor.call(this, t), this._tg = t.el, this._pos = new THREE.Vector2(.5 * u.sw(), .5 * u.sh()), this._item, this._hoverItems = []
            }
            return S(e, t), e.prototype.init = function () {
                return this.renderParam = {
                    canvas: this.el().get(0),
                    alpha: !0,
                    premultipliedAlpha: !0,
                    preserveDrawingBuffer: !0,
                    antialias: !0,
                    stencil: !1,
                    depth: !0,
                    powerPreference: "low-power"
                }, e.__super__.init.call(this), this.camera = this._makeCamera({
                    isOrthographic: !0
                }), this.updateCamera(this.camera), this._item = new h, this._item.init(), this.mainScene.add(this._item), $(".js-hover-cursor").each(function (t) {
                    return function (e, i) {
                        var n;
                        return n = new o({
                            el: $(i)
                        }), n.init(), t._hoverItems.push(n)
                    }
                }(this)), this._resize()
            }, e.prototype.start = function (t) {}, e.prototype._update = function () {
                var t, e, i, n, r, o, a;
                if (!s.IS_SP) return n = u.sw(), i = u.sh(), r = this._renderSize.x, e = this._renderSize.y, s.IS_PC && (o = p.x - .5 * r, a = p.y - .5 * e, t = .15, this._pos.x += (o - this._pos.x) * t, this._pos.y += (a - this._pos.y) * t), s.IS_SIMPLE ? v.set(this._tg, {
                    x: ~~this._pos.x,
                    y: ~~this._pos.y
                }) : v.set(this._tg, {
                    x: this._pos.x,
                    y: this._pos.y
                }), this.isNowRenderFrame() ? this.render() : void 0
            }, e.prototype.render = function () {
                var t, e;
                if (!s.IS_SP) return e = this._renderSize.x, t = this._renderSize.y, this._item.render(), this.renderer.setClearColor(0, 0), this.renderer.render(this.mainScene, this.camera), this.renderCnt++
            }, e.prototype._resize = function () {
                var t, e, i;
                return i = u.r(300), t = i, this._renderSize.set(i, t), this.updateCamera(this.camera, i, t), this.renderer.setPixelRatio(u.ratio()), e = 1, this.renderer.setSize(i * e, t * e), this.renderer.clear()
            }, e.prototype.isNowRenderFrame = function () {
                return !(d.worksHoverRate.val >= 1) && (d.isWorksHover ? this.isRender : y.cnt % 2 === 0 && this.isRender)
            }, e
        }(n), t.exports = a
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            m = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) g.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            g = {}.hasOwnProperty;
        h = i(4), n = i(1), o = i(3), l = i(7), u = i(8), s = i(13), p = i(2), c = i(5), d = i(9), a = i(16), r = function (t) {
            function e(t) {
                this._makeLineGeo = f(this._makeLineGeo, this), this._makeDotGeo = f(this._makeDotGeo, this), this.render = f(this.render, this), this._update = f(this._update, this), this.init = f(this.init, this), e.__super__.constructor.call(this, t), this._dot, this._line, this._hoverRate = new d(0), this._moveVector = new THREE.Vector2(0, 0), this._oldMouseNormal = new THREE.Vector2(0, 0)
            }
            return m(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this._dot = new THREE.Mesh(this._makeDotGeo(), new THREE.MeshBasicMaterial({
                    color: 3024440,
                    transparent: !0
                })), this.add(this._dot), this._line = new THREE.Mesh(this._makeLineGeo(), new THREE.MeshBasicMaterial({
                    color: 3024440,
                    transparent: !0
                })), this.add(this._line), this._resize()
            }, e.prototype._update = function () {
                var t, i, r, o, a;
                if (e.__super__._update.call(this), !n.IS_SP) return t = h.isHover ? 1 : 0, this._hoverRate.val += .4 * (t - this._hoverRate.val), a = .1 * h.cursor.moveVec.value, r = (this._oldMouseNormal.x - s.normal.x) * a, o = (this._oldMouseNormal.y - s.normal.y) * a * -1, this._moveVector.x += .2 * (r - this._moveVector.x), this._moveVector.y += .2 * (o - this._moveVector.y), this._oldMouseNormal = s.normal.clone(), i = p.mix(1, 0, h.worksHoverRate.val), this._dot.material.opacity = i * p.mix(1, 0, this._hoverRate.val), this._line.material.opacity = i * p.mix(0, 1, this._hoverRate.val)
            }, e.prototype.render = function () {
                return this._dot.geometry.dispose(), this._dot.geometry = this._makeDotGeo(), this._line.geometry.dispose(), this._line.geometry = this._makeLineGeo()
            }, e.prototype._makeDotGeo = function () {
                var t, e, i, n, r, o, s, a, h, l, u, c, d, f, m, g, v, _, y;
                for (t = [], m = p.mix(5, 10, this._hoverRate.val), l = new THREE.Vector3(this._moveVector.x * m, this._moveVector.y * m, 0), r = 0, n = 10, a = 360; r < a;) f = p.radian(r), v = new THREE.Vector3(Math.sin(f) * m, Math.cos(f) * m, 0), i = v.distanceTo(l), h = p.map(i, 1, 0, 0, 2 * m), u = l.x * h, c = l.y * h, _ = new THREE.Vector3(Math.sin(f) * m + u, Math.cos(f) * m + c, 0), t.push(_), r += n;
                for (e = new THREE.CatmullRomCurve3(t), e.closed = !0, d = e.getPoints(50), g = new THREE.Shape, r = o = 0, s = d.length; o < s; r = ++o) y = d[r], 0 === r ? g.moveTo(y.x, y.y) : g.lineTo(y.x, y.y);
                return new THREE.ShapeBufferGeometry(g)
            }, e.prototype._makeLineGeo = function () {
                var t, e, i, n, r, s, a, l, u, c, d, f, m, g, v;
                for (t = [], m = p.mix(p.mix(5, 10, this._hoverRate.val), o.r(150), h.worksHoverRate.val), u = new THREE.Vector3(this._moveVector.x * m, this._moveVector.y * m, 0), s = 0, n = 12, a = 360; s < a;) f = p.radian(s), g = new THREE.Vector3(Math.sin(f) * m, Math.cos(f) * m, 0), i = g.distanceTo(u), l = p.map(i, 1, 0, 0, 2 * m), c = u.x * l, d = u.y * l, v = new THREE.Vector3(Math.sin(f) * m + c, Math.cos(f) * m + d, 0), t.push(v), s += n;
                return e = new THREE.CatmullRomCurve3(t), e.closed = !0, r = new THREE.TubeBufferGeometry(e, 128, .5, 3, !0)
            }, e
        }(a), t.exports = r
    },
    function (t, e) {
        var i, n = function (t, e) {
            return function () {
                return t.apply(e, arguments)
            }
        };
        i = function () {
            function t(t) {
                this._isChange = n(this._isChange, this), this.render = n(this.render, this), this.css = n(this.css, this), this.mask = n(this.mask, this), this.opacity = n(this.opacity, this), this.color = n(this.color, this), this.bgColor = n(this.bgColor, this), this.right = n(this.right, this), this.bottom = n(this.bottom, this), this.left = n(this.left, this), this.top = n(this.top, this), this.cssProp = n(this.cssProp, this), this.br = n(this.br, this), this.tl = n(this.tl, this), this.pos = n(this.pos, this), this.copySize = n(this.copySize, this), this.size = n(this.size, this), this.height2 = n(this.height2, this), this.width2 = n(this.width2, this), this.height = n(this.height, this), this.width = n(this.width, this), this.unshift = n(this.unshift, this), this.add = n(this.add, this), this.hasChild = n(this.hasChild, this), this.lastChild = n(this.lastChild, this), this.firstChild = n(this.firstChild, this), this.children = n(this.children, this), this.parent = n(this.parent, this), this.removeClass = n(this.removeClass, this), this.addClass = n(this.addClass, this), this.find = n(this.find, this), this.el = n(this.el, this), this._createId = n(this._createId, this), this.dispose = n(this.dispose, this), this.init = n(this.init, this), this._opt = t || {}, null == this._opt.tag && (this._opt.tag = "div"), this._css = {}, this._tmpCss = {}, this._children = [], this._parent, this._removeFlg = !0
            }
            return t.prototype.init = function () {
                var t;
                if (null == this._opt.el && (t = this._createId(), $("body").append("<" + this._opt.tag + ' id="' + t + '"></' + this._opt.tag + ">"), this._opt.el = $("#" + t), this._opt.id = t), null != this._opt.attr) return this._opt.el.attr(this._opt.attr)
            }, t.prototype.dispose = function () {
                var t, e, i, n, r;
                if (null != this._children) {
                    for (n = this._children, t = e = 0, i = n.length; e < i; t = ++e) r = n[t], null != r && r.dispose();
                    this._children = null
                }
                return null != this._opt && null != this._opt.el && (this._opt.el.off(), this._removeFlg && this._opt.el.remove(), this._opt.el = null), this._opt = null, this._css = null, this._tmpCss = null, this._parent = null
            }, t.prototype._createId = function () {
                return null == window.MY_DISPLAY_ID && (window.MY_DISPLAY_ID = 0), "display" + String(window.MY_DISPLAY_ID++)
            }, t.prototype.el = function () {
                return this._opt.el
            }, t.prototype.find = function (t) {
                return this.el().find(t)
            }, t.prototype.addClass = function (t) {
                return this.el().addClass(t), this
            }, t.prototype.removeClass = function (t) {
                return this.el().removeClass(t), this
            }, t.prototype.parent = function (t) {
                return null != t ? this._parent = t : this._parent
            }, t.prototype.children = function (t) {
                return null == t || this.hasChild(t) ? this._children : this._children.push(t)
            }, t.prototype.firstChild = function () {
                return this._children[0]
            }, t.prototype.lastChild = function () {
                return this._children[this._children.length - 1]
            }, t.prototype.hasChild = function (t) {
                var e, i, n, r, o;
                for (r = this._children, e = i = 0, n = r.length; i < n; e = ++i)
                    if (o = r[e], o === t) return !0;
                return !1
            }, t.prototype.add = function (t) {
                return t.el().appendTo(this.el()), this.children(t), t.parent(this), t
            }, t.prototype.unshift = function (t) {
                return t.el().prependTo(this.el()), this.children(t), t.parent(this), t
            }, t.prototype.width = function (t) {
                return null != t ? (this._css.width = t, this) : null != this._css.width ? this._css.width : this.el().width()
            }, t.prototype.height = function (t) {
                return null != t ? (this._css.height = t, this) : null != this._css.height ? this._css.height : this.el().height()
            }, t.prototype.width2 = function (t) {
                return t ? ~~(.5 * this.width()) : .5 * this.width()
            }, t.prototype.height2 = function (t) {
                return t ? ~~(.5 * this.height()) : .5 * this.height()
            }, t.prototype.size = function (t, e) {
                return this._css.width = t, this._css.height = e, this
            }, t.prototype.copySize = function (t) {
                return this._css.width = t.width(), this._css.height = t.height(), this
            }, t.prototype.pos = function (t) {
                return null == t && (t = "absolute"), this._css.position = t, this
            }, t.prototype.tl = function (t, e) {
                return this._css.top = t, this._css.left = e, this
            }, t.prototype.br = function (t, e) {
                return this._css.bottom = t, this._css.right = e, this
            }, t.prototype.cssProp = function (t, e) {
                return null == e ? this._css[t] : (this._css[t] = e, this)
            }, t.prototype.top = function (t) {
                return this.cssProp("top", t)
            }, t.prototype.left = function (t) {
                return this.cssProp("left", t)
            }, t.prototype.bottom = function (t) {
                return this.cssProp("bottom", t)
            }, t.prototype.right = function (t) {
                return this.cssProp("right", t)
            }, t.prototype.bgColor = function (t) {
                return this.cssProp("backgroundColor", t)
            }, t.prototype.color = function (t) {
                return this.cssProp("color", t)
            }, t.prototype.opacity = function (t) {
                return this.cssProp("opacity", t)
            }, t.prototype.mask = function (t) {
                return this._css.overflow = t ? "hidden" : "visible", this
            }, t.prototype.css = function () {
                return this._css
            }, t.prototype.render = function () {
                var t, e, i;
                if (this._isChange()) {
                    TweenMax.set(this.el(), {
                        css: this._css
                    }), e = this._css;
                    for (t in e) i = e[t], this._tmpCss[t] = i
                }
                return this
            }, t.prototype._isChange = function () {
                var t, e, i;
                e = this._css;
                for (t in e)
                    if (i = e[t], i !== this._tmpCss[t]) return !0;
                return !1
            }, t
        }(), t.exports = i
    },
    function (t, e, i) {
        var n, r, o = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            s = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) a.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            a = {}.hasOwnProperty;
        n = i(57), r = function (t) {
            function e(t) {
                this._getScaleVal = o(this._getScaleVal, this), this._getRotateVal = o(this._getRotateVal, this), this._getTranslateVal = o(this._getTranslateVal, this), this._getVendorCss = o(this._getVendorCss, this), this.perspective = o(this.perspective, this), this.pivot = o(this.pivot, this), this._isChangeTransform = o(this._isChangeTransform, this), this.render = o(this.render, this), this.rotateZ = o(this.rotateZ, this), this.rotateY = o(this.rotateY, this), this.rotateX = o(this.rotateX, this), this.rotate2 = o(this.rotate2, this), this.scaleZ = o(this.scaleZ, this), this.scaleY = o(this.scaleY, this), this.scaleX = o(this.scaleX, this), this.scale2 = o(this.scale2, this), this.translateZ = o(this.translateZ, this), this.translateY = o(this.translateY, this), this.translateX = o(this.translateX, this), this.transformProp = o(this.transformProp, this), this.reset = o(this.reset, this), this.dispose = o(this.dispose, this), this.init = o(this.init, this), e.__super__.constructor.call(this, t), this._transform = {}, this._tmpTransform = {}
            }
            return s(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this.reset()
            }, e.prototype.dispose = function () {
                return this._tmpTransform = null, this._transform = null, e.__super__.dispose.call(this)
            }, e.prototype.reset = function () {
                return this._transform = {
                    translateX: 0,
                    translateY: 0,
                    translateZ: 0,
                    scaleX: 1,
                    scaleY: 1,
                    scaleZ: 1,
                    rotateX: 0,
                    rotateY: 0,
                    rotateZ: 0
                }, this._tmpTransform = {}
            }, e.prototype.transformProp = function (t, e) {
                return null == e ? this._transform[t] : (this._transform[t] = e, this)
            }, e.prototype.translateX = function (t) {
                return this.transformProp("translateX", t)
            }, e.prototype.translateY = function (t) {
                return this.transformProp("translateY", t)
            }, e.prototype.translateZ = function (t) {
                return this.transformProp("translateZ", t)
            }, e.prototype.scale2 = function (t) {
                return this.scaleX(t), this.scaleY(t), this
            }, e.prototype.scaleX = function (t) {
                return this.transformProp("scaleX", t)
            }, e.prototype.scaleY = function (t) {
                return this.transformProp("scaleY", t)
            }, e.prototype.scaleZ = function (t) {
                return this.transformProp("scaleZ", t)
            }, e.prototype.rotate2 = function (t) {
                return this.rotateZ(t)
            }, e.prototype.rotateX = function (t) {
                return this.transformProp("rotateX", t)
            }, e.prototype.rotateY = function (t) {
                return this.transformProp("rotateY", t)
            }, e.prototype.rotateZ = function (t) {
                return this.transformProp("rotateZ", t)
            }, e.prototype.render = function () {
                var t, i, n, r, o;
                if (e.__super__.render.call(this), this._isChangeTransform()) {
                    r = "", r += this._getTranslateVal(), r += " ", r += this._getRotateVal(), r += " ", r += this._getScaleVal(), this.el().css(this._getVendorCss("transform", r)), i = this._transform, n = [];
                    for (t in i) o = i[t], n.push(this._tmpTransform[t] = o);
                    return n
                }
            }, e.prototype._isChangeTransform = function () {
                var t, e, i;
                e = this._transform;
                for (t in e)
                    if (i = e[t], i !== this._tmpTransform[t]) return !0;
                return !1
            }, e.prototype.pivot = function (t) {
                return t = t || "50% 50%", this.el().css(this._getVendorCss("transform-origin", t)), this
            }, e.prototype.perspective = function (t) {
                return t = t || 250, this.el().css(this._getVendorCss("transform-style", "preserve-3d")).css(this._getVendorCss("perspective", t)), this
            }, e.prototype._getVendorCss = function (t, e) {
                var i;
                return i = {}, i["-webkit-" + t] = e, i["-o-" + t] = e, i["-khtml-" + t] = e, i["-ms-" + t] = e, i[t] = e, i
            }, e.prototype._getTranslateVal = function () {
                var t;
                return t = 0 !== this._transform.translateX || 0 !== this._transform.translateY || 0 !== this._transform.translateZ ? "translate3d(" + this._transform.translateX + "px," + this._transform.translateY + "px," + this._transform.translateZ + "px)" : ""
            }, e.prototype._getRotateVal = function () {
                var t;
                return 0 !== this._transform.rotateX || 0 !== this._transform.rotateY || 0 !== this._transform.rotateZ ? (t = "", t += "rotate3d(1,0,0," + this._transform.rotateX + "deg)", t += " ", t += "rotate3d(0,1,0," + this._transform.rotateY + "deg)", t += " ", t += "rotate3d(0,0,1," + this._transform.rotateZ + "deg)") : t = "", t
            }, e.prototype._getScaleVal = function () {
                var t;
                return t = 1 !== this._transform.scaleX || 1 !== this._transform.scaleY || 1 !== this._transform.scaleZ ? "scale3d(" + this._transform.scaleX + "," + this._transform.scaleY + "," + this._transform.scaleZ + ")" : ""
            }, e
        }(n), t.exports = r
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v, _, y, x, w, b = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            S = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) T.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            T = {}.hasOwnProperty;
        w = i(27), c = i(4), s = i(1), g = i(7), h = i(3), l = i(13), f = i(10), _ = i(2), v = i(5), d = i(6), y = i(9), u = i(16), o = i(14), m = i(15), a = i(25), p = i(31), r = i(30), x = i(32), n = function (t) {
            function e(t) {
                this._resize = b(this._resize, this), this._update = b(this._update, this), this.render = b(this.render, this), this.setSample = b(this.setSample, this), this.getSample = b(this.getSample, this), this.getCap = b(this.getCap, this), this.setWorkImg = b(this.setWorkImg, this), this.init = b(this.init, this), e.__super__.constructor.call(this, t), this._sample = [], this._particle = [], this._cap, this._dest, this._mask, this._works, this.alphaOffset = new y(1)
            }
            return S(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this._mask = new r, this._mask.init(), this._cap = new o, this._cap.init(), this._works = new x, this._works.init(), this._cap.add(this._works), this._dest = new a({
                    frag: i(108),
                    uni: {
                        tDiffuse: {
                            value: this._cap.texture()
                        },
                        tMask: {
                            value: this._mask.texture()
                        },
                        seed: {
                            value: new THREE.Vector3(0, 0, 0)
                        },
                        resolution: {
                            value: new THREE.Vector2(0, 0)
                        },
                        colorA: {
                            value: s.BLACK_COLOR
                        },
                        colorB: {
                            value: s.BG_COLOR
                        },
                        revY: {
                            value: 0
                        },
                        alpha: {
                            value: 1
                        },
                        revRate: {
                            value: 0
                        },
                        offset: {
                            value: 0
                        },
                        darkness: {
                            value: 0
                        },
                        time: {
                            value: 0
                        },
                        isBlackOnly: {
                            value: !1
                        }
                    }
                }), this._dest.init(), this.add(this._dest), this._resize()
            }, e.prototype.setWorkImg = function (t) {
                return this._works.setTex(t)
            }, e.prototype.getCap = function () {
                return this._cap
            }, e.prototype.getSample = function () {
                return this._sample
            }, e.prototype.setSample = function (t) {
                return w(t.base64, function (t) {
                    return function (e, i) {
                        var n, r, o, s, a, h, l, u, c;
                        for (o = i.data, c = i.shape[0], s = i.shape[1], a = 0, r = 0, l = o.length; a < l;) h = a / 4, n = o[a + 3], n > 0 && r % 1 === 0 && t._sample.push({
                            position: new THREE.Vector2(h % c - .5 * c, ~~ (h / c) * -1 + .5 * s),
                            size: new THREE.Vector2(c, s)
                        }), a += 4, r++;
                        for (console.log(t._sample.length), a = 0; a < 2;) u = new p({
                            isYoko: 1 === a,
                            sample: t._sample
                        }), u.init(), t._particle.push(u), t._cap.add(u), a++;
                        if (null != t.opt.parent.onCompleteBg) return t.opt.parent.onCompleteBg()
                    }
                }(this))
            }, e.prototype.render = function (t, e) {
                var i, n, r, o;
                if (r = f.val, o = h.sh(), i = 16777215, this._mask.visible && (t.setClearColor(i, 0), this._mask.render(t, e)), (c.mvScrollRate.val < 1 || c.isWorksHover || c.isOpenDetailInfo) && (n = 2, r >= .5 * o && (n = 4), (c.isWorksHover || c.isOpenDetailInfo) && (n = 1), s.IS_SP && (n = 1), v.cnt % n === 0)) return t.setClearColor(i, 1), this._cap.render(t, e)
            }, e.prototype._update = function () {
                var t, i, n, r;
                return e.__super__._update.call(this), r = h.sw(), t = h.sh2(), this._mask.visible = !c.isWorksHover, this._mask.visible = !c.isOpenDetailInfo, i = c.mvReverse.val, n = this._dest.uni(), n.revRate.value = _.map(i, 0, 1, 0, 1), n.darkness.value = .01 * c.all.darkness.value, n.offset.value = _.mix(0, -2, i), n.time.value = _.mix(0, 1.5, i), n.revY.value = _.map(c.mvScrollRate.val, 0, 1, .01 * c.bgMask.zure.value, .01 * c.bgMask.zureMax.value), this._mask.visible || (n.revY.value = 0), n.isBlackOnly.value = c.isWorksHover, n.alpha.value = 1 * this.alphaOffset.val, h.isXS() ? (n.resolution.value.x = r, n.resolution.value.y = t) : (n.resolution.value.x = 1, n.resolution.value.y = 1)
            }, e.prototype._resize = function () {
                var t, i, n, r;
                return e.__super__._resize.call(this), n = h.sw(), i = h.sh2(), c.isOpenDetailInfo ? (t = .5, this._cap.setSize(n * t, i * t)) : this._cap.setSize(n, i), this._dest.setSize(n, i), r = this._dest.uni(), r.seed.value.x = _.range(0), r.seed.value.y = _.range(0), r.seed.value.z = _.range(.1)
            }, e
        }(u), t.exports = n
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v, _, y, x, w, b = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            S = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) T.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            T = {}.hasOwnProperty;
        w = i(27), c = i(4), s = i(1), g = i(7), h = i(3), l = i(13), f = i(10), _ = i(2), v = i(5), d = i(6), y = i(9), u = i(16), o = i(14), m = i(15), a = i(25), p = i(31), r = i(30), x = i(32), n = function (t) {
            function e(t) {
                this._resize = b(this._resize, this), this._update = b(this._update, this), this.show = b(this.show, this), this.init = b(this.init, this), e.__super__.constructor.call(this, t), this._dest, this._showRate = new y
            }
            return S(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this._dest = new a({
                    frag: i(109),
                    uni: {
                        alpha: {
                            value: 1
                        },
                        seed: {
                            value: new THREE.Vector3(0, 0, 0)
                        },
                        resolution: {
                            value: new THREE.Vector2(0, 0)
                        },
                        revRate: {
                            value: 0
                        },
                        offset: {
                            value: 0
                        },
                        darkness: {
                            value: 0
                        },
                        time: {
                            value: 0
                        }
                    }
                }), this._dest.init(), this.add(this._dest), this._resize()
            }, e.prototype.show = function (t) {
                return g.a(this._showRate, {
                    val: [0, 1]
                }, 1.5, 0, Power2.easeInOut, null, null, t.onComplete), this._update()
            }, e.prototype._update = function () {
                var t, i, n, r;
                return e.__super__._update.call(this), r = h.sw(), t = h.sh2(), i = this._showRate.val, n = this._dest.uni(), n.revRate.value = i, n.darkness.value = 0, n.offset.value = _.mix(0, -2, i), n.time.value = _.mix(0, 1.5, i), h.isXS() ? (n.resolution.value.x = r, n.resolution.value.y = t) : (n.resolution.value.x = 1, n.resolution.value.y = 1)
            }, e.prototype._resize = function () {
                var t, i, n;
                return e.__super__._resize.call(this), i = h.sw(), t = h.sh2(), this._dest.setSize(i, t), n = this._dest.uni(), n.seed.value.x = _.range(0), n.seed.value.y = _.range(0), n.seed.value.z = _.range(.1)
            }, e
        }(u), t.exports = n
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v, _, y, x, w, b = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            S = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) T.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            T = {}.hasOwnProperty;
        w = i(27), c = i(4), s = i(1), g = i(7), h = i(3), l = i(13), f = i(10), _ = i(2), v = i(5), d = i(6), y = i(9), u = i(16), o = i(14), m = i(15), a = i(25), p = i(31), r = i(30), x = i(32), n = function (t) {
            function e(t) {
                this._resize = b(this._resize, this), this._update = b(this._update, this), this.render = b(this.render, this), this.getCap = b(this.getCap, this), this.init = b(this.init, this), e.__super__.constructor.call(this, t), this._particle = [], this._cap, this._dest
            }
            return S(e, t), e.prototype.init = function () {
                var t, n, r;
                for (e.__super__.init.call(this), this._cap = new o, this._cap.init(), this._dest = new a({
                    frag: i(46),
                    uni: {
                        tDiffuse: {
                            value: this._cap.texture()
                        },
                        tMask: {
                            value: null
                        },
                        revY: {
                            value: 0
                        },
                        alpha: {
                            value: 1
                        },
                        revRate: {
                            value: 0
                        },
                        offset: {
                            value: 0
                        },
                        darkness: {
                            value: 0
                        },
                        time: {
                            value: 0
                        },
                        isBlackOnly: {
                            value: !0
                        }
                    }
                }), this._dest.init(), this.add(this._dest), r = main.mv._bg.getSample(), t = 0; t < 2;) n = new p({
                    isYoko: 1 === t,
                    sample: r,
                    isLast: !0
                }), n.init(), this._particle.push(n), this._cap.add(n), t++;
                return this._resize()
            }, e.prototype.getCap = function () {
                return this._cap
            }, e.prototype.render = function (t, e) {
                return t.setClearColor(0, 1), this._cap.render(t, e)
            }, e.prototype._update = function () {
                var t, i, n;
                return e.__super__._update.call(this), n = h.sw(), t = h.sh2(), i = this._dest.uni(), i.revRate.value = 1, i.darkness.value = .01 * c.all.darkness.value, i.offset.value = 0, i.time.value = 0, i.revY.value = 0, i.isBlackOnly.value = !0, i.alpha.value = 1
            }, e.prototype._resize = function () {
                var t, i, n;
                return e.__super__._resize.call(this), n = h.sw(), i = h.sh2(), t = 1, this._cap.setSize(n * t, i * t), this._dest.setSize(n, i)
            }, e
        }(u), t.exports = n
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v, _, y, x, w, b = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            S = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) T.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            T = {}.hasOwnProperty;
        w = i(27), c = i(4), s = i(1), g = i(7), h = i(3), l = i(13), f = i(10), _ = i(2), v = i(5), d = i(6), y = i(9), u = i(16), o = i(14), m = i(15), a = i(25), p = i(31), r = i(30), x = i(32), n = function (t) {
            function e(t) {
                this._resize = b(this._resize, this), this._update = b(this._update, this), this.render = b(this.render, this), this.init = b(this.init, this), e.__super__.constructor.call(this, t), this._particle = [], this._cap, this._dest, this._showRate = new y(0)
            }
            return S(e, t), e.prototype.init = function () {
                var t, n, r;
                for (e.__super__.init.call(this), this._cap = new o, this._cap.init(), this._dest = new a({
                    frag: i(46),
                    uni: {
                        tDiffuse: {
                            value: this._cap.texture()
                        },
                        tMask: {
                            value: null
                        },
                        resolution: {
                            value: new THREE.Vector2(0, 0)
                        },
                        colorA: {
                            value: s.BLACK_COLOR
                        },
                        colorB: {
                            value: s.BG_COLOR
                        },
                        revY: {
                            value: 0
                        },
                        alpha: {
                            value: 1
                        },
                        revRate: {
                            value: 0
                        },
                        offset: {
                            value: 0
                        },
                        darkness: {
                            value: 0
                        },
                        time: {
                            value: 0
                        },
                        isBlackOnly: {
                            value: !1
                        },
                        seed: {
                            value: new THREE.Vector3(0, 0, 0)
                        }
                    }
                }), this._dest.init(), this.add(this._dest), r = main.mv._bg.getSample(), t = 0; t < 2;) n = new p({
                    isYoko: 1 === t,
                    sample: r,
                    isMenu: !0
                }), n.init(), this._particle.push(n), this._cap.add(n), t++;
                return this._resize()
            }, e.prototype.render = function (t, e) {
                return t.setClearColor(16777215, 1), this._cap.render(t, e)
            }, e.prototype._update = function () {
                var t, i, n;
                return e.__super__._update.call(this), n = h.sw(), t = h.sh2(), i = this._dest.uni(), i.revRate.value = 1, i.darkness.value = .01 * c.all.darkness.value, i.offset.value = 0, i.time.value = 0, i.revY.value = 0, i.isBlackOnly.value = !0, i.alpha.value = .5
            }, e.prototype._resize = function () {
                var t, i, n;
                return e.__super__._resize.call(this), n = h.sw(), i = h.sh2(), t = 1, this._cap.setSize(n * t, i * t), this._dest.setSize(n, i)
            }, e
        }(u), t.exports = n
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            v = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) _.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            _ = {}.hasOwnProperty;
        l = i(4), o = i(1), p = i(7), s = i(3), a = i(13), f = i(2), d = i(5), u = i(6), m = i(9), h = i(16), r = i(14), c = i(15), n = function (t) {
            function e(t) {
                this._resize = g(this._resize, this), this._update = g(this._update, this), this.init = g(this.init, this), e.__super__.constructor.call(this, t), this._mesh = [], this._kake = .1
            }
            return v(e, t), e.prototype.init = function () {
                var t, i, n;
                for (e.__super__.init.call(this), o.IS_SP && (this._kake *= 2), t = 0, n = 500; t < n;) i = new THREE.Mesh(new THREE.BoxBufferGeometry(1, 1, 1), new THREE.MeshBasicMaterial({
                    color: 16711680,
                    side: THREE.DoubleSide,
                    transparent: !0
                })), this.add(i), this._mesh.push(i), t++;
                return this._resize()
            }, e.prototype._update = function () {
                var t, i;
                return e.__super__._update.call(this), i = s.sw(), t = s.sh2()
            }, e.prototype._resize = function () {
                var t, i, n, r, a, h, l, u, c, p;
                if (e.__super__._resize.call(this), this.visible) {
                    for (p = s.sw(), t = s.sh2(), a = 20, o.IS_SP && !isMobile.tablet && (a = 15), h = this._mesh, l = [], i = n = 0, r = h.length; n < r; i = ++n) c = h[i], u = .01 * p, c.scale.set(u * this._kake, 3 * u, u), c.position.x = ~~ (i / a) * (p / a), c.position.y = i % a * (p / a), c.position.x -= p / a * a * .5, l.push(c.position.y -= p / a * a * .5);
                    return l
                }
            }, e
        }(h), t.exports = n
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v, _, y, x, w, b = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            S = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) T.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            T = {}.hasOwnProperty;
        x = i(2), y = i(5), a = i(11), f = i(6), w = i(9), s = i(1), d = i(4), v = i(7), h = i(3), _ = i(8), p = i(13), m = i(10), r = i(24), o = i(14), l = i(18), g = i(15), n = i(61), c = i(42), u = function (t) {
            function e(t) {
                this.isNowRenderFrame = b(this.isNowRenderFrame, this), this.setSize = b(this.setSize, this), this._resize = b(this._resize, this), this.render = b(this.render, this), this._update = b(this._update, this), this.init = b(this.init, this), e.__super__.constructor.call(this, t), this._parent = t.parent, this._bg, this._isShow = !1, this._isShow2 = !1, this._logo, this._logoCamera, this._rate = 0
            }
            return S(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this.camera = this._makeCamera({
                    isOrthographic: !0
                }), this.updateCamera(this.camera), this._logoCamera = this._makeCamera({
                    isOrthographic: !0
                }), this.updateCamera(this._logoCamera), this._bg = new n({
                    parent: this
                }), this._bg.init(), this.mainScene.add(this._bg), this._logo = new c({
                    isLast: !0
                }), this._logo.init(), this._bg.getCap().add(this._logo), this._resize()
            }, e.prototype._update = function () {
                var t, e, i, n, r, o, s, a, l, u;
                if (u = this._renderSize.x, i = this._renderSize.y, l = m.val, i = h.sh2(), t = m.docSize.height, s = t - i - h.r(h.val(1600, 1050)), this._isShow2 = l > t - 1.5 * i, l > 2 * i && l > s && main.router.nowPage === _.PAGE_ID.TOP && !d.isOpenXSMenu ? this._isShow || (this._parent.addClass("is-show"), this._isShow = !0, this._logo.show({
                    delay: 0
                })) : this._isShow && (this._parent.removeClass("is-show"), this._isShow = !1), a = x.map(l, 0, 1, s - i, t - i), this._rate += .1 * (a - this._rate), d.lastBgRate = this._rate, o = h.r(542), e = h.r(h.val(1110, 400)), n = h.r(h.val(.30361445772, .21)), this._logo.scale.set(n, n, 1), r = h.isLG() ? .5 * (i - h.sh()) - .5 * h.sh() + e + .5 * o : .5 * (i - h.sh()) + .5 * i - .5 * o, this._logo.position.y = x.mix(r - h.r(h.val(-200, -50)), r, this._rate), this.isNowRenderFrame()) return this.render()
            }, e.prototype.render = function () {
                var t, e;
                return t = m.val, e = h.sh(), this._bg.render(this.renderer, this.camera), this._logo.render(this.renderer, this._logoCamera), this.renderer.setClearColor(16777215, 1), this.renderer.render(this.mainScene, this.camera), this.renderCnt++
            }, e.prototype._resize = function () {
                var t, e;
                return e = h.sw(), t = h.sh2(), this.setSize(e, t), this.render()
            }, e.prototype.setSize = function (t, e) {
                return this._renderSize.set(t, e), this.updateCamera(this.camera, t, e), this.updateCamera(this._logoCamera, s.LOGO_SIZE.x, s.LOGO_SIZE.y), this.renderer.setPixelRatio(h.ratio()), this.renderer.setSize(t, e), this.renderer.clear()
            }, e.prototype.isNowRenderFrame = function () {
                return !!this._isShow && (s.IS_SP ? y.cnt % 1 === 0 && this.isRender : this._isShow2 ? y.cnt % 2 === 0 && this.isRender : y.cnt % 5 === 0 && this.isRender)
            }, e
        }(r), t.exports = u
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            _ = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) y.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            y = {}.hasOwnProperty;
        l = i(4), r = i(1), p = i(7), o = i(3), a = i(13), d = i(8), m = i(2), f = i(5), u = i(6), g = i(9), h = i(16), n = i(14), c = i(15), s = function (t) {
            function e(t) {
                this._resize = v(this._resize, this), this._update = v(this._update, this), this.render = v(this.render, this), this.show2 = v(this.show2, this), this.show = v(this.show, this), this.showFast = v(this.showFast, this), this.init = v(this.init, this), e.__super__.constructor.call(this, t), this.type = t.type, this._maskData = r.LOGO_MASK_DATA[this.type], this._cap, this._mask = [], this._dest, this._showRate = new g(0)
            }
            return _(e, t), e.prototype.init = function () {
                var t, o, s;
                for (e.__super__.init.call(this), this._cap = new n, this._cap.init(), t = 0, s = this._maskData.length; t < s;) o = new THREE.Mesh(new THREE.PlaneBufferGeometry(1, 1), new THREE.ShaderMaterial({
                    vertexShader: i(34),
                    fragmentShader: i(113),
                    transparent: !0,
                    depthTest: !1,
                    uniforms: {
                        rate: {
                            value: 0
                        },
                        isYoko: {
                            value: this.type === d.LOGO.B
                        }
                    }
                })), this._cap.add(o), this._mask.push(o), t++;
                return this._dest = new THREE.Mesh(new THREE.PlaneBufferGeometry(1, 1), new THREE.ShaderMaterial({
                    vertexShader: i(34),
                    fragmentShader: i(112),
                    transparent: !0,
                    depthTest: !1,
                    uniforms: {
                        tDiffuse: {
                            value: c.get(r.PATH_IMG + "kv/logo/" + this.type + ".png")
                        },
                        tMask: {
                            value: this._cap.texture()
                        },
                        useMask: {
                            value: this.type !== d.LOGO.A
                        },
                        alpha: {
                            value: 0
                        },
                        reverse: {
                            value: 0
                        },
                        last: {
                            value: this.opt.isLast ? 1 : 0
                        },
                        colorA: {
                            value: r.BLACK_COLOR
                        },
                        colorB: {
                            value: r.BG_COLOR
                        }
                    }
                })), this.add(this._dest), this._resize()
            }, e.prototype.showFast = function (t) {
                var e, i, n, r, o, s, a, h, l, u;
                if (this.type === d.LOGO.A && (this._showRate.val = 1), this.type === d.LOGO.B)
                    for (this._showRate.val = 1, s = this._mask, e = i = 0, r = s.length; i < r; e = ++i) u = s[e], l = u.material.uniforms, l.rate.value = 1;
                if (this.type === d.LOGO.C) {
                    for (this._showRate.val = 1.25, a = this._mask, h = [], e = n = 0, o = a.length; n < o; e = ++n) u = a[e], h.push(function () {
                        var t, i, n, r;
                        for (n = this._mask, r = [], e = t = 0, i = n.length; t < i; e = ++t) u = n[e], l = u.material.uniforms, r.push(l.rate.value = 1);
                        return r
                    }.call(this));
                    return h
                }
            }, e.prototype.show = function (t) {
                var e, i, n, r, o, s, a, h, l, u;
                if (this.type === d.LOGO.A && p.a(this._showRate, {
                    val: 1
                }, .5, t.delay), this.type === d.LOGO.B)
                    for (this._showRate.val = 1, s = this._mask, e = i = 0, r = s.length; i < r; e = ++i) u = s[e], 7 !== e && (l = u.material.uniforms, p.a(l.rate, {
                        value: [0, 1]
                    }, 1, t.delay + .1 * e, Power2.easeInOut));
                if (this.type === d.LOGO.C) {
                    for (this._showRate.val = 1.25, a = this._mask, h = [], e = n = 0, o = a.length; n < o; e = ++n) u = a[e], 2 !== e ? (l = u.material.uniforms, h.push(p.a(l.rate, {
                        value: [0, 1]
                    }, 1, t.delay + .1 * e, Power2.easeInOut))) : h.push(void 0);
                    return h
                }
            }, e.prototype.show2 = function (t) {
                var e, i, n;
                if (i = 1, e = Power2.easeInOut, this.type === d.LOGO.B && (n = this._mask[7].material.uniforms, p.a(n.rate, {
                    value: [0, 1]
                }, i, t.delay, e)), this.type === d.LOGO.C) return n = this._mask[2].material.uniforms, p.a(n.rate, {
                    value: [0, 1]
                }, i, t.delay, e, null, null, t.onComplete)
            }, e.prototype.render = function (t, e) {
                return t.setClearColor(r.BG_COLOR, 0), this._cap.render(t, e)
            }, e.prototype._update = function () {
                var t, i, n, s, a, h, u, c, p, d, f, g, v;
                for (e.__super__._update.call(this), f = o.sw(), i = o.sh(), c = 1024, this._dest.scale.set(c, c, 1), p = this._dest.material.uniforms, p.alpha.value = this._showRate.val, this.opt.isLast || (p.alpha.value *= m.map(l.mvScrollRate.val, 1, 0, 0, .5)), p.reverse.value = l.mvReverse.val, h = this._mask, u = [], n = s = 0, a = h.length; s < a; n = ++s) d = h[n], t = this._maskData[n], f = t.w, i = t.h, g = t.x, v = t.y, d.position.x = g - .5 * r.LOGO_SIZE.x + .5 * f, d.position.y = -v + .5 * r.LOGO_SIZE.y - .5 * i, d.scale.x = f, u.push(d.scale.y = i);
                return u
            }, e.prototype._resize = function () {
                var t, i;
                return e.__super__._resize.call(this), i = o.sw(), t = o.sh(), this._cap.setSize(r.LOGO_SIZE.x, r.LOGO_SIZE.y)
            }, e
        }(h), t.exports = s
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v, _, y, x, w, b, S = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            T = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) M.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            M = {}.hasOwnProperty;
        w = i(2), x = i(5), h = i(11), m = i(6), b = i(9), a = i(1), f = i(4), _ = i(7), l = i(3), y = i(8), d = i(13), g = i(10), o = i(24), s = i(14), u = i(18), v = i(15), n = i(59), c = i(42), r = i(63), p = function (t) {
            function e(t) {
                this.getBg = S(this.getBg, this), this.getPtData = S(this.getPtData, this), this.isNowRenderFrame = S(this.isNowRenderFrame, this), this.setSize = S(this.setSize, this), this._resize = S(this._resize, this), this.render = S(this.render, this), this._update = S(this._update, this), this.hideForDetailInfo = S(this.hideForDetailInfo, this), this.showForDetailInfo = S(this.showForDetailInfo, this), this.backDetail = S(this.backDetail, this), this.setDetail = S(this.setDetail, this), this.startOp = S(this.startOp, this), this.skip = S(this.skip, this), this.init = S(this.init, this), e.__super__.constructor.call(this, t), this._parent = t.parent, this._bgSample, this._bg, this._logoCamera, this._logo, this._isScrollMax = !1, this.onCompleteBg
            }
            
            return T(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this.camera = this._makeCamera({
                    isOrthographic: !0
                }), this.updateCamera(this.camera), this._logoCamera = this._makeCamera({
                    isOrthographic: !0
                }), this.updateCamera(this._logoCamera), this._bgSample = new r, this._bgSample.init(), this.mainScene.add(this._bgSample), this._resize(), this.render(), this._bgSample.visible = !1, this._bg = new n({
                    parent: this
                }), this._bg.init(), this.mainScene.add(this._bg), this._bg.setSample({
                    base64: this.el()[0].toDataURL("image/jpg")
                }), this._logo = new c({
                    isLast: !1
                }), this._logo.init(), this._bg.getCap().add(this._logo)
            }, e.prototype.skip = function (t) {
                return this._logo.showFast()
            }, e.prototype.startOp = function (t) {
                var e;
                return f.fps = y.FPS.MID, e = t.delay, this._logo.show({
                    delay: e,
                    onComplete: t.onComplete
                })
            }, e.prototype.setDetail = function (t) {
                return this._update(), this.render(), _.set(this.el(), {
                    opacity: 0
                })
            }, e.prototype.backDetail = function (t) {
                return _.set(this.el(), {
                    opacity: 1
                })
            }, e.prototype.showForDetailInfo = function (t) {
                return this._bg._resize(), _.a(this.el(), {
                    opacity: [0, .5]
                }, 2, t.delay, Power2.easeOut)
            }, e.prototype.hideForDetailInfo = function (t) {
                return this._bg._resize(), _.a(this.el(), {
                    opacity: 0
                }, .5, 0, Power2.easeOut, null, null, t.onComplete)
            }, e.prototype._update = function () {
                var t, e, i, n, r;
                if (r = this._renderSize.x, t = this._renderSize.y, i = g.val, n = l.sh2(), this._logo.visible = !f.isOpenDetailInfo, e = l.r(.42), this._logo.scale.set(e, e, 1), l.isLG() ? this._logo.position.y = w.mix(0, l.r(l.val(49, 68)), f.logofix.val) : this._logo.position.y = .5 * (t - l.sh()) + w.mix(0, l.r(l.val(49, 68)), f.logofix.val), i > n * (.01 * f.bgMask.hMax.value) ? (this._isScrollMax || $(".l-mv").addClass("is-scrollMax"), this._isScrollMax = !0) : (this._isScrollMax && $(".l-mv").removeClass("is-scrollMax"), this._isScrollMax = !1), this.isNowRenderFrame()) return this.render()
            }, e.prototype.render = function () {
                var t, e, i;
                return t = g.val, i = l.sw(), e = l.sh2(), this.renderCnt % 2 === 0 && (f.isWorksHover ? this.renderer.setPixelRatio(1) : this.renderer.setPixelRatio(l.ratio())), null != this._logo && this._logo.visible && t < e && this._logo.render(this.renderer, this._logoCamera), this._bgSample.visible ? this.renderer.setClearColor(16777215, 0) : (this._bg.render(this.renderer, this.camera), this.renderer.setClearColor(16777215, 1)), this.renderer.render(this.mainScene, this.camera), this.renderCnt++
            }, e.prototype._resize = function () {
                var t, e;
                return e = l.sw(), t = l.sh2(), this.setSize(e, t), this.render()
            }, e.prototype.setSize = function (t, e) {
                return this._renderSize.set(t, e), this.updateCamera(this.camera, t, e), this.updateCamera(this._logoCamera, a.LOGO_SIZE.x, a.LOGO_SIZE.y), f.isWorksHover ? this.renderer.setPixelRatio(1) : this.renderer.setPixelRatio(l.ratio()), this.renderer.setSize(t, e), this.renderer.clear()
            }, e.prototype.isNowRenderFrame = function () {
                var t, e;
                if (e = g.val, t = l.sh2(), !f.isOpenXSMenu) {
                    if (f.isWorksHover) return x.cnt % 2 === 0 && this.isRender;
                    if (f.isOpenDetailInfo && l.isLG()) return x.cnt % 2 === 0 && this.isRender;
                    if (main.router.nowPage === y.PAGE_ID.WORK) return !1;
                    if (f.isPlayingTr) return !1;
                    if (this._isScrollMax) return !1;
                    switch (f.fps) {
                    case y.FPS.HIGH:
                        return this.isRender;
                    case y.FPS.MID:
                        return this.isRender;
                    default:
                        return !1
                    }
                }
            }, e.prototype.getPtData = function () {}, e.prototype.getBg = function () {
                return this._bg
            }, e
            
        }(o), t.exports = p
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v, _, y, x, w = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            b = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) S.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            S = {}.hasOwnProperty;
        y = i(2), _ = i(5), a = i(11), d = i(6), x = i(9), s = i(1), p = i(4), g = i(7), h = i(3), v = i(8), c = i(13), f = i(10), r = i(24), o = i(14), l = i(18), m = i(15), n = i(62), u = function (t) {
            function e(t) {
                this.isNowRenderFrame = w(this.isNowRenderFrame, this), this.setSize = w(this.setSize, this), this._resize = w(this._resize, this), this.render = w(this.render, this), this._update = w(this._update, this), this.show = w(this.show, this), this.init = w(this.init, this), e.__super__.constructor.call(this, t), this._bg
            }
            return b(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this.camera = this._makeCamera({
                    isOrthographic: !0
                }), this.updateCamera(this.camera), this._bg = new n({
                    parent: this
                }), this._bg.init(), this.mainScene.add(this._bg), this._resize()
            }, e.prototype.show = function (t) {
                return this._bg.show(t), this.render()
            }, e.prototype._update = function () {
                if (this.isNowRenderFrame()) return this.render()
            }, e.prototype.render = function () {
                return this._bg.render(this.renderer, this.camera), this.renderer.setClearColor(16777215, 1), this.renderer.render(this.mainScene, this.camera),
                    this.renderCnt++
            }, e.prototype._resize = function () {
                var t, e;
                return e = h.sw(), t = h.sh2(), this.setSize(e, t), this.render()
            }, e.prototype.setSize = function (t, e) {
                return this._renderSize.set(t, e), this.updateCamera(this.camera, t, e), this.renderer.setPixelRatio(h.ratio()), this.renderer.setSize(t, e), this.renderer.clear()
            }, e.prototype.isNowRenderFrame = function () {
                return !!p.isOpenXSMenu && (_.cnt % 2 === 0 && this.isRender)
            }, e
        }(r), t.exports = u
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v, _, y, x, w = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            b = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) S.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            S = {}.hasOwnProperty;
        y = i(2), _ = i(5), a = i(11), p = i(6), x = i(9), s = i(1), c = i(4), g = i(7), h = i(3), v = i(8), u = i(13), d = i(10), r = i(24), o = i(14), l = i(18), f = i(15), n = i(60), m = function (t) {
            function e(t) {
                this.isNowRenderFrame = w(this.isNowRenderFrame, this), this.setSize = w(this.setSize, this), this._resize = w(this._resize, this), this.render = w(this.render, this), this._update = w(this._update, this), this._eHided = w(this._eHided, this), this.hide = w(this.hide, this), this.start = w(this.start, this), this.init = w(this.init, this), t.transparent = !0, e.__super__.constructor.call(this, t), this._parent = t.parent, this._bg, this._cover = this._parent.find("> .cover")
            }
            return b(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this.camera = this._makeCamera({
                    isOrthographic: !0
                }), this.updateCamera(this.camera), this._bg = new n({
                    parent: this
                }), this._bg.init(), this.mainScene.add(this._bg), this._resize()
            }, e.prototype.start = function (t) {
                return this._parent.addClass("is-show"), c.isPlayingTr = !0, this._bg.show({}), this.render(), g.a(this._cover, {
                    opacity: [0, 1]
                }, .5, 1.5, Power2.easeOut, null, null, t.onComplete)
            }, e.prototype.hide = function (t) {
                return t.fade ? (this._parent.addClass("is-hide-fade"), c.isPlayingTr = !1, g.a(this._cover, {
                    opacity: [1, 0]
                }, 1, 1, Power2.easeOut, null, null, this._eHided)) : this._eHided()
            }, e.prototype._eHided = function (t) {
                return this._parent.removeClass("is-show is-hide-fade"), c.isPlayingTr = !1
            }, e.prototype._update = function () {
                var t, e;
                if (e = this._renderSize.x, t = this._renderSize.y, this.isNowRenderFrame()) return this.render()
            }, e.prototype.render = function () {
                var t, e;
                return t = d.val, e = h.sh(), this.renderer.setClearColor(16777215, 0), this.renderer.render(this.mainScene, this.camera), this.renderCnt++
            }, e.prototype._resize = function () {
                var t, e;
                return e = h.sw(), t = h.sh2(), this.setSize(e, t), this.render()
            }, e.prototype.setSize = function (t, e) {
                return this._renderSize.set(t, e), this.updateCamera(this.camera, t, e), this.renderer.setPixelRatio(h.ratio()), this.renderer.setSize(t, e), this.renderer.clear()
            }, e.prototype.isNowRenderFrame = function () {
                return !!c.isPlayingTr && this.isRender
            }, e
        }(r), t.exports = m
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            _ = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) y.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            y = {}.hasOwnProperty;
        p = i(7), h = i(12), l = i(4), o = i(1), a = i(3), d = i(8), c = i(10), m = i(2), u = i(6), f = i(5), s = i(11), g = i(9), r = i(70), n = function (t) {
            function e(t) {
                this._resize = v(this._resize, this), this._update = v(this._update, this), this.hide = v(this.hide, this), this.showFast = v(this.showFast, this), this.show = v(this.show, this), this.init = v(this.init, this), t.resize = !0, t.update = !0, e.__super__.constructor.call(this, t), this._item = [], this._shuffle = []
            }
            return _(e, t), e.prototype.init = function () {
                var t, i, n, o, s;
                for (e.__super__.init.call(this), this.addClass("l-baratext"), s = this.el().html(), t = 0, i = s.length, o = ""; t < i;) n = s.substr(t, 1), o += " " === n ? '<span class="inner is-space">' + n + "</span>" : '<span class="inner">' + n + "</span>", t++;
                return this.el().html(o), this.find(".inner").each(function (t) {
                    return function (e, i) {
                        var n;
                        return n = new r({
                            el: $(i)
                        }), n.init(), t._item.push(n), t._shuffle.push(n)
                    }
                }(this))
            }, e.prototype.show = function (t) {
                var e, i, n, r, o, s;
                for (r = this._item, o = [], e = i = 0, n = r.length; i < n; e = ++i) s = r[e], o.push(s.show({
                    delay: t.delay + .03 * e,
                    onComplete: e === this._item.length - 1 ? t.onComplete : null
                }));
                return o
            }, e.prototype.showFast = function (t) {
                var e, i, n, r, o, s;
                for (r = this._item, o = [], e = i = 0, n = r.length; i < n; e = ++i) s = r[e], o.push(s.showFast());
                return o
            }, e.prototype.hide = function (t) {}, e.prototype._update = function () {
                return e.__super__._update.call(this)
            }, e.prototype._resize = function () {
                return e.__super__._resize.call(this)
            }, e
        }(h), t.exports = n
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            v = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) _.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            _ = {}.hasOwnProperty;
        c = i(7), a = i(12), h = i(4), r = i(1), s = i(3), p = i(8), u = i(10), f = i(2), l = i(6), d = i(5), o = i(11), m = i(9), n = function (t) {
            function e(t) {
                this._resize = g(this._resize, this), this._update = g(this._update, this), this.hide = g(this.hide, this), this.showFast = g(this.showFast, this), this.show = g(this.show, this), this.init = g(this.init, this), t.resize = !0, t.update = !0, e.__super__.constructor.call(this, t)
            }
            return v(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), c.set(this.el(), {
                    opacity: 1e-6
                })
            }, e.prototype.show = function (t) {
                return c.a(this.el(), {
                    opacity: [0, .999999],
                    x: [5, 0]
                }, 1, t.delay, Power2.easeOut, null, null, t.onComplete)
            }, e.prototype.showFast = function (t) {
                return c.set(this.el(), {
                    opacity: .999999,
                    x: 0
                })
            }, e.prototype.hide = function (t) {}, e.prototype._update = function () {
                return e.__super__._update.call(this)
            }, e.prototype._resize = function () {
                return e.__super__._resize.call(this)
            }, e
        }(a), t.exports = n
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            _ = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) y.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            y = {}.hasOwnProperty;
        p = i(7), h = i(12), l = i(4), o = i(1), a = i(3), d = i(8), c = i(10), m = i(2), u = i(6), f = i(5), s = i(11), g = i(9), r = i(72), n = function (t) {
            function e(t) {
                this._resize = v(this._resize, this), this._update = v(this._update, this), this._updateParam = v(this._updateParam, this), this.hide = v(this.hide, this), this.show = v(this.show, this), this.showFast = v(this.showFast, this), this.init = v(this.init, this), t.resize = !0, t.update = !0, e.__super__.constructor.call(this, t), this._item = [], this._param = {
                    height: 0,
                    y: 0,
                    life: 0,
                    rate: 0
                }, this._interval = .4, this._isShow = !1
            }
            return _(e, t), e.prototype.init = function () {
                var t;
                return e.__super__.init.call(this), t = this.getData("interval"), null != t && (this._interval = Number(t)), this.find(".js-block-item").each(function (t) {
                    return function (e, i) {
                        var n;
                        return n = new r({
                            el: $(i)
                        }), n.init(), t._item.push(n)
                    }
                }(this)), this._resize()
            }, e.prototype.showFast = function () {
                var t, e, i, n, r, o;
                for (this._isShow = !0, n = this._item, r = [], t = e = 0, i = n.length; e < i; t = ++e) o = n[t], r.push(o.showFast());
                return r
            }, e.prototype.show = function (t) {
                var e, i, n, r, o, s;
                for (r = this._item, o = [], e = i = 0, n = r.length; i < n; e = ++i) s = r[e], o.push(s.show({
                    delay: e * this._interval
                }));
                return o
            }, e.prototype.hide = function (t) {}, e.prototype._updateParam = function () {
                if (this._param.life > 0 && f.cnt % 30 === 0) return this._param.y = this.el().offset().top, this._param.life--
            }, e.prototype._update = function () {
                var t, i, n, r;
                if (e.__super__._update.call(this), !this._isShow) return r = a.sw(), i = a.sh(), this._updateParam(), t = c.val, n = this._param.y - .75 * i, t > n && this._param.y > 0 ? (this._isShow = !0, this.show()) : void 0
            }, e.prototype._resize = function () {
                return e.__super__._resize.call(this), this._param.life = 5
            }, e
        }(h), t.exports = n
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            v = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) _.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            _ = {}.hasOwnProperty;
        c = i(7), a = i(12), h = i(4), r = i(1), s = i(3), p = i(8), u = i(10), f = i(2), l = i(6), d = i(5), o = i(11), m = i(9), n = function (t) {
            function e(t) {
                this._resize = g(this._resize, this), this._update = g(this._update, this), this.hide = g(this.hide, this), this.show = g(this.show, this), this.showFast = g(this.showFast, this), this.init = g(this.init, this), t.resize = !1, t.update = !1, e.__super__.constructor.call(this, t)
            }
            return v(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), c.set(this.el(), {
                    opacity: .001,
                    y: 100
                })
            }, e.prototype.showFast = function () {
                return c.set(this.el(), {
                    y: 0,
                    opacity: 1
                })
            }, e.prototype.show = function (t) {
                return c.a(this.el(), {
                    y: [s.r(100), 0],
                    opacity: .99999
                }, 1, t.delay, Power2.easeOut)
            }, e.prototype.hide = function (t) {}, e.prototype._update = function () {
                return e.__super__._update.call(this)
            }, e.prototype._resize = function () {
                return e.__super__._resize.call(this)
            }, e
        }(a), t.exports = n
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            _ = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) y.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            y = {}.hasOwnProperty;
        p = i(7), h = i(12), l = i(4), r = i(1), s = i(3), d = i(8), a = i(13), c = i(10), m = i(2), u = i(6), f = i(5), o = i(11), g = i(9), n = function (t) {
            function e(t) {
                this._resize = v(this._resize, this), this._update = v(this._update, this), this._updateSize = v(this._updateSize, this), this._eEndRollout = v(this._eEndRollout, this), this._eEndRollover = v(this._eEndRollover, this), this._startRollout = v(this._startRollout, this), this._startRollover = v(this._startRollover, this), this._eMouseLeave = v(this._eMouseLeave, this), this._eMouseEnter = v(this._eMouseEnter, this), this.init = v(this.init, this), t.resize = !0, t.update = !0, e.__super__.constructor.call(this, t), this._tg, this._isHover, this._isNoLine = this.el().hasClass("is-no-line"), this._isUpdate = this.el().hasClass("is-update"), this._isSpread = this.el().hasClass("is-spread"), this._isAddIconWidth = this.el().hasClass("is-icon"), this._pos = new THREE.Vector2, this._line, this._isSimple = this.el().hasClass("is-simple"), this._isPlaying = !1, this._hoverRate = new g(0), this._lineParam = {
                    width: 0,
                    widthTg: this.el().find(".js-hover-cursor-width")
                }
            }
            return _(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this._tg = this.find("> .inner"), this.el().on("mouseenter", this._eMouseEnter).on("mouseleave", this._eMouseLeave), this._isNoLine || this._isSimple || (this.el().append('<div class="js-hover-cursor-line"></div>'), this._line = this.find(".js-hover-cursor-line")), this._resize()
            }, e.prototype._eMouseEnter = function (t) {
                if (l.isHover = !0, this._isHover = !0, !this._isPlaying && !this._isSimple) return this._startRollover()
            }, e.prototype._eMouseLeave = function (t) {
                if (l.isHover = !1, this._isHover = !1, !this._isPlaying && !this._isSimple) return this._startRollout()
            }, e.prototype._startRollover = function (t) {
                return this._isPlaying = !0, p.a(this._hoverRate, {
                    val: 1
                }, .1, 0, Expo.easeOut, null, null, this._eEndRollover)
            }, e.prototype._startRollout = function (t) {
                return this._isPlaying = !0, p.a(this._hoverRate, {
                    val: 0
                }, 1, 0, Expo.easeInOut, null, null, this._eEndRollout)
            }, e.prototype._eEndRollover = function (t) {
                if (this._isPlaying = !1, !this._isHover) return this._startRollout()
            }, e.prototype._eEndRollout = function (t) {
                if (this._isPlaying = !1, this._isHover) return this._startRollover()
            }, e.prototype._updateSize = function () {
                var t;
                if (!this._isNoLine) return this._line.css({
                    width: ""
                }), this.el().css({
                    width: ""
                }), this._lineParam.width = this._lineParam.widthTg.width(), this._isAddIconWidth && (this._lineParam.width += s.r(30)), this._line.css({
                    width: this._lineParam.width
                }), t = this._isSpread ? 3 : 1, this.el().css({
                    width: s.val("", this._lineParam.width * t)
                })
            }, e.prototype._update = function () {
                var t, i, n, o, s, h, l, u, d, f, g, v, _, y;
                if (e.__super__._update.call(this), this._isUpdate && !this._isHover && this._updateSize(), !r.IS_SP && !this._isSimple) return n = .1, this._isHover ? (this._isNoLine || this._updateSize(), u = a.x, d = a.y, v = this._tg.offset(), h = v.left, _ = v.top - c.val, y = this._tg.width(), o = this._tg.height(), f = h + .5 * y, g = _ + .5 * o, s = .3, t = (u - f) * s, i = (d - g) * s, this._pos.x += (t - this._pos.x) * n, this._pos.y += (i - this._pos.y) * n) : (this._pos.x += (0 - this._pos.x) * n, this._pos.y += (0 - this._pos.y) * n), r.IS_SIMPLE && (this._pos.x = this._pos.y = 0), l = m.isSafari() ? 1 : .5, this._isNoLine || r.IS_SIMPLE || p.set(this._line, {
                    scaleX: this._hoverRate.val,
                    scaleY: l,
                    opacity: m.mix(1e-5, 1, this._hoverRate.val),
                    x: this._pos.x,
                    y: this._pos.y
                }), r.IS_SIMPLE ? void 0 : p.set(this._tg, {
                    x: this._pos.x,
                    y: this._pos.y
                })
            }, e.prototype._resize = function () {
                var t;
                return e.__super__._resize.call(this), this._lineParam.width = this._lineParam.widthTg.width(), this._isAddIconWidth && (this._lineParam.width += s.r(30)), t = this._isSpread ? 3 : 1, this.el().css({
                    width: s.val("", this._lineParam.width * t)
                })
            }, e
        }(h), t.exports = n
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v, _, y, x = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            w = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) b.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            b = {}.hasOwnProperty;
        m = i(7), l = i(12), c = i(4), n = i(1), h = i(3), g = i(8), d = i(10), f = i(20), _ = i(2), p = i(6), v = i(5), r = i(11), y = i(9), a = i(76), u = i(43), s = i(75), o = function (t) {
            function e(t) {
                this._resize = x(this._resize, this), this._update = x(this._update, this), this._getItem = x(this._getItem, this), this.hide = x(this.hide, this), this.show = x(this.show, this), this._eClickInfo = x(this._eClickInfo, this), this.init = x(this.init, this), e.__super__.constructor.call(this, t), this._item = [], this._header, this.nowItem
            }
            return w(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this._header = new s({
                    parent: this.el(),
                    el: this.find(".p-work-header")
                }), this._header.init(), this._header.onClickInfo = this._eClickInfo, this.find("> .p-work-item").each(function (t) {
                    return function (e, i) {
                        var n;
                        return n = new a({
                            parent: t.el(),
                            el: $(i),
                            header: t._header
                        }), n.init(), t._item.push(n)
                    }
                }(this))
            }, e.prototype._eClickInfo = function (t) {
                return this._header.isOpenInfo ? (this.removeClass("is-show-info"), this.nowItem.hideInfo({
                    delay: 0
                })) : (this.addClass("is-show-info"), this.nowItem.showInfo({
                    delay: 0
                }))
            }, e.prototype.show = function (t) {
                return e.__super__.show.call(this), c.isWorksHover = !1, main.mv.setDetail(), this.addClass("is-show"), $("body").addClass("is-detail"), this._header.show({
                    delay: 0
                }), this.nowItem = this._getItem(t.workId), this.nowItem.show({
                    delay: 0
                }), f.setTg(null), d.set(0)
            }, e.prototype.hide = function (t) {
                var i, n, r, o, s, a;
                for (e.__super__.hide.call(this), c.isWorksHover = !1, this.removeClass("is-show"), $("body").removeClass("is-detail is-worksHover"), $(".l-mv").insertBefore($(".p-top-profile-photo")), main.mv.backDetail(), o = this._item, s = [], i = n = 0, r = o.length; n < r; i = ++n) a = o[i], s.push(a.hide());
                return s
            }, e.prototype._getItem = function (t) {
                var e, i, n, r, o;
                for (r = this._item, e = i = 0, n = r.length; i < n; e = ++i)
                    if (o = r[e], o.dir === t) return o;
                return null
            }, e.prototype._update = function () {
                return e.__super__._update.call(this)
            }, e.prototype._resize = function () {
                return e.__super__._resize.call(this)
            }, e
        }(u), t.exports = o
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            v = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) _.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            _ = {}.hasOwnProperty;
        c = i(7), a = i(12), h = i(4), n = i(1), s = i(3), p = i(8), u = i(10), f = i(2), l = i(6), d = i(5), r = i(11), m = i(9), o = function (t) {
            function e(t) {
                this._resize = g(this._resize, this), this._update = g(this._update, this), this.hide = g(this.hide, this), this.show = g(this.show, this), this._eChanged = g(this._eChanged, this), this._showOpen = g(this._showOpen, this), this.changeOpen = g(this.changeOpen, this), this._showClose = g(this._showClose, this), this.changeClose = g(this.changeClose, this), this._eClickInfo = g(this._eClickInfo, this), this._eClickBack = g(this._eClickBack, this), this.updatePager = g(this.updatePager, this), this.setIndicator = g(this.setIndicator, this), this._eClickPagerPrev = g(this._eClickPagerPrev, this), this._eClickPagerNext = g(this._eClickPagerNext, this), this.init = g(this.init, this), t.resize = !0, t.update = !0, e.__super__.constructor.call(this, t), this._parent = t.parent, this._info = this.find("> .info > .inner"), this._infoLine = [], this._data = this.find("> .data"), this._indicator = {
                    now: this._data.find(".now"),
                    total: this._data.find(".total")
                }, this._pager = $(".p-work-pager"), this._next = $(".p-work-pager > .next"), this._prev = $(".p-work-pager > .prev"), this.isOpenInfo = !1, this.onClickInfo, this.onPagerNext = [], this.onPagerPrev = []
            }
            return v(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this.find("> .info").on("click", this._eClickInfo), this.find("> .back").on("click", this._eClickBack), this._info.find("> .line").each(function (t) {
                    return function (e, i) {
                        return t._infoLine.push($(i))
                    }
                }(this)), this._next.on("click", this._eClickPagerNext), this._prev.on("click", this._eClickPagerPrev), this._resize()
            }, e.prototype._eClickPagerNext = function (t) {
                var e, i, n, r, o, s;
                for (r = this.onPagerNext, o = [], e = i = 0, n = r.length; i < n; e = ++i) s = r[e], o.push(s());
                return o
            }, e.prototype._eClickPagerPrev = function (t) {
                var e, i, n, r, o, s;
                for (r = this.onPagerPrev, o = [], e = i = 0, n = r.length; i < n; e = ++i) s = r[e], o.push(s());
                return o
            }, e.prototype.setIndicator = function (t) {
                var e, i;
                return e = t.now + 1, i = t.total - 1, e > i && (e = i), this._indicator.now.html(f.numStr(e, 2)), this._indicator.total.html("/ " + f.numStr(i, 2)), t.now > 0 ? this._prev.addClass("is-active") : this._prev.removeClass("is-active"), t.now >= t.total - 1 ? (this._next.removeClass("is-active"), this._parent.addClass("is-last")) : (this._next.addClass("is-active"), this._parent.removeClass("is-last"))
            }, e.prototype.updatePager = function (t) {}, e.prototype._eClickBack = function (t) {
                return main.router.move({
                    pageId: p.PAGE_ID.TOP
                })
            }, e.prototype._eClickInfo = function (t) {
                return null != this.onClickInfo && this.onClickInfo(), this.clickable(!1), this.isOpenInfo ? this.changeOpen() : this.changeClose()
            }, e.prototype.changeClose = function (t) {
                var e, i, n, r, o, s;
                for (this.isOpenInfo = !0, r = this._infoLine, o = [], e = i = 0, n = r.length; i < n; e = ++i) s = r[e], o.push(c.a(s, {
                    scaleX: [1, 0]
                }, 1, .25 * e, Power4.easeInOut, null, null, e === this._infoLine.length - 1 ? this._showClose : null));
                return o
            }, e.prototype._showClose = function (t) {
                var e, i, n, r, o, s;
                for (c.set(this._info, {
                    rotationZ: 45
                }), r = this._infoLine, o = [], e = i = 0, n = r.length; i < n; e = ++i) s = r[e], o.push(c.a(s, {
                    scaleX: [0, 1]
                }, 1, .25 * e, Power4.easeInOut, null, null, e === this._infoLine.length - 1 ? this._eChanged : null));
                return o
            }, e.prototype.changeOpen = function (t) {
                var e, i, n, r, o, s;
                for (this.isOpenInfo = !1, r = this._infoLine, o = [], e = i = 0, n = r.length; i < n; e = ++i) s = r[e], o.push(c.a(s, {
                    scaleX: [1, 0]
                }, 1, .25 * e, Power4.easeInOut, null, null, e === this._infoLine.length - 1 ? this._showOpen : null));
                return o
            }, e.prototype._showOpen = function (t) {
                var e, i, n, r, o, s;
                for (c.set(this._info, {
                    rotationZ: 0
                }), r = this._infoLine, o = [], e = i = 0, n = r.length; i < n; e = ++i) s = r[e], o.push(c.a(s, {
                    scaleX: [0, 1]
                }, 1, .25 * e, Power4.easeInOut, null, null, e === this._infoLine.length - 1 ? this._eChanged : null));
                return o
            }, e.prototype._eChanged = function (t) {
                return this.clickable(!0)
            }, e.prototype.show = function (t) {
                return c.a(this.el(), {
                    opacity: [0, 1]
                }, 1, t.delay, Power2.easeOut), c.a(this._pager, {
                    opacity: [0, 1]
                }, 1, t.delay, Power2.easeOut)
            }, e.prototype.hide = function (t) {}, e.prototype._update = function () {
                var t, i;
                if (e.__super__._update.call(this), i = s.sw(), t = s.sh(), d.cnt % 10 === 0 && main.router.nowPage === p.PAGE_ID.WORK) return this._data.css({
                    top: s.val(t - s.r(120), "")
                }), this._pager.css({
                    top: s.val(t - s.r(95), ""),
                    left: s.val(i - s.r(243), "")
                })
            }, e.prototype._resize = function () {
                return e.__super__._resize.call(this)
            }, e
        }(a), t.exports = o
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v, _, y, x, w = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            b = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) S.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            S = {}.hasOwnProperty;
        g = i(7), u = i(12), c = i(4), n = i(1), a = i(3), v = i(8), f = i(10), m = i(20), l = i(13), y = i(2), d = i(6), _ = i(5), r = i(11), x = i(9), p = i(29), s = i(77), h = i(23), o = function (t) {
            function e(t) {
                this._getTgX = w(this._getTgX, this), this._resize = w(this._resize, this), this._getImgPos = w(this._getImgPos, this), this._getActiveImgKey = w(this._getActiveImgKey, this), this._update = w(this._update, this), this.hide = w(this.hide, this), this.show = w(this.show, this), this.hideInfo = w(this.hideInfo, this), this.showInfo = w(this.showInfo, this), this.showNext = w(this.showNext, this), this._eCompleteSwipe = w(this._eCompleteSwipe, this), this.startSwipe = w(this.startSwipe, this), this._eMouseUp = w(this._eMouseUp, this), this._eMouseDown = w(this._eMouseDown, this), this.moveScroll = w(this.moveScroll, this), this._ePagerPrev = w(this._ePagerPrev, this), this._ePagerNext = w(this._ePagerNext, this), this.init = w(this.init, this), t.resize = !0, t.update = !0, e.__super__.constructor.call(this, t), this._parent = t.parent, this._header = t.header, this._imgs = this.el().find("> .p-work-item-img"), this._imgNum = this._imgs.find("> .container > .item").length, this._imgsCon = this._imgs.find("> .container"), this._imgParam = {
                    width: 0,
                    x: 0
                }, this._info, this._next = [], this._imgItems = [], this._isDown = !1, this._pos = new p, this._startPos = new p, this._isSwipe = !1, this._baseWidth = 294, this._now = 0, this._nextNow = 0, this._pagerNow = 0, this._pagerNow2 = 0, this._isPlayingPager = !1, this._lgItemMargin = 12, this.title = this.el().attr("data-title"), this.dir = this.el().attr("data-dir"), this.isActive = !1
            }
            return b(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this._info = new s({
                    el: this.find(".p-work-item-info")
                }), this._info.init(), this.find(".js-maintext").each(function (t) {
                    return function (e, i) {
                        var n;
                        return n = new h({
                            el: $(i),
                            id: e
                        }), n.init(), t._next.push(n)
                    }
                }(this)), this._imgs.find("> .container > .item").each(function (t) {
                    return function (e, i) {
                        return t._imgItems.push({
                            el: $(i),
                            width: 0,
                            isYoko: $(i).hasClass("is-yoko")
                        })
                    }
                }(this)), n.IS_SP && ($(".p-work").on("touchstart", this._eMouseDown).on("touchend", this._eMouseUp), window.addEventListener("touchend", this._eMouseUp, {
                    passive: !1
                })), this._header.onPagerNext.push(this._ePagerNext), this._header.onPagerPrev.push(this._ePagerPrev)
            }, e.prototype._ePagerNext = function (t) {
                if (this.isActive && !this._info.isActive) return n.IS_PC ? this.moveScroll(this._pagerNow2 + 1) : this.startSwipe({
                    follow: 1
                })
            }, e.prototype._ePagerPrev = function (t) {
                if (this.isActive && !this._info.isActive) return n.IS_PC ? this.moveScroll(this._pagerNow2 - 1) : this.startSwipe({
                    follow: -1
                })
            }, e.prototype.moveScroll = function (t) {
                var e, i, n, r;
                return this._pagerNow = t, this._isPlayingPager = !0, r = this._getImgPos(t), e = -this._imgParam.width + a.sw(), i = Math.abs(r / e), this._pagerNow === this._imgItems.length - 1 && (i = 1), n = (f.docSize.height - a.sh()) * i, f.move({
                    tg: n,
                    duration: .25,
                    onComplete: function (t) {
                        return function () {
                            return t._isPlayingPager = !1
                        }
                    }(this)
                })
            }, e.prototype._eMouseDown = function (t) {
                if (!this._isDown && !this._isSwipe && this.isActive && !this._info.isActive) return this._isDown = !0, this._startPos.x = this._pos.x, this._isSwipe = !1, g.kill(this._imgsCon), l.isCancelable = !0
            }, e.prototype._eMouseUp = function (t) {
                var e, i;
                if (this._isDown && !this._isSwipe && this.isActive && !this._info.isActive) return this._isDown = !1, l.isCancelable = !1, e = l.old.x - l.x, i = Math.abs(e), i > 1 ? this.startSwipe({
                    follow: e
                }) : void 0
            }, e.prototype.startSwipe = function (t) {
                var e;
                if (t.follow >= 0 && (this._nextNow = this._now + 1), t.follow < 0 && (this._nextNow = this._now - 1), !(this._nextNow < 0 || this._nextNow >= this._imgNum)) return this._nextNow === this._imgNum - 1 && this.showNext(), this._header.setIndicator({
                    now: this._nextNow,
                    total: this._imgItems.length
                }), e = .4, a.isLG() && (e = .7), this._isSwipe = !0, g.a(this._imgsCon, {
                    x: this._getTgX(this._nextNow)
                }, e, 0, Expo.easeOut, null, null, this._eCompleteSwipe)
            }, e.prototype._eCompleteSwipe = function (t) {
                return this._isSwipe = !1, this._now = this._nextNow, this._pos.x = this._getTgX(this._now), g.set(this._imgsCon, {
                    x: this._pos.x
                }), this._update()
            }, e.prototype.showNext = function (t) {
                var e, i, n, r, o;
                if (!this._next[0].isShowed()) {
                    for (r = this._next, e = i = 0, n = r.length; i < n; e = ++i) o = r[e], o.show({
                        delay: .15 + .1 * e
                    });
                    return g.a(this.find(".item.is-next"), {
                        opacity: [0, 1]
                    }, 1, .5, Power2.easeOut)
                }
            }, e.prototype.showInfo = function (t) {
                return this._info.show(t), f.set(0)
            }, e.prototype.hideInfo = function (t) {
                var e, i, n, r;
                return this._info.hide(t), r = this._imgsCon.width(), n = a.sw(), e = y.map(this._imgParam.x, 1, 0, -r + n, 0), i = y.mix(0, r - a.sh(), e), m.setGuidePos({
                    height: r
                }), f.set(i)
            }, e.prototype.show = function (t) {
                var e, i;
                return this.addClass("is-show"), this.isActive = !0, this._header.clickable(!0), this._pagerNow = 0, this._now = this._nextNow = 0, this._pos.x = 0, g.set(this._imgsCon, {
                    x: this._pos.x
                }), this._header.setIndicator({
                    now: 0,
                    total: this._imgItems.length
                }), this._resize(), e = 0, i = 1.25, g.a(this._imgs, {
                    opacity: [0, 1],
                    x: [a.sw(), 0]
                }, i, e, Power2.easeInOut), $(".l-mv").insertBefore(this._info.el())
            }, e.prototype.hide = function (t) {
                return this.removeClass("is-show"), this.isActive = !1, this._info.reset()
            }, e.prototype._update = function () {
                var t, i, r, o, s, h, u, c, p, d, v, x, w, b, S, T, M, E, A, C, P, R;
                if (e.__super__._update.call(this), C = a.sw(), A = a.sh(), this.isActive && !this._info.isActive && n.IS_SP) {
                    if (a.isLG() && _.cnt % 3 === 0)
                        for (b = this._imgItems, o = s = 0, c = b.length; s < c; o = ++s) R = b[o], R.el.css({
                            width: ""
                        }), R.width = R.el.width();
                    if (a.isXS() && _.cnt % 3 === 0)
                        for (E = (C - a.r(152)) / C, S = this._imgItems, o = h = 0, p = S.length; h < p; o = ++h) R = S[o], R.el.css({
                            width: C
                        }), R.isYoko && g.set(R.el, {
                            scale: E
                        });
                    this._imgParam.width = this._imgsCon.width(), i = .5, r = this._getTgX(this._now), this._isDown ? (t = l.moveDist.x, P = r + t * -.75, this._pos.x += (P - this._pos.x) * i) : this._pos.x += (r - this._pos.x) * i, this._isSwipe || g.set(this._imgsCon, {
                        x: this._pos.x
                    })
                }
                if (this.isActive && !this._info.isActive && n.IS_PC) {
                    if (_.cnt % 3 === 0) {
                        for (this._imgParam.width = this._imgsCon.width(), m.setGuidePos({
                            height: this._imgParam.width
                        }), T = this._imgItems, o = u = 0, d = T.length; u < d; o = ++u) R = T[o], R.width = R.el.width();
                        x = this._getActiveImgKey(), this._pagerNow2 = x, this._header.setIndicator({
                            now: x,
                            total: this._imgItems.length
                        })
                    }
                    if (M = f.val, v = this._imgParam.width - A, w = M / v, P = y.mix(0, -this._imgParam.width + C, w), this._imgParam.x += .1 * (P - this._imgParam.x), g.set(this._imgsCon, {
                        x: this._imgParam.x
                    }), this._imgParam.width > 0 && M > v - .5 * C) return this.showNext()
                }
            }, e.prototype._getActiveImgKey = function () {
                var t, e, i, n, r, o, s, h;
                for (r = a.sw(), s = 0, n = this._imgItems, t = e = 0, i = n.length; e < i; t = ++e) {
                    if (o = n[t], h = s - (o.width + a.r(10)), this._imgParam.x <= s && this._imgParam.x >= h) return t;
                    s = h
                }
                return 0
            }, e.prototype._getImgPos = function (t) {
                var e, i, n, r, o, s;
                for (t >= this._imgItems.length && (t = this._imgItems.length - 1), t < 0 && (t = 0), s = 0, r = this._imgItems, e = i = 0, n = r.length; i < n; e = ++i) {
                    if (o = r[e], e === t) return s;
                    s -= o.width + a.r(this._lgItemMargin)
                }
                return 0
            }, e.prototype._resize = function () {
                var t, i, n, r, o, s;
                if (e.__super__._resize.call(this), a.isLG()) {
                    for (r = this._imgItems, o = [], t = i = 0, n = r.length; i < n; t = ++i) s = r[t], o.push(g.set(s.el, {
                        scale: 1
                    }));
                    return o
                }
            }, e.prototype._getTgX = function (t) {
                var e, i, n, r, o, s, h;
                if (a.isXS()) return s = a.sw(), t * -s;
                for (h = 0, r = this._imgItems, e = i = 0, n = r.length; i < n; e = ++i) {
                    if (o = r[e], e === t) return t === this._imgItems.length - 1 ? h - a.r(240) : h;
                    h -= o.width + a.r(this._lgItemMargin)
                }
            }, e
        }(u), t.exports = o
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v, _ = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            y = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) x.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            x = {}.hasOwnProperty;
        d = i(7), h = i(12), l = i(4), n = i(1), s = i(3), f = i(8), c = i(10), a = i(13), p = i(20), g = i(2), u = i(6), m = i(5), r = i(11), v = i(9), o = function (t) {
            function e(t) {
                this._resize = _(this._resize, this), this._update = _(this._update, this), this.reset = _(this.reset, this), this.hide = _(this.hide, this), this.show = _(this.show, this), this.init = _(this.init, this), t.resize = !0, t.update = !0, e.__super__.constructor.call(this, t), this._con, this._conParam = {
                    height: 0,
                    y: 0
                }, this._scroll, this._scrollYRate = 0, this.isActive = !1
            }
            return y(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this._con = this.find("> .container"), this._scroll = this.find("> .scroll")
            }, e.prototype.show = function (t) {
                var e;
                return this.addClass("is-show"), $("body").addClass("is-detail-info"), this.isActive = !0, this._resize(), e = s.r(720), d.a(this.el(), {
                    opacity: [0, 1],
                    x: [-e, 0]
                }, 1.5, 0, Power4.easeInOut, null, null, function (t) {
                    return function () {
                        return l.isOpenDetailInfo = !0, a.isCancelable = !1, main.mv.showForDetailInfo({
                            delay: 0
                        })
                    }
                }(this))
            }, e.prototype.hide = function (t) {
                var e;
                if (this.isActive) return this.isActive = !1, main.mv.hideForDetailInfo({
                    delay: 0,
                    onComplete: function (t) {
                        return function () {
                            return l.isOpenDetailInfo = !1, $("body").removeClass("is-detail-info")
                        }
                    }(this)
                }), e = s.r(720), d.a(this.el(), {
                    opacity: [1, 0],
                    x: [0, -e]
                }, 1, 0, Power4.easeInOut, null, null, function (t) {
                    return function () {
                        return t.removeClass("is-show")
                    }
                }(this))
            }, e.prototype.reset = function () {
                return this.isActive = !1, l.isOpenDetailInfo = !1, $("body").removeClass("is-detail-info"), this.removeClass("is-show"), d.kill(this.el())
            }, e.prototype._update = function () {
                var t, i, r, o, a, h, l, u;
                if (e.__super__._update.call(this), this.isActive) return l = s.sw(), h = s.sh(), i = s.r(280), m.cnt % 2 === 0 && (this._conParam.height = this._con.height() + i, g.isIE2() && (this._conParam.height += i), p.setGuidePos({
                    height: this._conParam.height
                })), t = n.USE_SM_SCROLL ? .1 : .5, o = c.val, r = o / (this._conParam.height - h), u = g.mix(0, -this._conParam.height + h - 0, r), this._conParam.y += (u - this._conParam.y) * t, d.set(this._con, {
                    y: this._conParam.y
                }), this._scrollYRate += .1 * (r - this._scrollYRate), a = g.mix(s.r(160), h - s.r(290), this._scrollYRate), d.set(this._scroll, {
                    y: a,
                    opacity: this._conParam.height > h ? 1 : 0
                })
            }, e.prototype._resize = function () {
                return e.__super__._resize.call(this)
            }, e
        }(h), t.exports = o
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            v = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) _.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            _ = {}.hasOwnProperty;
        c = i(7), a = i(12), h = i(4), n = i(1), o = i(3), p = i(8), u = i(10), f = i(2), l = i(6), d = i(5), r = i(11), m = i(9), s = function (t) {
            function e(t) {
                this._resize = g(this._resize, this), this._update = g(this._update, this), this.init = g(this.init, this), t.resize = !0, t.update = !0, e.__super__.constructor.call(this, t), this._op = 0
            }
            return v(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this)
            }, e.prototype._update = function () {
                var t, i, n;
                return e.__super__._update.call(this), n = o.sh(), i = u.val, t = f.map(i, 0, 1, n, 2 * n), t *= f.mix(1, 0, h.lastBgRate), main.router.nowPage === p.PAGE_ID.WORK && (t = 0), this._op += .1 * (t - this._op), c.set(this.el(), {
                    opacity: this._op
                })
            }, e.prototype._resize = function () {
                return e.__super__._resize.call(this)
            }, e
        }(a), t.exports = s
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            v = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) _.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            _ = {}.hasOwnProperty;
        c = i(7), a = i(12), h = i(4), n = i(1), o = i(3), p = i(8), u = i(10), f = i(2), l = i(6), d = i(5), r = i(11), m = i(9), s = function (t) {
            function e(t) {
                this._resize = g(this._resize, this), this._update = g(this._update, this), this.hide = g(this.hide, this), this._eShowed = g(this._eShowed, this), this.show = g(this.show, this), this.showFast = g(this.showFast, this), this.reset = g(this.reset, this), this.init = g(this.init, this), t.resize = !0, t.update = !0, e.__super__.constructor.call(this, t), this.itemId = t.id, this._item = [], this._itemHeight = 0, this._isWork = t.isWork, this.onShowed
            }
            return v(e, t), e.prototype.init = function () {
                var t, i, r;
                if (e.__super__.init.call(this), !n.IS_SIMPLE && !this._isWork) {
                    for (t = this.el().html(), i = "", r = 0; r < 1;) i += "<span>" + t + "</span>", r++;
                    return this.el().html(i), this.find("> span").each(function (t) {
                        return function (e, i) {
                            if (t._item.push($(i)), !t._isWork) return c.set($(i), {
                                opacity: .001,
                                y: -100
                            })
                        }
                    }(this)), this._isWork || c.set(this.el(), {
                        opacity: .99999,
                        y: -100
                    }), this._resize()
                }
            }, e.prototype.reset = function (t) {
                var e, i, r, o, s, a;
                if (!n.IS_SIMPLE) {
                    for (this.removeClass("is-showed"), o = this._item, s = [], e = i = 0, r = o.length; i < r; e = ++i) a = o[e], this._isWork ? s.push(void 0) : s.push(c.set(a, {
                        opacity: 1e-6
                    }));
                    return s
                }
            }, e.prototype.showFast = function (t) {
                var e, i, r, o, s;
                if (!n.IS_SIMPLE) {
                    for (c.set(this.el(), {
                        y: 0
                    }), o = this._item, e = i = 0, r = o.length; i < r; e = ++i) s = o[e], c.set(s, {
                        y: 0,
                        opacity: .9999
                    });
                    return this.addClass("is-showed")
                }
            }, e.prototype.show = function (t) {
                var e, i, r, o, s, a, h, l, u, p, d, f, m;
                if (n.IS_SIMPLE) return void(null != t.onComplete && t.onComplete());
                if (this.onShowed = t.onComplete, this._isWork) return void this._eShowed();
                for (r = this._itemHeight, r <= 0 && (r = this.el().height()), p = 2, i = Power4.easeInOut, e = t.delay, u = t.speed || 1, c.a(this.el(), {
                    y: [r * -1, 0]
                }, p * u, e, i), h = this._item, l = [], o = s = 0, a = h.length; s < a; o = ++s) d = h[o], f = r * -.25, m = 1.5 * r, c.set(d, {
                    opacity: .999
                }), l.push(c.a(d, {
                    y: [m, 0]
                }, p * u, e, i, null, null, this._eShowed));
                return l
            }, e.prototype._eShowed = function () {
                if (this.addClass("is-showed"), null != this.onShowed) return this.onShowed()
            }, e.prototype.hide = function (t) {}, e.prototype._update = function () {
                return e.__super__._update.call(this)
            }, e.prototype._resize = function () {
                return e.__super__._resize.call(this), this._itemHeight = this.el().height()
            }, e
        }(a), t.exports = s
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v, _, y = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            x = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) w.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            w = {}.hasOwnProperty;
        f = i(7), u = i(12), c = i(4), n = i(1), o = i(3), m = i(8), l = i(13), d = i(10), v = i(2), p = i(6), g = i(5), r = i(11), _ = i(9), h = i(67), s = i(23), a = function (t) {
            function e(t) {
                this._resize = y(this._resize, this), this._update = y(this._update, this), this._eHided = y(this._eHided, this), this.hide = y(this.hide, this), this.show = y(this.show, this), this._eClickMenuBtn = y(this._eClickMenuBtn, this), this._eClickMenu = y(this._eClickMenu, this), this.init = y(this.init, this), t.resize = !0, t.update = !0, e.__super__.constructor.call(this, t), this._bg, this._btn, this._listItem = []
            }
            return x(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this._bg = new h({
                    el: this.find("> .bg > .cvs")
                }), this._bg.init(), this._btn = $(".l-header-menu"), this._btn.on("click", this._eClickMenuBtn), this.find("> .list > .item").each(function (t) {
                    return function (e, i) {
                        var n;
                        return n = new s({
                            el: $(i)
                        }), n.init(), n.el().on("click", t._eClickMenu), t._listItem.push(n)
                    }
                }(this))
            }, e.prototype._eClickMenu = function (t) {
                return this._eHided()
            }, e.prototype._eClickMenuBtn = function (t) {
                return c.isOpenXSMenu ? this.hide() : this.show()
            }, e.prototype.show = function (t) {
                var e, i, n, r, s, a;
                for (l.isCancelable = !0, c.isOpenXSMenu = !0, $("body").addClass("is-menu"), s = 1, f.a(this.el(), {
                    opacity: [1, 1],
                    x: [-o.sw(), 0]
                }, s, 0, Power2.easeOut), f.a(this._bg.el(), {
                    opacity: [0, 1]
                }, .5 * s, 0, Power2.easeOut), r = this._listItem, e = i = 0, n = r.length; i < n; e = ++i) a = r[e], a.show({
                    delay: .05 * e,
                    speed: .9
                });
                return f.a(this.find("> .sns"), {
                    opacity: [0, 1],
                    x: [o.r(-20), 0]
                }, 1, .75, Power2.easeOut)
            }, e.prototype.hide = function (t) {
                return f.a(this.el(), {
                    opacity: [1, 0],
                    x: [0, 1 * -o.sw()]
                }, .35, 0, Power2.easeInOut, null, null, this._eHided)
            }, e.prototype._eHided = function (t) {
                var e, i, n, r, o, s;
                for (l.isCancelable = !1, c.isOpenXSMenu = !1, $("body").removeClass("is-menu"), r = this._listItem, o = [], e = i = 0, n = r.length; i < n; e = ++i) s = r[e], o.push(s.reset());
                return o
            }, e.prototype._update = function () {
                return e.__super__._update.call(this)
            }, e.prototype._resize = function () {
                return e.__super__._resize.call(this)
            }, e
        }(u), t.exports = a
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            _ = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) y.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            y = {}.hasOwnProperty;
        p = i(7), a = i(12), l = i(4), n = i(1), o = i(3), d = i(8), c = i(10), m = i(2), u = i(6), f = i(5), r = i(11), g = i(9), s = i(23), h = function (t) {
            function e(t) {
                this._resize = v(this._resize, this), this._update = v(this._update, this), this.hide = v(this.hide, this), this.show = v(this.show, this), this.init = v(this.init, this), t.resize = !0, t.update = !0, e.__super__.constructor.call(this, t), this._posTg, this._item = []
            }
            return _(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this._posTg = $(".p-top-about > .desc > .b"), this.find(".js-maintext").each(function (t) {
                    return function (e, i) {
                        var n;
                        return n = new s({
                            el: $(i),
                            id: e
                        }), n.init(), t._item.push(n)
                    }
                }(this))
            }, e.prototype.show = function (t) {
                var e, i, n, r, o, s, a;
                for (e = t.delay || 0, this.addClass("is-show"), o = this._item, s = [], i = n = 0, r = o.length; n < r; i = ++n) a = o[i], s.push(a.show({
                    delay: e + .1 * i
                }));
                return s
            }, e.prototype.hide = function (t) {}, e.prototype._update = function () {
                if (e.__super__._update.call(this), f.cnt % 60 === 0) return this._resize()
            }, e.prototype._resize = function () {
                var t;
                return e.__super__._resize.call(this), t = this._posTg.offset().left, p.set(this.el(), {
                    x: t
                })
            }, e
        }(a), t.exports = h
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v, _, y = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            x = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) w.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            w = {}.hasOwnProperty;
        f = i(7), h = i(12), u = i(4), r = i(1), s = i(3), m = i(8), p = i(10), d = i(20), v = i(2), c = i(6), g = i(5), o = i(11), _ = i(9), n = i(69), a = i(23), l = function (t) {
            function e(t) {
                this._resize = y(this._resize, this), this._update = y(this._update, this), this.skip = y(this.skip, this), this.hide = y(this.hide, this), this.showUI = y(this.showUI, this), this._eClickEnter = y(this._eClickEnter, this), this.show = y(this.show, this), this.init = y(this.init, this), t.resize = !0, t.update = !0, e.__super__.constructor.call(this, t), this._subText, this._name, this._enterBtn, this._isClick = !1
            }
            return x(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this._subText = new a({
                    el: this.find(".p-op-sub .js-maintext")
                }), this._subText.init(), this._name = new a({
                    el: this.find(".p-op-name .js-maintext")
                }), this._name.init(), this._enterBtn = new a({
                    el: this.find(".p-op-enter > .text > .js-maintext"),
                    id: 0
                }), this._enterBtn.init(), this.el().on("click", this._eClickEnter), this.addClass("is-noClick")
            }, e.prototype.show = function (t) {
                return f.a(u.logofix, {
                    val: 1
                }, 1.5, t.delay, Power3.easeInOut), this._subText.show({
                    delay: t.delay + .25,
                    speed: .75
                }), this._enterBtn.show({
                    delay: t.delay + .5,
                    onComplete: function (t) {
                        return function () {
                            return t.removeClass("is-noClick")
                        }
                    }(this)
                })
            }, e.prototype._eClickEnter = function (t) {
                var e;
                if (!this._isClick) return this._isClick = !0, u.fps = m.FPS.HIGH, this._enterBtn.el().addClass("is-clicked"), e = 0, f.a(u.mvReverseBefore, {
                    val: 1
                }, 2, e, Power1.easeInOut), e += 0, f.a(u.mvReverse, {
                    val: 1
                }, 3, e, Power2.easeInOut), f.a(this._subText.el(), {
                    opacity: [1, 0]
                }, .5, e), f.a(this._enterBtn.el(), {
                    opacity: [1, 0]
                }, .5, e), e += .25, this._name.show({
                    delay: e,
                    onComplete: function (t) {
                        return function () {
                            return main.top.show(), t.addClass("is-op-end")
                        }
                    }(this)
                }), this.showUI({
                    delay: e
                })
            }, e.prototype.showUI = function (t) {
                var e;
                return e = t.delay, main.scroll.show({
                    delay: e
                }), f.a($(".l-header-menu"), {
                    opacity: [0, 1]
                }, 1, e, Power2.easeOut), main.navi.show({
                    delay: e
                }), f.a($(".l-header-sns"), {
                    opacity: [0, 1]
                }, 1, e, Power2.easeOut), f.a(u.mvScrollOffset, {
                    val: 1
                }, 1, e, Power2.easeInOut)
            }, e.prototype.hide = function (t) {}, e.prototype.skip = function () {
                return u.fps = m.FPS.HIGH, this._enterBtn.el().addClass("is-clicked"), u.logofix.val = 1, u.mvReverseBefore.val = 1, u.mvReverse.val = 1, f.set(this._subText.el(), {
                    opacity: 0
                }), f.set(this._enterBtn.el(), {
                    opacity: 0
                }), this._name.showFast(), this.showUI({
                    delay: 0
                }), main.mv.skip()
            }, e.prototype._update = function () {
                var t;
                return e.__super__._update.call(this), t = v.map(u.mvScrollRate.val, 1, 0, 0, .5), f.set(this.el(), {
                    opacity: t
                }), this.el().css({
                    height: s.sh2(),
                    top: (s.sh2() - s.sh()) * -.5
                })
            }, e.prototype._resize = function () {
                return e.__super__._resize.call(this)
            }, e
        }(h), t.exports = l
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            v = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) _.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            _ = {}.hasOwnProperty;
        c = i(7), s = i(12), a = i(4), n = i(1), o = i(3), p = i(8), u = i(10), f = i(2), h = i(6), d = i(5), r = i(11), m = i(9), l = function (t) {
            function e(t) {
                this._resize = g(this._resize, this), this._update = g(this._update, this), this.loopA = g(this.loopA, this), this.hide = g(this.hide, this), this.show = g(this.show, this), this.init = g(this.init, this), t.resize = !0, t.update = !0, e.__super__.constructor.call(this, t), this._posTg, this._isScroll = !1, this._isShowed = !1
            }
            return v(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this._posTg = $(".p-top-about > .desc > .b")
            }, e.prototype.show = function (t) {
                var e;
                if (!this.el().hasClass("is-show")) return e = t.delay, this.addClass("is-show"), c.a(this.find("> .line"), {
                    opacity: [0, 1],
                    scaleY: [0, 1]
                }, 2, e, Power4.easeInOut), c.a(this.find("> .text"), {
                    opacity: [0, 1],
                    y: [o.r(-20), 0]
                }, 2, e + 1, Power4.easeInOut, null, null, function (t) {
                    return function () {
                        return t.loopA()
                    }
                }(this))
            }, e.prototype.hide = function (t) {}, e.prototype.loopA = function (t) {
                return this.addClass("is-loop-a"), c.a(this.find("> .line"), {
                    scaleY: [1, 0]
                }, 2, 0, Power4.easeInOut, null, null, function (t) {
                    return function () {
                        return t.removeClass("is-loop-a"), c.a(t.find("> .line"), {
                            scaleY: [0, 1]
                        }, 2, 0, Power4.easeInOut, null, null, t.loopA)
                    }
                }(this))
            }, e.prototype._update = function () {
                var t, i;
                if (e.__super__._update.call(this), d.cnt % 60 === 0 && this._resize(), i = o.sh(), t = u.val, t > .5 * i) {
                    if (!this._isScroll) return $("body").addClass("is-scroll"), this._isScroll = !0
                } else if (this._isScroll) return $("body").removeClass("is-scroll"), this._isScroll = !1
            }, e.prototype._resize = function () {
                var t;
                return e.__super__._resize.call(this), t = o.isLG() ? this._posTg.offset().left : .5 * o.sw(), c.set(this.el(), {
                    x: t
                })
            }, e
        }(s), t.exports = l
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v, _, y, x, w = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            b = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) S.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            S = {}.hasOwnProperty;
        g = i(7), h = i(12), u = i(4), r = i(1), s = i(3), v = i(8), p = i(10), d = i(20), y = i(2), c = i(6), _ = i(5), o = i(11), x = i(9), a = i(23), n = i(71), l = i(43), m = i(85), f = function (t) {
            function e(t) {
                this._resize = w(this._resize, this), this._update = w(this._update, this), this.hide = w(this.hide, this), this.show = w(this.show, this), this.resetMotionText = w(this.resetMotionText, this), this.init = w(this.init, this), e.__super__.constructor.call(this, t), this._mainTxt = [], this._block = [], this._profile, this._bufTgPos = new THREE.Vector2
            }
            return b(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), r.IS_SIMPLE || (this.find(".js-maintext").each(function (t) {
                    return function (e, i) {
                        var n;
                        return n = new a({
                            el: $(i),
                            id: e
                        }), n.init(), t._mainTxt.push(n)
                    }
                }(this)), this.find(".js-block").each(function (t) {
                    return function (e, i) {
                        var r;
                        return r = new n({
                            el: $(i),
                            id: e
                        }), r.init(), t._block.push(r)
                    }
                }(this))), this._profile = new m({
                    el: $(".p-top-profile"),
                    photo: $(".p-top-profile-photo > .item"),
                    photoFront: $(".p-top-profile-photo > .item > .normal"),
                    text: $(".p-top-profile-photo > .text > .inner")
                }), this._profile.init()
            }, e.prototype.resetMotionText = function () {
                var t, e, i, n, r, o, s, a, h;
                for (o = this._mainTxt, t = e = 0, n = o.length; e < n; t = ++e) h = o[t], h.showFast();
                for (s = this._block, a = [], t = i = 0, r = s.length; i < r; t = ++i) h = s[t], a.push(h.showFast());
                return a
            }, e.prototype.show = function (t) {
                var i;
                if (!this.isActive && main.router.nowPage === v.PAGE_ID.TOP) return e.__super__.show.call(this), t = t || {}, null == t.opSkipStart && (t.opSkipStart = !1), $(".p-top").addClass("is-show"), d.setTg($(".js-scrollTg")), main.worksHover.reset(), t.fromDetail ? (i = $(".p-top-works").offset().top - s.r(150), d.setNowScroll({
                    tg: i
                }), p.set(i), u.mvScrollRate.val = 1) : t.opSkipStart || p.set(0), c.refresh()
            }, e.prototype.hide = function (t) {
                return e.__super__.hide.call(this)
            }, e.prototype._update = function () {
                if (e.__super__._update.call(this), this.isActive) return this._bufTgPos.y = d.getPos().y
            }, e.prototype._resize = function () {
                return e.__super__._resize.call(this)
            }, e
        }(l), t.exports = f
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            v = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) _.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            _ = {}.hasOwnProperty;
        c = i(7), s = i(12), a = i(4), n = i(1), o = i(3), p = i(8), l = i(10), f = i(2), h = i(6), d = i(5), r = i(11), m = i(9), u = function (t) {
            function e(t) {
                this._resize = g(this._resize, this), this._update = g(this._update, this), this.hide = g(this.hide, this), this.show = g(this.show, this), this.init = g(this.init, this), t.resize = !0, t.update = !0, e.__super__.constructor.call(this, t), this._photo = t.photo, this._photoFront = t.photoFront, this._text = t.text, this._height = 0, this._top = 0, this._photoRateA = 0, this._photoRateB = 0, this._photoRateC = 0, this._cnt2 = 0, this._lastBg = $(".l-last-bg")
            }
            return v(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this._resize()
            }, e.prototype.show = function (t) {}, e.prototype.hide = function (t) {}, e.prototype._update = function () {
                var t, i, r, s, a, h, u, m, g, v, _;
                if (e.__super__._update.call(this), main.router.nowPage === p.PAGE_ID.TOP) return d.cnt % 30 === 0 && this._cnt2 > 0 && (this._height = this.el().height(), this._top = this.el().offset().top, this._cnt2--), v = o.sh2(), g = l.val, _ = this._top - v - o.val(o.r(400), o.r(200)), n.USE_SM_SCROLL, r = .1, h = f.map(g, 0, 1, _, _ + v * o.val(.4, 1)), (this._height <= 0 || this._top <= 0) && (h = 0), this._photoRateA += (h - this._photoRateA) * r, u = f.map(g, 0, 1, _ + v * o.val(.4, 1), _ + o.val(2 * v, this._height)), (this._height <= 0 || this._top <= 0) && (u = 0), this._photoRateB += (u - this._photoRateB) * r, m = f.map(g, 0, 1, _ + .5 * this._height, _ + this._height + v), (this._height <= 0 || this._top <= 0) && (m = 0), this._photoRateC += (m - this._photoRateC) * r, a = o.r(800), s = .5 * v - .5 * a - .5 * (v - o.sh()), t = new THREE.Color(16777215), i = new THREE.Color(16447479), d.cnt % 2 === 0 && c.set(this._lastBg, {
                    backgroundColor: "#" + t.lerp(i, this._photoRateB).getHexString()
                }), n.IS_SIMPLE ? (c.set(this._photo, {
                    opacity: f.mix(0, 1, this._photoRateA) * f.mix(1, 0, this._photoRateB) * o.val(.5, 1)
                }), c.set(this._photoFront, {
                    opacity: f.mix(1, 0, f.map(this._photoRateB, 0, 1, 0, .5))
                }), c.set(this._text, {
                    opacity: f.mix(0, 1, this._photoRateA) * f.mix(1, 0, this._photoRateC)
                })) : (c.set(this._photo, {
                    y: f.mix(o.val(s + o.r(100), 1.5 * v), s, this._photoRateA) + f.mix(0, 0, this._photoRateB),
                    opacity: f.mix(0, 1, this._photoRateA) * f.mix(1, 0, this._photoRateB) * o.val(1, 1)
                }), c.set(this._photoFront, {
                    opacity: f.mix(1, 0, f.map(this._photoRateB, 0, 1, 0, .5))
                }), c.set(this._text, {
                    y: f.mix(.1 * v, 0, this._photoRateA) + f.mix(0, v * -.1, this._photoRateC),
                    opacity: f.mix(0, 1, this._photoRateA) * f.mix(1, 0, this._photoRateC)
                }))
            }, e.prototype._resize = function () {
                return e.__super__._resize.call(this), this._cnt2 = 5
            }, e
        }(s), t.exports = u
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v, _, y = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            x = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) w.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            w = {}.hasOwnProperty;
        p = i(7), a = i(12), h = i(4), n = i(1), o = i(3), d = i(8), c = i(10), s = i(13), u = i(41), m = i(2), l = i(6), f = i(5), r = i(11), g = i(9), _ = i(87), v = function (t) {
            function e(t) {
                this._resize = y(this._resize, this), this._update = y(this._update, this), this.hide = y(this.hide, this), this.show = y(this.show, this), this._eMouseLeave = y(this._eMouseLeave, this), this._eMouseEnter = y(this._eMouseEnter, this), this._eClick = y(this._eClick, this), this.reset = y(this.reset, this), this.init = y(this.init, this), t.resize = !0, t.update = !0, e.__super__.constructor.call(this, t), this._mv = t.mv, this._mvEl = $(".l-mv"), this._tgPos = new THREE.Vector2, this._item = []
            }
            return x(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), $(".js-work-item").each(function (t) {
                    return function (e, i) {
                        var n;
                        return n = new _({
                            el: $(i)
                        }), n.init(), n.onRollOver = t._eMouseEnter, n.onRollOut = t._eMouseLeave, n.onClick = t._eClick, t._item.push(n)
                    }
                }(this))
            }, e.prototype.reset = function () {
                var t, e, i, n, r, o;
                for (n = this._item, r = [], t = e = 0, i = n.length; e < i; t = ++e) o = n[t], r.push(o.reset());
                return r
            }, e.prototype._eClick = function (t) {
                return main.router.move({
                    pageId: d.PAGE_ID.WORK,
                    workId: t.id
                })
            }, e.prototype._eMouseEnter = function (t) {
                if (!n.IS_SIMPLE) return h.isWorksHover = !0, h.isHover = !0, $("body").addClass("is-worksHover"), p.a(h.worksHoverRate, {
                    val: 1
                }, 1, 0, Expo.easeOut), main.mv.getBg().setWorkImg(t.dir)
            }, e.prototype._eMouseLeave = function (t) {
                if (h.isWorksHover && !n.IS_SIMPLE) return p.a(h.worksHoverRate, {
                    val: 0
                }, .25, 0, Power2.easeOut, null, null, function (t) {
                    return function () {
                        return h.isWorksHover = !1, h.isHover = !1, $("body").removeClass("is-worksHover")
                    }
                }(this))
            }, e.prototype.show = function (t) {}, e.prototype.hide = function (t) {}, e.prototype._update = function () {
                var t, i, n, r, a, l, u, c;
                return e.__super__._update.call(this), t = s.x, i = s.y, l = o.r(400), r = Math.pow(h.worksHoverRate.val, 2), a = m.mix(.8, 1, r), n = m.map(r, 0, 1, .5, 1), u = t - .5 * l * a, c = i - .5 * l * a, this._tgPos.x += .1 * (u - this._tgPos.x), this._tgPos.y += .1 * (c - this._tgPos.y), h.isWorksHover ? p.set(this._mvEl, {
                    x: this._tgPos.x,
                    y: this._tgPos.y,
                    z: 1,
                    scale: a,
                    opacity: n
                }) : p.set(this._mvEl, {
                    x: 0,
                    y: 0,
                    z: 0,
                    scale: 1,
                    opacity: .9999
                })
            }, e.prototype._resize = function () {
                return e.__super__._resize.call(this)
            }, e
        }(a), t.exports = v
    },
    function (t, e, i) {
        var n, r, o, s, a, h, l, u, c, p, d, f, m, g, v = function (t, e) {
                return function () {
                    return t.apply(e, arguments)
                }
            },
            _ = function (t, e) {
                function i() {
                    this.constructor = t
                }
                for (var n in e) y.call(e, n) && (t[n] = e[n]);
                return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
            },
            y = {}.hasOwnProperty;
        c = i(7), a = i(12), h = i(4), n = i(1), o = i(3), p = i(8), s = i(13), u = i(10), f = i(2), l = i(6), d = i(5), r = i(11), m = i(9), g = function (t) {
            function e(t) {
                this.isUseHover = v(this.isUseHover, this), this._resize = v(this._resize, this), this._update = v(this._update, this), this._updateLineParam = v(this._updateLineParam, this), this._eEndRollout = v(this._eEndRollout, this), this._eEndRollover = v(this._eEndRollover, this), this._startRollout = v(this._startRollout, this), this._startRollover = v(this._startRollover, this), this.reset = v(this.reset, this), this._eClick = v(this._eClick, this), this._eMouseLeave = v(this._eMouseLeave, this), this._eMouseEnter = v(this._eMouseEnter, this), this.init = v(this.init, this), t.resize = !0, t.update = !0, e.__super__.constructor.call(this, t), this._isHover, this._line = [], this._isPlaying = !1, this._hoverRate = new m(0), this._hoverUseCheck = this.el().find(".js-maintext"), this._dir = this.el().attr("data-dir"), this._isUpdate = this.el().hasClass("is-update"), this.onRollOver, this.onRollOut, this.onClick
            }
            return _(e, t), e.prototype.init = function () {
                return e.__super__.init.call(this), this.el().on("mouseenter", this._eMouseEnter).on("mouseleave", this._eMouseLeave).on("click", this._eClick), this.find(".textWrapper").each(function (t) {
                    return function (e, i) {
                        var n;
                        return n = $(i), n.append('<div class="js-work-item-line"></div>'), t._line.push({
                            tg: n,
                            el: n.find(".js-work-item-line"),
                            width: 0
                        })
                    }
                }(this)), this._resize()
            }, e.prototype._eMouseEnter = function (t) {
                if (this.isUseHover() && !n.IS_SP) return null != this.onRollOver && this.onRollOver({
                    dir: this._dir
                }), this._isHover = !0, this._isPlaying ? void 0 : this._startRollover()
            }, e.prototype._eMouseLeave = function (t) {
                if (this.isUseHover() && !n.IS_SP) return null != this.onRollOut && this.onRollOut({
                    dir: this._dir
                }), this._isHover = !1, this._isPlaying ? void 0 : this._startRollout()
            }, e.prototype._eClick = function (t) {
                if (this.isUseHover()) return null != this.onClick && (this.onClick({
                    id: this._dir
                }), n.IS_SP) ? this.addClass("is-taped") : void 0
            }, e.prototype.reset = function () {
                if (n.IS_SP) return this.removeClass("is-taped")
            }, e.prototype._startRollover = function (t) {
                return this._isPlaying = !0, c.a(this._hoverRate, {
                    val: 1
                }, .4, 0, Expo.easeOut, null, null, this._eEndRollover)
            }, e.prototype._startRollout = function (t) {
                return this._isPlaying = !0, c.a(this._hoverRate, {
                    val: 0
                }, 1.5, 0, Expo.easeInOut, null, null, this._eEndRollout)
            }, e.prototype._eEndRollover = function (t) {
                if (this._isPlaying = !1, !this._isHover) return this._startRollout()
            }, e.prototype._eEndRollout = function (t) {
                if (this._isPlaying = !1, this._isHover) return this._startRollover()
            }, e.prototype._updateLineParam = function () {
                var t, e, i, n, r, o;
                for (this.el().css({
                    width: ""
                }), n = 0, r = this._line, t = e = 0, i = r.length; e < i; t = ++e) o = r[t], o.el.css({
                    width: ""
                }), o.width = o.tg.width(), o.el.css({
                    width: o.width
                }), n < o.width && (n = o.width);
                return this.el().css({
                    width: n
                })
            }, e.prototype._update = function () {
                var t, i, r, o, s, a, h;
                if (e.__super__._update.call(this), n.IS_SP) return void(this._isUpdate && this._updateLineParam());
                for ((d.cnt % 30 === 0 && this._line[0].width <= 0 || this._isHover) && this._updateLineParam(), o = f.isSafari() ? 1 : .5, s = this._line, a = [], t = i = 0, r = s.length; i < r; t = ++i) h = s[t], a.push(c.set(h.el, {
                    scaleX: this._hoverRate.val,
                    scaleY: o,
                    opacity: this._hoverRate.val
                }));
                return a
            }, e.prototype._resize = function () {
                return e.__super__._resize.call(this), this._updateLineParam()
            }, e.prototype.isUseHover = function () {
                return !0
            }, e
        }(a), t.exports = g
    },
    function (t, e, i) {
        var n, r, o, s = function (t, e) {
            return function () {
                return t.apply(e, arguments)
            }
        };
        r = i(1), o = i(3), n = function () {
            function t() {
                this.load = s(this.load, this), this._cvs, this._con, this.tex
            }
            return t.prototype.load = function (t, e) {
                return this._cvs = document.createElement("canvas"), this._cvs.width = this._cvs.height = 2048, this._con = this._cvs.getContext("2d"), this.tex = new THREE.CanvasTexture(this._cvs), this.tex.aspect = new THREE.Vector2(1, 1), this._img = new Image, this._img.onload = function (t) {
                    return function () {
                        if (null != t._img && (t._con.drawImage(t._img, 0, 0, t._cvs.width, t._cvs.height), t.tex.needsUpdate = !0, t.tex.aspect.set(t._img.width, t._img.height), null != e)) return e()
                    }
                }(this), this._img.src = t, this.tex
            }, t
            
        }(), t.exports = n
    },
    function (t, e, i) {
        var n, r, o, s = function (t, e) {
            return function () {
                return t.apply(e, arguments)
            }
        };
        n = i(1), r = i(3), o = function () {
            function t() {
                this.load = s(this.load, this)
            }
            return t.prototype.load = function (t, e) {
                var i, n;
                return n = new THREE.Texture, i = new Image, i.onload = function (r) {
                    return function () {
                        var r;
                        if (n.image = i, r = t.indexOf(".jpg") > 0, n.format = r ? THREE.RGBFormat : THREE.RGBAFormat, n.needsUpdate = !0, null != e) return e()
                    }
                }(this), i.src = t, n
            }, t
        }(), t.exports = o
    },
    function (t, e, i) {
        "use strict";

        function n() {
            this.argTypes = [], this.shimArgs = [], this.arrayArgs = [], this.arrayBlockIndices = [], this.scalarArgs = [], this.offsetArgs = [], this.offsetArgIndex = [], this.indexArgs = [], this.shapeArgs = [], this.funcName = "", this.pre = null, this.body = null, this.post = null, this.debug = !1
        }

        function r(t) {
            var e = new n;
            e.pre = t.pre, e.body = t.body, e.post = t.post;
            var i = t.args.slice(0);
            e.argTypes = i;
            for (var r = 0; r < i.length; ++r) {
                var s = i[r];
                if ("array" === s || "object" == typeof s && s.blockIndices) {
                    if (e.argTypes[r] = "array", e.arrayArgs.push(r), e.arrayBlockIndices.push(s.blockIndices ? s.blockIndices : 0), e.shimArgs.push("array" + r), r < e.pre.args.length && e.pre.args[r].count > 0) throw new Error("cwise: pre() block may not reference array args");
                    if (r < e.post.args.length && e.post.args[r].count > 0) throw new Error("cwise: post() block may not reference array args")
                } else if ("scalar" === s) e.scalarArgs.push(r), e.shimArgs.push("scalar" + r);
                else if ("index" === s) {
                    if (e.indexArgs.push(r), r < e.pre.args.length && e.pre.args[r].count > 0) throw new Error("cwise: pre() block may not reference array index");
                    if (r < e.body.args.length && e.body.args[r].lvalue) throw new Error("cwise: body() block may not write to array index");
                    if (r < e.post.args.length && e.post.args[r].count > 0) throw new Error("cwise: post() block may not reference array index")
                } else if ("shape" === s) {
                    if (e.shapeArgs.push(r), r < e.pre.args.length && e.pre.args[r].lvalue) throw new Error("cwise: pre() block may not write to array shape");
                    if (r < e.body.args.length && e.body.args[r].lvalue) throw new Error("cwise: body() block may not write to array shape");
                    if (r < e.post.args.length && e.post.args[r].lvalue) throw new Error("cwise: post() block may not write to array shape")
                } else {
                    if ("object" != typeof s || !s.offset) throw new Error("cwise: Unknown argument type " + i[r]);
                    e.argTypes[r] = "offset", e.offsetArgs.push({
                        array: s.array,
                        offset: s.offset
                    }), e.offsetArgIndex.push(r)
                }
            }
            if (e.arrayArgs.length <= 0) throw new Error("cwise: No array arguments specified");
            if (e.pre.args.length > i.length) throw new Error("cwise: Too many arguments in pre() block");
            if (e.body.args.length > i.length) throw new Error("cwise: Too many arguments in body() block");
            if (e.post.args.length > i.length) throw new Error("cwise: Too many arguments in post() block");
            return e.debug = !!t.printCode || !!t.debug, e.funcName = t.funcName || "cwise", e.blockSize = t.blockSize || 64, o(e)
        }
        var o = i(92);
        t.exports = r
    },
    function (t, e, i) {
        "use strict";

        function n(t, e, i) {
            var n, r, o = t.length,
                s = e.arrayArgs.length,
                a = e.indexArgs.length > 0,
                h = [],
                l = [],
                u = 0,
                c = 0;
            for (n = 0; n < o; ++n) l.push(["i", n, "=0"].join(""));
            for (r = 0; r < s; ++r)
                for (n = 0; n < o; ++n) c = u, u = t[n], 0 === n ? l.push(["d", r, "s", n, "=t", r, "p", u].join("")) : l.push(["d", r, "s", n, "=(t", r, "p", u, "-s", c, "*t", r, "p", c, ")"].join(""));
            for (l.length > 0 && h.push("var " + l.join(",")), n = o - 1; n >= 0; --n) u = t[n], h.push(["for(i", n, "=0;i", n, "<s", u, ";++i", n, "){"].join(""));
            for (h.push(i), n = 0; n < o; ++n) {
                for (c = u, u = t[n], r = 0; r < s; ++r) h.push(["p", r, "+=d", r, "s", n].join(""));
                a && (n > 0 && h.push(["index[", c, "]-=s", c].join("")), h.push(["++index[", u, "]"].join(""))), h.push("}")
            }
            return h.join("\n")
        }

        function r(t, e, i, r) {
            for (var o = e.length, s = i.arrayArgs.length, a = i.blockSize, h = i.indexArgs.length > 0, l = [], u = 0; u < s; ++u) l.push(["var offset", u, "=p", u].join(""));
            for (var u = t; u < o; ++u) l.push(["for(var j" + u + "=SS[", e[u], "]|0;j", u, ">0;){"].join("")), l.push(["if(j", u, "<", a, "){"].join("")), l.push(["s", e[u], "=j", u].join("")), l.push(["j", u, "=0"].join("")), l.push(["}else{s", e[u], "=", a].join("")), l.push(["j", u, "-=", a, "}"].join("")), h && l.push(["index[", e[u], "]=j", u].join(""));
            for (var u = 0; u < s; ++u) {
                for (var c = ["offset" + u], p = t; p < o; ++p) c.push(["j", p, "*t", u, "p", e[p]].join(""));
                l.push(["p", u, "=(", c.join("+"), ")"].join(""))
            }
            l.push(n(e, i, r));
            for (var u = t; u < o; ++u) l.push("}");
            return l.join("\n")
        }

        function o(t) {
            for (var e = 0, i = t[0].length; e < i;) {
                for (var n = 1; n < t.length; ++n)
                    if (t[n][e] !== t[0][e]) return e;
                    ++e
            }
            return e
        }

        function s(t, e, i) {
            for (var n = t.body, r = [], o = [], s = 0; s < t.args.length; ++s) {
                var a = t.args[s];
                if (!(a.count <= 0)) {
                    var h = new RegExp(a.name, "g"),
                        l = "",
                        u = e.arrayArgs.indexOf(s);
                    switch (e.argTypes[s]) {
                    case "offset":
                        var c = e.offsetArgIndex.indexOf(s),
                            p = e.offsetArgs[c];
                        u = p.array, l = "+q" + c;
                    case "array":
                        l = "p" + u + l;
                        var d = "l" + s,
                            f = "a" + u;
                        if (0 === e.arrayBlockIndices[u]) 1 === a.count ? "generic" === i[u] ? a.lvalue ? (r.push(["var ", d, "=", f, ".get(", l, ")"].join("")), n = n.replace(h, d), o.push([f, ".set(", l, ",", d, ")"].join(""))) : n = n.replace(h, [f, ".get(", l, ")"].join("")) : n = n.replace(h, [f, "[", l, "]"].join("")) : "generic" === i[u] ? (r.push(["var ", d, "=", f, ".get(", l, ")"].join("")), n = n.replace(h, d), a.lvalue && o.push([f, ".set(", l, ",", d, ")"].join(""))) : (r.push(["var ", d, "=", f, "[", l, "]"].join("")), n = n.replace(h, d), a.lvalue && o.push([f, "[", l, "]=", d].join("")));
                        else {
                            for (var m = [a.name], g = [l], v = 0; v < Math.abs(e.arrayBlockIndices[u]); v++) m.push("\\s*\\[([^\\]]+)\\]"), g.push("$" + (v + 1) + "*t" + u + "b" + v);
                            if (h = new RegExp(m.join(""), "g"), l = g.join("+"), "generic" === i[u]) throw new Error("cwise: Generic arrays not supported in combination with blocks!");
                            n = n.replace(h, [f, "[", l, "]"].join(""))
                        }
                        break;
                    case "scalar":
                        n = n.replace(h, "Y" + e.scalarArgs.indexOf(s));
                        break;
                    case "index":
                        n = n.replace(h, "index");
                        break;
                    case "shape":
                        n = n.replace(h, "shape")
                    }
                }
            }
            return [r.join("\n"), n, o.join("\n")].join("\n").trim()
        }

        function a(t) {
            for (var e = new Array(t.length), i = !0, n = 0; n < t.length; ++n) {
                var r = t[n],
                    o = r.match(/\d+/);
                o = o ? o[0] : "", 0 === r.charAt(0) ? e[n] = "u" + r.charAt(1) + o : e[n] = r.charAt(0) + o, n > 0 && (i = i && e[n] === e[n - 1])
            }
            return i ? e[0] : e.join("")
        }

        function h(t, e) {
            for (var i = e[1].length - Math.abs(t.arrayBlockIndices[0]) | 0, h = new Array(t.arrayArgs.length), u = new Array(t.arrayArgs.length), c = 0; c < t.arrayArgs.length; ++c) u[c] = e[2 * c], h[c] = e[2 * c + 1];
            for (var p = [], d = [], f = [], m = [], g = [], c = 0; c < t.arrayArgs.length; ++c) {
                t.arrayBlockIndices[c] < 0 ? (f.push(0), m.push(i), p.push(i), d.push(i + t.arrayBlockIndices[c])) : (f.push(t.arrayBlockIndices[c]), m.push(t.arrayBlockIndices[c] + i), p.push(0), d.push(t.arrayBlockIndices[c]));
                for (var v = [], _ = 0; _ < h[c].length; _++) f[c] <= h[c][_] && h[c][_] < m[c] && v.push(h[c][_] - f[c]);
                g.push(v)
            }
            for (var y = ["SS"], x = ["'use strict'"], w = [], _ = 0; _ < i; ++_) w.push(["s", _, "=SS[", _, "]"].join(""));
            for (var c = 0; c < t.arrayArgs.length; ++c) {
                y.push("a" + c), y.push("t" + c), y.push("p" + c);
                for (var _ = 0; _ < i; ++_) w.push(["t", c, "p", _, "=t", c, "[", f[c] + _, "]"].join(""));
                for (var _ = 0; _ < Math.abs(t.arrayBlockIndices[c]); ++_) w.push(["t", c, "b", _, "=t", c, "[", p[c] + _, "]"].join(""))
            }
            for (var c = 0; c < t.scalarArgs.length; ++c) y.push("Y" + c);
            if (t.shapeArgs.length > 0 && w.push("shape=SS.slice(0)"), t.indexArgs.length > 0) {
                for (var b = new Array(i), c = 0; c < i; ++c) b[c] = "0";
                w.push(["index=[", b.join(","), "]"].join(""))
            }
            for (var c = 0; c < t.offsetArgs.length; ++c) {
                for (var S = t.offsetArgs[c], T = [], _ = 0; _ < S.offset.length; ++_) 0 !== S.offset[_] && (1 === S.offset[_] ? T.push(["t", S.array, "p", _].join("")) : T.push([S.offset[_], "*t", S.array, "p", _].join("")));
                0 === T.length ? w.push("q" + c + "=0") : w.push(["q", c, "=", T.join("+")].join(""))
            }
            var M = l([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));
            w = w.concat(M), w.length > 0 && x.push("var " + w.join(","));
            for (var c = 0; c < t.arrayArgs.length; ++c) x.push("p" + c + "|=0");
            t.pre.body.length > 3 && x.push(s(t.pre, t, u));
            var E = s(t.body, t, u),
                A = o(g);
            A < i ? x.push(r(A, g[0], t, E)) : x.push(n(g[0], t, E)), t.post.body.length > 3 && x.push(s(t.post, t, u)), t.debug && console.log("-----Generated cwise routine for ", e, ":\n" + x.join("\n") + "\n----------");
            var C = [t.funcName || "unnamed", "_cwise_loop_", h[0].join("s"), "m", A, a(u)].join(""),
                P = new Function(["function ", C, "(", y.join(","), "){", x.join("\n"), "} return ", C].join(""));
            return P()
        }
        var l = i(129);
        t.exports = h
    },
    function (t, e, i) {
        "use strict";

        function n(t) {
            var e = ["'use strict'", "var CACHED={}"],
                i = [],
                n = t.funcName + "_cwise_thunk";
            e.push(["return function ", n, "(", t.shimArgs.join(","), "){"].join(""));
            for (var o = [], s = [], a = [
                ["array", t.arrayArgs[0], ".shape.slice(", Math.max(0, t.arrayBlockIndices[0]), t.arrayBlockIndices[0] < 0 ? "," + t.arrayBlockIndices[0] + ")" : ")"].join("")
            ], h = [], l = [], u = 0; u < t.arrayArgs.length; ++u) {
                var c = t.arrayArgs[u];
                i.push(["t", c, "=array", c, ".dtype,", "r", c, "=array", c, ".order"].join("")), o.push("t" + c), o.push("r" + c), s.push("t" + c), s.push("r" + c + ".join()"), a.push("array" + c + ".data"), a.push("array" + c + ".stride"), a.push("array" + c + ".offset|0"), u > 0 && (h.push("array" + t.arrayArgs[0] + ".shape.length===array" + c + ".shape.length+" + (Math.abs(t.arrayBlockIndices[0]) - Math.abs(t.arrayBlockIndices[u]))), l.push("array" + t.arrayArgs[0] + ".shape[shapeIndex+" + Math.max(0, t.arrayBlockIndices[0]) + "]===array" + c + ".shape[shapeIndex+" + Math.max(0, t.arrayBlockIndices[u]) + "]"))
            }
            t.arrayArgs.length > 1 && (e.push("if (!(" + h.join(" && ") + ")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"), e.push("for(var shapeIndex=array" + t.arrayArgs[0] + ".shape.length-" + Math.abs(t.arrayBlockIndices[0]) + "; shapeIndex-->0;) {"), e.push("if (!(" + l.join(" && ") + ")) throw new Error('cwise: Arrays do not all have the same shape!')"), e.push("}"));
            for (var u = 0; u < t.scalarArgs.length; ++u) a.push("scalar" + t.scalarArgs[u]);
            i.push(["type=[", s.join(","), "].join()"].join("")), i.push("proc=CACHED[type]"), e.push("var " + i.join(",")), e.push(["if(!proc){", "CACHED[type]=proc=compile([", o.join(","), "])}", "return proc(", a.join(","), ")}"].join("")), t.debug && console.log("-----Generated thunk:\n" + e.join("\n") + "\n----------");
            var p = new Function("compile", e.join("\n"));
            return p(r.bind(void 0, t))
        }
        var r = i(91);
        t.exports = n
    },
    function (t, e, i) {
        t.exports = i(95), t.exports.color = i(94)
    },
    function (t, e) {
        var i = t.exports = i || {};
        i.color = i.color || {}, i.utils = i.utils || {}, i.utils.common = function () {
            var t = Array.prototype.forEach,
                e = Array.prototype.slice;
            return {
                BREAK: {},
                extend: function (t) {
                    return this.each(e.call(arguments, 1), function (e) {
                        for (var i in e) this.isUndefined(e[i]) || (t[i] = e[i])
                    }, this), t
                }, defaults: function (t) {
                    return this.each(e.call(arguments, 1), function (e) {
                        for (var i in e) this.isUndefined(t[i]) && (t[i] = e[i])
                    }, this), t
                }, compose: function () {
                    var t = e.call(arguments);
                    return function () {
                        for (var i = e.call(arguments), n = t.length - 1; n >= 0; n--) i = [t[n].apply(this, i)];
                        return i[0]
                    }
                }, each: function (e, i, n) {
                    if (t && e.forEach === t) e.forEach(i, n);
                    else if (e.length === e.length + 0) {
                        for (var r = 0, o = e.length; r < o; r++)
                            if (r in e && i.call(n, e[r], r) === this.BREAK) return
                    } else
                        for (var r in e)
                            if (i.call(n, e[r], r) === this.BREAK) return
                }, defer: function (t) {
                    setTimeout(t, 0)
                }, toArray: function (t) {
                    return t.toArray ? t.toArray() : e.call(t)
                }, isUndefined: function (t) {
                    return void 0 === t
                }, isNull: function (t) {
                    return null === t
                }, isNaN: function (t) {
                    return t !== t
                }, isArray: Array.isArray || function (t) {
                    return t.constructor === Array
                }, isObject: function (t) {
                    return t === Object(t)
                }, isNumber: function (t) {
                    return t === t + 0
                }, isString: function (t) {
                    return t === t + ""
                }, isBoolean: function (t) {
                    return t === !1 || t === !0
                }, isFunction: function (t) {
                    return "[object Function]" === Object.prototype.toString.call(t)
                }
            }
        }(), i.color.toString = function (t) {
            return function (e) {
                if (1 == e.a || t.isUndefined(e.a)) {
                    for (var i = e.hex.toString(16); i.length < 6;) i = "0" + i;
                    return "#" + i
                }
                return "rgba(" + Math.round(e.r) + "," + Math.round(e.g) + "," + Math.round(e.b) + "," + e.a + ")"
            }
        }(i.utils.common), i.Color = i.color.Color = function (t, e, i, n) {
            function r(t, e, i) {
                Object.defineProperty(t, e, {
                    get: function () {
                        return "RGB" === this.__state.space ? this.__state[e] : (s(this, e, i), this.__state[e])
                    }, set: function (t) {
                        "RGB" !== this.__state.space && (s(this, e, i), this.__state.space = "RGB"), this.__state[e] = t
                    }
                })
            }

            function o(t, e) {
                Object.defineProperty(t, e, {
                    get: function () {
                        return "HSV" === this.__state.space ? this.__state[e] : (a(this),
                            this.__state[e])
                    }, set: function (t) {
                        "HSV" !== this.__state.space && (a(this), this.__state.space = "HSV"), this.__state[e] = t
                    }
                })
            }

            function s(t, i, r) {
                if ("HEX" === t.__state.space) t.__state[i] = e.component_from_hex(t.__state.hex, r);
                else {
                    if ("HSV" !== t.__state.space) throw "Corrupted color state";
                    n.extend(t.__state, e.hsv_to_rgb(t.__state.h, t.__state.s, t.__state.v))
                }
            }

            function a(t) {
                var i = e.rgb_to_hsv(t.r, t.g, t.b);
                n.extend(t.__state, {
                    s: i.s,
                    v: i.v
                }), n.isNaN(i.h) ? n.isUndefined(t.__state.h) && (t.__state.h = 0) : t.__state.h = i.h
            }
            var h = function () {
                if (this.__state = t.apply(this, arguments), this.__state === !1) throw "Failed to interpret color arguments";
                this.__state.a = this.__state.a || 1
            };
            return h.COMPONENTS = ["r", "g", "b", "h", "s", "v", "hex", "a"], n.extend(h.prototype, {
                toString: function () {
                    return i(this)
                }, toOriginal: function () {
                    return this.__state.conversion.write(this)
                }
            }), r(h.prototype, "r", 2), r(h.prototype, "g", 1), r(h.prototype, "b", 0), o(h.prototype, "h"), o(h.prototype, "s"), o(h.prototype, "v"), Object.defineProperty(h.prototype, "a", {
                get: function () {
                    return this.__state.a
                }, set: function (t) {
                    this.__state.a = t
                }
            }), Object.defineProperty(h.prototype, "hex", {
                get: function () {
                    return "HEX" !== !this.__state.space && (this.__state.hex = e.rgb_to_hex(this.r, this.g, this.b)), this.__state.hex
                }, set: function (t) {
                    this.__state.space = "HEX", this.__state.hex = t
                }
            }), h
        }(i.color.interpret = function (t, e) {
            var i, n, r = function () {
                    n = !1;
                    var t = arguments.length > 1 ? e.toArray(arguments) : arguments[0];
                    return e.each(o, function (r) {
                        if (r.litmus(t)) return e.each(r.conversions, function (r, o) {
                            if (i = r.read(t), n === !1 && i !== !1) return n = i, i.conversionName = o, i.conversion = r, e.BREAK
                        }), e.BREAK
                    }), n
                },
                o = [{
                    litmus: e.isString,
                    conversions: {
                        THREE_CHAR_HEX: {
                            read: function (t) {
                                var e = t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);
                                return null !== e && {
                                    space: "HEX",
                                    hex: parseInt("0x" + e[1].toString() + e[1].toString() + e[2].toString() + e[2].toString() + e[3].toString() + e[3].toString())
                                }
                            }, write: t
                        },
                        SIX_CHAR_HEX: {
                            read: function (t) {
                                var e = t.match(/^#([A-F0-9]{6})$/i);
                                return null !== e && {
                                    space: "HEX",
                                    hex: parseInt("0x" + e[1].toString())
                                }
                            }, write: t
                        },
                        CSS_RGB: {
                            read: function (t) {
                                var e = t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);
                                return null !== e && {
                                    space: "RGB",
                                    r: parseFloat(e[1]),
                                    g: parseFloat(e[2]),
                                    b: parseFloat(e[3])
                                }
                            }, write: t
                        },
                        CSS_RGBA: {
                            read: function (t) {
                                var e = t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);
                                return null !== e && {
                                    space: "RGB",
                                    r: parseFloat(e[1]),
                                    g: parseFloat(e[2]),
                                    b: parseFloat(e[3]),
                                    a: parseFloat(e[4])
                                }
                            }, write: t
                        }
                    }
                }, {
                    litmus: e.isNumber,
                    conversions: {
                        HEX: {
                            read: function (t) {
                                return {
                                    space: "HEX",
                                    hex: t,
                                    conversionName: "HEX"
                                }
                            }, write: function (t) {
                                return t.hex
                            }
                        }
                    }
                }, {
                    litmus: e.isArray,
                    conversions: {
                        RGB_ARRAY: {
                            read: function (t) {
                                return 3 == t.length && {
                                    space: "RGB",
                                    r: t[0],
                                    g: t[1],
                                    b: t[2]
                                }
                            }, write: function (t) {
                                return [t.r, t.g, t.b]
                            }
                        },
                        RGBA_ARRAY: {
                            read: function (t) {
                                return 4 == t.length && {
                                    space: "RGB",
                                    r: t[0],
                                    g: t[1],
                                    b: t[2],
                                    a: t[3]
                                }
                            }, write: function (t) {
                                return [t.r, t.g, t.b, t.a]
                            }
                        }
                    }
                }, {
                    litmus: e.isObject,
                    conversions: {
                        RGBA_OBJ: {
                            read: function (t) {
                                return !!(e.isNumber(t.r) && e.isNumber(t.g) && e.isNumber(t.b) && e.isNumber(t.a)) && {
                                    space: "RGB",
                                    r: t.r,
                                    g: t.g,
                                    b: t.b,
                                    a: t.a
                                }
                            }, write: function (t) {
                                return {
                                    r: t.r,
                                    g: t.g,
                                    b: t.b,
                                    a: t.a
                                }
                            }
                        },
                        RGB_OBJ: {
                            read: function (t) {
                                return !!(e.isNumber(t.r) && e.isNumber(t.g) && e.isNumber(t.b)) && {
                                    space: "RGB",
                                    r: t.r,
                                    g: t.g,
                                    b: t.b
                                }
                            }, write: function (t) {
                                return {
                                    r: t.r,
                                    g: t.g,
                                    b: t.b
                                }
                            }
                        },
                        HSVA_OBJ: {
                            read: function (t) {
                                return !!(e.isNumber(t.h) && e.isNumber(t.s) && e.isNumber(t.v) && e.isNumber(t.a)) && {
                                    space: "HSV",
                                    h: t.h,
                                    s: t.s,
                                    v: t.v,
                                    a: t.a
                                }
                            }, write: function (t) {
                                return {
                                    h: t.h,
                                    s: t.s,
                                    v: t.v,
                                    a: t.a
                                }
                            }
                        },
                        HSV_OBJ: {
                            read: function (t) {
                                return !!(e.isNumber(t.h) && e.isNumber(t.s) && e.isNumber(t.v)) && {
                                    space: "HSV",
                                    h: t.h,
                                    s: t.s,
                                    v: t.v
                                }
                            }, write: function (t) {
                                return {
                                    h: t.h,
                                    s: t.s,
                                    v: t.v
                                }
                            }
                        }
                    }
                }];
            return r
        }(i.color.toString, i.utils.common), i.color.math = function () {
            var t;
            return {
                hsv_to_rgb: function (t, e, i) {
                    var n = Math.floor(t / 60) % 6,
                        r = t / 60 - Math.floor(t / 60),
                        o = i * (1 - e),
                        s = i * (1 - r * e),
                        a = i * (1 - (1 - r) * e),
                        h = [
                            [i, a, o],
                            [s, i, o],
                            [o, i, a],
                            [o, s, i],
                            [a, o, i],
                            [i, o, s]
                        ][n];
                    return {
                        r: 255 * h[0],
                        g: 255 * h[1],
                        b: 255 * h[2]
                    }
                }, rgb_to_hsv: function (t, e, i) {
                    var n, r, o = Math.min(t, e, i),
                        s = Math.max(t, e, i),
                        a = s - o;
                    return 0 == s ? {
                        h: NaN,
                        s: 0,
                        v: 0
                    } : (r = a / s, n = t == s ? (e - i) / a : e == s ? 2 + (i - t) / a : 4 + (t - e) / a, n /= 6, n < 0 && (n += 1), {
                        h: 360 * n,
                        s: r,
                        v: s / 255
                    })
                }, rgb_to_hex: function (t, e, i) {
                    var n = this.hex_with_component(0, 2, t);
                    return n = this.hex_with_component(n, 1, e), n = this.hex_with_component(n, 0, i)
                }, component_from_hex: function (t, e) {
                    return t >> 8 * e & 255
                }, hex_with_component: function (e, i, n) {
                    return n << (t = 8 * i) | e & ~(255 << t)
                }
            }
        }(), i.color.toString, i.utils.common)
    },
    function (t, e) {
        var i = t.exports = i || {};
        i.gui = i.gui || {}, i.utils = i.utils || {}, i.controllers = i.controllers || {}, i.dom = i.dom || {}, i.color = i.color || {}, i.utils.css = function () {
            return {
                load: function (t, e) {
                    e = e || document;
                    var i = e.createElement("link");
                    i.type = "text/css", i.rel = "stylesheet", i.href = t, e.getElementsByTagName("head")[0].appendChild(i)
                }, inject: function (t, e) {
                    e = e || document;
                    var i = document.createElement("style");
                    i.type = "text/css", i.innerHTML = t, e.getElementsByTagName("head")[0].appendChild(i)
                }
            }
        }(), i.utils.common = function () {
            var t = Array.prototype.forEach,
                e = Array.prototype.slice;
            return {
                BREAK: {},
                extend: function (t) {
                    return this.each(e.call(arguments, 1), function (e) {
                        for (var i in e) this.isUndefined(e[i]) || (t[i] = e[i])
                    }, this), t
                }, defaults: function (t) {
                    return this.each(e.call(arguments, 1), function (e) {
                        for (var i in e) this.isUndefined(t[i]) && (t[i] = e[i])
                    }, this), t
                }, compose: function () {
                    var t = e.call(arguments);
                    return function () {
                        for (var i = e.call(arguments), n = t.length - 1; n >= 0; n--) i = [t[n].apply(this, i)];
                        return i[0]
                    }
                }, each: function (e, i, n) {
                    if (t && e.forEach === t) e.forEach(i, n);
                    else if (e.length === e.length + 0) {
                        for (var r = 0, o = e.length; r < o; r++)
                            if (r in e && i.call(n, e[r], r) === this.BREAK) return
                    } else
                        for (var r in e)
                            if (i.call(n, e[r], r) === this.BREAK) return
                }, defer: function (t) {
                    setTimeout(t, 0)
                }, toArray: function (t) {
                    return t.toArray ? t.toArray() : e.call(t)
                }, isUndefined: function (t) {
                    return void 0 === t
                }, isNull: function (t) {
                    return null === t
                }, isNaN: function (t) {
                    return t !== t
                }, isArray: Array.isArray || function (t) {
                    return t.constructor === Array
                }, isObject: function (t) {
                    return t === Object(t)
                }, isNumber: function (t) {
                    return t === t + 0
                }, isString: function (t) {
                    return t === t + ""
                }, isBoolean: function (t) {
                    return t === !1 || t === !0
                }, isFunction: function (t) {
                    return "[object Function]" === Object.prototype.toString.call(t)
                }
            }
        }(), i.controllers.Controller = function (t) {
            var e = function (t, e) {
                this.initialValue = t[e], this.domElement = document.createElement("div"), this.object = t, this.property = e, this.__onChange = void 0, this.__onFinishChange = void 0
            };
            return t.extend(e.prototype, {
                onChange: function (t) {
                    return this.__onChange = t, this
                }, onFinishChange: function (t) {
                    return this.__onFinishChange = t, this
                }, setValue: function (t) {
                    return this.object[this.property] = t, this.__onChange && this.__onChange.call(this, t), this.updateDisplay(), this
                }, getValue: function () {
                    return this.object[this.property]
                }, updateDisplay: function () {
                    return this
                }, isModified: function () {
                    return this.initialValue !== this.getValue()
                }
            }), e
        }(i.utils.common), i.dom.dom = function (t) {
            function e(e) {
                if ("0" === e || t.isUndefined(e)) return 0;
                var i = e.match(r);
                return t.isNull(i) ? 0 : parseFloat(i[1])
            }
            var i = {
                    HTMLEvents: ["change"],
                    MouseEvents: ["click", "mousemove", "mousedown", "mouseup", "mouseover"],
                    KeyboardEvents: ["keydown"]
                },
                n = {};
            t.each(i, function (e, i) {
                t.each(e, function (t) {
                    n[t] = i
                })
            });
            var r = /(\d+(\.\d+)?)px/,
                o = {
                    makeSelectable: function (t, e) {
                        void 0 !== t && void 0 !== t.style && (t.onselectstart = e ? function () {
                            return !1
                        } : function () {}, t.style.MozUserSelect = e ? "auto" : "none", t.style.KhtmlUserSelect = e ? "auto" : "none", t.unselectable = e ? "on" : "off")
                    }, makeFullscreen: function (e, i, n) {
                        t.isUndefined(i) && (i = !0), t.isUndefined(n) && (n = !0), e.style.position = "absolute", i && (e.style.left = 0, e.style.right = 0), n && (e.style.top = 0, e.style.bottom = 0)
                    }, fakeEvent: function (e, i, r, o) {
                        r = r || {};
                        var s = n[i];
                        if (!s) throw new Error("Event type " + i + " not supported.");
                        var a = document.createEvent(s);
                        switch (s) {
                        case "MouseEvents":
                            var h = r.x || r.clientX || 0,
                                l = r.y || r.clientY || 0;
                            a.initMouseEvent(i, r.bubbles || !1, r.cancelable || !0, window, r.clickCount || 1, 0, 0, h, l, !1, !1, !1, !1, 0, null);
                            break;
                        case "KeyboardEvents":
                            var u = a.initKeyboardEvent || a.initKeyEvent;
                            t.defaults(r, {
                                cancelable: !0,
                                ctrlKey: !1,
                                altKey: !1,
                                shiftKey: !1,
                                metaKey: !1,
                                keyCode: void 0,
                                charCode: void 0
                            }), u(i, r.bubbles || !1, r.cancelable, window, r.ctrlKey, r.altKey, r.shiftKey, r.metaKey, r.keyCode, r.charCode);
                            break;
                        default:
                            a.initEvent(i, r.bubbles || !1, r.cancelable || !0)
                        }
                        t.defaults(a, o), e.dispatchEvent(a)
                    }, bind: function (t, e, i, n) {
                        return n = n || !1, t.addEventListener ? t.addEventListener(e, i, n) : t.attachEvent && t.attachEvent("on" + e, i), o
                    }, unbind: function (t, e, i, n) {
                        return n = n || !1, t.removeEventListener ? t.removeEventListener(e, i, n) : t.detachEvent && t.detachEvent("on" + e, i), o
                    }, addClass: function (t, e) {
                        if (void 0 === t.className) t.className = e;
                        else if (t.className !== e) {
                            var i = t.className.split(/ +/);
                            i.indexOf(e) == -1 && (i.push(e), t.className = i.join(" ").replace(/^\s+/, "").replace(/\s+$/, ""))
                        }
                        return o
                    }, removeClass: function (t, e) {
                        if (e)
                            if (void 0 === t.className);
                            else if (t.className === e) t.removeAttribute("class");
                        else {
                            var i = t.className.split(/ +/),
                                n = i.indexOf(e);
                            n != -1 && (i.splice(n, 1), t.className = i.join(" "))
                        } else t.className = void 0;
                        return o
                    }, hasClass: function (t, e) {
                        return new RegExp("(?:^|\\s+)" + e + "(?:\\s+|$)").test(t.className) || !1
                    }, getWidth: function (t) {
                        var i = getComputedStyle(t);
                        return e(i["border-left-width"]) + e(i["border-right-width"]) + e(i["padding-left"]) + e(i["padding-right"]) + e(i.width)
                    }, getHeight: function (t) {
                        var i = getComputedStyle(t);
                        return e(i["border-top-width"]) + e(i["border-bottom-width"]) + e(i["padding-top"]) + e(i["padding-bottom"]) + e(i.height)
                    }, getOffset: function (t) {
                        var e = {
                            left: 0,
                            top: 0
                        };
                        if (t.offsetParent)
                            do e.left += t.offsetLeft, e.top += t.offsetTop; while (t = t.offsetParent);
                        return e
                    }, isActive: function (t) {
                        return t === document.activeElement && (t.type || t.href)
                    }
                };
            return o
        }(i.utils.common), i.controllers.OptionController = function (t, e, i) {
            var n = function (t, r, o) {
                n.superclass.call(this, t, r);
                var s = this;
                if (this.__select = document.createElement("select"), i.isArray(o)) {
                    var a = {};
                    i.each(o, function (t) {
                        a[t] = t
                    }), o = a
                }
                i.each(o, function (t, e) {
                    var i = document.createElement("option");
                    i.innerHTML = e, i.setAttribute("value", t), s.__select.appendChild(i)
                }), this.updateDisplay(), e.bind(this.__select, "change", function () {
                    var t = this.options[this.selectedIndex].value;
                    s.setValue(t)
                }), this.domElement.appendChild(this.__select)
            };
            return n.superclass = t, i.extend(n.prototype, t.prototype, {
                setValue: function (t) {
                    var e = n.superclass.prototype.setValue.call(this, t);
                    return this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()), e
                }, updateDisplay: function () {
                    return this.__select.value = this.getValue(), n.superclass.prototype.updateDisplay.call(this)
                }
            }), n
        }(i.controllers.Controller, i.dom.dom, i.utils.common), i.controllers.NumberController = function (t, e) {
            function i(t) {
                return t = t.toString(), t.indexOf(".") > -1 ? t.length - t.indexOf(".") - 1 : 0
            }
            var n = function (t, r, o) {
                n.superclass.call(this, t, r), o = o || {}, this.__min = o.min, this.__max = o.max, this.__step = o.step, e.isUndefined(this.__step) ? 0 == this.initialValue ? this.__impliedStep = 1 : this.__impliedStep = Math.pow(10, Math.floor(Math.log(this.initialValue) / Math.LN10)) / 10 : this.__impliedStep = this.__step, this.__precision = i(this.__impliedStep)
            };
            return n.superclass = t, e.extend(n.prototype, t.prototype, {
                setValue: function (t) {
                    return void 0 !== this.__min && t < this.__min ? t = this.__min : void 0 !== this.__max && t > this.__max && (t = this.__max), void 0 !== this.__step && t % this.__step != 0 && (t = Math.round(t / this.__step) * this.__step), n.superclass.prototype.setValue.call(this, t)
                }, min: function (t) {
                    return this.__min = t, this
                }, max: function (t) {
                    return this.__max = t, this
                }, step: function (t) {
                    return this.__step = t, this
                }
            }), n
        }(i.controllers.Controller, i.utils.common), i.controllers.NumberControllerBox = function (t, e, i) {
            function n(t, e) {
                var i = Math.pow(10, e);
                return Math.round(t * i) / i
            }
            var r = function (t, n, o) {
                function s() {
                    var t = parseFloat(p.__input.value);
                    i.isNaN(t) || p.setValue(t)
                }

                function a() {
                    s(), p.__onFinishChange && p.__onFinishChange.call(p, p.getValue())
                }

                function h(t) {
                    e.bind(window, "mousemove", l), e.bind(window, "mouseup", u), c = t.clientY
                }

                function l(t) {
                    var e = c - t.clientY;
                    p.setValue(p.getValue() + e * p.__impliedStep), c = t.clientY
                }

                function u() {
                    e.unbind(window, "mousemove", l), e.unbind(window, "mouseup", u)
                }
                this.__truncationSuspended = !1, r.superclass.call(this, t, n, o);
                var c, p = this;
                this.__input = document.createElement("input"), this.__input.setAttribute("type", "text"), e.bind(this.__input, "change", s), e.bind(this.__input, "blur", a), e.bind(this.__input, "mousedown", h), e.bind(this.__input, "keydown", function (t) {
                    13 === t.keyCode && (p.__truncationSuspended = !0, this.blur(), p.__truncationSuspended = !1)
                }), this.updateDisplay(), this.domElement.appendChild(this.__input)
            };
            return r.superclass = t, i.extend(r.prototype, t.prototype, {
                updateDisplay: function () {
                    return this.__input.value = this.__truncationSuspended ? this.getValue() : n(this.getValue(), this.__precision), r.superclass.prototype.updateDisplay.call(this)
                }
            }), r
        }(i.controllers.NumberController, i.dom.dom, i.utils.common), i.controllers.NumberControllerSlider = function (t, e, i, n, r) {
            function o(t, e, i, n, r) {
                return n + (r - n) * ((t - e) / (i - e))
            }
            var s = function (t, i, n, r, a) {
                function h(t) {
                    e.bind(window, "mousemove", l), e.bind(window, "mouseup", u), l(t)
                }

                function l(t) {
                    t.preventDefault();
                    var i = e.getOffset(c.__background),
                        n = e.getWidth(c.__background);
                    return c.setValue(o(t.clientX, i.left, i.left + n, c.__min, c.__max)), !1
                }

                function u() {
                    e.unbind(window, "mousemove", l), e.unbind(window, "mouseup", u), c.__onFinishChange && c.__onFinishChange.call(c, c.getValue())
                }
                s.superclass.call(this, t, i, {
                    min: n,
                    max: r,
                    step: a
                });
                var c = this;
                this.__background = document.createElement("div"), this.__foreground = document.createElement("div"), e.bind(this.__background, "mousedown", h), e.addClass(this.__background, "slider"), e.addClass(this.__foreground, "slider-fg"), this.updateDisplay(), this.__background.appendChild(this.__foreground), this.domElement.appendChild(this.__background)
            };
            return s.superclass = t, s.useDefaultStyles = function () {
                i.inject(r)
            }, n.extend(s.prototype, t.prototype, {
                updateDisplay: function () {
                    var t = (this.getValue() - this.__min) / (this.__max - this.__min);
                    return this.__foreground.style.width = 100 * t + "%", s.superclass.prototype.updateDisplay.call(this)
                }
            }), s
        }(i.controllers.NumberController, i.dom.dom, i.utils.css, i.utils.common, ".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}"), i.controllers.FunctionController = function (t, e, i) {
            var n = function (t, i, r) {
                n.superclass.call(this, t, i);
                var o = this;
                this.__button = document.createElement("div"), this.__button.innerHTML = void 0 === r ? "Fire" : r, e.bind(this.__button, "click", function (t) {
                    return t.preventDefault(), o.fire(), !1
                }), e.addClass(this.__button, "button"), this.domElement.appendChild(this.__button)
            };
            return n.superclass = t, i.extend(n.prototype, t.prototype, {
                fire: function () {
                    this.__onChange && this.__onChange.call(this), this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()), this.getValue().call(this.object)
                }
            }), n
        }(i.controllers.Controller, i.dom.dom, i.utils.common), i.controllers.BooleanController = function (t, e, i) {
            var n = function (t, i) {
                function r() {
                    o.setValue(!o.__prev)
                }
                n.superclass.call(this, t, i);
                var o = this;
                this.__prev = this.getValue(), this.__checkbox = document.createElement("input"), this.__checkbox.setAttribute("type", "checkbox"), e.bind(this.__checkbox, "change", r, !1), this.domElement.appendChild(this.__checkbox), this.updateDisplay()
            };
            return n.superclass = t, i.extend(n.prototype, t.prototype, {
                setValue: function (t) {
                    var e = n.superclass.prototype.setValue.call(this, t);
                    return this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()), this.__prev = this.getValue(), e
                }, updateDisplay: function () {
                    return this.getValue() === !0 ? (this.__checkbox.setAttribute("checked", "checked"), this.__checkbox.checked = !0) : this.__checkbox.checked = !1, n.superclass.prototype.updateDisplay.call(this)
                }
            }), n
        }(i.controllers.Controller, i.dom.dom, i.utils.common), i.color.toString = function (t) {
            return function (e) {
                if (1 == e.a || t.isUndefined(e.a)) {
                    for (var i = e.hex.toString(16); i.length < 6;) i = "0" + i;
                    return "#" + i
                }
                return "rgba(" + Math.round(e.r) + "," + Math.round(e.g) + "," + Math.round(e.b) + "," + e.a + ")"
            }
        }(i.utils.common), i.color.interpret = function (t, e) {
            var i, n, r = function () {
                    n = !1;
                    var t = arguments.length > 1 ? e.toArray(arguments) : arguments[0];
                    return e.each(o, function (r) {
                        if (r.litmus(t)) return e.each(r.conversions, function (r, o) {
                            if (i = r.read(t), n === !1 && i !== !1) return n = i, i.conversionName = o, i.conversion = r, e.BREAK
                        }), e.BREAK
                    }), n
                },
                o = [{
                    litmus: e.isString,
                    conversions: {
                        THREE_CHAR_HEX: {
                            read: function (t) {
                                var e = t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);
                                return null !== e && {
                                    space: "HEX",
                                    hex: parseInt("0x" + e[1].toString() + e[1].toString() + e[2].toString() + e[2].toString() + e[3].toString() + e[3].toString())
                                }
                            }, write: t
                        },
                        SIX_CHAR_HEX: {
                            read: function (t) {
                                var e = t.match(/^#([A-F0-9]{6})$/i);
                                return null !== e && {
                                    space: "HEX",
                                    hex: parseInt("0x" + e[1].toString())
                                }
                            }, write: t
                        },
                        CSS_RGB: {
                            read: function (t) {
                                var e = t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);
                                return null !== e && {
                                    space: "RGB",
                                    r: parseFloat(e[1]),
                                    g: parseFloat(e[2]),
                                    b: parseFloat(e[3])
                                }
                            }, write: t
                        },
                        CSS_RGBA: {
                            read: function (t) {
                                var e = t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);
                                return null !== e && {
                                    space: "RGB",
                                    r: parseFloat(e[1]),
                                    g: parseFloat(e[2]),
                                    b: parseFloat(e[3]),
                                    a: parseFloat(e[4])
                                }
                            }, write: t
                        }
                    }
                }, {
                    litmus: e.isNumber,
                    conversions: {
                        HEX: {
                            read: function (t) {
                                return {
                                    space: "HEX",
                                    hex: t,
                                    conversionName: "HEX"
                                }
                            }, write: function (t) {
                                return t.hex
                            }
                        }
                    }
                }, {
                    litmus: e.isArray,
                    conversions: {
                        RGB_ARRAY: {
                            read: function (t) {
                                return 3 == t.length && {
                                    space: "RGB",
                                    r: t[0],
                                    g: t[1],
                                    b: t[2]
                                }
                            }, write: function (t) {
                                return [t.r, t.g, t.b]
                            }
                        },
                        RGBA_ARRAY: {
                            read: function (t) {
                                return 4 == t.length && {
                                    space: "RGB",
                                    r: t[0],
                                    g: t[1],
                                    b: t[2],
                                    a: t[3]
                                }
                            }, write: function (t) {
                                return [t.r, t.g, t.b, t.a]
                            }
                        }
                    }
                }, {
                    litmus: e.isObject,
                    conversions: {
                        RGBA_OBJ: {
                            read: function (t) {
                                return !!(e.isNumber(t.r) && e.isNumber(t.g) && e.isNumber(t.b) && e.isNumber(t.a)) && {
                                    space: "RGB",
                                    r: t.r,
                                    g: t.g,
                                    b: t.b,
                                    a: t.a
                                }
                            }, write: function (t) {
                                return {
                                    r: t.r,
                                    g: t.g,
                                    b: t.b,
                                    a: t.a
                                }
                            }
                        },
                        RGB_OBJ: {
                            read: function (t) {
                                return !!(e.isNumber(t.r) && e.isNumber(t.g) && e.isNumber(t.b)) && {
                                    space: "RGB",
                                    r: t.r,
                                    g: t.g,
                                    b: t.b
                                }
                            }, write: function (t) {
                                return {
                                    r: t.r,
                                    g: t.g,
                                    b: t.b
                                }
                            }
                        },
                        HSVA_OBJ: {
                            read: function (t) {
                                return !!(e.isNumber(t.h) && e.isNumber(t.s) && e.isNumber(t.v) && e.isNumber(t.a)) && {
                                    space: "HSV",
                                    h: t.h,
                                    s: t.s,
                                    v: t.v,
                                    a: t.a
                                }
                            }, write: function (t) {
                                return {
                                    h: t.h,
                                    s: t.s,
                                    v: t.v,
                                    a: t.a
                                }
                            }
                        },
                        HSV_OBJ: {
                            read: function (t) {
                                return !!(e.isNumber(t.h) && e.isNumber(t.s) && e.isNumber(t.v)) && {
                                    space: "HSV",
                                    h: t.h,
                                    s: t.s,
                                    v: t.v
                                }
                            }, write: function (t) {
                                return {
                                    h: t.h,
                                    s: t.s,
                                    v: t.v
                                }
                            }
                        }
                    }
                }];
            return r
        }(i.color.toString, i.utils.common), i.GUI = i.gui.GUI = function (t, e, i, n, r, o, s, a, h, l, u, c, p, d, f) {
            function m(t, e, i, o) {
                if (void 0 === e[i]) throw new Error("Object " + e + ' has no property "' + i + '"');
                var s;
                if (o.color) s = new u(e, i);
                else {
                    var a = [e, i].concat(o.factoryArgs);
                    s = n.apply(t, a)
                }
                o.before instanceof r && (o.before = o.before.__li), _(t, s), d.addClass(s.domElement, "c");
                var h = document.createElement("span");
                d.addClass(h, "property-name"), h.innerHTML = s.property;
                var l = document.createElement("div");
                l.appendChild(h), l.appendChild(s.domElement);
                var c = g(t, l, o.before);
                return d.addClass(c, B.CLASS_CONTROLLER_ROW), d.addClass(c, typeof s.getValue()), v(t, c, s), t.__controllers.push(s), s
            }

            function g(t, e, i) {
                var n = document.createElement("li");
                return e && n.appendChild(e), i ? t.__ul.insertBefore(n, params.before) : t.__ul.appendChild(n), t.onResize(), n
            }

            function v(t, e, i) {
                if (i.__li = e, i.__gui = t, f.extend(i, {
                    options: function (e) {
                        return arguments.length > 1 ? (i.remove(), m(t, i.object, i.property, {
                            before: i.__li.nextElementSibling,
                            factoryArgs: [f.toArray(arguments)]
                        })) : f.isArray(e) || f.isObject(e) ? (i.remove(), m(t, i.object, i.property, {
                            before: i.__li.nextElementSibling,
                            factoryArgs: [e]
                        })) : void 0
                    }, name: function (t) {
                        return i.__li.firstElementChild.firstElementChild.innerHTML = t, i
                    }, listen: function () {
                        return i.__gui.listen(i), i
                    }, remove: function () {
                        return i.__gui.remove(i), i
                    }
                }), i instanceof h) {
                    var n = new a(i.object, i.property, {
                        min: i.__min,
                        max: i.__max,
                        step: i.__step
                    });
                    f.each(["updateDisplay", "onChange", "onFinishChange"], function (t) {
                        var e = i[t],
                            r = n[t];
                        i[t] = n[t] = function () {
                            var t = Array.prototype.slice.call(arguments);
                            return e.apply(i, t), r.apply(n, t)
                        }
                    }), d.addClass(e, "has-slider"), i.domElement.insertBefore(n.domElement, i.domElement.firstElementChild)
                } else if (i instanceof a) {
                    var r = function (e) {
                        return f.isNumber(i.__min) && f.isNumber(i.__max) ? (i.remove(), m(t, i.object, i.property, {
                            before: i.__li.nextElementSibling,
                            factoryArgs: [i.__min, i.__max, i.__step]
                        })) : e
                    };
                    i.min = f.compose(r, i.min), i.max = f.compose(r, i.max)
                } else i instanceof o ? (d.bind(e, "click", function () {
                    d.fakeEvent(i.__checkbox, "click")
                }), d.bind(i.__checkbox, "click", function (t) {
                    t.stopPropagation()
                })) : i instanceof s ? (d.bind(e, "click", function () {
                    d.fakeEvent(i.__button, "click")
                }), d.bind(e, "mouseover", function () {
                    d.addClass(i.__button, "hover")
                }), d.bind(e, "mouseout", function () {
                    d.removeClass(i.__button, "hover")
                })) : i instanceof u && (d.addClass(e, "color"), i.updateDisplay = f.compose(function (t) {
                    return e.style.borderLeftColor = i.__color.toString(), t
                }, i.updateDisplay), i.updateDisplay());
                i.setValue = f.compose(function (e) {
                    return t.getRoot().__preset_select && i.isModified() && E(t.getRoot(), !0), e
                }, i.setValue)
            }

            function _(t, e) {
                var i = t.getRoot(),
                    n = i.__rememberedObjects.indexOf(e.object);
                if (n != -1) {
                    var r = i.__rememberedObjectIndecesToControllers[n];
                    if (void 0 === r && (r = {}, i.__rememberedObjectIndecesToControllers[n] = r), r[e.property] = e, i.load && i.load.remembered) {
                        var o, s = i.load.remembered;
                        if (s[t.preset]) o = s[t.preset];
                        else {
                            if (!s[I]) return;
                            o = s[I]
                        } if (o[n] && void 0 !== o[n][e.property]) {
                            var a = o[n][e.property];
                            e.initialValue = a, e.setValue(a)
                        }
                    }
                }
            }

            function y(t, e) {
                return document.location.href + "." + e
            }

            function x(t) {
                function e() {
                    l.style.display = t.useLocalStorage ? "block" : "none"
                }
                var i = t.__save_row = document.createElement("li");
                d.addClass(t.domElement, "has-save"), t.__ul.insertBefore(i, t.__ul.firstChild), d.addClass(i, "save-row");
                var n = document.createElement("span");
                n.innerHTML = "&nbsp;", d.addClass(n, "button gears");
                var r = document.createElement("span");
                r.innerHTML = "Save", d.addClass(r, "button"), d.addClass(r, "save");
                var o = document.createElement("span");
                o.innerHTML = "New", d.addClass(o, "button"), d.addClass(o, "save-as");
                var s = document.createElement("span");
                s.innerHTML = "Revert", d.addClass(s, "button"), d.addClass(s, "revert");
                var a = t.__preset_select = document.createElement("select");
                if (t.load && t.load.remembered ? f.each(t.load.remembered, function (e, i) {
                    T(t, i, i == t.preset)
                }) : T(t, I, !1), d.bind(a, "change", function () {
                    for (var e = 0; e < t.__preset_select.length; e++) t.__preset_select[e].innerHTML = t.__preset_select[e].value;
                    t.preset = this.value
                }), i.appendChild(a), i.appendChild(n), i.appendChild(r), i.appendChild(o), i.appendChild(s), D) {
                    var h = document.getElementById("dg-save-locally"),
                        l = document.getElementById("dg-local-explain");
                    h.style.display = "block";
                    var u = document.getElementById("dg-local-storage");
                    "true" === localStorage.getItem(y(t, "isLocal")) && u.setAttribute("checked", "checked"), e(), d.bind(u, "change", function () {
                        t.useLocalStorage = !t.useLocalStorage, e()
                    })
                }
                var c = document.getElementById("dg-new-constructor");
                d.bind(c, "keydown", function (t) {
                    !t.metaKey || 67 !== t.which && 67 != t.keyCode || C.hide()
                }), d.bind(n, "click", function () {
                    c.innerHTML = JSON.stringify(t.getSaveObject(), void 0, 2), C.show(), c.focus(), c.select()
                }), d.bind(r, "click", function () {
                    t.save()
                }), d.bind(o, "click", function () {
                    var e = prompt("Enter a new preset name.");
                    e && t.saveAs(e)
                }), d.bind(s, "click", function () {
                    t.revert()
                })
            }

            function w(t) {
                function e(e) {
                    return e.preventDefault(), r = e.clientX, d.addClass(t.__closeButton, B.CLASS_DRAG), d.bind(window, "mousemove", i), d.bind(window, "mouseup", n), !1
                }

                function i(e) {
                    return e.preventDefault(), t.width += r - e.clientX, t.onResize(), r = e.clientX, !1
                }

                function n() {
                    d.removeClass(t.__closeButton, B.CLASS_DRAG), d.unbind(window, "mousemove", i), d.unbind(window, "mouseup", n)
                }
                t.__resize_handle = document.createElement("div"), f.extend(t.__resize_handle.style, {
                    width: "6px",
                    marginLeft: "-3px",
                    height: "200px",
                    cursor: "ew-resize",
                    position: "absolute"
                });
                var r;
                d.bind(t.__resize_handle, "mousedown", e), d.bind(t.__closeButton, "mousedown", e), t.domElement.insertBefore(t.__resize_handle, t.domElement.firstElementChild)
            }

            function b(t, e) {
                t.domElement.style.width = e + "px", t.__save_row && t.autoPlace && (t.__save_row.style.width = e + "px"), t.__closeButton && (t.__closeButton.style.width = e + "px")
            }

            function S(t, e) {
                var i = {};
                return f.each(t.__rememberedObjects, function (n, r) {
                    var o = {},
                        s = t.__rememberedObjectIndecesToControllers[r];
                    f.each(s, function (t, i) {
                        o[i] = e ? t.initialValue : t.getValue()
                    }), i[r] = o
                }), i
            }

            function T(t, e, i) {
                var n = document.createElement("option");
                n.innerHTML = e, n.value = e, t.__preset_select.appendChild(n), i && (t.__preset_select.selectedIndex = t.__preset_select.length - 1)
            }

            function M(t) {
                for (var e = 0; e < t.__preset_select.length; e++) t.__preset_select[e].value == t.preset && (t.__preset_select.selectedIndex = e)
            }

            function E(t, e) {
                var i = t.__preset_select[t.__preset_select.selectedIndex];
                e ? i.innerHTML = i.value + "*" : i.innerHTML = i.value
            }

            function A(t) {
                0 != t.length && c(function () {
                    A(t)
                }), f.each(t, function (t) {
                    t.updateDisplay()
                })
            }
            t.inject(i);
            var C, P, R = "dg",
                L = 72,
                O = 20,
                I = "Default",
                D = function () {
                    try {
                        return "localStorage" in window && null !== window.localStorage
                    } catch (t) {
                        return !1
                    }
                }(),
                k = !0,
                N = !1,
                z = [],
                B = function (t) {
                    function e() {
                        localStorage.setItem(y(n, "gui"), JSON.stringify(n.getSaveObject()))
                    }

                    function i() {
                        var t = n.getRoot();
                        t.width += 1, f.defer(function () {
                            t.width -= 1
                        })
                    }
                    var n = this;
                    this.domElement = document.createElement("div"), this.__ul = document.createElement("ul"), this.domElement.appendChild(this.__ul), d.addClass(this.domElement, R), this.__folders = {}, this.__controllers = [], this.__rememberedObjects = [], this.__rememberedObjectIndecesToControllers = [], this.__listening = [], t = t || {}, t = f.defaults(t, {
                        autoPlace: !0,
                        width: B.DEFAULT_WIDTH
                    }), t = f.defaults(t, {
                        resizable: t.autoPlace,
                        hideable: t.autoPlace
                    }), f.isUndefined(t.load) ? t.load = {
                        preset: I
                    } : t.preset && (t.load.preset = t.preset), f.isUndefined(t.parent) && t.hideable && z.push(this), t.resizable = f.isUndefined(t.parent) && t.resizable, t.autoPlace && f.isUndefined(t.scrollable) && (t.scrollable = !0);
                    var r = D && "true" === localStorage.getItem(y(this, "isLocal"));
                    if (Object.defineProperties(this, {
                        parent: {
                            get: function () {
                                return t.parent
                            }
                        },
                        scrollable: {
                            get: function () {
                                return t.scrollable
                            }
                        },
                        autoPlace: {
                            get: function () {
                                return t.autoPlace
                            }
                        },
                        preset: {
                            get: function () {
                                return n.parent ? n.getRoot().preset : t.load.preset
                            }, set: function (e) {
                                n.parent ? n.getRoot().preset = e : t.load.preset = e, M(this), n.revert()
                            }
                        },
                        width: {
                            get: function () {
                                return t.width
                            }, set: function (e) {
                                t.width = e, b(n, e)
                            }
                        },
                        name: {
                            get: function () {
                                return t.name
                            }, set: function (e) {
                                t.name = e, s && (s.innerHTML = t.name)
                            }
                        },
                        closed: {
                            get: function () {
                                return t.closed
                            }, set: function (e) {
                                t.closed = e, t.closed ? d.addClass(n.__ul, B.CLASS_CLOSED) : d.removeClass(n.__ul, B.CLASS_CLOSED), this.onResize(), n.__closeButton && (n.__closeButton.innerHTML = e ? B.TEXT_OPEN : B.TEXT_CLOSED)
                            }
                        },
                        load: {
                            get: function () {
                                return t.load
                            }
                        },
                        useLocalStorage: {
                            get: function () {
                                return r
                            }, set: function (t) {
                                D && (r = t, t ? d.bind(window, "unload", e) : d.unbind(window, "unload", e), localStorage.setItem(y(n, "isLocal"), t))
                            }
                        }
                    }), f.isUndefined(t.parent)) {
                        if (t.closed = !1, d.addClass(this.domElement, B.CLASS_MAIN), d.makeSelectable(this.domElement, !1), D && r) {
                            n.useLocalStorage = !0;
                            var o = localStorage.getItem(y(this, "gui"));
                            o && (t.load = JSON.parse(o))
                        }
                        this.__closeButton = document.createElement("div"), this.__closeButton.innerHTML = B.TEXT_CLOSED, d.addClass(this.__closeButton, B.CLASS_CLOSE_BUTTON), this.domElement.appendChild(this.__closeButton), d.bind(this.__closeButton, "click", function () {
                            n.closed = !n.closed
                        })
                    } else {
                        void 0 === t.closed && (t.closed = !0);
                        var s = document.createTextNode(t.name);
                        d.addClass(s, "controller-name");
                        var a = g(n, s),
                            h = function (t) {
                                return t.preventDefault(), n.closed = !n.closed, !1
                            };
                        d.addClass(this.__ul, B.CLASS_CLOSED), d.addClass(a, "title"), d.bind(a, "click", h), t.closed || (this.closed = !1)
                    }
                    t.autoPlace && (f.isUndefined(t.parent) && (k && (P = document.createElement("div"), d.addClass(P, R), d.addClass(P, B.CLASS_AUTO_PLACE_CONTAINER), document.body.appendChild(P), k = !1), P.appendChild(this.domElement), d.addClass(this.domElement, B.CLASS_AUTO_PLACE)), this.parent || b(n, t.width)), d.bind(window, "resize", function () {
                        n.onResize()
                    }), d.bind(this.__ul, "webkitTransitionEnd", function () {
                        n.onResize()
                    }), d.bind(this.__ul, "transitionend", function () {
                        n.onResize()
                    }), d.bind(this.__ul, "oTransitionEnd", function () {
                        n.onResize()
                    }), this.onResize(), t.resizable && w(this);
                    n.getRoot();
                    t.parent || i()
                };
            return B.toggleHide = function () {
                N = !N, f.each(z, function (t) {
                    t.domElement.style.zIndex = N ? -999 : 999, t.domElement.style.opacity = N ? 0 : 1
                })
            }, B.CLASS_AUTO_PLACE = "a", B.CLASS_AUTO_PLACE_CONTAINER = "ac", B.CLASS_MAIN = "main", B.CLASS_CONTROLLER_ROW = "cr", B.CLASS_TOO_TALL = "taller-than-window", B.CLASS_CLOSED = "closed", B.CLASS_CLOSE_BUTTON = "close-button", B.CLASS_DRAG = "drag", B.DEFAULT_WIDTH = 245, B.TEXT_CLOSED = "Close Controls", B.TEXT_OPEN = "Open Controls", d.bind(window, "keydown", function (t) {
                "text" === document.activeElement.type || t.which !== L && t.keyCode != L || B.toggleHide()
            }, !1), f.extend(B.prototype, {
                add: function (t, e) {
                    return m(this, t, e, {
                        factoryArgs: Array.prototype.slice.call(arguments, 2)
                    })
                }, addColor: function (t, e) {
                    return m(this, t, e, {
                        color: !0
                    })
                }, remove: function (t) {
                    this.__ul.removeChild(t.__li), this.__controllers.slice(this.__controllers.indexOf(t), 1);
                    var e = this;
                    f.defer(function () {
                        e.onResize()
                    })
                }, destroy: function () {
                    this.autoPlace && P.removeChild(this.domElement)
                }, addFolder: function (t) {
                    if (void 0 !== this.__folders[t]) throw new Error('You already have a folder in this GUI by the name "' + t + '"');
                    var e = {
                        name: t,
                        parent: this
                    };
                    e.autoPlace = this.autoPlace, this.load && this.load.folders && this.load.folders[t] && (e.closed = this.load.folders[t].closed, e.load = this.load.folders[t]);
                    var i = new B(e);
                    this.__folders[t] = i;
                    var n = g(this, i.domElement);
                    return d.addClass(n, "folder"), i
                }, open: function () {
                    this.closed = !1
                }, close: function () {
                    this.closed = !0
                }, onResize: function () {
                    var t = this.getRoot();
                    if (t.scrollable) {
                        var e = d.getOffset(t.__ul).top,
                            i = 0;
                        f.each(t.__ul.childNodes, function (e) {
                            t.autoPlace && e === t.__save_row || (i += d.getHeight(e))
                        }), window.innerHeight - e - O < i ? (d.addClass(t.domElement, B.CLASS_TOO_TALL), t.__ul.style.height = window.innerHeight - e - O + "px") : (d.removeClass(t.domElement, B.CLASS_TOO_TALL), t.__ul.style.height = "auto")
                    }
                    t.__resize_handle && f.defer(function () {
                        t.__resize_handle.style.height = t.__ul.offsetHeight + "px"
                    }), t.__closeButton && (t.__closeButton.style.width = t.width + "px")
                }, remember: function () {
                    if (f.isUndefined(C) && (C = new p, C.domElement.innerHTML = e), this.parent) throw new Error("You can only call remember on a top level GUI.");
                    var t = this;
                    f.each(Array.prototype.slice.call(arguments), function (e) {
                        0 == t.__rememberedObjects.length && x(t), t.__rememberedObjects.indexOf(e) == -1 && t.__rememberedObjects.push(e)
                    }), this.autoPlace && b(this, this.width)
                }, getRoot: function () {
                    for (var t = this; t.parent;) t = t.parent;
                    return t
                }, getSaveObject: function () {
                    var t = this.load;
                    return t.closed = this.closed, this.__rememberedObjects.length > 0 && (t.preset = this.preset, t.remembered || (t.remembered = {}), t.remembered[this.preset] = S(this)), t.folders = {}, f.each(this.__folders, function (e, i) {
                        t.folders[i] = e.getSaveObject()
                    }), t
                }, save: function () {
                    this.load.remembered || (this.load.remembered = {}), this.load.remembered[this.preset] = S(this), E(this, !1)
                }, saveAs: function (t) {
                    this.load.remembered || (this.load.remembered = {}, this.load.remembered[I] = S(this, !0)), this.load.remembered[t] = S(this), this.preset = t, T(this, t, !0)
                }, revert: function (t) {
                    f.each(this.__controllers, function (e) {
                        this.getRoot().load.remembered ? _(t || this.getRoot(), e) : e.setValue(e.initialValue)
                    }, this), f.each(this.__folders, function (t) {
                        t.revert(t)
                    }), t || E(this.getRoot(), !1)
                }, listen: function (t) {
                    var e = 0 == this.__listening.length;
                    this.__listening.push(t), e && A(this.__listening)
                }
            }), B
        }(i.utils.css, '<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>', ".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n", i.controllers.factory = function (t, e, i, n, r, o, s) {
            return function (a, h) {
                var l = a[h];
                return s.isArray(arguments[2]) || s.isObject(arguments[2]) ? new t(a, h, arguments[2]) : s.isNumber(l) ? s.isNumber(arguments[2]) && s.isNumber(arguments[3]) ? new i(a, h, arguments[2], arguments[3]) : new e(a, h, {
                    min: arguments[2],
                    max: arguments[3]
                }) : s.isString(l) ? new n(a, h) : s.isFunction(l) ? new r(a, h, "") : s.isBoolean(l) ? new o(a, h) : void 0
            }
        }(i.controllers.OptionController, i.controllers.NumberControllerBox, i.controllers.NumberControllerSlider, i.controllers.StringController = function (t, e, i) {
            var n = function (t, i) {
                function r() {
                    s.setValue(s.__input.value)
                }

                function o() {
                    s.__onFinishChange && s.__onFinishChange.call(s, s.getValue())
                }
                n.superclass.call(this, t, i);
                var s = this;
                this.__input = document.createElement("input"), this.__input.setAttribute("type", "text"), e.bind(this.__input, "keyup", r), e.bind(this.__input, "change", r), e.bind(this.__input, "blur", o), e.bind(this.__input, "keydown", function (t) {
                    13 === t.keyCode && this.blur()
                }), this.updateDisplay(), this.domElement.appendChild(this.__input)
            };
            return n.superclass = t, i.extend(n.prototype, t.prototype, {
                updateDisplay: function () {
                    return e.isActive(this.__input) || (this.__input.value = this.getValue()), n.superclass.prototype.updateDisplay.call(this)
                }
            }), n
        }(i.controllers.Controller, i.dom.dom, i.utils.common), i.controllers.FunctionController, i.controllers.BooleanController, i.utils.common), i.controllers.Controller, i.controllers.BooleanController, i.controllers.FunctionController, i.controllers.NumberControllerBox, i.controllers.NumberControllerSlider, i.controllers.OptionController, i.controllers.ColorController = function (t, e, i, n, r) {
            function o(t, e, i, n) {
                t.style.background = "", r.each(h, function (r) {
                    t.style.cssText += "background: " + r + "linear-gradient(" + e + ", " + i + " 0%, " + n + " 100%); "
                })
            }

            function s(t) {
                t.style.background = "", t.style.cssText += "background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);", t.style.cssText += "background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);", t.style.cssText += "background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);", t.style.cssText += "background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);", t.style.cssText += "background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"
            }
            var a = function (t, h) {
                function l(t) {
                    d(t), e.bind(window, "mousemove", d), e.bind(window, "mouseup", u)
                }

                function u() {
                    e.unbind(window, "mousemove", d), e.unbind(window, "mouseup", u)
                }

                function c() {
                    var t = n(this.value);
                    t !== !1 ? (m.__color.__state = t, m.setValue(m.__color.toOriginal())) : this.value = m.__color.toString()
                }

                function p() {
                    e.unbind(window, "mousemove", f), e.unbind(window, "mouseup", p)
                }

                function d(t) {
                    t.preventDefault();
                    var i = e.getWidth(m.__saturation_field),
                        n = e.getOffset(m.__saturation_field),
                        r = (t.clientX - n.left + document.body.scrollLeft) / i,
                        o = 1 - (t.clientY - n.top + document.body.scrollTop) / i;
                    return o > 1 ? o = 1 : o < 0 && (o = 0), r > 1 ? r = 1 : r < 0 && (r = 0), m.__color.v = o, m.__color.s = r, m.setValue(m.__color.toOriginal()), !1
                }

                function f(t) {
                    t.preventDefault();
                    var i = e.getHeight(m.__hue_field),
                        n = e.getOffset(m.__hue_field),
                        r = 1 - (t.clientY - n.top + document.body.scrollTop) / i;
                    return r > 1 ? r = 1 : r < 0 && (r = 0), m.__color.h = 360 * r, m.setValue(m.__color.toOriginal()), !1
                }
                a.superclass.call(this, t, h), this.__color = new i(this.getValue()), this.__temp = new i(0);
                var m = this;
                this.domElement = document.createElement("div"), e.makeSelectable(this.domElement, !1), this.__selector = document.createElement("div"), this.__selector.className = "selector", this.__saturation_field = document.createElement("div"), this.__saturation_field.className = "saturation-field", this.__field_knob = document.createElement("div"), this.__field_knob.className = "field-knob", this.__field_knob_border = "2px solid ", this.__hue_knob = document.createElement("div"), this.__hue_knob.className = "hue-knob", this.__hue_field = document.createElement("div"), this.__hue_field.className = "hue-field", this.__input = document.createElement("input"), this.__input.type = "text", this.__input_textShadow = "0 1px 1px ", e.bind(this.__input, "keydown", function (t) {
                    13 === t.keyCode && c.call(this)
                }), e.bind(this.__input, "blur", c), e.bind(this.__selector, "mousedown", function (t) {
                    e.addClass(this, "drag").bind(window, "mouseup", function (t) {
                        e.removeClass(m.__selector, "drag")
                    })
                });
                var g = document.createElement("div");
                r.extend(this.__selector.style, {
                    width: "122px",
                    height: "102px",
                    padding: "3px",
                    backgroundColor: "#222",
                    boxShadow: "0px 1px 3px rgba(0,0,0,0.3)"
                }), r.extend(this.__field_knob.style, {
                    position: "absolute",
                    width: "12px",
                    height: "12px",
                    border: this.__field_knob_border + (this.__color.v < .5 ? "#fff" : "#000"),
                    boxShadow: "0px 1px 3px rgba(0,0,0,0.5)",
                    borderRadius: "12px",
                    zIndex: 1
                }), r.extend(this.__hue_knob.style, {
                    position: "absolute",
                    width: "15px",
                    height: "2px",
                    borderRight: "4px solid #fff",
                    zIndex: 1
                }), r.extend(this.__saturation_field.style, {
                    width: "100px",
                    height: "100px",
                    border: "1px solid #555",
                    marginRight: "3px",
                    display: "inline-block",
                    cursor: "pointer"
                }), r.extend(g.style, {
                    width: "100%",
                    height: "100%",
                    background: "none"
                }), o(g, "top", "rgba(0,0,0,0)", "#000"), r.extend(this.__hue_field.style, {
                    width: "15px",
                    height: "100px",
                    display: "inline-block",
                    border: "1px solid #555",
                    cursor: "ns-resize"
                }), s(this.__hue_field), r.extend(this.__input.style, {
                    outline: "none",
                    textAlign: "center",
                    color: "#fff",
                    border: 0,
                    fontWeight: "bold",
                    textShadow: this.__input_textShadow + "rgba(0,0,0,0.7)"
                }), e.bind(this.__saturation_field, "mousedown", l), e.bind(this.__field_knob, "mousedown", l), e.bind(this.__hue_field, "mousedown", function (t) {
                    f(t), e.bind(window, "mousemove", f), e.bind(window, "mouseup", p)
                }), this.__saturation_field.appendChild(g), this.__selector.appendChild(this.__field_knob), this.__selector.appendChild(this.__saturation_field), this.__selector.appendChild(this.__hue_field), this.__hue_field.appendChild(this.__hue_knob), this.domElement.appendChild(this.__input), this.domElement.appendChild(this.__selector), this.updateDisplay()
            };
            a.superclass = t, r.extend(a.prototype, t.prototype, {
                updateDisplay: function () {
                    var t = n(this.getValue());
                    if (t !== !1) {
                        var e = !1;
                        r.each(i.COMPONENTS, function (i) {
                            if (!r.isUndefined(t[i]) && !r.isUndefined(this.__color.__state[i]) && t[i] !== this.__color.__state[i]) return e = !0, {}
                        }, this), e && r.extend(this.__color.__state, t)
                    }
                    r.extend(this.__temp.__state, this.__color.__state), this.__temp.a = 1;
                    var s = this.__color.v < .5 || this.__color.s > .5 ? 255 : 0,
                        a = 255 - s;
                    r.extend(this.__field_knob.style, {
                        marginLeft: 100 * this.__color.s - 7 + "px",
                        marginTop: 100 * (1 - this.__color.v) - 7 + "px",
                        backgroundColor: this.__temp.toString(),
                        border: this.__field_knob_border + "rgb(" + s + "," + s + "," + s + ")"
                    }), this.__hue_knob.style.marginTop = 100 * (1 - this.__color.h / 360) + "px", this.__temp.s = 1, this.__temp.v = 1, o(this.__saturation_field, "left", "#fff", this.__temp.toString()), r.extend(this.__input.style, {
                        backgroundColor: this.__input.value = this.__color.toString(),
                        color: "rgb(" + s + "," + s + "," + s + ")",
                        textShadow: this.__input_textShadow + "rgba(" + a + "," + a + "," + a + ",.7)"
                    })
                }
            });
            var h = ["-moz-", "-o-", "-webkit-", "-ms-", ""];
            return a
        }(i.controllers.Controller, i.dom.dom, i.color.Color = function (t, e, i, n) {
            function r(t, e, i) {
                Object.defineProperty(t, e, {
                    get: function () {
                        return "RGB" === this.__state.space ? this.__state[e] : (s(this, e, i), this.__state[e])
                    }, set: function (t) {
                        "RGB" !== this.__state.space && (s(this, e, i), this.__state.space = "RGB"), this.__state[e] = t
                    }
                })
            }

            function o(t, e) {
                Object.defineProperty(t, e, {
                    get: function () {
                        return "HSV" === this.__state.space ? this.__state[e] : (a(this), this.__state[e])
                    }, set: function (t) {
                        "HSV" !== this.__state.space && (a(this), this.__state.space = "HSV"), this.__state[e] = t
                    }
                })
            }

            function s(t, i, r) {
                if ("HEX" === t.__state.space) t.__state[i] = e.component_from_hex(t.__state.hex, r);
                else {
                    if ("HSV" !== t.__state.space) throw "Corrupted color state";
                    n.extend(t.__state, e.hsv_to_rgb(t.__state.h, t.__state.s, t.__state.v))
                }
            }

            function a(t) {
                var i = e.rgb_to_hsv(t.r, t.g, t.b);
                n.extend(t.__state, {
                    s: i.s,
                    v: i.v
                }), n.isNaN(i.h) ? n.isUndefined(t.__state.h) && (t.__state.h = 0) : t.__state.h = i.h
            }
            var h = function () {
                if (this.__state = t.apply(this, arguments), this.__state === !1) throw "Failed to interpret color arguments";
                this.__state.a = this.__state.a || 1
            };
            return h.COMPONENTS = ["r", "g", "b", "h", "s", "v", "hex", "a"], n.extend(h.prototype, {
                toString: function () {
                    return i(this)
                }, toOriginal: function () {
                    return this.__state.conversion.write(this)
                }
            }), r(h.prototype, "r", 2), r(h.prototype, "g", 1), r(h.prototype, "b", 0), o(h.prototype, "h"), o(h.prototype, "s"), o(h.prototype, "v"), Object.defineProperty(h.prototype, "a", {
                get: function () {
                    return this.__state.a
                }, set: function (t) {
                    this.__state.a = t
                }
            }), Object.defineProperty(h.prototype, "hex", {
                get: function () {
                    return "HEX" !== !this.__state.space && (this.__state.hex = e.rgb_to_hex(this.r, this.g, this.b)), this.__state.hex
                }, set: function (t) {
                    this.__state.space = "HEX", this.__state.hex = t
                }
            }), h
        }(i.color.interpret, i.color.math = function () {
            var t;
            return {
                hsv_to_rgb: function (t, e, i) {
                    var n = Math.floor(t / 60) % 6,
                        r = t / 60 - Math.floor(t / 60),
                        o = i * (1 - e),
                        s = i * (1 - r * e),
                        a = i * (1 - (1 - r) * e),
                        h = [
                            [i, a, o],
                            [s, i, o],
                            [o, i, a],
                            [o, s, i],
                            [a, o, i],
                            [i, o, s]
                        ][n];
                    return {
                        r: 255 * h[0],
                        g: 255 * h[1],
                        b: 255 * h[2]
                    }
                }, rgb_to_hsv: function (t, e, i) {
                    var n, r, o = Math.min(t, e, i),
                        s = Math.max(t, e, i),
                        a = s - o;
                    return 0 == s ? {
                        h: NaN,
                        s: 0,
                        v: 0
                    } : (r = a / s, n = t == s ? (e - i) / a : e == s ? 2 + (i - t) / a : 4 + (t - e) / a, n /= 6, n < 0 && (n += 1), {
                        h: 360 * n,
                        s: r,
                        v: s / 255
                    })
                }, rgb_to_hex: function (t, e, i) {
                    var n = this.hex_with_component(0, 2, t);
                    return n = this.hex_with_component(n, 1, e), n = this.hex_with_component(n, 0, i)
                }, component_from_hex: function (t, e) {
                    return t >> 8 * e & 255
                }, hex_with_component: function (e, i, n) {
                    return n << (t = 8 * i) | e & ~(255 << t)
                }
            }
        }(), i.color.toString, i.utils.common), i.color.interpret, i.utils.common), i.utils.requestAnimationFrame = function () {
            return window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (t, e) {
                window.setTimeout(t, 1e3 / 60)
            }
        }(), i.dom.CenteredDiv = function (t, e) {
            var i = function () {
                this.backgroundElement = document.createElement("div"), e.extend(this.backgroundElement.style, {
                    backgroundColor: "rgba(0,0,0,0.8)",
                    top: 0,
                    left: 0,
                    display: "none",
                    zIndex: "1000",
                    opacity: 0,
                    WebkitTransition: "opacity 0.2s linear"
                }), t.makeFullscreen(this.backgroundElement), this.backgroundElement.style.position = "fixed", this.domElement = document.createElement("div"), e.extend(this.domElement.style, {
                    position: "fixed",
                    display: "none",
                    zIndex: "1001",
                    opacity: 0,
                    WebkitTransition: "-webkit-transform 0.2s ease-out, opacity 0.2s linear"
                }), document.body.appendChild(this.backgroundElement), document.body.appendChild(this.domElement);
                var i = this;
                t.bind(this.backgroundElement, "click", function () {
                    i.hide()
                })
            };
            return i.prototype.show = function () {
                var t = this;
                this.backgroundElement.style.display = "block", this.domElement.style.display = "block", this.domElement.style.opacity = 0, this.domElement.style.webkitTransform = "scale(1.1)", this.layout(), e.defer(function () {
                    t.backgroundElement.style.opacity = 1, t.domElement.style.opacity = 1, t.domElement.style.webkitTransform = "scale(1)"
                })
            }, i.prototype.hide = function () {
                var e = this,
                    i = function () {
                        e.domElement.style.display = "none", e.backgroundElement.style.display = "none", t.unbind(e.domElement, "webkitTransitionEnd", i), t.unbind(e.domElement, "transitionend", i), t.unbind(e.domElement, "oTransitionEnd", i)
                    };
                t.bind(this.domElement, "webkitTransitionEnd", i), t.bind(this.domElement, "transitionend", i), t.bind(this.domElement, "oTransitionEnd", i), this.backgroundElement.style.opacity = 0, this.domElement.style.opacity = 0, this.domElement.style.webkitTransform = "scale(1.1)"
            }, i.prototype.layout = function () {
                this.domElement.style.left = window.innerWidth / 2 - t.getWidth(this.domElement) / 2 + "px", this.domElement.style.top = window.innerHeight / 2 - t.getHeight(this.domElement) / 2 + "px"
            }, i
        }(i.dom.dom, i.utils.common), i.dom.dom, i.utils.common)
    },
    function (t, e, i) {
        (function (e) {
            function i(t) {
                if (!/^data\:/i.test(t)) throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');
                t = t.replace(/\r?\n/g, "");
                var i = t.indexOf(",");
                if (-1 === i || i <= 4) throw new TypeError("malformed data: URI");
                for (var n = t.substring(5, i).split(";"), r = !1, o = "US-ASCII", s = 0; s < n.length; s++) "base64" == n[s] ? r = !0 : 0 == n[s].indexOf("charset=") && (o = n[s].substring(8));
                var a = unescape(t.substring(i + 1)),
                    h = r ? "base64" : "ascii",
                    l = new e(a, h);
                return l.type = n[0] || "text/plain", l.charset = o, l
            }
            t.exports = i
        }).call(e, i(28).Buffer)
    },
    function (t, e) {
        e.read = function (t, e, i, n, r) {
            var o, s, a = 8 * r - n - 1,
                h = (1 << a) - 1,
                l = h >> 1,
                u = -7,
                c = i ? r - 1 : 0,
                p = i ? -1 : 1,
                d = t[e + c];
            for (c += p, o = d & (1 << -u) - 1, d >>= -u, u += a; u > 0; o = 256 * o + t[e + c], c += p, u -= 8);
            for (s = o & (1 << -u) - 1, o >>= -u, u += n; u > 0; s = 256 * s + t[e + c], c += p, u -= 8);
            if (0 === o) o = 1 - l;
            else {
                if (o === h) return s ? NaN : (d ? -1 : 1) * (1 / 0);
                s += Math.pow(2, n), o -= l
            }
            return (d ? -1 : 1) * s * Math.pow(2, o - n)
        }, e.write = function (t, e, i, n, r, o) {
            var s, a, h, l = 8 * o - r - 1,
                u = (1 << l) - 1,
                c = u >> 1,
                p = 23 === r ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
                d = n ? 0 : o - 1,
                f = n ? 1 : -1,
                m = e < 0 || 0 === e && 1 / e < 0 ? 1 : 0;
            for (e = Math.abs(e), isNaN(e) || e === 1 / 0 ? (a = isNaN(e) ? 1 : 0, s = u) : (s = Math.floor(Math.log(e) / Math.LN2), e * (h = Math.pow(2, -s)) < 1 && (s--, h *= 2), e += s + c >= 1 ? p / h : p * Math.pow(2, 1 - c), e * h >= 2 && (s++, h /= 2), s + c >= u ? (a = 0, s = u) : s + c >= 1 ? (a = (e * h - 1) * Math.pow(2, r), s += c) : (a = e * Math.pow(2, c - 1) * Math.pow(2, r), s = 0)); r >= 8; t[i + d] = 255 & a, d += f, a /= 256, r -= 8);
            for (s = s << r | a, l += r; l > 0; t[i + d] = 255 & s, d += f, s /= 256, l -= 8);
            t[i + d - f] |= 128 * m
        }
    },
    function (t, e) {
        "use strict";

        function i(t) {
            for (var e = new Array(t), i = 0; i < t; ++i) e[i] = i;
            return e
        }
        t.exports = i
    },
    function (t, e) {
        function i(t) {
            return !!t.constructor && "function" == typeof t.constructor.isBuffer && t.constructor.isBuffer(t)
        }

        function n(t) {
                return "function" == typeof t.readFloatLE && "function" == typeof t.slice && i(t.slice(0, 0))
            }
            /*!
             * Determine if an object is a Buffer
             *
             * @author   Feross Aboukhadijeh <https://feross.org>
             * @license  MIT
             */
        t.exports = function (t) {
            return null != t && (i(t) || n(t) || !!t._isBuffer)
        }
    },
    function (t, e, i) {
        var n, r, o;
        /**
         * isMobile.js v0.4.1
         *
         * A simple library to detect Apple phones and tablets,
         * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
         * and any kind of seven inch device, via user agent sniffing.
         *
         * @author: Kai Mallea (kmallea@gmail.com)
         *
         * @license: http://creativecommons.org/publicdomain/zero/1.0/
         */
        ! function (i) {
            var s = /iPhone/i,
                a = /iPod/i,
                h = /iPad/i,
                l = /(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,
                u = /Android/i,
                c = /(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,
                p = /(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,
                d = /Windows Phone/i,
                f = /(?=.*\bWindows\b)(?=.*\bARM\b)/i,
                m = /BlackBerry/i,
                g = /BB10/i,
                v = /Opera Mini/i,
                _ = /(CriOS|Chrome)(?=.*\bMobile\b)/i,
                y = /(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,
                x = new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)", "i"),
                w = function (t, e) {
                    return t.test(e)
                },
                b = function (t) {
                    var e = t || navigator.userAgent,
                        i = e.split("[FBAN");
                    if ("undefined" != typeof i[1] && (e = i[0]), i = e.split("Twitter"), "undefined" != typeof i[1] && (e = i[0]), this.apple = {
                        phone: w(s, e),
                        ipod: w(a, e),
                        tablet: !w(s, e) && w(h, e),
                        device: w(s, e) || w(a, e) || w(h, e)
                    }, this.amazon = {
                        phone: w(c, e),
                        tablet: !w(c, e) && w(p, e),
                        device: w(c, e) || w(p, e)
                    }, this.android = {
                        phone: w(c, e) || w(l, e),
                        tablet: !w(c, e) && !w(l, e) && (w(p, e) || w(u, e)),
                        device: w(c, e) || w(p, e) || w(l, e) || w(u, e)
                    }, this.windows = {
                        phone: w(d, e),
                        tablet: w(f, e),
                        device: w(d, e) || w(f, e)
                    }, this.other = {
                        blackberry: w(m, e),
                        blackberry10: w(g, e),
                        opera: w(v, e),
                        firefox: w(y, e),
                        chrome: w(_, e),
                        device: w(m, e) || w(g, e) || w(v, e) || w(y, e) || w(_, e)
                    }, this.seven_inch = w(x, e), this.any = this.apple.device || this.android.device || this.windows.device || this.other.device || this.seven_inch, this.phone = this.apple.phone || this.android.phone || this.windows.phone, this.tablet = this.apple.tablet || this.android.tablet || this.windows.tablet, "undefined" == typeof window) return this
                },
                S = function () {
                    var t = new b;
                    return t.Class = b, t
                };
            "undefined" != typeof t && t.exports && "undefined" == typeof window ? t.exports = b : "undefined" != typeof t && t.exports && "undefined" != typeof window ? t.exports = S() : (r = [], n = i.isMobile = S(), o = "function" == typeof n ? n.apply(e, r) : n, !(void 0 !== o && (t.exports = o)))
        }(this)
    },
    function (t, e, i) {
        var n, r;
        /*!
         * jQuery JavaScript Library v3.3.1
         * https://jquery.com/
         *
         * Includes Sizzle.js
         * https://sizzlejs.com/
         *
         * Copyright JS Foundation and other contributors
         * Released under the MIT license
         * https://jquery.org/license
         *
         * Date: 2018-01-20T17:24Z
         */
        ! function (e, i) {
            "use strict";
            "object" == typeof t && "object" == typeof t.exports ? t.exports = e.document ? i(e, !0) : function (t) {
                if (!t.document) throw new Error("jQuery requires a window with a document");
                return i(t)
            } : i(e)
        }("undefined" != typeof window ? window : this, function (i, o) {
            "use strict";

            function s(t, e, i) {
                e = e || ut;
                var n, r = e.createElement("script");
                if (r.text = t, i)
                    for (n in Tt) i[n] && (r[n] = i[n]);
                e.head.appendChild(r).parentNode.removeChild(r)
            }

            function a(t) {
                return null == t ? t + "" : "object" == typeof t || "function" == typeof t ? gt[vt.call(t)] || "object" : typeof t
            }

            function h(t) {
                var e = !!t && "length" in t && t.length,
                    i = a(t);
                return !bt(t) && !St(t) && ("array" === i || 0 === e || "number" == typeof e && e > 0 && e - 1 in t)
            }

            function l(t, e) {
                return t.nodeName && t.nodeName.toLowerCase() === e.toLowerCase()
            }

            function u(t, e, i) {
                return bt(e) ? Et.grep(t, function (t, n) {
                    return !!e.call(t, n, t) !== i
                }) : e.nodeType ? Et.grep(t, function (t) {
                    return t === e !== i
                }) : "string" != typeof e ? Et.grep(t, function (t) {
                    return mt.call(e, t) > -1 !== i
                }) : Et.filter(e, t, i)
            }

            function c(t, e) {
                for (;
                    (t = t[e]) && 1 !== t.nodeType;);
                return t
            }

            function p(t) {
                var e = {};
                return Et.each(t.match(Bt) || [], function (t, i) {
                    e[i] = !0
                }), e
            }

            function d(t) {
                return t
            }

            function f(t) {
                throw t
            }

            function m(t, e, i, n) {
                var r;
                try {
                    t && bt(r = t.promise) ? r.call(t).done(e).fail(i) : t && bt(r = t.then) ? r.call(t, e, i) : e.apply(void 0, [t].slice(n))
                } catch (t) {
                    i.apply(void 0, [t])
                }
            }

            function g() {
                ut.removeEventListener("DOMContentLoaded", g), i.removeEventListener("load", g), Et.ready()
            }

            function v(t, e) {
                return e.toUpperCase()
            }

            function _(t) {
                return t.replace(Gt, "ms-").replace(jt, v)
            }

            function y() {
                this.expando = Et.expando + y.uid++
            }

            function x(t) {
                return "true" === t || "false" !== t && ("null" === t ? null : t === +t + "" ? +t : Xt.test(t) ? JSON.parse(t) : t)
            }

            function w(t, e, i) {
                var n;
                if (void 0 === i && 1 === t.nodeType)
                    if (n = "data-" + e.replace(Yt, "-$&").toLowerCase(), i = t.getAttribute(n), "string" == typeof i) {
                        try {
                            i = x(i)
                        } catch (t) {}
                        qt.set(t, e, i)
                    } else i = void 0;
                return i
            }

            function b(t, e, i, n) {
                var r, o, s = 20,
                    a = n ? function () {
                        return n.cur()
                    } : function () {
                        return Et.css(t, e, "")
                    },
                    h = a(),
                    l = i && i[3] || (Et.cssNumber[e] ? "" : "px"),
                    u = (Et.cssNumber[e] || "px" !== l && +h) && Jt.exec(Et.css(t, e));
                if (u && u[3] !== l) {
                    for (h /= 2, l = l || u[3], u = +h || 1; s--;) Et.style(t, e, u + l), (1 - o) * (1 - (o = a() / h || .5)) <= 0 && (s = 0), u /= o;
                    u *= 2, Et.style(t, e, u + l), i = i || []
                }
                return i && (u = +u || +h || 0, r = i[1] ? u + (i[1] + 1) * i[2] : +i[2], n && (n.unit = l, n.start = u, n.end = r)), r
            }

            function S(t) {
                var e, i = t.ownerDocument,
                    n = t.nodeName,
                    r = te[n];
                return r ? r : (e = i.body.appendChild(i.createElement(n)), r = Et.css(e, "display"), e.parentNode.removeChild(e), "none" === r && (r = "block"), te[n] = r, r)
            }

            function T(t, e) {
                for (var i, n, r = [], o = 0, s = t.length; o < s; o++) n = t[o], n.style && (i = n.style.display, e ? ("none" === i && (r[o] = Wt.get(n, "display") || null, r[o] || (n.style.display = "")), "" === n.style.display && Kt(n) && (r[o] = S(n))) : "none" !== i && (r[o] = "none", Wt.set(n, "display", i)));
                for (o = 0; o < s; o++) null != r[o] && (t[o].style.display = r[o]);
                return t
            }

            function M(t, e) {
                var i;
                return i = "undefined" != typeof t.getElementsByTagName ? t.getElementsByTagName(e || "*") : "undefined" != typeof t.querySelectorAll ? t.querySelectorAll(e || "*") : [], void 0 === e || e && l(t, e) ? Et.merge([t], i) : i
            }

            function E(t, e) {
                for (var i = 0, n = t.length; i < n; i++) Wt.set(t[i], "globalEval", !e || Wt.get(e[i], "globalEval"))
            }

            function A(t, e, i, n, r) {
                for (var o, s, h, l, u, c, p = e.createDocumentFragment(), d = [], f = 0, m = t.length; f < m; f++)
                    if (o = t[f], o || 0 === o)
                        if ("object" === a(o)) Et.merge(d, o.nodeType ? [o] : o);
                        else if (oe.test(o)) {
                    for (s = s || p.appendChild(e.createElement("div")), h = (ie.exec(o) || ["", ""])[1].toLowerCase(), l = re[h] || re._default, s.innerHTML = l[1] + Et.htmlPrefilter(o) + l[2], c = l[0]; c--;) s = s.lastChild;
                    Et.merge(d, s.childNodes), s = p.firstChild, s.textContent = ""
                } else d.push(e.createTextNode(o));
                for (p.textContent = "", f = 0; o = d[f++];)
                    if (n && Et.inArray(o, n) > -1) r && r.push(o);
                    else if (u = Et.contains(o.ownerDocument, o), s = M(p.appendChild(o), "script"), u && E(s), i)
                    for (c = 0; o = s[c++];) ne.test(o.type || "") && i.push(o);
                return p
            }

            function C() {
                return !0
            }

            function P() {
                return !1
            }

            function R() {
                try {
                    return ut.activeElement
                } catch (t) {}
            }

            function L(t, e, i, n, r, o) {
                var s, a;
                if ("object" == typeof e) {
                    "string" != typeof i && (n = n || i, i = void 0);
                    for (a in e) L(t, a, i, n, e[a], o);
                    return t
                }
                if (null == n && null == r ? (r = i, n = i = void 0) : null == r && ("string" == typeof i ? (r = n, n = void 0) : (r = n, n = i, i = void 0)), r === !1) r = P;
                else if (!r) return t;
                return 1 === o && (s = r, r = function (t) {
                    return Et().off(t), s.apply(this, arguments)
                }, r.guid = s.guid || (s.guid = Et.guid++)), t.each(function () {
                    Et.event.add(this, e, r, n, i)
                })
            }

            function O(t, e) {
                return l(t, "table") && l(11 !== e.nodeType ? e : e.firstChild, "tr") ? Et(t).children("tbody")[0] || t : t
            }

            function I(t) {
                return t.type = (null !== t.getAttribute("type")) + "/" + t.type, t
            }

            function D(t) {
                return "true/" === (t.type || "").slice(0, 5) ? t.type = t.type.slice(5) : t.removeAttribute("type"), t
            }

            function k(t, e) {
                var i, n, r, o, s, a, h, l;
                if (1 === e.nodeType) {
                    if (Wt.hasData(t) && (o = Wt.access(t), s = Wt.set(e, o), l = o.events)) {
                        delete s.handle, s.events = {};
                        for (r in l)
                            for (i = 0, n = l[r].length; i < n; i++) Et.event.add(e, r, l[r][i])
                    }
                    qt.hasData(t) && (a = qt.access(t), h = Et.extend({}, a), qt.set(e, h))
                }
            }

            function N(t, e) {
                var i = e.nodeName.toLowerCase();
                "input" === i && ee.test(t.type) ? e.checked = t.checked : "input" !== i && "textarea" !== i || (e.defaultValue = t.defaultValue)
            }

            function z(t, e, i, n) {
                e = dt.apply([], e);
                var r, o, a, h, l, u, c = 0,
                    p = t.length,
                    d = p - 1,
                    f = e[0],
                    m = bt(f);
                if (m || p > 1 && "string" == typeof f && !wt.checkClone && pe.test(f)) return t.each(function (r) {
                    var o = t.eq(r);
                    m && (e[0] = f.call(this, r, o.html())), z(o, e, i, n)
                });
                if (p && (r = A(e, t[0].ownerDocument, !1, t, n), o = r.firstChild, 1 === r.childNodes.length && (r = o), o || n)) {
                    for (a = Et.map(M(r, "script"), I), h = a.length; c < p; c++) l = r, c !== d && (l = Et.clone(l, !0, !0), h && Et.merge(a, M(l, "script"))), i.call(t[c], l, c);
                    if (h)
                        for (u = a[a.length - 1].ownerDocument, Et.map(a, D), c = 0; c < h; c++) l = a[c], ne.test(l.type || "") && !Wt.access(l, "globalEval") && Et.contains(u, l) && (l.src && "module" !== (l.type || "").toLowerCase() ? Et._evalUrl && Et._evalUrl(l.src) : s(l.textContent.replace(de, ""), u, l))
                }
                return t
            }

            function B(t, e, i) {
                for (var n, r = e ? Et.filter(e, t) : t, o = 0; null != (n = r[o]); o++) i || 1 !== n.nodeType || Et.cleanData(M(n)), n.parentNode && (i && Et.contains(n.ownerDocument, n) && E(M(n, "script")), n.parentNode.removeChild(n));
                return t
            }

            function F(t, e, i) {
                var n, r, o, s, a = t.style;
                return i = i || me(t), i && (s = i.getPropertyValue(e) || i[e], "" !== s || Et.contains(t.ownerDocument, t) || (s = Et.style(t, e)), !wt.pixelBoxStyles() && fe.test(s) && ge.test(e) && (n = a.width, r = a.minWidth, o = a.maxWidth, a.minWidth = a.maxWidth = a.width = s, s = i.width, a.width = n, a.minWidth = r, a.maxWidth = o)), void 0 !== s ? s + "" : s
            }

            function H(t, e) {
                return {
                    get: function () {
                        return t() ? void delete this.get : (this.get = e).apply(this, arguments)
                    }
                }
            }

            function U(t) {
                if (t in be) return t;
                for (var e = t[0].toUpperCase() + t.slice(1), i = we.length; i--;)
                    if (t = we[i] + e, t in be) return t
            }

            function G(t) {
                var e = Et.cssProps[t];
                return e || (e = Et.cssProps[t] = U(t) || t), e
            }

            function j(t, e, i) {
                var n = Jt.exec(e);
                return n ? Math.max(0, n[2] - (i || 0)) + (n[3] || "px") : e
            }

            function V(t, e, i, n, r, o) {
                var s = "width" === e ? 1 : 0,
                    a = 0,
                    h = 0;
                if (i === (n ? "border" : "content")) return 0;
                for (; s < 4; s += 2) "margin" === i && (h += Et.css(t, i + $t[s], !0, r)), n ? ("content" === i && (h -= Et.css(t, "padding" + $t[s], !0, r)), "margin" !== i && (h -= Et.css(t, "border" + $t[s] + "Width", !0, r))) : (h += Et.css(t, "padding" + $t[s], !0, r), "padding" !== i ? h += Et.css(t, "border" + $t[s] + "Width", !0, r) : a += Et.css(t, "border" + $t[s] + "Width", !0, r));
                return !n && o >= 0 && (h += Math.max(0, Math.ceil(t["offset" + e[0].toUpperCase() + e.slice(1)] - o - h - a - .5))), h
            }

            function W(t, e, i) {
                var n = me(t),
                    r = F(t, e, n),
                    o = "border-box" === Et.css(t, "boxSizing", !1, n),
                    s = o;
                if (fe.test(r)) {
                    if (!i) return r;
                    r = "auto"
                }
                return s = s && (wt.boxSizingReliable() || r === t.style[e]), ("auto" === r || !parseFloat(r) && "inline" === Et.css(t, "display", !1, n)) && (r = t["offset" + e[0].toUpperCase() + e.slice(1)], s = !0), r = parseFloat(r) || 0, r + V(t, e, i || (o ? "border" : "content"), s, n, r) + "px"
            }

            function q(t, e, i, n, r) {
                return new q.prototype.init(t, e, i, n, r)
            }

            function X() {
                Te && (ut.hidden === !1 && i.requestAnimationFrame ? i.requestAnimationFrame(X) : i.setTimeout(X, Et.fx.interval), Et.fx.tick())
            }

            function Y() {
                return i.setTimeout(function () {
                    Se = void 0
                }), Se = Date.now()
            }

            function Z(t, e) {
                var i, n = 0,
                    r = {
                        height: t
                    };
                for (e = e ? 1 : 0; n < 4; n += 2 - e) i = $t[n], r["margin" + i] = r["padding" + i] = t;
                return e && (r.opacity = r.width = t), r
            }

            function J(t, e, i) {
                for (var n, r = (Q.tweeners[e] || []).concat(Q.tweeners["*"]), o = 0, s = r.length; o < s; o++)
                    if (n = r[o].call(i, e, t)) return n
            }

            function $(t, e, i) {
                var n, r, o, s, a, h, l, u, c = "width" in e || "height" in e,
                    p = this,
                    d = {},
                    f = t.style,
                    m = t.nodeType && Kt(t),
                    g = Wt.get(t, "fxshow");
                i.queue || (s = Et._queueHooks(t, "fx"), null == s.unqueued && (s.unqueued = 0, a = s.empty.fire, s.empty.fire = function () {
                    s.unqueued || a()
                }), s.unqueued++, p.always(function () {
                    p.always(function () {
                        s.unqueued--, Et.queue(t, "fx").length || s.empty.fire()
                    })
                }));
                for (n in e)
                    if (r = e[n], Me.test(r)) {
                        if (delete e[n], o = o || "toggle" === r, r === (m ? "hide" : "show")) {
                            if ("show" !== r || !g || void 0 === g[n]) continue;
                            m = !0
                        }
                        d[n] = g && g[n] || Et.style(t, n)
                    }
                if (h = !Et.isEmptyObject(e), h || !Et.isEmptyObject(d)) {
                    c && 1 === t.nodeType && (i.overflow = [f.overflow, f.overflowX, f.overflowY], l = g && g.display, null == l && (l = Wt.get(t, "display")), u = Et.css(t, "display"), "none" === u && (l ? u = l : (T([t], !0), l = t.style.display || l, u = Et.css(t, "display"), T([t]))), ("inline" === u || "inline-block" === u && null != l) && "none" === Et.css(t, "float") && (h || (p.done(function () {
                        f.display = l
                    }), null == l && (u = f.display, l = "none" === u ? "" : u)), f.display = "inline-block")), i.overflow && (f.overflow = "hidden", p.always(function () {
                        f.overflow = i.overflow[0], f.overflowX = i.overflow[1], f.overflowY = i.overflow[2]
                    })), h = !1;
                    for (n in d) h || (g ? "hidden" in g && (m = g.hidden) : g = Wt.access(t, "fxshow", {
                        display: l
                    }), o && (g.hidden = !m), m && T([t], !0), p.done(function () {
                        m || T([t]), Wt.remove(t, "fxshow");
                        for (n in d) Et.style(t, n, d[n])
                    })), h = J(m ? g[n] : 0, n, p), n in g || (g[n] = h.start, m && (h.end = h.start, h.start = 0))
                }
            }

            function K(t, e) {
                var i, n, r, o, s;
                for (i in t)
                    if (n = _(i), r = e[n], o = t[i], Array.isArray(o) && (r = o[1], o = t[i] = o[0]), i !== n && (t[n] = o, delete t[i]), s = Et.cssHooks[n], s && "expand" in s) {
                        o = s.expand(o), delete t[n];
                        for (i in o) i in t || (t[i] = o[i], e[i] = r)
                    } else e[n] = r
            }

            function Q(t, e, i) {
                var n, r, o = 0,
                    s = Q.prefilters.length,
                    a = Et.Deferred().always(function () {
                        delete h.elem
                    }),
                    h = function () {
                        if (r) return !1;
                        for (var e = Se || Y(), i = Math.max(0, l.startTime + l.duration - e), n = i / l.duration || 0, o = 1 - n, s = 0, h = l.tweens.length; s < h; s++) l.tweens[s].run(o);
                        return a.notifyWith(t, [l, o, i]), o < 1 && h ? i : (h || a.notifyWith(t, [l, 1, 0]), a.resolveWith(t, [l]), !1)
                    },
                    l = a.promise({
                        elem: t,
                        props: Et.extend({}, e),
                        opts: Et.extend(!0, {
                            specialEasing: {},
                            easing: Et.easing._default
                        }, i),
                        originalProperties: e,
                        originalOptions: i,
                        startTime: Se || Y(),
                        duration: i.duration,
                        tweens: [],
                        createTween: function (e, i) {
                            var n = Et.Tween(t, l.opts, e, i, l.opts.specialEasing[e] || l.opts.easing);
                            return l.tweens.push(n), n
                        }, stop: function (e) {
                            var i = 0,
                                n = e ? l.tweens.length : 0;
                            if (r) return this;
                            for (r = !0; i < n; i++) l.tweens[i].run(1);
                            return e ? (a.notifyWith(t, [l, 1, 0]), a.resolveWith(t, [l, e])) : a.rejectWith(t, [l, e]), this
                        }
                    }),
                    u = l.props;
                for (K(u, l.opts.specialEasing); o < s; o++)
                    if (n = Q.prefilters[o].call(l, t, u, l.opts)) return bt(n.stop) && (Et._queueHooks(l.elem, l.opts.queue).stop = n.stop.bind(n)), n;
                return Et.map(u, J, l), bt(l.opts.start) && l.opts.start.call(t, l), l.progress(l.opts.progress).done(l.opts.done, l.opts.complete).fail(l.opts.fail).always(l.opts.always), Et.fx.timer(Et.extend(h, {
                    elem: t,
                    anim: l,
                    queue: l.opts.queue
                })), l
            }

            function tt(t) {
                var e = t.match(Bt) || [];
                return e.join(" ")
            }

            function et(t) {
                return t.getAttribute && t.getAttribute("class") || ""
            }

            function it(t) {
                return Array.isArray(t) ? t : "string" == typeof t ? t.match(Bt) || [] : []
            }

            function nt(t, e, i, n) {
                var r;
                if (Array.isArray(e)) Et.each(e, function (e, r) {
                    i || ze.test(t) ? n(t, r) : nt(t + "[" + ("object" == typeof r && null != r ? e : "") + "]", r, i, n)
                });
                else if (i || "object" !== a(e)) n(t, e);
                else
                    for (r in e) nt(t + "[" + r + "]", e[r], i, n)
            }

            function rt(t) {
                return function (e, i) {
                    "string" != typeof e && (i = e, e = "*");
                    var n, r = 0,
                        o = e.toLowerCase().match(Bt) || [];
                    if (bt(i))
                        for (; n = o[r++];) "+" === n[0] ? (n = n.slice(1) || "*", (t[n] = t[n] || []).unshift(i)) : (t[n] = t[n] || []).push(i)
                }
            }

            function ot(t, e, i, n) {
                function r(a) {
                    var h;
                    return o[a] = !0, Et.each(t[a] || [], function (t, a) {
                        var l = a(e, i, n);
                        return "string" != typeof l || s || o[l] ? s ? !(h = l) : void 0 : (e.dataTypes.unshift(l), r(l), !1)
                    }), h
                }
                var o = {},
                    s = t === Ze;
                return r(e.dataTypes[0]) || !o["*"] && r("*")
            }

            function st(t, e) {
                var i, n, r = Et.ajaxSettings.flatOptions || {};
                for (i in e) void 0 !== e[i] && ((r[i] ? t : n || (n = {}))[i] = e[i]);
                return n && Et.extend(!0, t, n), t
            }

            function at(t, e, i) {
                for (var n, r, o, s, a = t.contents, h = t.dataTypes;
                    "*" === h[0];) h.shift(), void 0 === n && (n = t.mimeType || e.getResponseHeader("Content-Type"));
                if (n)
                    for (r in a)
                        if (a[r] && a[r].test(n)) {
                            h.unshift(r);
                            break
                        }
                if (h[0] in i) o = h[0];
                else {
                    for (r in i) {
                        if (!h[0] || t.converters[r + " " + h[0]]) {
                            o = r;
                            break
                        }
                        s || (s = r)
                    }
                    o = o || s
                } if (o) return o !== h[0] && h.unshift(o), i[o]
            }

            function ht(t, e, i, n) {
                var r, o, s, a, h, l = {},
                    u = t.dataTypes.slice();
                if (u[1])
                    for (s in t.converters) l[s.toLowerCase()] = t.converters[s];
                for (o = u.shift(); o;)
                    if (t.responseFields[o] && (i[t.responseFields[o]] = e), !h && n && t.dataFilter && (e = t.dataFilter(e, t.dataType)), h = o, o = u.shift())
                        if ("*" === o) o = h;
                        else if ("*" !== h && h !== o) {
                    if (s = l[h + " " + o] || l["* " + o], !s)
                        for (r in l)
                            if (a = r.split(" "), a[1] === o && (s = l[h + " " + a[0]] || l["* " + a[0]])) {
                                s === !0 ? s = l[r] : l[r] !== !0 && (o = a[0], u.unshift(a[1]));
                                break
                            }
                    if (s !== !0)
                        if (s && t.throws) e = s(e);
                        else try {
                            e = s(e)
                        } catch (t) {
                            return {
                                state: "parsererror",
                                error: s ? t : "No conversion from " + h + " to " + o
                            }
                        }
                }
                return {
                    state: "success",
                    data: e
                }
            }
            var lt = [],
                ut = i.document,
                ct = Object.getPrototypeOf,
                pt = lt.slice,
                dt = lt.concat,
                ft = lt.push,
                mt = lt.indexOf,
                gt = {},
                vt = gt.toString,
                _t = gt.hasOwnProperty,
                yt = _t.toString,
                xt = yt.call(Object),
                wt = {},
                bt = function (t) {
                    return "function" == typeof t && "number" != typeof t.nodeType
                },
                St = function (t) {
                    return null != t && t === t.window
                },
                Tt = {
                    type: !0,
                    src: !0,
                    noModule: !0
                },
                Mt = "3.3.1",
                Et = function (t, e) {
                    return new Et.fn.init(t, e)
                },
                At = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
            Et.fn = Et.prototype = {
                jquery: Mt,
                constructor: Et,
                length: 0,
                toArray: function () {
                    return pt.call(this)
                }, get: function (t) {
                    return null == t ? pt.call(this) : t < 0 ? this[t + this.length] : this[t]
                }, pushStack: function (t) {
                    var e = Et.merge(this.constructor(), t);
                    return e.prevObject = this, e
                }, each: function (t) {
                    return Et.each(this, t)
                }, map: function (t) {
                    return this.pushStack(Et.map(this, function (e, i) {
                        return t.call(e, i, e)
                    }))
                }, slice: function () {
                    return this.pushStack(pt.apply(this, arguments))
                }, first: function () {
                    return this.eq(0)
                }, last: function () {
                    return this.eq(-1)
                }, eq: function (t) {
                    var e = this.length,
                        i = +t + (t < 0 ? e : 0);
                    return this.pushStack(i >= 0 && i < e ? [this[i]] : [])
                }, end: function () {
                    return this.prevObject || this.constructor()
                }, push: ft,
                sort: lt.sort,
                splice: lt.splice
            }, Et.extend = Et.fn.extend = function () {
                var t, e, i, n, r, o, s = arguments[0] || {},
                    a = 1,
                    h = arguments.length,
                    l = !1;
                for ("boolean" == typeof s && (l = s, s = arguments[a] || {}, a++), "object" == typeof s || bt(s) || (s = {}), a === h && (s = this, a--); a < h; a++)
                    if (null != (t = arguments[a]))
                        for (e in t) i = s[e], n = t[e], s !== n && (l && n && (Et.isPlainObject(n) || (r = Array.isArray(n))) ? (r ? (r = !1, o = i && Array.isArray(i) ? i : []) : o = i && Et.isPlainObject(i) ? i : {}, s[e] = Et.extend(l, o, n)) : void 0 !== n && (s[e] = n));
                return s
            }, Et.extend({
                expando: "jQuery" + (Mt + Math.random()).replace(/\D/g, ""),
                isReady: !0,
                error: function (t) {
                    throw new Error(t)
                }, noop: function () {}, isPlainObject: function (t) {
                    var e, i;
                    return !(!t || "[object Object]" !== vt.call(t)) && (!(e = ct(t)) || (i = _t.call(e, "constructor") && e.constructor, "function" == typeof i && yt.call(i) === xt))
                }, isEmptyObject: function (t) {
                    var e;
                    for (e in t) return !1;
                    return !0
                }, globalEval: function (t) {
                    s(t)
                }, each: function (t, e) {
                    var i, n = 0;
                    if (h(t))
                        for (i = t.length; n < i && e.call(t[n], n, t[n]) !== !1; n++);
                    else
                        for (n in t)
                            if (e.call(t[n], n, t[n]) === !1) break; return t
                }, trim: function (t) {
                    return null == t ? "" : (t + "").replace(At, "")
                }, makeArray: function (t, e) {
                    var i = e || [];
                    return null != t && (h(Object(t)) ? Et.merge(i, "string" == typeof t ? [t] : t) : ft.call(i, t)), i
                }, inArray: function (t, e, i) {
                    return null == e ? -1 : mt.call(e, t, i)
                }, merge: function (t, e) {
                    for (var i = +e.length, n = 0, r = t.length; n < i; n++) t[r++] = e[n];
                    return t.length = r, t
                }, grep: function (t, e, i) {
                    for (var n, r = [], o = 0, s = t.length, a = !i; o < s; o++) n = !e(t[o], o), n !== a && r.push(t[o]);
                    return r
                }, map: function (t, e, i) {
                    var n, r, o = 0,
                        s = [];
                    if (h(t))
                        for (n = t.length; o < n; o++) r = e(t[o], o, i), null != r && s.push(r);
                    else
                        for (o in t) r = e(t[o], o, i), null != r && s.push(r);
                    return dt.apply([], s)
                }, guid: 1,
                support: wt
            }), "function" == typeof Symbol && (Et.fn[Symbol.iterator] = lt[Symbol.iterator]), Et.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function (t, e) {
                gt["[object " + e + "]"] = e.toLowerCase()
            });
            var Ct =
                /*!
                 * Sizzle CSS Selector Engine v2.3.3
                 * https://sizzlejs.com/
                 *
                 * Copyright jQuery Foundation and other contributors
                 * Released under the MIT license
                 * http://jquery.org/license
                 *
                 * Date: 2016-08-08
                 */
                function (t) {
                    function e(t, e, i, n) {
                        var r, o, s, a, h, l, u, p = e && e.ownerDocument,
                            f = e ? e.nodeType : 9;
                        if (i = i || [], "string" != typeof t || !t || 1 !== f && 9 !== f && 11 !== f) return i;
                        if (!n && ((e ? e.ownerDocument || e : U) !== I && O(e), e = e || I, k)) {
                            if (11 !== f && (h = vt.exec(t)))
                                if (r = h[1]) {
                                    if (9 === f) {
                                        if (!(s = e.getElementById(r))) return i;
                                        if (s.id === r) return i.push(s), i
                                    } else if (p && (s = p.getElementById(r)) && F(e, s) && s.id === r) return i.push(s), i
                                } else {
                                    if (h[2]) return K.apply(i, e.getElementsByTagName(t)), i;
                                    if ((r = h[3]) && b.getElementsByClassName && e.getElementsByClassName) return K.apply(i, e.getElementsByClassName(r)), i
                                }
                            if (b.qsa && !q[t + " "] && (!N || !N.test(t))) {
                                if (1 !== f) p = e, u = t;
                                else if ("object" !== e.nodeName.toLowerCase()) {
                                    for ((a = e.getAttribute("id")) ? a = a.replace(wt, bt) : e.setAttribute("id", a = H), l = E(t), o = l.length; o--;) l[o] = "#" + a + " " + d(l[o]);
                                    u = l.join(","), p = _t.test(t) && c(e.parentNode) || e
                                }
                                if (u) try {
                                    return K.apply(i, p.querySelectorAll(u)), i
                                } catch (t) {} finally {
                                    a === H && e.removeAttribute("id")
                                }
                            }
                        }
                        return C(t.replace(at, "$1"), e, i, n)
                    }

                    function i() {
                        function t(i, n) {
                            return e.push(i + " ") > S.cacheLength && delete t[e.shift()], t[i + " "] = n
                        }
                        var e = [];
                        return t
                    }

                    function n(t) {
                        return t[H] = !0, t
                    }

                    function r(t) {
                        var e = I.createElement("fieldset");
                        try {
                            return !!t(e)
                        } catch (t) {
                            return !1
                        } finally {
                            e.parentNode && e.parentNode.removeChild(e), e = null
                        }
                    }

                    function o(t, e) {
                        for (var i = t.split("|"), n = i.length; n--;) S.attrHandle[i[n]] = e
                    }

                    function s(t, e) {
                        var i = e && t,
                            n = i && 1 === t.nodeType && 1 === e.nodeType && t.sourceIndex - e.sourceIndex;
                        if (n) return n;
                        if (i)
                            for (; i = i.nextSibling;)
                                if (i === e) return -1;
                        return t ? 1 : -1
                    }

                    function a(t) {
                        return function (e) {
                            var i = e.nodeName.toLowerCase();
                            return "input" === i && e.type === t
                        }
                    }

                    function h(t) {
                        return function (e) {
                            var i = e.nodeName.toLowerCase();
                            return ("input" === i || "button" === i) && e.type === t
                        }
                    }

                    function l(t) {
                        return function (e) {
                            return "form" in e ? e.parentNode && e.disabled === !1 ? "label" in e ? "label" in e.parentNode ? e.parentNode.disabled === t : e.disabled === t : e.isDisabled === t || e.isDisabled !== !t && Tt(e) === t : e.disabled === t : "label" in e && e.disabled === t
                        }
                    }

                    function u(t) {
                        return n(function (e) {
                            return e = +e, n(function (i, n) {
                                for (var r, o = t([], i.length, e), s = o.length; s--;) i[r = o[s]] && (i[r] = !(n[r] = i[r]))
                            })
                        })
                    }

                    function c(t) {
                        return t && "undefined" != typeof t.getElementsByTagName && t
                    }

                    function p() {}

                    function d(t) {
                        for (var e = 0, i = t.length, n = ""; e < i; e++) n += t[e].value;
                        return n
                    }

                    function f(t, e, i) {
                        var n = e.dir,
                            r = e.next,
                            o = r || n,
                            s = i && "parentNode" === o,
                            a = j++;
                        return e.first ? function (e, i, r) {
                            for (; e = e[n];)
                                if (1 === e.nodeType || s) return t(e, i, r);
                            return !1
                        } : function (e, i, h) {
                            var l, u, c, p = [G, a];
                            if (h) {
                                for (; e = e[n];)
                                    if ((1 === e.nodeType || s) && t(e, i, h)) return !0
                            } else
                                for (; e = e[n];)
                                    if (1 === e.nodeType || s)
                                        if (c = e[H] || (e[H] = {}), u = c[e.uniqueID] || (c[e.uniqueID] = {}), r && r === e.nodeName.toLowerCase()) e = e[n] || e;
                                        else {
                                            if ((l = u[o]) && l[0] === G && l[1] === a) return p[2] = l[2];
                                            if (u[o] = p, p[2] = t(e, i, h)) return !0
                                        } return !1
                        }
                    }

                    function m(t) {
                        return t.length > 1 ? function (e, i, n) {
                            for (var r = t.length; r--;)
                                if (!t[r](e, i, n)) return !1;
                            return !0
                        } : t[0]
                    }

                    function g(t, i, n) {
                        for (var r = 0, o = i.length; r < o; r++) e(t, i[r], n);
                        return n
                    }

                    function v(t, e, i, n, r) {
                        for (var o, s = [], a = 0, h = t.length, l = null != e; a < h; a++)(o = t[a]) && (i && !i(o, n, r) || (s.push(o), l && e.push(a)));
                        return s
                    }

                    function _(t, e, i, r, o, s) {
                        return r && !r[H] && (r = _(r)), o && !o[H] && (o = _(o, s)), n(function (n, s, a, h) {
                            var l, u, c, p = [],
                                d = [],
                                f = s.length,
                                m = n || g(e || "*", a.nodeType ? [a] : a, []),
                                _ = !t || !n && e ? m : v(m, p, t, a, h),
                                y = i ? o || (n ? t : f || r) ? [] : s : _;
                            if (i && i(_, y, a, h), r)
                                for (l = v(y, d), r(l, [], a, h), u = l.length; u--;)(c = l[u]) && (y[d[u]] = !(_[d[u]] = c));
                            if (n) {
                                if (o || t) {
                                    if (o) {
                                        for (l = [], u = y.length; u--;)(c = y[u]) && l.push(_[u] = c);
                                        o(null, y = [], l, h)
                                    }
                                    for (u = y.length; u--;)(c = y[u]) && (l = o ? tt(n, c) : p[u]) > -1 && (n[l] = !(s[l] = c))
                                }
                            } else y = v(y === s ? y.splice(f, y.length) : y), o ? o(null, s, y, h) : K.apply(s, y)
                        })
                    }

                    function y(t) {
                        for (var e, i, n, r = t.length, o = S.relative[t[0].type], s = o || S.relative[" "], a = o ? 1 : 0, h = f(function (t) {
                            return t === e
                        }, s, !0), l = f(function (t) {
                            return tt(e, t) > -1
                        }, s, !0), u = [
                            function (t, i, n) {
                                var r = !o && (n || i !== P) || ((e = i).nodeType ? h(t, i, n) : l(t, i, n));
                                return e = null, r
                            }
                        ]; a < r; a++)
                            if (i = S.relative[t[a].type]) u = [f(m(u), i)];
                            else {
                                if (i = S.filter[t[a].type].apply(null, t[a].matches), i[H]) {
                                    for (n = ++a; n < r && !S.relative[t[n].type]; n++);
                                    return _(a > 1 && m(u), a > 1 && d(t.slice(0, a - 1).concat({
                                        value: " " === t[a - 2].type ? "*" : ""
                                    })).replace(at, "$1"), i, a < n && y(t.slice(a, n)), n < r && y(t = t.slice(n)), n < r && d(t))
                                }
                                u.push(i)
                            }
                        return m(u)
                    }

                    function x(t, i) {
                        var r = i.length > 0,
                            o = t.length > 0,
                            s = function (n, s, a, h, l) {
                                var u, c, p, d = 0,
                                    f = "0",
                                    m = n && [],
                                    g = [],
                                    _ = P,
                                    y = n || o && S.find.TAG("*", l),
                                    x = G += null == _ ? 1 : Math.random() || .1,
                                    w = y.length;
                                for (l && (P = s === I || s || l); f !== w && null != (u = y[f]); f++) {
                                    if (o && u) {
                                        for (c = 0, s || u.ownerDocument === I || (O(u), a = !k); p = t[c++];)
                                            if (p(u, s || I, a)) {
                                                h.push(u);
                                                break
                                            }
                                        l && (G = x)
                                    }
                                    r && ((u = !p && u) && d--, n && m.push(u))
                                }
                                if (d += f, r && f !== d) {
                                    for (c = 0; p = i[c++];) p(m, g, s, a);
                                    if (n) {
                                        if (d > 0)
                                            for (; f--;) m[f] || g[f] || (g[f] = J.call(h));
                                        g = v(g)
                                    }
                                    K.apply(h, g), l && !n && g.length > 0 && d + i.length > 1 && e.uniqueSort(h)
                                }
                                return l && (G = x, P = _), m
                            };
                        return r ? n(s) : s
                    }
                    var w, b, S, T, M, E, A, C, P, R, L, O, I, D, k, N, z, B, F, H = "sizzle" + 1 * new Date,
                        U = t.document,
                        G = 0,
                        j = 0,
                        V = i(),
                        W = i(),
                        q = i(),
                        X = function (t, e) {
                            return t === e && (L = !0), 0
                        },
                        Y = {}.hasOwnProperty,
                        Z = [],
                        J = Z.pop,
                        $ = Z.push,
                        K = Z.push,
                        Q = Z.slice,
                        tt = function (t, e) {
                            for (var i = 0, n = t.length; i < n; i++)
                                if (t[i] === e) return i;
                            return -1
                        },
                        et = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
                        it = "[\\x20\\t\\r\\n\\f]",
                        nt = "(?:\\\\.|[\\w-]|[^\0-\\xa0])+",
                        rt = "\\[" + it + "*(" + nt + ")(?:" + it + "*([*^$|!~]?=)" + it + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + nt + "))|)" + it + "*\\]",
                        ot = ":(" + nt + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + rt + ")*)|.*)\\)|)",
                        st = new RegExp(it + "+", "g"),
                        at = new RegExp("^" + it + "+|((?:^|[^\\\\])(?:\\\\.)*)" + it + "+$", "g"),
                        ht = new RegExp("^" + it + "*," + it + "*"),
                        lt = new RegExp("^" + it + "*([>+~]|" + it + ")" + it + "*"),
                        ut = new RegExp("=" + it + "*([^\\]'\"]*?)" + it + "*\\]", "g"),
                        ct = new RegExp(ot),
                        pt = new RegExp("^" + nt + "$"),
                        dt = {
                            ID: new RegExp("^#(" + nt + ")"),
                            CLASS: new RegExp("^\\.(" + nt + ")"),
                            TAG: new RegExp("^(" + nt + "|[*])"),
                            ATTR: new RegExp("^" + rt),
                            PSEUDO: new RegExp("^" + ot),
                            CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + it + "*(even|odd|(([+-]|)(\\d*)n|)" + it + "*(?:([+-]|)" + it + "*(\\d+)|))" + it + "*\\)|)", "i"),
                            bool: new RegExp("^(?:" + et + ")$", "i"),
                            needsContext: new RegExp("^" + it + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + it + "*((?:-\\d)?\\d*)" + it + "*\\)|)(?=[^-]|$)", "i")
                        },
                        ft = /^(?:input|select|textarea|button)$/i,
                        mt = /^h\d$/i,
                        gt = /^[^{]+\{\s*\[native \w/,
                        vt = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                        _t = /[+~]/,
                        yt = new RegExp("\\\\([\\da-f]{1,6}" + it + "?|(" + it + ")|.)", "ig"),
                        xt = function (t, e, i) {
                            var n = "0x" + e - 65536;
                            return n !== n || i ? e : n < 0 ? String.fromCharCode(n + 65536) : String.fromCharCode(n >> 10 | 55296, 1023 & n | 56320)
                        },
                        wt = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
                        bt = function (t, e) {
                            return e ? "\0" === t ? "�ｽ" : t.slice(0, -1) + "\\" + t.charCodeAt(t.length - 1).toString(16) + " " : "\\" + t
                        },
                        St = function () {
                            O()
                        },
                        Tt = f(function (t) {
                            return t.disabled === !0 && ("form" in t || "label" in t)
                        }, {
                            dir: "parentNode",
                            next: "legend"
                        });
                    try {
                        K.apply(Z = Q.call(U.childNodes), U.childNodes), Z[U.childNodes.length].nodeType
                    } catch (t) {
                        K = {
                            apply: Z.length ? function (t, e) {
                                $.apply(t, Q.call(e))
                            } : function (t, e) {
                                for (var i = t.length, n = 0; t[i++] = e[n++];);
                                t.length = i - 1
                            }
                        }
                    }
                    b = e.support = {}, M = e.isXML = function (t) {
                        var e = t && (t.ownerDocument || t).documentElement;
                        return !!e && "HTML" !== e.nodeName
                    }, O = e.setDocument = function (t) {
                        var e, i, n = t ? t.ownerDocument || t : U;
                        return n !== I && 9 === n.nodeType && n.documentElement ? (I = n, D = I.documentElement, k = !M(I), U !== I && (i = I.defaultView) && i.top !== i && (i.addEventListener ? i.addEventListener("unload", St, !1) : i.attachEvent && i.attachEvent("onunload", St)), b.attributes = r(function (t) {
                            return t.className = "i", !t.getAttribute("className")
                        }), b.getElementsByTagName = r(function (t) {
                            return t.appendChild(I.createComment("")), !t.getElementsByTagName("*").length
                        }), b.getElementsByClassName = gt.test(I.getElementsByClassName), b.getById = r(function (t) {
                            return D.appendChild(t).id = H, !I.getElementsByName || !I.getElementsByName(H).length
                        }), b.getById ? (S.filter.ID = function (t) {
                            var e = t.replace(yt, xt);
                            return function (t) {
                                return t.getAttribute("id") === e
                            }
                        }, S.find.ID = function (t, e) {
                            if ("undefined" != typeof e.getElementById && k) {
                                var i = e.getElementById(t);
                                return i ? [i] : []
                            }
                        }) : (S.filter.ID = function (t) {
                            var e = t.replace(yt, xt);
                            return function (t) {
                                var i = "undefined" != typeof t.getAttributeNode && t.getAttributeNode("id");
                                return i && i.value === e
                            }
                        }, S.find.ID = function (t, e) {
                            if ("undefined" != typeof e.getElementById && k) {
                                var i, n, r, o = e.getElementById(t);
                                if (o) {
                                    if (i = o.getAttributeNode("id"), i && i.value === t) return [o];
                                    for (r = e.getElementsByName(t), n = 0; o = r[n++];)
                                        if (i = o.getAttributeNode("id"), i && i.value === t) return [o]
                                }
                                return []
                            }
                        }), S.find.TAG = b.getElementsByTagName ? function (t, e) {
                            return "undefined" != typeof e.getElementsByTagName ? e.getElementsByTagName(t) : b.qsa ? e.querySelectorAll(t) : void 0
                        } : function (t, e) {
                            var i, n = [],
                                r = 0,
                                o = e.getElementsByTagName(t);
                            if ("*" === t) {
                                for (; i = o[r++];) 1 === i.nodeType && n.push(i);
                                return n
                            }
                            return o
                        }, S.find.CLASS = b.getElementsByClassName && function (t, e) {
                            if ("undefined" != typeof e.getElementsByClassName && k) return e.getElementsByClassName(t)
                        }, z = [], N = [], (b.qsa = gt.test(I.querySelectorAll)) && (r(function (t) {
                            D.appendChild(t).innerHTML = "<a id='" + H + "'></a><select id='" + H + "-\r\\' msallowcapture=''><option selected=''></option></select>", t.querySelectorAll("[msallowcapture^='']").length && N.push("[*^$]=" + it + "*(?:''|\"\")"), t.querySelectorAll("[selected]").length || N.push("\\[" + it + "*(?:value|" + et + ")"), t.querySelectorAll("[id~=" + H + "-]").length || N.push("~="), t.querySelectorAll(":checked").length || N.push(":checked"), t.querySelectorAll("a#" + H + "+*").length || N.push(".#.+[+~]")
                        }), r(function (t) {
                            t.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                            var e = I.createElement("input");
                            e.setAttribute("type", "hidden"), t.appendChild(e).setAttribute("name", "D"), t.querySelectorAll("[name=d]").length && N.push("name" + it + "*[*^$|!~]?="), 2 !== t.querySelectorAll(":enabled").length && N.push(":enabled", ":disabled"), D.appendChild(t).disabled = !0, 2 !== t.querySelectorAll(":disabled").length && N.push(":enabled", ":disabled"), t.querySelectorAll("*,:x"), N.push(",.*:")
                        })), (b.matchesSelector = gt.test(B = D.matches || D.webkitMatchesSelector || D.mozMatchesSelector || D.oMatchesSelector || D.msMatchesSelector)) && r(function (t) {
                            b.disconnectedMatch = B.call(t, "*"), B.call(t, "[s!='']:x"), z.push("!=", ot)
                        }), N = N.length && new RegExp(N.join("|")), z = z.length && new RegExp(z.join("|")), e = gt.test(D.compareDocumentPosition), F = e || gt.test(D.contains) ? function (t, e) {
                            var i = 9 === t.nodeType ? t.documentElement : t,
                                n = e && e.parentNode;
                            return t === n || !(!n || 1 !== n.nodeType || !(i.contains ? i.contains(n) : t.compareDocumentPosition && 16 & t.compareDocumentPosition(n)))
                        } : function (t, e) {
                            if (e)
                                for (; e = e.parentNode;)
                                    if (e === t) return !0;
                            return !1
                        }, X = e ? function (t, e) {
                            if (t === e) return L = !0, 0;
                            var i = !t.compareDocumentPosition - !e.compareDocumentPosition;
                            return i ? i : (i = (t.ownerDocument || t) === (e.ownerDocument || e) ? t.compareDocumentPosition(e) : 1, 1 & i || !b.sortDetached && e.compareDocumentPosition(t) === i ? t === I || t.ownerDocument === U && F(U, t) ? -1 : e === I || e.ownerDocument === U && F(U, e) ? 1 : R ? tt(R, t) - tt(R, e) : 0 : 4 & i ? -1 : 1)
                        } : function (t, e) {
                            if (t === e) return L = !0, 0;
                            var i, n = 0,
                                r = t.parentNode,
                                o = e.parentNode,
                                a = [t],
                                h = [e];
                            if (!r || !o) return t === I ? -1 : e === I ? 1 : r ? -1 : o ? 1 : R ? tt(R, t) - tt(R, e) : 0;
                            if (r === o) return s(t, e);
                            for (i = t; i = i.parentNode;) a.unshift(i);
                            for (i = e; i = i.parentNode;) h.unshift(i);
                            for (; a[n] === h[n];) n++;
                            return n ? s(a[n], h[n]) : a[n] === U ? -1 : h[n] === U ? 1 : 0
                        }, I) : I
                    }, e.matches = function (t, i) {
                        return e(t, null, null, i)
                    }, e.matchesSelector = function (t, i) {
                        if ((t.ownerDocument || t) !== I && O(t), i = i.replace(ut, "='$1']"), b.matchesSelector && k && !q[i + " "] && (!z || !z.test(i)) && (!N || !N.test(i))) try {
                            var n = B.call(t, i);
                            if (n || b.disconnectedMatch || t.document && 11 !== t.document.nodeType) return n
                        } catch (t) {}
                        return e(i, I, null, [t]).length > 0
                    }, e.contains = function (t, e) {
                        return (t.ownerDocument || t) !== I && O(t), F(t, e)
                    }, e.attr = function (t, e) {
                        (t.ownerDocument || t) !== I && O(t);
                        var i = S.attrHandle[e.toLowerCase()],
                            n = i && Y.call(S.attrHandle, e.toLowerCase()) ? i(t, e, !k) : void 0;
                        return void 0 !== n ? n : b.attributes || !k ? t.getAttribute(e) : (n = t.getAttributeNode(e)) && n.specified ? n.value : null
                    }, e.escape = function (t) {
                        return (t + "").replace(wt, bt)
                    }, e.error = function (t) {
                        throw new Error("Syntax error, unrecognized expression: " + t)
                    }, e.uniqueSort = function (t) {
                        var e, i = [],
                            n = 0,
                            r = 0;
                        if (L = !b.detectDuplicates, R = !b.sortStable && t.slice(0), t.sort(X), L) {
                            for (; e = t[r++];) e === t[r] && (n = i.push(r));
                            for (; n--;) t.splice(i[n], 1)
                        }
                        return R = null, t
                    }, T = e.getText = function (t) {
                        var e, i = "",
                            n = 0,
                            r = t.nodeType;
                        if (r) {
                            if (1 === r || 9 === r || 11 === r) {
                                if ("string" == typeof t.textContent) return t.textContent;
                                for (t = t.firstChild; t; t = t.nextSibling) i += T(t)
                            } else if (3 === r || 4 === r) return t.nodeValue
                        } else
                            for (; e = t[n++];) i += T(e);
                        return i
                    }, S = e.selectors = {
                        cacheLength: 50,
                        createPseudo: n,
                        match: dt,
                        attrHandle: {},
                        find: {},
                        relative: {
                            ">": {
                                dir: "parentNode",
                                first: !0
                            },
                            " ": {
                                dir: "parentNode"
                            },
                            "+": {
                                dir: "previousSibling",
                                first: !0
                            },
                            "~": {
                                dir: "previousSibling"
                            }
                        },
                        preFilter: {
                            ATTR: function (t) {
                                return t[1] = t[1].replace(yt, xt), t[3] = (t[3] || t[4] || t[5] || "").replace(yt, xt), "~=" === t[2] && (t[3] = " " + t[3] + " "), t.slice(0, 4)
                            }, CHILD: function (t) {
                                return t[1] = t[1].toLowerCase(), "nth" === t[1].slice(0, 3) ? (t[3] || e.error(t[0]), t[4] = +(t[4] ? t[5] + (t[6] || 1) : 2 * ("even" === t[3] || "odd" === t[3])), t[5] = +(t[7] + t[8] || "odd" === t[3])) : t[3] && e.error(t[0]), t
                            }, PSEUDO: function (t) {
                                var e, i = !t[6] && t[2];
                                return dt.CHILD.test(t[0]) ? null : (t[3] ? t[2] = t[4] || t[5] || "" : i && ct.test(i) && (e = E(i, !0)) && (e = i.indexOf(")", i.length - e) - i.length) && (t[0] = t[0].slice(0, e), t[2] = i.slice(0, e)), t.slice(0, 3))
                            }
                        },
                        filter: {
                            TAG: function (t) {
                                var e = t.replace(yt, xt).toLowerCase();
                                return "*" === t ? function () {
                                    return !0
                                } : function (t) {
                                    return t.nodeName && t.nodeName.toLowerCase() === e
                                }
                            }, CLASS: function (t) {
                                var e = V[t + " "];
                                return e || (e = new RegExp("(^|" + it + ")" + t + "(" + it + "|$)")) && V(t, function (t) {
                                    return e.test("string" == typeof t.className && t.className || "undefined" != typeof t.getAttribute && t.getAttribute("class") || "")
                                })
                            }, ATTR: function (t, i, n) {
                                return function (r) {
                                    var o = e.attr(r, t);
                                    return null == o ? "!=" === i : !i || (o += "", "=" === i ? o === n : "!=" === i ? o !== n : "^=" === i ? n && 0 === o.indexOf(n) : "*=" === i ? n && o.indexOf(n) > -1 : "$=" === i ? n && o.slice(-n.length) === n : "~=" === i ? (" " + o.replace(st, " ") + " ").indexOf(n) > -1 : "|=" === i && (o === n || o.slice(0, n.length + 1) === n + "-"))
                                }
                            }, CHILD: function (t, e, i, n, r) {
                                var o = "nth" !== t.slice(0, 3),
                                    s = "last" !== t.slice(-4),
                                    a = "of-type" === e;
                                return 1 === n && 0 === r ? function (t) {
                                    return !!t.parentNode
                                } : function (e, i, h) {
                                    var l, u, c, p, d, f, m = o !== s ? "nextSibling" : "previousSibling",
                                        g = e.parentNode,
                                        v = a && e.nodeName.toLowerCase(),
                                        _ = !h && !a,
                                        y = !1;
                                    if (g) {
                                        if (o) {
                                            for (; m;) {
                                                for (p = e; p = p[m];)
                                                    if (a ? p.nodeName.toLowerCase() === v : 1 === p.nodeType) return !1;
                                                f = m = "only" === t && !f && "nextSibling"
                                            }
                                            return !0
                                        }
                                        if (f = [s ? g.firstChild : g.lastChild], s && _) {
                                            for (p = g, c = p[H] || (p[H] = {}), u = c[p.uniqueID] || (c[p.uniqueID] = {}), l = u[t] || [], d = l[0] === G && l[1], y = d && l[2], p = d && g.childNodes[d]; p = ++d && p && p[m] || (y = d = 0) || f.pop();)
                                                if (1 === p.nodeType && ++y && p === e) {
                                                    u[t] = [G, d, y];
                                                    break
                                                }
                                        } else if (_ && (p = e, c = p[H] || (p[H] = {}), u = c[p.uniqueID] || (c[p.uniqueID] = {}), l = u[t] || [], d = l[0] === G && l[1], y = d), y === !1)
                                            for (;
                                                (p = ++d && p && p[m] || (y = d = 0) || f.pop()) && ((a ? p.nodeName.toLowerCase() !== v : 1 !== p.nodeType) || !++y || (_ && (c = p[H] || (p[H] = {}), u = c[p.uniqueID] || (c[p.uniqueID] = {}), u[t] = [G, y]), p !== e)););
                                        return y -= r, y === n || y % n === 0 && y / n >= 0
                                    }
                                }
                            }, PSEUDO: function (t, i) {
                                var r, o = S.pseudos[t] || S.setFilters[t.toLowerCase()] || e.error("unsupported pseudo: " + t);
                                return o[H] ? o(i) : o.length > 1 ? (r = [t, t, "", i], S.setFilters.hasOwnProperty(t.toLowerCase()) ? n(function (t, e) {
                                    for (var n, r = o(t, i), s = r.length; s--;) n = tt(t, r[s]), t[n] = !(e[n] = r[s])
                                }) : function (t) {
                                    return o(t, 0, r)
                                }) : o
                            }
                        },
                        pseudos: {
                            not: n(function (t) {
                                var e = [],
                                    i = [],
                                    r = A(t.replace(at, "$1"));
                                return r[H] ? n(function (t, e, i, n) {
                                    for (var o, s = r(t, null, n, []), a = t.length; a--;)(o = s[a]) && (t[a] = !(e[a] = o))
                                }) : function (t, n, o) {
                                    return e[0] = t, r(e, null, o, i), e[0] = null, !i.pop()
                                }
                            }),
                            has: n(function (t) {
                                return function (i) {
                                    return e(t, i).length > 0
                                }
                            }),
                            contains: n(function (t) {
                                return t = t.replace(yt, xt),
                                    function (e) {
                                        return (e.textContent || e.innerText || T(e)).indexOf(t) > -1
                                    }
                            }),
                            lang: n(function (t) {
                                return pt.test(t || "") || e.error("unsupported lang: " + t), t = t.replace(yt, xt).toLowerCase(),
                                    function (e) {
                                        var i;
                                        do
                                            if (i = k ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang")) return i = i.toLowerCase(), i === t || 0 === i.indexOf(t + "-");
                                        while ((e = e.parentNode) && 1 === e.nodeType);
                                        return !1
                                    }
                            }),
                            target: function (e) {
                                var i = t.location && t.location.hash;
                                return i && i.slice(1) === e.id
                            }, root: function (t) {
                                return t === D
                            }, focus: function (t) {
                                return t === I.activeElement && (!I.hasFocus || I.hasFocus()) && !!(t.type || t.href || ~t.tabIndex)
                            }, enabled: l(!1),
                            disabled: l(!0),
                            checked: function (t) {
                                var e = t.nodeName.toLowerCase();
                                return "input" === e && !!t.checked || "option" === e && !!t.selected
                            }, selected: function (t) {
                                return t.parentNode && t.parentNode.selectedIndex, t.selected === !0
                            }, empty: function (t) {
                                for (t = t.firstChild; t; t = t.nextSibling)
                                    if (t.nodeType < 6) return !1;
                                return !0
                            }, parent: function (t) {
                                return !S.pseudos.empty(t)
                            }, header: function (t) {
                                return mt.test(t.nodeName)
                            }, input: function (t) {
                                return ft.test(t.nodeName)
                            }, button: function (t) {
                                var e = t.nodeName.toLowerCase();
                                return "input" === e && "button" === t.type || "button" === e
                            }, text: function (t) {
                                var e;
                                return "input" === t.nodeName.toLowerCase() && "text" === t.type && (null == (e = t.getAttribute("type")) || "text" === e.toLowerCase())
                            }, first: u(function () {
                                return [0]
                            }),
                            last: u(function (t, e) {
                                return [e - 1]
                            }),
                            eq: u(function (t, e, i) {
                                return [i < 0 ? i + e : i]
                            }),
                            even: u(function (t, e) {
                                for (var i = 0; i < e; i += 2) t.push(i);
                                return t
                            }),
                            odd: u(function (t, e) {
                                for (var i = 1; i < e; i += 2) t.push(i);
                                return t
                            }),
                            lt: u(function (t, e, i) {
                                for (var n = i < 0 ? i + e : i; --n >= 0;) t.push(n);
                                return t
                            }),
                            gt: u(function (t, e, i) {
                                for (var n = i < 0 ? i + e : i; ++n < e;) t.push(n);
                                return t
                            })
                        }
                    }, S.pseudos.nth = S.pseudos.eq;
                    for (w in {
                        radio: !0,
                        checkbox: !0,
                        file: !0,
                        password: !0,
                        image: !0
                    }) S.pseudos[w] = a(w);
                    for (w in {
                        submit: !0,
                        reset: !0
                    }) S.pseudos[w] = h(w);
                    return p.prototype = S.filters = S.pseudos, S.setFilters = new p, E = e.tokenize = function (t, i) {
                        var n, r, o, s, a, h, l, u = W[t + " "];
                        if (u) return i ? 0 : u.slice(0);
                        for (a = t, h = [], l = S.preFilter; a;) {
                            n && !(r = ht.exec(a)) || (r && (a = a.slice(r[0].length) || a), h.push(o = [])), n = !1, (r = lt.exec(a)) && (n = r.shift(), o.push({
                                value: n,
                                type: r[0].replace(at, " ")
                            }), a = a.slice(n.length));
                            for (s in S.filter)!(r = dt[s].exec(a)) || l[s] && !(r = l[s](r)) || (n = r.shift(), o.push({
                                value: n,
                                type: s,
                                matches: r
                            }), a = a.slice(n.length));
                            if (!n) break
                        }
                        return i ? a.length : a ? e.error(t) : W(t, h).slice(0)
                    }, A = e.compile = function (t, e) {
                        var i, n = [],
                            r = [],
                            o = q[t + " "];
                        if (!o) {
                            for (e || (e = E(t)), i = e.length; i--;) o = y(e[i]), o[H] ? n.push(o) : r.push(o);
                            o = q(t, x(r, n)), o.selector = t
                        }
                        return o
                    }, C = e.select = function (t, e, i, n) {
                        var r, o, s, a, h, l = "function" == typeof t && t,
                            u = !n && E(t = l.selector || t);
                        if (i = i || [], 1 === u.length) {
                            if (o = u[0] = u[0].slice(0), o.length > 2 && "ID" === (s = o[0]).type && 9 === e.nodeType && k && S.relative[o[1].type]) {
                                if (e = (S.find.ID(s.matches[0].replace(yt, xt), e) || [])[0], !e) return i;
                                l && (e = e.parentNode), t = t.slice(o.shift().value.length)
                            }
                            for (r = dt.needsContext.test(t) ? 0 : o.length; r-- && (s = o[r], !S.relative[a = s.type]);)
                                if ((h = S.find[a]) && (n = h(s.matches[0].replace(yt, xt), _t.test(o[0].type) && c(e.parentNode) || e))) {
                                    if (o.splice(r, 1), t = n.length && d(o), !t) return K.apply(i, n), i;
                                    break
                                }
                        }
                        return (l || A(t, u))(n, e, !k, i, !e || _t.test(t) && c(e.parentNode) || e), i
                    }, b.sortStable = H.split("").sort(X).join("") === H, b.detectDuplicates = !!L, O(), b.sortDetached = r(function (t) {
                        return 1 & t.compareDocumentPosition(I.createElement("fieldset"))
                    }), r(function (t) {
                        return t.innerHTML = "<a href='#'></a>", "#" === t.firstChild.getAttribute("href")
                    }) || o("type|href|height|width", function (t, e, i) {
                        if (!i) return t.getAttribute(e, "type" === e.toLowerCase() ? 1 : 2)
                    }), b.attributes && r(function (t) {
                        return t.innerHTML = "<input/>", t.firstChild.setAttribute("value", ""), "" === t.firstChild.getAttribute("value")
                    }) || o("value", function (t, e, i) {
                        if (!i && "input" === t.nodeName.toLowerCase()) return t.defaultValue
                    }), r(function (t) {
                        return null == t.getAttribute("disabled")
                    }) || o(et, function (t, e, i) {
                        var n;
                        if (!i) return t[e] === !0 ? e.toLowerCase() : (n = t.getAttributeNode(e)) && n.specified ? n.value : null
                    }), e
                }(i);
            Et.find = Ct, Et.expr = Ct.selectors, Et.expr[":"] = Et.expr.pseudos, Et.uniqueSort = Et.unique = Ct.uniqueSort, Et.text = Ct.getText, Et.isXMLDoc = Ct.isXML, Et.contains = Ct.contains, Et.escapeSelector = Ct.escape;
            var Pt = function (t, e, i) {
                    for (var n = [], r = void 0 !== i;
                        (t = t[e]) && 9 !== t.nodeType;)
                        if (1 === t.nodeType) {
                            if (r && Et(t).is(i)) break;
                            n.push(t)
                        }
                    return n
                },
                Rt = function (t, e) {
                    for (var i = []; t; t = t.nextSibling) 1 === t.nodeType && t !== e && i.push(t);
                    return i
                },
                Lt = Et.expr.match.needsContext,
                Ot = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;
            Et.filter = function (t, e, i) {
                var n = e[0];
                return i && (t = ":not(" + t + ")"), 1 === e.length && 1 === n.nodeType ? Et.find.matchesSelector(n, t) ? [n] : [] : Et.find.matches(t, Et.grep(e, function (t) {
                    return 1 === t.nodeType
                }))
            }, Et.fn.extend({
                find: function (t) {
                    var e, i, n = this.length,
                        r = this;
                    if ("string" != typeof t) return this.pushStack(Et(t).filter(function () {
                        for (e = 0; e < n; e++)
                            if (Et.contains(r[e], this)) return !0
                    }));
                    for (i = this.pushStack([]), e = 0; e < n; e++) Et.find(t, r[e], i);
                    return n > 1 ? Et.uniqueSort(i) : i
                }, filter: function (t) {
                    return this.pushStack(u(this, t || [], !1))
                }, not: function (t) {
                    return this.pushStack(u(this, t || [], !0))
                }, is: function (t) {
                    return !!u(this, "string" == typeof t && Lt.test(t) ? Et(t) : t || [], !1).length
                }
            });
            var It, Dt = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,
                kt = Et.fn.init = function (t, e, i) {
                    var n, r;
                    if (!t) return this;
                    if (i = i || It, "string" == typeof t) {
                        if (n = "<" === t[0] && ">" === t[t.length - 1] && t.length >= 3 ? [null, t, null] : Dt.exec(t), !n || !n[1] && e) return !e || e.jquery ? (e || i).find(t) : this.constructor(e).find(t);
                        if (n[1]) {
                            if (e = e instanceof Et ? e[0] : e, Et.merge(this, Et.parseHTML(n[1], e && e.nodeType ? e.ownerDocument || e : ut, !0)), Ot.test(n[1]) && Et.isPlainObject(e))
                                for (n in e) bt(this[n]) ? this[n](e[n]) : this.attr(n, e[n]);
                            return this
                        }
                        return r = ut.getElementById(n[2]), r && (this[0] = r, this.length = 1), this
                    }
                    return t.nodeType ? (this[0] = t, this.length = 1, this) : bt(t) ? void 0 !== i.ready ? i.ready(t) : t(Et) : Et.makeArray(t, this)
                };
            kt.prototype = Et.fn, It = Et(ut);
            var Nt = /^(?:parents|prev(?:Until|All))/,
                zt = {
                    children: !0,
                    contents: !0,
                    next: !0,
                    prev: !0
                };
            Et.fn.extend({
                has: function (t) {
                    var e = Et(t, this),
                        i = e.length;
                    return this.filter(function () {
                        for (var t = 0; t < i; t++)
                            if (Et.contains(this, e[t])) return !0
                    })
                }, closest: function (t, e) {
                    var i, n = 0,
                        r = this.length,
                        o = [],
                        s = "string" != typeof t && Et(t);
                    if (!Lt.test(t))
                        for (; n < r; n++)
                            for (i = this[n]; i && i !== e; i = i.parentNode)
                                if (i.nodeType < 11 && (s ? s.index(i) > -1 : 1 === i.nodeType && Et.find.matchesSelector(i, t))) {
                                    o.push(i);
                                    break
                                }
                    return this.pushStack(o.length > 1 ? Et.uniqueSort(o) : o)
                }, index: function (t) {
                    return t ? "string" == typeof t ? mt.call(Et(t), this[0]) : mt.call(this, t.jquery ? t[0] : t) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
                }, add: function (t, e) {
                    return this.pushStack(Et.uniqueSort(Et.merge(this.get(), Et(t, e))))
                }, addBack: function (t) {
                    return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
                }
            }), Et.each({
                parent: function (t) {
                    var e = t.parentNode;
                    return e && 11 !== e.nodeType ? e : null
                }, parents: function (t) {
                    return Pt(t, "parentNode")
                }, parentsUntil: function (t, e, i) {
                    return Pt(t, "parentNode", i)
                }, next: function (t) {
                    return c(t, "nextSibling")
                }, prev: function (t) {
                    return c(t, "previousSibling")
                }, nextAll: function (t) {
                    return Pt(t, "nextSibling")
                }, prevAll: function (t) {
                    return Pt(t, "previousSibling")
                }, nextUntil: function (t, e, i) {
                    return Pt(t, "nextSibling", i)
                }, prevUntil: function (t, e, i) {
                    return Pt(t, "previousSibling", i)
                }, siblings: function (t) {
                    return Rt((t.parentNode || {}).firstChild, t)
                }, children: function (t) {
                    return Rt(t.firstChild)
                }, contents: function (t) {
                    return l(t, "iframe") ? t.contentDocument : (l(t, "template") && (t = t.content || t), Et.merge([], t.childNodes))
                }
            }, function (t, e) {
                Et.fn[t] = function (i, n) {
                    var r = Et.map(this, e, i);
                    return "Until" !== t.slice(-5) && (n = i), n && "string" == typeof n && (r = Et.filter(n, r)), this.length > 1 && (zt[t] || Et.uniqueSort(r), Nt.test(t) && r.reverse()), this.pushStack(r)
                }
            });
            var Bt = /[^\x20\t\r\n\f]+/g;
            Et.Callbacks = function (t) {
                t = "string" == typeof t ? p(t) : Et.extend({}, t);
                var e, i, n, r, o = [],
                    s = [],
                    h = -1,
                    l = function () {
                        for (r = r || t.once, n = e = !0; s.length; h = -1)
                            for (i = s.shift(); ++h < o.length;) o[h].apply(i[0], i[1]) === !1 && t.stopOnFalse && (h = o.length, i = !1);
                        t.memory || (i = !1), e = !1, r && (o = i ? [] : "")
                    },
                    u = {
                        add: function () {
                            return o && (i && !e && (h = o.length - 1, s.push(i)), function e(i) {
                                Et.each(i, function (i, n) {
                                    bt(n) ? t.unique && u.has(n) || o.push(n) : n && n.length && "string" !== a(n) && e(n)
                                })
                            }(arguments), i && !e && l()), this
                        }, remove: function () {
                            return Et.each(arguments, function (t, e) {
                                for (var i;
                                    (i = Et.inArray(e, o, i)) > -1;) o.splice(i, 1), i <= h && h--
                            }), this
                        }, has: function (t) {
                            return t ? Et.inArray(t, o) > -1 : o.length > 0
                        }, empty: function () {
                            return o && (o = []), this
                        }, disable: function () {
                            return r = s = [], o = i = "", this
                        }, disabled: function () {
                            return !o
                        }, lock: function () {
                            return r = s = [], i || e || (o = i = ""), this
                        }, locked: function () {
                            return !!r
                        }, fireWith: function (t, i) {
                            return r || (i = i || [], i = [t, i.slice ? i.slice() : i], s.push(i), e || l()), this
                        }, fire: function () {
                            return u.fireWith(this, arguments), this
                        }, fired: function () {
                            return !!n
                        }
                    };
                return u
            }, Et.extend({
                Deferred: function (t) {
                    var e = [
                            ["notify", "progress", Et.Callbacks("memory"), Et.Callbacks("memory"), 2],
                            ["resolve", "done", Et.Callbacks("once memory"), Et.Callbacks("once memory"), 0, "resolved"],
                            ["reject", "fail", Et.Callbacks("once memory"), Et.Callbacks("once memory"), 1, "rejected"]
                        ],
                        n = "pending",
                        r = {
                            state: function () {
                                    return n
                                }, always: function () {
                                    return o.done(arguments).fail(arguments), this
                                },
                                catch: function (t) {
                                    return r.then(null, t)
                                }, pipe: function () {
                                    var t = arguments;
                                    return Et.Deferred(function (i) {
                                        Et.each(e, function (e, n) {
                                            var r = bt(t[n[4]]) && t[n[4]];
                                            o[n[1]](function () {
                                                var t = r && r.apply(this, arguments);
                                                t && bt(t.promise) ? t.promise().progress(i.notify).done(i.resolve).fail(i.reject) : i[n[0] + "With"](this, r ? [t] : arguments)
                                            })
                                        }), t = null
                                    }).promise()
                                }, then: function (t, n, r) {
                                    function o(t, e, n, r) {
                                        return function () {
                                            var a = this,
                                                h = arguments,
                                                l = function () {
                                                    var i, l;
                                                    if (!(t < s)) {
                                                        if (i = n.apply(a, h), i === e.promise()) throw new TypeError("Thenable self-resolution");
                                                        l = i && ("object" == typeof i || "function" == typeof i) && i.then, bt(l) ? r ? l.call(i, o(s, e, d, r), o(s, e, f, r)) : (s++, l.call(i, o(s, e, d, r), o(s, e, f, r), o(s, e, d, e.notifyWith))) : (n !== d && (a = void 0, h = [i]), (r || e.resolveWith)(a, h))
                                                    }
                                                },
                                                u = r ? l : function () {
                                                    try {
                                                        l()
                                                    } catch (i) {
                                                        Et.Deferred.exceptionHook && Et.Deferred.exceptionHook(i, u.stackTrace), t + 1 >= s && (n !== f && (a = void 0, h = [i]), e.rejectWith(a, h))
                                                    }
                                                };
                                            t ? u() : (Et.Deferred.getStackHook && (u.stackTrace = Et.Deferred.getStackHook()), i.setTimeout(u))
                                        }
                                    }
                                    var s = 0;
                                    return Et.Deferred(function (i) {
                                        e[0][3].add(o(0, i, bt(r) ? r : d, i.notifyWith)), e[1][3].add(o(0, i, bt(t) ? t : d)), e[2][3].add(o(0, i, bt(n) ? n : f))
                                    }).promise()
                                }, promise: function (t) {
                                    return null != t ? Et.extend(t, r) : r
                                }
                        },
                        o = {};
                    return Et.each(e, function (t, i) {
                        var s = i[2],
                            a = i[5];
                        r[i[1]] = s.add, a && s.add(function () {
                            n = a
                        }, e[3 - t][2].disable, e[3 - t][3].disable, e[0][2].lock, e[0][3].lock), s.add(i[3].fire), o[i[0]] = function () {
                            return o[i[0] + "With"](this === o ? void 0 : this, arguments), this
                        }, o[i[0] + "With"] = s.fireWith
                    }), r.promise(o), t && t.call(o, o), o
                }, when: function (t) {
                    var e = arguments.length,
                        i = e,
                        n = Array(i),
                        r = pt.call(arguments),
                        o = Et.Deferred(),
                        s = function (t) {
                            return function (i) {
                                n[t] = this, r[t] = arguments.length > 1 ? pt.call(arguments) : i, --e || o.resolveWith(n, r)
                            }
                        };
                    if (e <= 1 && (m(t, o.done(s(i)).resolve, o.reject, !e), "pending" === o.state() || bt(r[i] && r[i].then))) return o.then();
                    for (; i--;) m(r[i], s(i), o.reject);
                    return o.promise()
                }
            });
            var Ft = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
            Et.Deferred.exceptionHook = function (t, e) {
                i.console && i.console.warn && t && Ft.test(t.name) && i.console.warn("jQuery.Deferred exception: " + t.message, t.stack, e)
            }, Et.readyException = function (t) {
                i.setTimeout(function () {
                    throw t
                })
            };
            var Ht = Et.Deferred();
            Et.fn.ready = function (t) {
                return Ht.then(t).catch(function (t) {
                    Et.readyException(t)
                }), this
            }, Et.extend({
                isReady: !1,
                readyWait: 1,
                ready: function (t) {
                    (t === !0 ? --Et.readyWait : Et.isReady) || (Et.isReady = !0, t !== !0 && --Et.readyWait > 0 || Ht.resolveWith(ut, [Et]))
                }
            }), Et.ready.then = Ht.then, "complete" === ut.readyState || "loading" !== ut.readyState && !ut.documentElement.doScroll ? i.setTimeout(Et.ready) : (ut.addEventListener("DOMContentLoaded", g), i.addEventListener("load", g));
            var Ut = function (t, e, i, n, r, o, s) {
                    var h = 0,
                        l = t.length,
                        u = null == i;
                    if ("object" === a(i)) {
                        r = !0;
                        for (h in i) Ut(t, e, h, i[h], !0, o, s)
                    } else if (void 0 !== n && (r = !0, bt(n) || (s = !0), u && (s ? (e.call(t, n), e = null) : (u = e, e = function (t, e, i) {
                        return u.call(Et(t), i)
                    })), e))
                        for (; h < l; h++) e(t[h], i, s ? n : n.call(t[h], h, e(t[h], i)));
                    return r ? t : u ? e.call(t) : l ? e(t[0], i) : o
                },
                Gt = /^-ms-/,
                jt = /-([a-z])/g,
                Vt = function (t) {
                    return 1 === t.nodeType || 9 === t.nodeType || !+t.nodeType
                };
            y.uid = 1, y.prototype = {
                cache: function (t) {
                    var e = t[this.expando];
                    return e || (e = {}, Vt(t) && (t.nodeType ? t[this.expando] = e : Object.defineProperty(t, this.expando, {
                        value: e,
                        configurable: !0
                    }))), e
                }, set: function (t, e, i) {
                    var n, r = this.cache(t);
                    if ("string" == typeof e) r[_(e)] = i;
                    else
                        for (n in e) r[_(n)] = e[n];
                    return r
                }, get: function (t, e) {
                    return void 0 === e ? this.cache(t) : t[this.expando] && t[this.expando][_(e)]
                }, access: function (t, e, i) {
                    return void 0 === e || e && "string" == typeof e && void 0 === i ? this.get(t, e) : (this.set(t, e, i), void 0 !== i ? i : e)
                }, remove: function (t, e) {
                    var i, n = t[this.expando];
                    if (void 0 !== n) {
                        if (void 0 !== e) {
                            Array.isArray(e) ? e = e.map(_) : (e = _(e), e = e in n ? [e] : e.match(Bt) || []), i = e.length;
                            for (; i--;) delete n[e[i]]
                        }(void 0 === e || Et.isEmptyObject(n)) && (t.nodeType ? t[this.expando] = void 0 : delete t[this.expando])
                    }
                }, hasData: function (t) {
                    var e = t[this.expando];
                    return void 0 !== e && !Et.isEmptyObject(e)
                }
            };
            var Wt = new y,
                qt = new y,
                Xt = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
                Yt = /[A-Z]/g;
            Et.extend({
                hasData: function (t) {
                    return qt.hasData(t) || Wt.hasData(t)
                }, data: function (t, e, i) {
                    return qt.access(t, e, i)
                }, removeData: function (t, e) {
                    qt.remove(t, e)
                }, _data: function (t, e, i) {
                    return Wt.access(t, e, i)
                }, _removeData: function (t, e) {
                    Wt.remove(t, e)
                }
            }), Et.fn.extend({
                data: function (t, e) {
                    var i, n, r, o = this[0],
                        s = o && o.attributes;
                    if (void 0 === t) {
                        if (this.length && (r = qt.get(o), 1 === o.nodeType && !Wt.get(o, "hasDataAttrs"))) {
                            for (i = s.length; i--;) s[i] && (n = s[i].name, 0 === n.indexOf("data-") && (n = _(n.slice(5)), w(o, n, r[n])));
                            Wt.set(o, "hasDataAttrs", !0)
                        }
                        return r
                    }
                    return "object" == typeof t ? this.each(function () {
                        qt.set(this, t)
                    }) : Ut(this, function (e) {
                        var i;
                        if (o && void 0 === e) {
                            if (i = qt.get(o, t), void 0 !== i) return i;
                            if (i = w(o, t), void 0 !== i) return i
                        } else this.each(function () {
                            qt.set(this, t, e)
                        })
                    }, null, e, arguments.length > 1, null, !0)
                }, removeData: function (t) {
                    return this.each(function () {
                        qt.remove(this, t)
                    })
                }
            }), Et.extend({
                queue: function (t, e, i) {
                    var n;
                    if (t) return e = (e || "fx") + "queue", n = Wt.get(t, e), i && (!n || Array.isArray(i) ? n = Wt.access(t, e, Et.makeArray(i)) : n.push(i)), n || []
                }, dequeue: function (t, e) {
                    e = e || "fx";
                    var i = Et.queue(t, e),
                        n = i.length,
                        r = i.shift(),
                        o = Et._queueHooks(t, e),
                        s = function () {
                            Et.dequeue(t, e)
                        };
                    "inprogress" === r && (r = i.shift(), n--), r && ("fx" === e && i.unshift("inprogress"), delete o.stop, r.call(t, s, o)), !n && o && o.empty.fire()
                }, _queueHooks: function (t, e) {
                    var i = e + "queueHooks";
                    return Wt.get(t, i) || Wt.access(t, i, {
                        empty: Et.Callbacks("once memory").add(function () {
                            Wt.remove(t, [e + "queue", i])
                        })
                    })
                }
            }), Et.fn.extend({
                queue: function (t, e) {
                    var i = 2;
                    return "string" != typeof t && (e = t, t = "fx", i--), arguments.length < i ? Et.queue(this[0], t) : void 0 === e ? this : this.each(function () {
                        var i = Et.queue(this, t, e);
                        Et._queueHooks(this, t), "fx" === t && "inprogress" !== i[0] && Et.dequeue(this, t)
                    })
                }, dequeue: function (t) {
                    return this.each(function () {
                        Et.dequeue(this, t)
                    })
                }, clearQueue: function (t) {
                    return this.queue(t || "fx", [])
                }, promise: function (t, e) {
                    var i, n = 1,
                        r = Et.Deferred(),
                        o = this,
                        s = this.length,
                        a = function () {
                            --n || r.resolveWith(o, [o])
                        };
                    for ("string" != typeof t && (e = t, t = void 0), t = t || "fx"; s--;) i = Wt.get(o[s], t + "queueHooks"), i && i.empty && (n++, i.empty.add(a));
                    return a(), r.promise(e)
                }
            });
            var Zt = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
                Jt = new RegExp("^(?:([+-])=|)(" + Zt + ")([a-z%]*)$", "i"),
                $t = ["Top", "Right", "Bottom", "Left"],
                Kt = function (t, e) {
                    return t = e || t, "none" === t.style.display || "" === t.style.display && Et.contains(t.ownerDocument, t) && "none" === Et.css(t, "display")
                },
                Qt = function (t, e, i, n) {
                    var r, o, s = {};
                    for (o in e) s[o] = t.style[o], t.style[o] = e[o];
                    r = i.apply(t, n || []);
                    for (o in e) t.style[o] = s[o];
                    return r
                },
                te = {};
            Et.fn.extend({
                show: function () {
                    return T(this, !0)
                }, hide: function () {
                    return T(this)
                }, toggle: function (t) {
                    return "boolean" == typeof t ? t ? this.show() : this.hide() : this.each(function () {
                        Kt(this) ? Et(this).show() : Et(this).hide()
                    })
                }
            });
            var ee = /^(?:checkbox|radio)$/i,
                ie = /<([a-z][^\/\0>\x20\t\r\n\f]+)/i,
                ne = /^$|^module$|\/(?:java|ecma)script/i,
                re = {
                    option: [1, "<select multiple='multiple'>", "</select>"],
                    thead: [1, "<table>", "</table>"],
                    col: [2, "<table><colgroup>", "</colgroup></table>"],
                    tr: [2, "<table><tbody>", "</tbody></table>"],
                    td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
                    _default: [0, "", ""]
                };
            re.optgroup = re.option, re.tbody = re.tfoot = re.colgroup = re.caption = re.thead, re.th = re.td;
            var oe = /<|&#?\w+;/;
            ! function () {
                var t = ut.createDocumentFragment(),
                    e = t.appendChild(ut.createElement("div")),
                    i = ut.createElement("input");
                i.setAttribute("type", "radio"),
                    i.setAttribute("checked", "checked"), i.setAttribute("name", "t"), e.appendChild(i), wt.checkClone = e.cloneNode(!0).cloneNode(!0).lastChild.checked, e.innerHTML = "<textarea>x</textarea>", wt.noCloneChecked = !!e.cloneNode(!0).lastChild.defaultValue
            }();
            var se = ut.documentElement,
                ae = /^key/,
                he = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
                le = /^([^.]*)(?:\.(.+)|)/;
            Et.event = {
                global: {},
                add: function (t, e, i, n, r) {
                    var o, s, a, h, l, u, c, p, d, f, m, g = Wt.get(t);
                    if (g)
                        for (i.handler && (o = i, i = o.handler, r = o.selector), r && Et.find.matchesSelector(se, r), i.guid || (i.guid = Et.guid++), (h = g.events) || (h = g.events = {}), (s = g.handle) || (s = g.handle = function (e) {
                            return "undefined" != typeof Et && Et.event.triggered !== e.type ? Et.event.dispatch.apply(t, arguments) : void 0
                        }), e = (e || "").match(Bt) || [""], l = e.length; l--;) a = le.exec(e[l]) || [], d = m = a[1], f = (a[2] || "").split(".").sort(), d && (c = Et.event.special[d] || {}, d = (r ? c.delegateType : c.bindType) || d, c = Et.event.special[d] || {}, u = Et.extend({
                            type: d,
                            origType: m,
                            data: n,
                            handler: i,
                            guid: i.guid,
                            selector: r,
                            needsContext: r && Et.expr.match.needsContext.test(r),
                            namespace: f.join(".")
                        }, o), (p = h[d]) || (p = h[d] = [], p.delegateCount = 0, c.setup && c.setup.call(t, n, f, s) !== !1 || t.addEventListener && t.addEventListener(d, s)), c.add && (c.add.call(t, u), u.handler.guid || (u.handler.guid = i.guid)), r ? p.splice(p.delegateCount++, 0, u) : p.push(u), Et.event.global[d] = !0)
                }, remove: function (t, e, i, n, r) {
                    var o, s, a, h, l, u, c, p, d, f, m, g = Wt.hasData(t) && Wt.get(t);
                    if (g && (h = g.events)) {
                        for (e = (e || "").match(Bt) || [""], l = e.length; l--;)
                            if (a = le.exec(e[l]) || [], d = m = a[1], f = (a[2] || "").split(".").sort(), d) {
                                for (c = Et.event.special[d] || {}, d = (n ? c.delegateType : c.bindType) || d, p = h[d] || [], a = a[2] && new RegExp("(^|\\.)" + f.join("\\.(?:.*\\.|)") + "(\\.|$)"), s = o = p.length; o--;) u = p[o], !r && m !== u.origType || i && i.guid !== u.guid || a && !a.test(u.namespace) || n && n !== u.selector && ("**" !== n || !u.selector) || (p.splice(o, 1), u.selector && p.delegateCount--, c.remove && c.remove.call(t, u));
                                s && !p.length && (c.teardown && c.teardown.call(t, f, g.handle) !== !1 || Et.removeEvent(t, d, g.handle), delete h[d])
                            } else
                                for (d in h) Et.event.remove(t, d + e[l], i, n, !0);
                        Et.isEmptyObject(h) && Wt.remove(t, "handle events")
                    }
                }, dispatch: function (t) {
                    var e, i, n, r, o, s, a = Et.event.fix(t),
                        h = new Array(arguments.length),
                        l = (Wt.get(this, "events") || {})[a.type] || [],
                        u = Et.event.special[a.type] || {};
                    for (h[0] = a, e = 1; e < arguments.length; e++) h[e] = arguments[e];
                    if (a.delegateTarget = this, !u.preDispatch || u.preDispatch.call(this, a) !== !1) {
                        for (s = Et.event.handlers.call(this, a, l), e = 0;
                            (r = s[e++]) && !a.isPropagationStopped();)
                            for (a.currentTarget = r.elem, i = 0;
                                (o = r.handlers[i++]) && !a.isImmediatePropagationStopped();) a.rnamespace && !a.rnamespace.test(o.namespace) || (a.handleObj = o, a.data = o.data, n = ((Et.event.special[o.origType] || {}).handle || o.handler).apply(r.elem, h), void 0 !== n && (a.result = n) === !1 && (a.preventDefault(), a.stopPropagation()));
                        return u.postDispatch && u.postDispatch.call(this, a), a.result
                    }
                }, handlers: function (t, e) {
                    var i, n, r, o, s, a = [],
                        h = e.delegateCount,
                        l = t.target;
                    if (h && l.nodeType && !("click" === t.type && t.button >= 1))
                        for (; l !== this; l = l.parentNode || this)
                            if (1 === l.nodeType && ("click" !== t.type || l.disabled !== !0)) {
                                for (o = [], s = {}, i = 0; i < h; i++) n = e[i], r = n.selector + " ", void 0 === s[r] && (s[r] = n.needsContext ? Et(r, this).index(l) > -1 : Et.find(r, this, null, [l]).length), s[r] && o.push(n);
                                o.length && a.push({
                                    elem: l,
                                    handlers: o
                                })
                            }
                    return l = this, h < e.length && a.push({
                        elem: l,
                        handlers: e.slice(h)
                    }), a
                }, addProp: function (t, e) {
                    Object.defineProperty(Et.Event.prototype, t, {
                        enumerable: !0,
                        configurable: !0,
                        get: bt(e) ? function () {
                            if (this.originalEvent) return e(this.originalEvent)
                        } : function () {
                            if (this.originalEvent) return this.originalEvent[t]
                        }, set: function (e) {
                            Object.defineProperty(this, t, {
                                enumerable: !0,
                                configurable: !0,
                                writable: !0,
                                value: e
                            })
                        }
                    })
                }, fix: function (t) {
                    return t[Et.expando] ? t : new Et.Event(t)
                }, special: {
                    load: {
                        noBubble: !0
                    },
                    focus: {
                        trigger: function () {
                            if (this !== R() && this.focus) return this.focus(), !1
                        }, delegateType: "focusin"
                    },
                    blur: {
                        trigger: function () {
                            if (this === R() && this.blur) return this.blur(), !1
                        }, delegateType: "focusout"
                    },
                    click: {
                        trigger: function () {
                            if ("checkbox" === this.type && this.click && l(this, "input")) return this.click(), !1
                        }, _default: function (t) {
                            return l(t.target, "a")
                        }
                    },
                    beforeunload: {
                        postDispatch: function (t) {
                            void 0 !== t.result && t.originalEvent && (t.originalEvent.returnValue = t.result)
                        }
                    }
                }
            }, Et.removeEvent = function (t, e, i) {
                t.removeEventListener && t.removeEventListener(e, i)
            }, Et.Event = function (t, e) {
                return this instanceof Et.Event ? (t && t.type ? (this.originalEvent = t, this.type = t.type, this.isDefaultPrevented = t.defaultPrevented || void 0 === t.defaultPrevented && t.returnValue === !1 ? C : P, this.target = t.target && 3 === t.target.nodeType ? t.target.parentNode : t.target, this.currentTarget = t.currentTarget, this.relatedTarget = t.relatedTarget) : this.type = t, e && Et.extend(this, e), this.timeStamp = t && t.timeStamp || Date.now(), void(this[Et.expando] = !0)) : new Et.Event(t, e)
            }, Et.Event.prototype = {
                constructor: Et.Event,
                isDefaultPrevented: P,
                isPropagationStopped: P,
                isImmediatePropagationStopped: P,
                isSimulated: !1,
                preventDefault: function () {
                    var t = this.originalEvent;
                    this.isDefaultPrevented = C, t && !this.isSimulated && t.preventDefault()
                }, stopPropagation: function () {
                    var t = this.originalEvent;
                    this.isPropagationStopped = C, t && !this.isSimulated && t.stopPropagation()
                }, stopImmediatePropagation: function () {
                    var t = this.originalEvent;
                    this.isImmediatePropagationStopped = C, t && !this.isSimulated && t.stopImmediatePropagation(), this.stopPropagation()
                }
            }, Et.each({
                altKey: !0,
                bubbles: !0,
                cancelable: !0,
                changedTouches: !0,
                ctrlKey: !0,
                detail: !0,
                eventPhase: !0,
                metaKey: !0,
                pageX: !0,
                pageY: !0,
                shiftKey: !0,
                view: !0,
                char: !0,
                charCode: !0,
                key: !0,
                keyCode: !0,
                button: !0,
                buttons: !0,
                clientX: !0,
                clientY: !0,
                offsetX: !0,
                offsetY: !0,
                pointerId: !0,
                pointerType: !0,
                screenX: !0,
                screenY: !0,
                targetTouches: !0,
                toElement: !0,
                touches: !0,
                which: function (t) {
                    var e = t.button;
                    return null == t.which && ae.test(t.type) ? null != t.charCode ? t.charCode : t.keyCode : !t.which && void 0 !== e && he.test(t.type) ? 1 & e ? 1 : 2 & e ? 3 : 4 & e ? 2 : 0 : t.which
                }
            }, Et.event.addProp), Et.each({
                mouseenter: "mouseover",
                mouseleave: "mouseout",
                pointerenter: "pointerover",
                pointerleave: "pointerout"
            }, function (t, e) {
                Et.event.special[t] = {
                    delegateType: e,
                    bindType: e,
                    handle: function (t) {
                        var i, n = this,
                            r = t.relatedTarget,
                            o = t.handleObj;
                        return r && (r === n || Et.contains(n, r)) || (t.type = o.origType, i = o.handler.apply(this, arguments), t.type = e), i
                    }
                }
            }), Et.fn.extend({
                on: function (t, e, i, n) {
                    return L(this, t, e, i, n)
                }, one: function (t, e, i, n) {
                    return L(this, t, e, i, n, 1)
                }, off: function (t, e, i) {
                    var n, r;
                    if (t && t.preventDefault && t.handleObj) return n = t.handleObj, Et(t.delegateTarget).off(n.namespace ? n.origType + "." + n.namespace : n.origType, n.selector, n.handler), this;
                    if ("object" == typeof t) {
                        for (r in t) this.off(r, e, t[r]);
                        return this
                    }
                    return e !== !1 && "function" != typeof e || (i = e, e = void 0), i === !1 && (i = P), this.each(function () {
                        Et.event.remove(this, t, i, e)
                    })
                }
            });
            var ue = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,
                ce = /<script|<style|<link/i,
                pe = /checked\s*(?:[^=]|=\s*.checked.)/i,
                de = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
            Et.extend({
                htmlPrefilter: function (t) {
                    return t.replace(ue, "<$1></$2>")
                }, clone: function (t, e, i) {
                    var n, r, o, s, a = t.cloneNode(!0),
                        h = Et.contains(t.ownerDocument, t);
                    if (!(wt.noCloneChecked || 1 !== t.nodeType && 11 !== t.nodeType || Et.isXMLDoc(t)))
                        for (s = M(a), o = M(t), n = 0, r = o.length; n < r; n++) N(o[n], s[n]);
                    if (e)
                        if (i)
                            for (o = o || M(t), s = s || M(a), n = 0, r = o.length; n < r; n++) k(o[n], s[n]);
                        else k(t, a);
                    return s = M(a, "script"), s.length > 0 && E(s, !h && M(t, "script")), a
                }, cleanData: function (t) {
                    for (var e, i, n, r = Et.event.special, o = 0; void 0 !== (i = t[o]); o++)
                        if (Vt(i)) {
                            if (e = i[Wt.expando]) {
                                if (e.events)
                                    for (n in e.events) r[n] ? Et.event.remove(i, n) : Et.removeEvent(i, n, e.handle);
                                i[Wt.expando] = void 0
                            }
                            i[qt.expando] && (i[qt.expando] = void 0)
                        }
                }
            }), Et.fn.extend({
                detach: function (t) {
                    return B(this, t, !0)
                }, remove: function (t) {
                    return B(this, t)
                }, text: function (t) {
                    return Ut(this, function (t) {
                        return void 0 === t ? Et.text(this) : this.empty().each(function () {
                            1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = t)
                        })
                    }, null, t, arguments.length)
                }, append: function () {
                    return z(this, arguments, function (t) {
                        if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                            var e = O(this, t);
                            e.appendChild(t)
                        }
                    })
                }, prepend: function () {
                    return z(this, arguments, function (t) {
                        if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                            var e = O(this, t);
                            e.insertBefore(t, e.firstChild)
                        }
                    })
                }, before: function () {
                    return z(this, arguments, function (t) {
                        this.parentNode && this.parentNode.insertBefore(t, this)
                    })
                }, after: function () {
                    return z(this, arguments, function (t) {
                        this.parentNode && this.parentNode.insertBefore(t, this.nextSibling)
                    })
                }, empty: function () {
                    for (var t, e = 0; null != (t = this[e]); e++) 1 === t.nodeType && (Et.cleanData(M(t, !1)), t.textContent = "");
                    return this
                }, clone: function (t, e) {
                    return t = null != t && t, e = null == e ? t : e, this.map(function () {
                        return Et.clone(this, t, e)
                    })
                }, html: function (t) {
                    return Ut(this, function (t) {
                        var e = this[0] || {},
                            i = 0,
                            n = this.length;
                        if (void 0 === t && 1 === e.nodeType) return e.innerHTML;
                        if ("string" == typeof t && !ce.test(t) && !re[(ie.exec(t) || ["", ""])[1].toLowerCase()]) {
                            t = Et.htmlPrefilter(t);
                            try {
                                for (; i < n; i++) e = this[i] || {}, 1 === e.nodeType && (Et.cleanData(M(e, !1)), e.innerHTML = t);
                                e = 0
                            } catch (t) {}
                        }
                        e && this.empty().append(t)
                    }, null, t, arguments.length)
                }, replaceWith: function () {
                    var t = [];
                    return z(this, arguments, function (e) {
                        var i = this.parentNode;
                        Et.inArray(this, t) < 0 && (Et.cleanData(M(this)), i && i.replaceChild(e, this))
                    }, t)
                }
            }), Et.each({
                appendTo: "append",
                prependTo: "prepend",
                insertBefore: "before",
                insertAfter: "after",
                replaceAll: "replaceWith"
            }, function (t, e) {
                Et.fn[t] = function (t) {
                    for (var i, n = [], r = Et(t), o = r.length - 1, s = 0; s <= o; s++) i = s === o ? this : this.clone(!0), Et(r[s])[e](i), ft.apply(n, i.get());
                    return this.pushStack(n)
                }
            });
            var fe = new RegExp("^(" + Zt + ")(?!px)[a-z%]+$", "i"),
                me = function (t) {
                    var e = t.ownerDocument.defaultView;
                    return e && e.opener || (e = i), e.getComputedStyle(t)
                },
                ge = new RegExp($t.join("|"), "i");
            ! function () {
                function t() {
                    if (l) {
                        h.style.cssText = "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0", l.style.cssText = "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%", se.appendChild(h).appendChild(l);
                        var t = i.getComputedStyle(l);
                        n = "1%" !== t.top, a = 12 === e(t.marginLeft), l.style.right = "60%", s = 36 === e(t.right), r = 36 === e(t.width), l.style.position = "absolute", o = 36 === l.offsetWidth || "absolute", se.removeChild(h), l = null
                    }
                }

                function e(t) {
                    return Math.round(parseFloat(t))
                }
                var n, r, o, s, a, h = ut.createElement("div"),
                    l = ut.createElement("div");
                l.style && (l.style.backgroundClip = "content-box", l.cloneNode(!0).style.backgroundClip = "", wt.clearCloneStyle = "content-box" === l.style.backgroundClip, Et.extend(wt, {
                    boxSizingReliable: function () {
                        return t(), r
                    }, pixelBoxStyles: function () {
                        return t(), s
                    }, pixelPosition: function () {
                        return t(), n
                    }, reliableMarginLeft: function () {
                        return t(), a
                    }, scrollboxSize: function () {
                        return t(), o
                    }
                }))
            }();
            var ve = /^(none|table(?!-c[ea]).+)/,
                _e = /^--/,
                ye = {
                    position: "absolute",
                    visibility: "hidden",
                    display: "block"
                },
                xe = {
                    letterSpacing: "0",
                    fontWeight: "400"
                },
                we = ["Webkit", "Moz", "ms"],
                be = ut.createElement("div").style;
            Et.extend({
                cssHooks: {
                    opacity: {
                        get: function (t, e) {
                            if (e) {
                                var i = F(t, "opacity");
                                return "" === i ? "1" : i
                            }
                        }
                    }
                },
                cssNumber: {
                    animationIterationCount: !0,
                    columnCount: !0,
                    fillOpacity: !0,
                    flexGrow: !0,
                    flexShrink: !0,
                    fontWeight: !0,
                    lineHeight: !0,
                    opacity: !0,
                    order: !0,
                    orphans: !0,
                    widows: !0,
                    zIndex: !0,
                    zoom: !0
                },
                cssProps: {},
                style: function (t, e, i, n) {
                    if (t && 3 !== t.nodeType && 8 !== t.nodeType && t.style) {
                        var r, o, s, a = _(e),
                            h = _e.test(e),
                            l = t.style;
                        return h || (e = G(a)), s = Et.cssHooks[e] || Et.cssHooks[a], void 0 === i ? s && "get" in s && void 0 !== (r = s.get(t, !1, n)) ? r : l[e] : (o = typeof i, "string" === o && (r = Jt.exec(i)) && r[1] && (i = b(t, e, r), o = "number"), null != i && i === i && ("number" === o && (i += r && r[3] || (Et.cssNumber[a] ? "" : "px")), wt.clearCloneStyle || "" !== i || 0 !== e.indexOf("background") || (l[e] = "inherit"), s && "set" in s && void 0 === (i = s.set(t, i, n)) || (h ? l.setProperty(e, i) : l[e] = i)), void 0)
                    }
                }, css: function (t, e, i, n) {
                    var r, o, s, a = _(e),
                        h = _e.test(e);
                    return h || (e = G(a)), s = Et.cssHooks[e] || Et.cssHooks[a], s && "get" in s && (r = s.get(t, !0, i)), void 0 === r && (r = F(t, e, n)), "normal" === r && e in xe && (r = xe[e]), "" === i || i ? (o = parseFloat(r), i === !0 || isFinite(o) ? o || 0 : r) : r
                }
            }), Et.each(["height", "width"], function (t, e) {
                Et.cssHooks[e] = {
                    get: function (t, i, n) {
                        if (i) return !ve.test(Et.css(t, "display")) || t.getClientRects().length && t.getBoundingClientRect().width ? W(t, e, n) : Qt(t, ye, function () {
                            return W(t, e, n)
                        })
                    }, set: function (t, i, n) {
                        var r, o = me(t),
                            s = "border-box" === Et.css(t, "boxSizing", !1, o),
                            a = n && V(t, e, n, s, o);
                        return s && wt.scrollboxSize() === o.position && (a -= Math.ceil(t["offset" + e[0].toUpperCase() + e.slice(1)] - parseFloat(o[e]) - V(t, e, "border", !1, o) - .5)), a && (r = Jt.exec(i)) && "px" !== (r[3] || "px") && (t.style[e] = i, i = Et.css(t, e)), j(t, i, a)
                    }
                }
            }), Et.cssHooks.marginLeft = H(wt.reliableMarginLeft, function (t, e) {
                if (e) return (parseFloat(F(t, "marginLeft")) || t.getBoundingClientRect().left - Qt(t, {
                    marginLeft: 0
                }, function () {
                    return t.getBoundingClientRect().left
                })) + "px"
            }), Et.each({
                margin: "",
                padding: "",
                border: "Width"
            }, function (t, e) {
                Et.cssHooks[t + e] = {
                    expand: function (i) {
                        for (var n = 0, r = {}, o = "string" == typeof i ? i.split(" ") : [i]; n < 4; n++) r[t + $t[n] + e] = o[n] || o[n - 2] || o[0];
                        return r
                    }
                }, "margin" !== t && (Et.cssHooks[t + e].set = j)
            }), Et.fn.extend({
                css: function (t, e) {
                    return Ut(this, function (t, e, i) {
                        var n, r, o = {},
                            s = 0;
                        if (Array.isArray(e)) {
                            for (n = me(t), r = e.length; s < r; s++) o[e[s]] = Et.css(t, e[s], !1, n);
                            return o
                        }
                        return void 0 !== i ? Et.style(t, e, i) : Et.css(t, e)
                    }, t, e, arguments.length > 1)
                }
            }), Et.Tween = q, q.prototype = {
                constructor: q,
                init: function (t, e, i, n, r, o) {
                    this.elem = t, this.prop = i, this.easing = r || Et.easing._default, this.options = e, this.start = this.now = this.cur(), this.end = n, this.unit = o || (Et.cssNumber[i] ? "" : "px")
                }, cur: function () {
                    var t = q.propHooks[this.prop];
                    return t && t.get ? t.get(this) : q.propHooks._default.get(this)
                }, run: function (t) {
                    var e, i = q.propHooks[this.prop];
                    return this.options.duration ? this.pos = e = Et.easing[this.easing](t, this.options.duration * t, 0, 1, this.options.duration) : this.pos = e = t, this.now = (this.end - this.start) * e + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), i && i.set ? i.set(this) : q.propHooks._default.set(this), this
                }
            }, q.prototype.init.prototype = q.prototype, q.propHooks = {
                _default: {
                    get: function (t) {
                        var e;
                        return 1 !== t.elem.nodeType || null != t.elem[t.prop] && null == t.elem.style[t.prop] ? t.elem[t.prop] : (e = Et.css(t.elem, t.prop, ""), e && "auto" !== e ? e : 0)
                    }, set: function (t) {
                        Et.fx.step[t.prop] ? Et.fx.step[t.prop](t) : 1 !== t.elem.nodeType || null == t.elem.style[Et.cssProps[t.prop]] && !Et.cssHooks[t.prop] ? t.elem[t.prop] = t.now : Et.style(t.elem, t.prop, t.now + t.unit)
                    }
                }
            }, q.propHooks.scrollTop = q.propHooks.scrollLeft = {
                set: function (t) {
                    t.elem.nodeType && t.elem.parentNode && (t.elem[t.prop] = t.now)
                }
            }, Et.easing = {
                linear: function (t) {
                    return t
                }, swing: function (t) {
                    return .5 - Math.cos(t * Math.PI) / 2
                }, _default: "swing"
            }, Et.fx = q.prototype.init, Et.fx.step = {};
            var Se, Te, Me = /^(?:toggle|show|hide)$/,
                Ee = /queueHooks$/;
            Et.Animation = Et.extend(Q, {
                    tweeners: {
                        "*": [
                            function (t, e) {
                                var i = this.createTween(t, e);
                                return b(i.elem, t, Jt.exec(e), i), i
                            }
                        ]
                    },
                    tweener: function (t, e) {
                        bt(t) ? (e = t, t = ["*"]) : t = t.match(Bt);
                        for (var i, n = 0, r = t.length; n < r; n++) i = t[n], Q.tweeners[i] = Q.tweeners[i] || [], Q.tweeners[i].unshift(e)
                    }, prefilters: [$],
                    prefilter: function (t, e) {
                        e ? Q.prefilters.unshift(t) : Q.prefilters.push(t)
                    }
                }), Et.speed = function (t, e, i) {
                    var n = t && "object" == typeof t ? Et.extend({}, t) : {
                        complete: i || !i && e || bt(t) && t,
                        duration: t,
                        easing: i && e || e && !bt(e) && e
                    };
                    return Et.fx.off ? n.duration = 0 : "number" != typeof n.duration && (n.duration in Et.fx.speeds ? n.duration = Et.fx.speeds[n.duration] : n.duration = Et.fx.speeds._default), null != n.queue && n.queue !== !0 || (n.queue = "fx"), n.old = n.complete, n.complete = function () {
                        bt(n.old) && n.old.call(this), n.queue && Et.dequeue(this, n.queue)
                    }, n
                }, Et.fn.extend({
                    fadeTo: function (t, e, i, n) {
                        return this.filter(Kt).css("opacity", 0).show().end().animate({
                            opacity: e
                        }, t, i, n)
                    }, animate: function (t, e, i, n) {
                        var r = Et.isEmptyObject(t),
                            o = Et.speed(e, i, n),
                            s = function () {
                                var e = Q(this, Et.extend({}, t), o);
                                (r || Wt.get(this, "finish")) && e.stop(!0)
                            };
                        return s.finish = s, r || o.queue === !1 ? this.each(s) : this.queue(o.queue, s)
                    }, stop: function (t, e, i) {
                        var n = function (t) {
                            var e = t.stop;
                            delete t.stop, e(i)
                        };
                        return "string" != typeof t && (i = e, e = t, t = void 0), e && t !== !1 && this.queue(t || "fx", []), this.each(function () {
                            var e = !0,
                                r = null != t && t + "queueHooks",
                                o = Et.timers,
                                s = Wt.get(this);
                            if (r) s[r] && s[r].stop && n(s[r]);
                            else
                                for (r in s) s[r] && s[r].stop && Ee.test(r) && n(s[r]);
                            for (r = o.length; r--;) o[r].elem !== this || null != t && o[r].queue !== t || (o[r].anim.stop(i), e = !1, o.splice(r, 1));
                            !e && i || Et.dequeue(this, t)
                        })
                    }, finish: function (t) {
                        return t !== !1 && (t = t || "fx"), this.each(function () {
                            var e, i = Wt.get(this),
                                n = i[t + "queue"],
                                r = i[t + "queueHooks"],
                                o = Et.timers,
                                s = n ? n.length : 0;
                            for (i.finish = !0, Et.queue(this, t, []), r && r.stop && r.stop.call(this, !0), e = o.length; e--;) o[e].elem === this && o[e].queue === t && (o[e].anim.stop(!0), o.splice(e, 1));
                            for (e = 0; e < s; e++) n[e] && n[e].finish && n[e].finish.call(this);
                            delete i.finish
                        })
                    }
                }), Et.each(["toggle", "show", "hide"], function (t, e) {
                    var i = Et.fn[e];
                    Et.fn[e] = function (t, n, r) {
                        return null == t || "boolean" == typeof t ? i.apply(this, arguments) : this.animate(Z(e, !0), t, n, r)
                    }
                }), Et.each({
                    slideDown: Z("show"),
                    slideUp: Z("hide"),
                    slideToggle: Z("toggle"),
                    fadeIn: {
                        opacity: "show"
                    },
                    fadeOut: {
                        opacity: "hide"
                    },
                    fadeToggle: {
                        opacity: "toggle"
                    }
                }, function (t, e) {
                    Et.fn[t] = function (t, i, n) {
                        return this.animate(e, t, i, n)
                    }
                }), Et.timers = [], Et.fx.tick = function () {
                    var t, e = 0,
                        i = Et.timers;
                    for (Se = Date.now(); e < i.length; e++) t = i[e], t() || i[e] !== t || i.splice(e--, 1);
                    i.length || Et.fx.stop(), Se = void 0
                }, Et.fx.timer = function (t) {
                    Et.timers.push(t), Et.fx.start()
                }, Et.fx.interval = 13, Et.fx.start = function () {
                    Te || (Te = !0, X())
                }, Et.fx.stop = function () {
                    Te = null
                }, Et.fx.speeds = {
                    slow: 600,
                    fast: 200,
                    _default: 400
                }, Et.fn.delay = function (t, e) {
                    return t = Et.fx ? Et.fx.speeds[t] || t : t, e = e || "fx", this.queue(e, function (e, n) {
                        var r = i.setTimeout(e, t);
                        n.stop = function () {
                            i.clearTimeout(r)
                        }
                    })
                },
                function () {
                    var t = ut.createElement("input"),
                        e = ut.createElement("select"),
                        i = e.appendChild(ut.createElement("option"));
                    t.type = "checkbox", wt.checkOn = "" !== t.value, wt.optSelected = i.selected, t = ut.createElement("input"), t.value = "t", t.type = "radio", wt.radioValue = "t" === t.value
                }();
            var Ae, Ce = Et.expr.attrHandle;
            Et.fn.extend({
                attr: function (t, e) {
                    return Ut(this, Et.attr, t, e, arguments.length > 1)
                }, removeAttr: function (t) {
                    return this.each(function () {
                        Et.removeAttr(this, t)
                    })
                }
            }), Et.extend({
                attr: function (t, e, i) {
                    var n, r, o = t.nodeType;
                    if (3 !== o && 8 !== o && 2 !== o) return "undefined" == typeof t.getAttribute ? Et.prop(t, e, i) : (1 === o && Et.isXMLDoc(t) || (r = Et.attrHooks[e.toLowerCase()] || (Et.expr.match.bool.test(e) ? Ae : void 0)), void 0 !== i ? null === i ? void Et.removeAttr(t, e) : r && "set" in r && void 0 !== (n = r.set(t, i, e)) ? n : (t.setAttribute(e, i + ""), i) : r && "get" in r && null !== (n = r.get(t, e)) ? n : (n = Et.find.attr(t, e), null == n ? void 0 : n))
                }, attrHooks: {
                    type: {
                        set: function (t, e) {
                            if (!wt.radioValue && "radio" === e && l(t, "input")) {
                                var i = t.value;
                                return t.setAttribute("type", e), i && (t.value = i), e
                            }
                        }
                    }
                }, removeAttr: function (t, e) {
                    var i, n = 0,
                        r = e && e.match(Bt);
                    if (r && 1 === t.nodeType)
                        for (; i = r[n++];) t.removeAttribute(i)
                }
            }), Ae = {
                set: function (t, e, i) {
                    return e === !1 ? Et.removeAttr(t, i) : t.setAttribute(i, i), i
                }
            }, Et.each(Et.expr.match.bool.source.match(/\w+/g), function (t, e) {
                var i = Ce[e] || Et.find.attr;
                Ce[e] = function (t, e, n) {
                    var r, o, s = e.toLowerCase();
                    return n || (o = Ce[s], Ce[s] = r, r = null != i(t, e, n) ? s : null, Ce[s] = o), r
                }
            });
            var Pe = /^(?:input|select|textarea|button)$/i,
                Re = /^(?:a|area)$/i;
            Et.fn.extend({
                prop: function (t, e) {
                    return Ut(this, Et.prop, t, e, arguments.length > 1)
                }, removeProp: function (t) {
                    return this.each(function () {
                        delete this[Et.propFix[t] || t]
                    })
                }
            }), Et.extend({
                prop: function (t, e, i) {
                    var n, r, o = t.nodeType;
                    if (3 !== o && 8 !== o && 2 !== o) return 1 === o && Et.isXMLDoc(t) || (e = Et.propFix[e] || e, r = Et.propHooks[e]), void 0 !== i ? r && "set" in r && void 0 !== (n = r.set(t, i, e)) ? n : t[e] = i : r && "get" in r && null !== (n = r.get(t, e)) ? n : t[e]
                }, propHooks: {
                    tabIndex: {
                        get: function (t) {
                            var e = Et.find.attr(t, "tabindex");
                            return e ? parseInt(e, 10) : Pe.test(t.nodeName) || Re.test(t.nodeName) && t.href ? 0 : -1
                        }
                    }
                }, propFix: {
                    for: "htmlFor",
                    class: "className"
                }
            }), wt.optSelected || (Et.propHooks.selected = {
                get: function (t) {
                    var e = t.parentNode;
                    return e && e.parentNode && e.parentNode.selectedIndex, null
                }, set: function (t) {
                    var e = t.parentNode;
                    e && (e.selectedIndex, e.parentNode && e.parentNode.selectedIndex)
                }
            }), Et.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function () {
                Et.propFix[this.toLowerCase()] = this
            }), Et.fn.extend({
                addClass: function (t) {
                    var e, i, n, r, o, s, a, h = 0;
                    if (bt(t)) return this.each(function (e) {
                        Et(this).addClass(t.call(this, e, et(this)))
                    });
                    if (e = it(t), e.length)
                        for (; i = this[h++];)
                            if (r = et(i), n = 1 === i.nodeType && " " + tt(r) + " ") {
                                for (s = 0; o = e[s++];) n.indexOf(" " + o + " ") < 0 && (n += o + " ");
                                a = tt(n), r !== a && i.setAttribute("class", a)
                            }
                    return this
                }, removeClass: function (t) {
                    var e, i, n, r, o, s, a, h = 0;
                    if (bt(t)) return this.each(function (e) {
                        Et(this).removeClass(t.call(this, e, et(this)))
                    });
                    if (!arguments.length) return this.attr("class", "");
                    if (e = it(t), e.length)
                        for (; i = this[h++];)
                            if (r = et(i), n = 1 === i.nodeType && " " + tt(r) + " ") {
                                for (s = 0; o = e[s++];)
                                    for (; n.indexOf(" " + o + " ") > -1;) n = n.replace(" " + o + " ", " ");
                                a = tt(n), r !== a && i.setAttribute("class", a)
                            }
                    return this
                }, toggleClass: function (t, e) {
                    var i = typeof t,
                        n = "string" === i || Array.isArray(t);
                    return "boolean" == typeof e && n ? e ? this.addClass(t) : this.removeClass(t) : bt(t) ? this.each(function (i) {
                        Et(this).toggleClass(t.call(this, i, et(this), e), e)
                    }) : this.each(function () {
                        var e, r, o, s;
                        if (n)
                            for (r = 0, o = Et(this), s = it(t); e = s[r++];) o.hasClass(e) ? o.removeClass(e) : o.addClass(e);
                        else void 0 !== t && "boolean" !== i || (e = et(this), e && Wt.set(this, "__className__", e), this.setAttribute && this.setAttribute("class", e || t === !1 ? "" : Wt.get(this, "__className__") || ""))
                    })
                }, hasClass: function (t) {
                    var e, i, n = 0;
                    for (e = " " + t + " "; i = this[n++];)
                        if (1 === i.nodeType && (" " + tt(et(i)) + " ").indexOf(e) > -1) return !0;
                    return !1
                }
            });
            var Le = /\r/g;
            Et.fn.extend({
                val: function (t) {
                    var e, i, n, r = this[0]; {
                        if (arguments.length) return n = bt(t), this.each(function (i) {
                            var r;
                            1 === this.nodeType && (r = n ? t.call(this, i, Et(this).val()) : t, null == r ? r = "" : "number" == typeof r ? r += "" : Array.isArray(r) && (r = Et.map(r, function (t) {
                                return null == t ? "" : t + ""
                            })), e = Et.valHooks[this.type] || Et.valHooks[this.nodeName.toLowerCase()], e && "set" in e && void 0 !== e.set(this, r, "value") || (this.value = r))
                        });
                        if (r) return e = Et.valHooks[r.type] || Et.valHooks[r.nodeName.toLowerCase()], e && "get" in e && void 0 !== (i = e.get(r, "value")) ? i : (i = r.value, "string" == typeof i ? i.replace(Le, "") : null == i ? "" : i)
                    }
                }
            }), Et.extend({
                valHooks: {
                    option: {
                        get: function (t) {
                            var e = Et.find.attr(t, "value");
                            return null != e ? e : tt(Et.text(t))
                        }
                    },
                    select: {
                        get: function (t) {
                            var e, i, n, r = t.options,
                                o = t.selectedIndex,
                                s = "select-one" === t.type,
                                a = s ? null : [],
                                h = s ? o + 1 : r.length;
                            for (n = o < 0 ? h : s ? o : 0; n < h; n++)
                                if (i = r[n], (i.selected || n === o) && !i.disabled && (!i.parentNode.disabled || !l(i.parentNode, "optgroup"))) {
                                    if (e = Et(i).val(), s) return e;
                                    a.push(e)
                                }
                            return a
                        }, set: function (t, e) {
                            for (var i, n, r = t.options, o = Et.makeArray(e), s = r.length; s--;) n = r[s], (n.selected = Et.inArray(Et.valHooks.option.get(n), o) > -1) && (i = !0);
                            return i || (t.selectedIndex = -1), o
                        }
                    }
                }
            }), Et.each(["radio", "checkbox"], function () {
                Et.valHooks[this] = {
                    set: function (t, e) {
                        if (Array.isArray(e)) return t.checked = Et.inArray(Et(t).val(), e) > -1
                    }
                }, wt.checkOn || (Et.valHooks[this].get = function (t) {
                    return null === t.getAttribute("value") ? "on" : t.value
                })
            }), wt.focusin = "onfocusin" in i;
            var Oe = /^(?:focusinfocus|focusoutblur)$/,
                Ie = function (t) {
                    t.stopPropagation()
                };
            Et.extend(Et.event, {
                trigger: function (t, e, n, r) {
                    var o, s, a, h, l, u, c, p, d = [n || ut],
                        f = _t.call(t, "type") ? t.type : t,
                        m = _t.call(t, "namespace") ? t.namespace.split(".") : [];
                    if (s = p = a = n = n || ut, 3 !== n.nodeType && 8 !== n.nodeType && !Oe.test(f + Et.event.triggered) && (f.indexOf(".") > -1 && (m = f.split("."), f = m.shift(), m.sort()), l = f.indexOf(":") < 0 && "on" + f, t = t[Et.expando] ? t : new Et.Event(f, "object" == typeof t && t), t.isTrigger = r ? 2 : 3, t.namespace = m.join("."), t.rnamespace = t.namespace ? new RegExp("(^|\\.)" + m.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, t.result = void 0, t.target || (t.target = n), e = null == e ? [t] : Et.makeArray(e, [t]), c = Et.event.special[f] || {}, r || !c.trigger || c.trigger.apply(n, e) !== !1)) {
                        if (!r && !c.noBubble && !St(n)) {
                            for (h = c.delegateType || f, Oe.test(h + f) || (s = s.parentNode); s; s = s.parentNode) d.push(s), a = s;
                            a === (n.ownerDocument || ut) && d.push(a.defaultView || a.parentWindow || i)
                        }
                        for (o = 0;
                            (s = d[o++]) && !t.isPropagationStopped();) p = s, t.type = o > 1 ? h : c.bindType || f, u = (Wt.get(s, "events") || {})[t.type] && Wt.get(s, "handle"), u && u.apply(s, e), u = l && s[l], u && u.apply && Vt(s) && (t.result = u.apply(s, e), t.result === !1 && t.preventDefault());
                        return t.type = f, r || t.isDefaultPrevented() || c._default && c._default.apply(d.pop(), e) !== !1 || !Vt(n) || l && bt(n[f]) && !St(n) && (a = n[l], a && (n[l] = null), Et.event.triggered = f, t.isPropagationStopped() && p.addEventListener(f, Ie), n[f](), t.isPropagationStopped() && p.removeEventListener(f, Ie), Et.event.triggered = void 0, a && (n[l] = a)), t.result
                    }
                }, simulate: function (t, e, i) {
                    var n = Et.extend(new Et.Event, i, {
                        type: t,
                        isSimulated: !0
                    });
                    Et.event.trigger(n, null, e)
                }
            }), Et.fn.extend({
                trigger: function (t, e) {
                    return this.each(function () {
                        Et.event.trigger(t, e, this)
                    })
                }, triggerHandler: function (t, e) {
                    var i = this[0];
                    if (i) return Et.event.trigger(t, e, i, !0)
                }
            }), wt.focusin || Et.each({
                focus: "focusin",
                blur: "focusout"
            }, function (t, e) {
                var i = function (t) {
                    Et.event.simulate(e, t.target, Et.event.fix(t))
                };
                Et.event.special[e] = {
                    setup: function () {
                        var n = this.ownerDocument || this,
                            r = Wt.access(n, e);
                        r || n.addEventListener(t, i, !0), Wt.access(n, e, (r || 0) + 1)
                    }, teardown: function () {
                        var n = this.ownerDocument || this,
                            r = Wt.access(n, e) - 1;
                        r ? Wt.access(n, e, r) : (n.removeEventListener(t, i, !0), Wt.remove(n, e))
                    }
                }
            });
            var De = i.location,
                ke = Date.now(),
                Ne = /\?/;
            Et.parseXML = function (t) {
                var e;
                if (!t || "string" != typeof t) return null;
                try {
                    e = (new i.DOMParser).parseFromString(t, "text/xml")
                } catch (t) {
                    e = void 0
                }
                return e && !e.getElementsByTagName("parsererror").length || Et.error("Invalid XML: " + t), e
            };
            var ze = /\[\]$/,
                Be = /\r?\n/g,
                Fe = /^(?:submit|button|image|reset|file)$/i,
                He = /^(?:input|select|textarea|keygen)/i;
            Et.param = function (t, e) {
                var i, n = [],
                    r = function (t, e) {
                        var i = bt(e) ? e() : e;
                        n[n.length] = encodeURIComponent(t) + "=" + encodeURIComponent(null == i ? "" : i)
                    };
                if (Array.isArray(t) || t.jquery && !Et.isPlainObject(t)) Et.each(t, function () {
                    r(this.name, this.value)
                });
                else
                    for (i in t) nt(i, t[i], e, r);
                return n.join("&")
            }, Et.fn.extend({
                serialize: function () {
                    return Et.param(this.serializeArray())
                }, serializeArray: function () {
                    return this.map(function () {
                        var t = Et.prop(this, "elements");
                        return t ? Et.makeArray(t) : this
                    }).filter(function () {
                        var t = this.type;
                        return this.name && !Et(this).is(":disabled") && He.test(this.nodeName) && !Fe.test(t) && (this.checked || !ee.test(t))
                    }).map(function (t, e) {
                        var i = Et(this).val();
                        return null == i ? null : Array.isArray(i) ? Et.map(i, function (t) {
                            return {
                                name: e.name,
                                value: t.replace(Be, "\r\n")
                            }
                        }) : {
                            name: e.name,
                            value: i.replace(Be, "\r\n")
                        }
                    }).get()
                }
            });
            var Ue = /%20/g,
                Ge = /#.*$/,
                je = /([?&])_=[^&]*/,
                Ve = /^(.*?):[ \t]*([^\r\n]*)$/gm,
                We = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
                qe = /^(?:GET|HEAD)$/,
                Xe = /^\/\//,
                Ye = {},
                Ze = {},
                Je = "*/".concat("*"),
                $e = ut.createElement("a");
            $e.href = De.href, Et.extend({
                active: 0,
                lastModified: {},
                etag: {},
                ajaxSettings: {
                    url: De.href,
                    type: "GET",
                    isLocal: We.test(De.protocol),
                    global: !0,
                    processData: !0,
                    async: !0,
                    contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                    accepts: {
                        "*": Je,
                        text: "text/plain",
                        html: "text/html",
                        xml: "application/xml, text/xml",
                        json: "application/json, text/javascript"
                    },
                    contents: {
                        xml: /\bxml\b/,
                        html: /\bhtml/,
                        json: /\bjson\b/
                    },
                    responseFields: {
                        xml: "responseXML",
                        text: "responseText",
                        json: "responseJSON"
                    },
                    converters: {
                        "* text": String,
                        "text html": !0,
                        "text json": JSON.parse,
                        "text xml": Et.parseXML
                    },
                    flatOptions: {
                        url: !0,
                        context: !0
                    }
                },
                ajaxSetup: function (t, e) {
                    return e ? st(st(t, Et.ajaxSettings), e) : st(Et.ajaxSettings, t)
                }, ajaxPrefilter: rt(Ye),
                ajaxTransport: rt(Ze),
                ajax: function (t, e) {
                    function n(t, e, n, a) {
                        var l, p, d, x, w, b = e;
                        u || (u = !0, h && i.clearTimeout(h), r = void 0, s = a || "", S.readyState = t > 0 ? 4 : 0, l = t >= 200 && t < 300 || 304 === t, n && (x = at(f, S, n)), x = ht(f, x, S, l), l ? (f.ifModified && (w = S.getResponseHeader("Last-Modified"), w && (Et.lastModified[o] = w), w = S.getResponseHeader("etag"), w && (Et.etag[o] = w)), 204 === t || "HEAD" === f.type ? b = "nocontent" : 304 === t ? b = "notmodified" : (b = x.state, p = x.data, d = x.error, l = !d)) : (d = b, !t && b || (b = "error", t < 0 && (t = 0))), S.status = t, S.statusText = (e || b) + "", l ? v.resolveWith(m, [p, b, S]) : v.rejectWith(m, [S, b, d]), S.statusCode(y), y = void 0, c && g.trigger(l ? "ajaxSuccess" : "ajaxError", [S, f, l ? p : d]), _.fireWith(m, [S, b]), c && (g.trigger("ajaxComplete", [S, f]), --Et.active || Et.event.trigger("ajaxStop")))
                    }
                    "object" == typeof t && (e = t, t = void 0), e = e || {};
                    var r, o, s, a, h, l, u, c, p, d, f = Et.ajaxSetup({}, e),
                        m = f.context || f,
                        g = f.context && (m.nodeType || m.jquery) ? Et(m) : Et.event,
                        v = Et.Deferred(),
                        _ = Et.Callbacks("once memory"),
                        y = f.statusCode || {},
                        x = {},
                        w = {},
                        b = "canceled",
                        S = {
                            readyState: 0,
                            getResponseHeader: function (t) {
                                var e;
                                if (u) {
                                    if (!a)
                                        for (a = {}; e = Ve.exec(s);) a[e[1].toLowerCase()] = e[2];
                                    e = a[t.toLowerCase()]
                                }
                                return null == e ? null : e
                            }, getAllResponseHeaders: function () {
                                return u ? s : null
                            }, setRequestHeader: function (t, e) {
                                return null == u && (t = w[t.toLowerCase()] = w[t.toLowerCase()] || t, x[t] = e), this
                            }, overrideMimeType: function (t) {
                                return null == u && (f.mimeType = t), this
                            }, statusCode: function (t) {
                                var e;
                                if (t)
                                    if (u) S.always(t[S.status]);
                                    else
                                        for (e in t) y[e] = [y[e], t[e]];
                                return this
                            }, abort: function (t) {
                                var e = t || b;
                                return r && r.abort(e), n(0, e), this
                            }
                        };
                    if (v.promise(S), f.url = ((t || f.url || De.href) + "").replace(Xe, De.protocol + "//"), f.type = e.method || e.type || f.method || f.type, f.dataTypes = (f.dataType || "*").toLowerCase().match(Bt) || [""], null == f.crossDomain) {
                        l = ut.createElement("a");
                        try {
                            l.href = f.url, l.href = l.href, f.crossDomain = $e.protocol + "//" + $e.host != l.protocol + "//" + l.host
                        } catch (t) {
                            f.crossDomain = !0
                        }
                    }
                    if (f.data && f.processData && "string" != typeof f.data && (f.data = Et.param(f.data, f.traditional)), ot(Ye, f, e, S), u) return S;
                    c = Et.event && f.global, c && 0 === Et.active++ && Et.event.trigger("ajaxStart"), f.type = f.type.toUpperCase(), f.hasContent = !qe.test(f.type), o = f.url.replace(Ge, ""), f.hasContent ? f.data && f.processData && 0 === (f.contentType || "").indexOf("application/x-www-form-urlencoded") && (f.data = f.data.replace(Ue, "+")) : (d = f.url.slice(o.length), f.data && (f.processData || "string" == typeof f.data) && (o += (Ne.test(o) ? "&" : "?") + f.data, delete f.data), f.cache === !1 && (o = o.replace(je, "$1"), d = (Ne.test(o) ? "&" : "?") + "_=" + ke+++d), f.url = o + d), f.ifModified && (Et.lastModified[o] && S.setRequestHeader("If-Modified-Since", Et.lastModified[o]), Et.etag[o] && S.setRequestHeader("If-None-Match", Et.etag[o])), (f.data && f.hasContent && f.contentType !== !1 || e.contentType) && S.setRequestHeader("Content-Type", f.contentType), S.setRequestHeader("Accept", f.dataTypes[0] && f.accepts[f.dataTypes[0]] ? f.accepts[f.dataTypes[0]] + ("*" !== f.dataTypes[0] ? ", " + Je + "; q=0.01" : "") : f.accepts["*"]);
                    for (p in f.headers) S.setRequestHeader(p, f.headers[p]);
                    if (f.beforeSend && (f.beforeSend.call(m, S, f) === !1 || u)) return S.abort();
                    if (b = "abort", _.add(f.complete), S.done(f.success), S.fail(f.error), r = ot(Ze, f, e, S)) {
                        if (S.readyState = 1, c && g.trigger("ajaxSend", [S, f]), u) return S;
                        f.async && f.timeout > 0 && (h = i.setTimeout(function () {
                            S.abort("timeout")
                        }, f.timeout));
                        try {
                            u = !1, r.send(x, n)
                        } catch (t) {
                            if (u) throw t;
                            n(-1, t)
                        }
                    } else n(-1, "No Transport");
                    return S
                }, getJSON: function (t, e, i) {
                    return Et.get(t, e, i, "json")
                }, getScript: function (t, e) {
                    return Et.get(t, void 0, e, "script")
                }
            }), Et.each(["get", "post"], function (t, e) {
                Et[e] = function (t, i, n, r) {
                    return bt(i) && (r = r || n, n = i, i = void 0), Et.ajax(Et.extend({
                        url: t,
                        type: e,
                        dataType: r,
                        data: i,
                        success: n
                    }, Et.isPlainObject(t) && t))
                }
            }), Et._evalUrl = function (t) {
                return Et.ajax({
                    url: t,
                    type: "GET",
                    dataType: "script",
                    cache: !0,
                    async: !1,
                    global: !1,
                    throws: !0
                })
            }, Et.fn.extend({
                wrapAll: function (t) {
                    var e;
                    return this[0] && (bt(t) && (t = t.call(this[0])), e = Et(t, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && e.insertBefore(this[0]), e.map(function () {
                        for (var t = this; t.firstElementChild;) t = t.firstElementChild;
                        return t
                    }).append(this)), this
                }, wrapInner: function (t) {
                    return bt(t) ? this.each(function (e) {
                        Et(this).wrapInner(t.call(this, e))
                    }) : this.each(function () {
                        var e = Et(this),
                            i = e.contents();
                        i.length ? i.wrapAll(t) : e.append(t)
                    })
                }, wrap: function (t) {
                    var e = bt(t);
                    return this.each(function (i) {
                        Et(this).wrapAll(e ? t.call(this, i) : t)
                    })
                }, unwrap: function (t) {
                    return this.parent(t).not("body").each(function () {
                        Et(this).replaceWith(this.childNodes)
                    }), this
                }
            }), Et.expr.pseudos.hidden = function (t) {
                return !Et.expr.pseudos.visible(t)
            }, Et.expr.pseudos.visible = function (t) {
                return !!(t.offsetWidth || t.offsetHeight || t.getClientRects().length)
            }, Et.ajaxSettings.xhr = function () {
                try {
                    return new i.XMLHttpRequest
                } catch (t) {}
            };
            var Ke = {
                    0: 200,
                    1223: 204
                },
                Qe = Et.ajaxSettings.xhr();
            wt.cors = !!Qe && "withCredentials" in Qe, wt.ajax = Qe = !!Qe, Et.ajaxTransport(function (t) {
                var e, n;
                if (wt.cors || Qe && !t.crossDomain) return {
                    send: function (r, o) {
                        var s, a = t.xhr();
                        if (a.open(t.type, t.url, t.async, t.username, t.password),
                            t.xhrFields)
                            for (s in t.xhrFields) a[s] = t.xhrFields[s];
                        t.mimeType && a.overrideMimeType && a.overrideMimeType(t.mimeType), t.crossDomain || r["X-Requested-With"] || (r["X-Requested-With"] = "XMLHttpRequest");
                        for (s in r) a.setRequestHeader(s, r[s]);
                        e = function (t) {
                            return function () {
                                e && (e = n = a.onload = a.onerror = a.onabort = a.ontimeout = a.onreadystatechange = null, "abort" === t ? a.abort() : "error" === t ? "number" != typeof a.status ? o(0, "error") : o(a.status, a.statusText) : o(Ke[a.status] || a.status, a.statusText, "text" !== (a.responseType || "text") || "string" != typeof a.responseText ? {
                                    binary: a.response
                                } : {
                                    text: a.responseText
                                }, a.getAllResponseHeaders()))
                            }
                        }, a.onload = e(), n = a.onerror = a.ontimeout = e("error"), void 0 !== a.onabort ? a.onabort = n : a.onreadystatechange = function () {
                            4 === a.readyState && i.setTimeout(function () {
                                e && n()
                            })
                        }, e = e("abort");
                        try {
                            a.send(t.hasContent && t.data || null)
                        } catch (t) {
                            if (e) throw t
                        }
                    }, abort: function () {
                        e && e()
                    }
                }
            }), Et.ajaxPrefilter(function (t) {
                t.crossDomain && (t.contents.script = !1)
            }), Et.ajaxSetup({
                accepts: {
                    script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
                },
                contents: {
                    script: /\b(?:java|ecma)script\b/
                },
                converters: {
                    "text script": function (t) {
                        return Et.globalEval(t), t
                    }
                }
            }), Et.ajaxPrefilter("script", function (t) {
                void 0 === t.cache && (t.cache = !1), t.crossDomain && (t.type = "GET")
            }), Et.ajaxTransport("script", function (t) {
                if (t.crossDomain) {
                    var e, i;
                    return {
                        send: function (n, r) {
                            e = Et("<script>").prop({
                                charset: t.scriptCharset,
                                src: t.url
                            }).on("load error", i = function (t) {
                                e.remove(), i = null, t && r("error" === t.type ? 404 : 200, t.type)
                            }), ut.head.appendChild(e[0])
                        }, abort: function () {
                            i && i()
                        }
                    }
                }
            });
            var ti = [],
                ei = /(=)\?(?=&|$)|\?\?/;
            Et.ajaxSetup({
                jsonp: "callback",
                jsonpCallback: function () {
                    var t = ti.pop() || Et.expando + "_" + ke++;
                    return this[t] = !0, t
                }
            }), Et.ajaxPrefilter("json jsonp", function (t, e, n) {
                var r, o, s, a = t.jsonp !== !1 && (ei.test(t.url) ? "url" : "string" == typeof t.data && 0 === (t.contentType || "").indexOf("application/x-www-form-urlencoded") && ei.test(t.data) && "data");
                if (a || "jsonp" === t.dataTypes[0]) return r = t.jsonpCallback = bt(t.jsonpCallback) ? t.jsonpCallback() : t.jsonpCallback, a ? t[a] = t[a].replace(ei, "$1" + r) : t.jsonp !== !1 && (t.url += (Ne.test(t.url) ? "&" : "?") + t.jsonp + "=" + r), t.converters["script json"] = function () {
                    return s || Et.error(r + " was not called"), s[0]
                }, t.dataTypes[0] = "json", o = i[r], i[r] = function () {
                    s = arguments
                }, n.always(function () {
                    void 0 === o ? Et(i).removeProp(r) : i[r] = o, t[r] && (t.jsonpCallback = e.jsonpCallback, ti.push(r)), s && bt(o) && o(s[0]), s = o = void 0
                }), "script"
            }), wt.createHTMLDocument = function () {
                var t = ut.implementation.createHTMLDocument("").body;
                return t.innerHTML = "<form></form><form></form>", 2 === t.childNodes.length
            }(), Et.parseHTML = function (t, e, i) {
                if ("string" != typeof t) return [];
                "boolean" == typeof e && (i = e, e = !1);
                var n, r, o;
                return e || (wt.createHTMLDocument ? (e = ut.implementation.createHTMLDocument(""), n = e.createElement("base"), n.href = ut.location.href, e.head.appendChild(n)) : e = ut), r = Ot.exec(t), o = !i && [], r ? [e.createElement(r[1])] : (r = A([t], e, o), o && o.length && Et(o).remove(), Et.merge([], r.childNodes))
            }, Et.fn.load = function (t, e, i) {
                var n, r, o, s = this,
                    a = t.indexOf(" ");
                return a > -1 && (n = tt(t.slice(a)), t = t.slice(0, a)), bt(e) ? (i = e, e = void 0) : e && "object" == typeof e && (r = "POST"), s.length > 0 && Et.ajax({
                    url: t,
                    type: r || "GET",
                    dataType: "html",
                    data: e
                }).done(function (t) {
                    o = arguments, s.html(n ? Et("<div>").append(Et.parseHTML(t)).find(n) : t)
                }).always(i && function (t, e) {
                    s.each(function () {
                        i.apply(this, o || [t.responseText, e, t])
                    })
                }), this
            }, Et.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (t, e) {
                Et.fn[e] = function (t) {
                    return this.on(e, t)
                }
            }), Et.expr.pseudos.animated = function (t) {
                return Et.grep(Et.timers, function (e) {
                    return t === e.elem
                }).length
            }, Et.offset = {
                setOffset: function (t, e, i) {
                    var n, r, o, s, a, h, l, u = Et.css(t, "position"),
                        c = Et(t),
                        p = {};
                    "static" === u && (t.style.position = "relative"), a = c.offset(), o = Et.css(t, "top"), h = Et.css(t, "left"), l = ("absolute" === u || "fixed" === u) && (o + h).indexOf("auto") > -1, l ? (n = c.position(), s = n.top, r = n.left) : (s = parseFloat(o) || 0, r = parseFloat(h) || 0), bt(e) && (e = e.call(t, i, Et.extend({}, a))), null != e.top && (p.top = e.top - a.top + s), null != e.left && (p.left = e.left - a.left + r), "using" in e ? e.using.call(t, p) : c.css(p)
                }
            }, Et.fn.extend({
                offset: function (t) {
                    if (arguments.length) return void 0 === t ? this : this.each(function (e) {
                        Et.offset.setOffset(this, t, e)
                    });
                    var e, i, n = this[0];
                    if (n) return n.getClientRects().length ? (e = n.getBoundingClientRect(), i = n.ownerDocument.defaultView, {
                        top: e.top + i.pageYOffset,
                        left: e.left + i.pageXOffset
                    }) : {
                        top: 0,
                        left: 0
                    }
                }, position: function () {
                    if (this[0]) {
                        var t, e, i, n = this[0],
                            r = {
                                top: 0,
                                left: 0
                            };
                        if ("fixed" === Et.css(n, "position")) e = n.getBoundingClientRect();
                        else {
                            for (e = this.offset(), i = n.ownerDocument, t = n.offsetParent || i.documentElement; t && (t === i.body || t === i.documentElement) && "static" === Et.css(t, "position");) t = t.parentNode;
                            t && t !== n && 1 === t.nodeType && (r = Et(t).offset(), r.top += Et.css(t, "borderTopWidth", !0), r.left += Et.css(t, "borderLeftWidth", !0))
                        }
                        return {
                            top: e.top - r.top - Et.css(n, "marginTop", !0),
                            left: e.left - r.left - Et.css(n, "marginLeft", !0)
                        }
                    }
                }, offsetParent: function () {
                    return this.map(function () {
                        for (var t = this.offsetParent; t && "static" === Et.css(t, "position");) t = t.offsetParent;
                        return t || se
                    })
                }
            }), Et.each({
                scrollLeft: "pageXOffset",
                scrollTop: "pageYOffset"
            }, function (t, e) {
                var i = "pageYOffset" === e;
                Et.fn[t] = function (n) {
                    return Ut(this, function (t, n, r) {
                        var o;
                        return St(t) ? o = t : 9 === t.nodeType && (o = t.defaultView), void 0 === r ? o ? o[e] : t[n] : void(o ? o.scrollTo(i ? o.pageXOffset : r, i ? r : o.pageYOffset) : t[n] = r)
                    }, t, n, arguments.length)
                }
            }), Et.each(["top", "left"], function (t, e) {
                Et.cssHooks[e] = H(wt.pixelPosition, function (t, i) {
                    if (i) return i = F(t, e), fe.test(i) ? Et(t).position()[e] + "px" : i
                })
            }), Et.each({
                Height: "height",
                Width: "width"
            }, function (t, e) {
                Et.each({
                    padding: "inner" + t,
                    content: e,
                    "": "outer" + t
                }, function (i, n) {
                    Et.fn[n] = function (r, o) {
                        var s = arguments.length && (i || "boolean" != typeof r),
                            a = i || (r === !0 || o === !0 ? "margin" : "border");
                        return Ut(this, function (e, i, r) {
                            var o;
                            return St(e) ? 0 === n.indexOf("outer") ? e["inner" + t] : e.document.documentElement["client" + t] : 9 === e.nodeType ? (o = e.documentElement, Math.max(e.body["scroll" + t], o["scroll" + t], e.body["offset" + t], o["offset" + t], o["client" + t])) : void 0 === r ? Et.css(e, i, a) : Et.style(e, i, r, a)
                        }, e, s ? r : void 0, s)
                    }
                })
            }), Et.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), function (t, e) {
                Et.fn[e] = function (t, i) {
                    return arguments.length > 0 ? this.on(e, null, t, i) : this.trigger(e)
                }
            }), Et.fn.extend({
                hover: function (t, e) {
                    return this.mouseenter(t).mouseleave(e || t)
                }
            }), Et.fn.extend({
                bind: function (t, e, i) {
                    return this.on(t, null, e, i)
                }, unbind: function (t, e) {
                    return this.off(t, null, e)
                }, delegate: function (t, e, i, n) {
                    return this.on(e, t, i, n)
                }, undelegate: function (t, e, i) {
                    return 1 === arguments.length ? this.off(t, "**") : this.off(e, t || "**", i)
                }
            }), Et.proxy = function (t, e) {
                var i, n, r;
                if ("string" == typeof e && (i = t[e], e = t, t = i), bt(t)) return n = pt.call(arguments, 2), r = function () {
                    return t.apply(e || this, n.concat(pt.call(arguments)))
                }, r.guid = t.guid = t.guid || Et.guid++, r
            }, Et.holdReady = function (t) {
                t ? Et.readyWait++ : Et.ready(!0)
            }, Et.isArray = Array.isArray, Et.parseJSON = JSON.parse, Et.nodeName = l, Et.isFunction = bt, Et.isWindow = St, Et.camelCase = _, Et.type = a, Et.now = Date.now, Et.isNumeric = function (t) {
                var e = Et.type(t);
                return ("number" === e || "string" === e) && !isNaN(t - parseFloat(t))
            }, n = [], r = function () {
                return Et
            }.apply(e, n), !(void 0 !== r && (t.exports = r));
            var ii = i.jQuery,
                ni = i.$;
            return Et.noConflict = function (t) {
                return i.$ === Et && (i.$ = ni), t && i.jQuery === Et && (i.jQuery = ii), Et
            }, o || (i.jQuery = i.$ = Et), Et
        })
    },
    function (t, e, i) {
        "use strict";
        var n = i(45),
            r = i(103);
        t.exports = function (t, e) {
            for (var i = [], o = t, s = 1; Array.isArray(o);) i.push(o.length), s *= o.length, o = o[0];
            return 0 === i.length ? n() : (e || (e = n(new Float64Array(s), i)), r(e, t), e)
        }
    },
    function (t, e, i) {
        t.exports = i(90)({
            args: ["array", "scalar", "index"],
            pre: {
                body: "{}",
                args: [],
                thisVars: [],
                localVars: []
            },
            body: {
                body: "{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",
                args: [{
                    name: "_inline_1_arg0_",
                    lvalue: !0,
                    rvalue: !1,
                    count: 1
                }, {
                    name: "_inline_1_arg1_",
                    lvalue: !1,
                    rvalue: !0,
                    count: 1
                }, {
                    name: "_inline_1_arg2_",
                    lvalue: !1,
                    rvalue: !0,
                    count: 4
                }],
                thisVars: [],
                localVars: ["_inline_1_i", "_inline_1_v"]
            },
            post: {
                body: "{}",
                args: [],
                thisVars: [],
                localVars: []
            },
            funcName: "convert",
            blockSize: 64
        })
    },
    function (t, e) {
        "use strict";

        function i(t, e, i, r) {
            function o(t) {
                var e = t.length;
                if (e < 2 || e > 256 || e & e - 1) throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");
                return e
            }
            var s = 0,
                r = void 0 === r ? {} : r,
                a = void 0 === r.loop ? null : r.loop,
                h = void 0 === r.palette ? null : r.palette;
            if (e <= 0 || i <= 0 || e > 65535 || i > 65535) throw new Error("Width/Height invalid.");
            t[s++] = 71, t[s++] = 73, t[s++] = 70, t[s++] = 56, t[s++] = 57, t[s++] = 97;
            var l = 0,
                u = 0;
            if (null !== h) {
                for (var c = o(h); c >>= 1;)++l;
                if (c = 1 << l, --l, void 0 !== r.background) {
                    if (u = r.background, u >= c) throw new Error("Background index out of range.");
                    if (0 === u) throw new Error("Background index explicitly passed as 0.")
                }
            }
            if (t[s++] = 255 & e, t[s++] = e >> 8 & 255, t[s++] = 255 & i, t[s++] = i >> 8 & 255, t[s++] = (null !== h ? 128 : 0) | l, t[s++] = u, t[s++] = 0, null !== h)
                for (var p = 0, d = h.length; p < d; ++p) {
                    var f = h[p];
                    t[s++] = f >> 16 & 255, t[s++] = f >> 8 & 255, t[s++] = 255 & f
                }
            if (null !== a) {
                if (a < 0 || a > 65535) throw new Error("Loop count invalid.");
                t[s++] = 33, t[s++] = 255, t[s++] = 11, t[s++] = 78, t[s++] = 69, t[s++] = 84, t[s++] = 83, t[s++] = 67, t[s++] = 65, t[s++] = 80, t[s++] = 69, t[s++] = 50, t[s++] = 46, t[s++] = 48, t[s++] = 3, t[s++] = 1, t[s++] = 255 & a, t[s++] = a >> 8 & 255, t[s++] = 0
            }
            var m = !1;
            this.addFrame = function (e, i, r, a, l, u) {
                if (m === !0 && (--s, m = !1), u = void 0 === u ? {} : u, e < 0 || i < 0 || e > 65535 || i > 65535) throw new Error("x/y invalid.");
                if (r <= 0 || a <= 0 || r > 65535 || a > 65535) throw new Error("Width/Height invalid.");
                if (l.length < r * a) throw new Error("Not enough pixels for the frame size.");
                var c = !0,
                    p = u.palette;
                if (void 0 !== p && null !== p || (c = !1, p = h), void 0 === p || null === p) throw new Error("Must supply either a local or global palette.");
                for (var d = o(p), f = 0; d >>= 1;)++f;
                d = 1 << f;
                var g = void 0 === u.delay ? 0 : u.delay,
                    v = void 0 === u.disposal ? 0 : u.disposal;
                if (v < 0 || v > 3) throw new Error("Disposal out of range.");
                var _ = !1,
                    y = 0;
                if (void 0 !== u.transparent && null !== u.transparent && (_ = !0, y = u.transparent, y < 0 || y >= d)) throw new Error("Transparent color index.");
                if ((0 !== v || _ || 0 !== g) && (t[s++] = 33, t[s++] = 249, t[s++] = 4, t[s++] = v << 2 | (_ === !0 ? 1 : 0), t[s++] = 255 & g, t[s++] = g >> 8 & 255, t[s++] = y, t[s++] = 0), t[s++] = 44, t[s++] = 255 & e, t[s++] = e >> 8 & 255, t[s++] = 255 & i, t[s++] = i >> 8 & 255, t[s++] = 255 & r, t[s++] = r >> 8 & 255, t[s++] = 255 & a, t[s++] = a >> 8 & 255, t[s++] = c === !0 ? 128 | f - 1 : 0, c === !0)
                    for (var x = 0, w = p.length; x < w; ++x) {
                        var b = p[x];
                        t[s++] = b >> 16 & 255, t[s++] = b >> 8 & 255, t[s++] = 255 & b
                    }
                return s = n(t, s, f < 2 ? 2 : f, l)
            }, this.end = function () {
                return m === !1 && (t[s++] = 59, m = !0), s
            }, this.getOutputBuffer = function () {
                return t
            }, this.setOutputBuffer = function (e) {
                t = e
            }, this.getOutputBufferPosition = function () {
                return s
            }, this.setOutputBufferPosition = function (t) {
                s = t
            }
        }

        function n(t, e, i, n) {
            function r(i) {
                for (; p >= i;) t[e++] = 255 & d, d >>= 8, p -= 8, e === s + 256 && (t[s] = 255, s = e++)
            }

            function o(t) {
                d |= t << p, p += c, r(8)
            }
            t[e++] = i;
            var s = e++,
                a = 1 << i,
                h = a - 1,
                l = a + 1,
                u = l + 1,
                c = i + 1,
                p = 0,
                d = 0,
                f = n[0] & h,
                m = {};
            o(a);
            for (var g = 1, v = n.length; g < v; ++g) {
                var _ = n[g] & h,
                    y = f << 8 | _,
                    x = m[y];
                if (void 0 === x) {
                    for (d |= f << p, p += c; p >= 8;) t[e++] = 255 & d, d >>= 8, p -= 8, e === s + 256 && (t[s] = 255, s = e++);
                    4096 === u ? (o(a), u = l + 1, c = i + 1, m = {}) : (u >= 1 << c && ++c, m[y] = u++), f = _
                } else f = x
            }
            return o(f), o(l), r(1), s + 1 === e ? t[s] = 0 : (t[s] = e - s - 1, t[e++] = 0), e
        }

        function r(t) {
            var e = 0;
            if (71 !== t[e++] || 73 !== t[e++] || 70 !== t[e++] || 56 !== t[e++] || 56 !== (t[e++] + 1 & 253) || 97 !== t[e++]) throw new Error("Invalid GIF 87a/89a header.");
            var i = t[e++] | t[e++] << 8,
                n = t[e++] | t[e++] << 8,
                r = t[e++],
                s = r >> 7,
                a = 7 & r,
                h = 1 << a + 1;
            t[e++];
            t[e++];
            var l = null,
                u = null;
            s && (l = e, u = h, e += 3 * h);
            var c = !0,
                p = [],
                d = 0,
                f = null,
                m = 0,
                g = null;
            for (this.width = i, this.height = n; c && e < t.length;) switch (t[e++]) {
            case 33:
                switch (t[e++]) {
                case 255:
                    if (11 !== t[e] || 78 == t[e + 1] && 69 == t[e + 2] && 84 == t[e + 3] && 83 == t[e + 4] && 67 == t[e + 5] && 65 == t[e + 6] && 80 == t[e + 7] && 69 == t[e + 8] && 50 == t[e + 9] && 46 == t[e + 10] && 48 == t[e + 11] && 3 == t[e + 12] && 1 == t[e + 13] && 0 == t[e + 16]) e += 14, g = t[e++] | t[e++] << 8, e++;
                    else
                        for (e += 12;;) {
                            var v = t[e++];
                            if (!(v >= 0)) throw Error("Invalid block size");
                            if (0 === v) break;
                            e += v
                        }
                    break;
                case 249:
                    if (4 !== t[e++] || 0 !== t[e + 4]) throw new Error("Invalid graphics extension block.");
                    var _ = t[e++];
                    d = t[e++] | t[e++] << 8, f = t[e++], 0 === (1 & _) && (f = null), m = _ >> 2 & 7, e++;
                    break;
                case 254:
                    for (;;) {
                        var v = t[e++];
                        if (!(v >= 0)) throw Error("Invalid block size");
                        if (0 === v) break;
                        e += v
                    }
                    break;
                default:
                    throw new Error("Unknown graphic control label: 0x" + t[e - 1].toString(16))
                }
                break;
            case 44:
                var y = t[e++] | t[e++] << 8,
                    x = t[e++] | t[e++] << 8,
                    w = t[e++] | t[e++] << 8,
                    b = t[e++] | t[e++] << 8,
                    S = t[e++],
                    T = S >> 7,
                    M = S >> 6 & 1,
                    E = 7 & S,
                    A = 1 << E + 1,
                    C = l,
                    P = u,
                    R = !1;
                if (T) {
                    var R = !0;
                    C = e, P = A, e += 3 * A
                }
                var L = e;
                for (e++;;) {
                    var v = t[e++];
                    if (!(v >= 0)) throw Error("Invalid block size");
                    if (0 === v) break;
                    e += v
                }
                p.push({
                    x: y,
                    y: x,
                    width: w,
                    height: b,
                    has_local_palette: R,
                    palette_offset: C,
                    palette_size: P,
                    data_offset: L,
                    data_length: e - L,
                    transparent_index: f,
                    interlaced: !!M,
                    delay: d,
                    disposal: m
                });
                break;
            case 59:
                c = !1;
                break;
            default:
                throw new Error("Unknown gif block: 0x" + t[e - 1].toString(16))
            }
            this.numFrames = function () {
                return p.length
            }, this.loopCount = function () {
                return g
            }, this.frameInfo = function (t) {
                if (t < 0 || t >= p.length) throw new Error("Frame index out of range.");
                return p[t]
            }, this.decodeAndBlitFrameBGRA = function (e, n) {
                var r = this.frameInfo(e),
                    s = r.width * r.height,
                    a = new Uint8Array(s);
                o(t, r.data_offset, a, s);
                var h = r.palette_offset,
                    l = r.transparent_index;
                null === l && (l = 256);
                var u = r.width,
                    c = i - u,
                    p = u,
                    d = 4 * (r.y * i + r.x),
                    f = 4 * ((r.y + r.height) * i + r.x),
                    m = d,
                    g = 4 * c;
                r.interlaced === !0 && (g += 4 * i * 7);
                for (var v = 8, _ = 0, y = a.length; _ < y; ++_) {
                    var x = a[_];
                    if (0 === p && (m += g, p = u, m >= f && (g = 4 * c + 4 * i * (v - 1), m = d + (u + c) * (v << 1), v >>= 1)), x === l) m += 4;
                    else {
                        var w = t[h + 3 * x],
                            b = t[h + 3 * x + 1],
                            S = t[h + 3 * x + 2];
                        n[m++] = S, n[m++] = b, n[m++] = w, n[m++] = 255
                    }--p
                }
            }, this.decodeAndBlitFrameRGBA = function (e, n) {
                var r = this.frameInfo(e),
                    s = r.width * r.height,
                    a = new Uint8Array(s);
                o(t, r.data_offset, a, s);
                var h = r.palette_offset,
                    l = r.transparent_index;
                null === l && (l = 256);
                var u = r.width,
                    c = i - u,
                    p = u,
                    d = 4 * (r.y * i + r.x),
                    f = 4 * ((r.y + r.height) * i + r.x),
                    m = d,
                    g = 4 * c;
                r.interlaced === !0 && (g += 4 * i * 7);
                for (var v = 8, _ = 0, y = a.length; _ < y; ++_) {
                    var x = a[_];
                    if (0 === p && (m += g, p = u, m >= f && (g = 4 * c + 4 * i * (v - 1), m = d + (u + c) * (v << 1), v >>= 1)), x === l) m += 4;
                    else {
                        var w = t[h + 3 * x],
                            b = t[h + 3 * x + 1],
                            S = t[h + 3 * x + 2];
                        n[m++] = w, n[m++] = b, n[m++] = S, n[m++] = 255
                    }--p
                }
            }
        }

        function o(t, e, i, n) {
            for (var r = t[e++], o = 1 << r, s = o + 1, a = s + 1, h = r + 1, l = (1 << h) - 1, u = 0, c = 0, p = 0, d = t[e++], f = new Int32Array(4096), m = null;;) {
                for (; u < 16 && 0 !== d;) c |= t[e++] << u, u += 8, 1 === d ? d = t[e++] : --d;
                if (u < h) break;
                var g = c & l;
                if (c >>= h, u -= h, g !== o) {
                    if (g === s) break;
                    for (var v = g < a ? g : m, _ = 0, y = v; y > o;) y = f[y] >> 8, ++_;
                    var x = y,
                        w = p + _ + (v !== g ? 1 : 0);
                    if (w > n) return void console.log("Warning, gif stream longer than expected.");
                    i[p++] = x, p += _;
                    var b = p;
                    for (v !== g && (i[p++] = x), y = v; _--;) y = f[y], i[--b] = 255 & y, y >>= 8;
                    null !== m && a < 4096 && (f[a++] = m << 8 | x, a >= l + 1 && h < 12 && (++h, l = l << 1 | 1)), m = g
                } else a = s + 1, h = r + 1, l = (1 << h) - 1, m = null
            }
            return p !== n && console.log("Warning, gif stream shorter than expected."), i
        }
        try {
            e.GifWriter = i, e.GifReader = r
        } catch (t) {}
    },
    function (t, e, i) {
        (function (t) {
            function i(t, e) {
                for (var i = 0, n = t.length - 1; n >= 0; n--) {
                    var r = t[n];
                    "." === r ? t.splice(n, 1) : ".." === r ? (t.splice(n, 1), i++) : i && (t.splice(n, 1), i--)
                }
                if (e)
                    for (; i--; i) t.unshift("..");
                return t
            }

            function n(t, e) {
                if (t.filter) return t.filter(e);
                for (var i = [], n = 0; n < t.length; n++) e(t[n], n, t) && i.push(t[n]);
                return i
            }
            var r = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,
                o = function (t) {
                    return r.exec(t).slice(1)
                };
            e.resolve = function () {
                for (var e = "", r = !1, o = arguments.length - 1; o >= -1 && !r; o--) {
                    var s = o >= 0 ? arguments[o] : t.cwd();
                    if ("string" != typeof s) throw new TypeError("Arguments to path.resolve must be strings");
                    s && (e = s + "/" + e, r = "/" === s.charAt(0))
                }
                return e = i(n(e.split("/"), function (t) {
                    return !!t
                }), !r).join("/"), (r ? "/" : "") + e || "."
            }, e.normalize = function (t) {
                var r = e.isAbsolute(t),
                    o = "/" === s(t, -1);
                return t = i(n(t.split("/"), function (t) {
                    return !!t
                }), !r).join("/"), t || r || (t = "."), t && o && (t += "/"), (r ? "/" : "") + t
            }, e.isAbsolute = function (t) {
                return "/" === t.charAt(0)
            }, e.join = function () {
                var t = Array.prototype.slice.call(arguments, 0);
                return e.normalize(n(t, function (t, e) {
                    if ("string" != typeof t) throw new TypeError("Arguments to path.join must be strings");
                    return t
                }).join("/"))
            }, e.relative = function (t, i) {
                function n(t) {
                    for (var e = 0; e < t.length && "" === t[e]; e++);
                    for (var i = t.length - 1; i >= 0 && "" === t[i]; i--);
                    return e > i ? [] : t.slice(e, i - e + 1)
                }
                t = e.resolve(t).substr(1), i = e.resolve(i).substr(1);
                for (var r = n(t.split("/")), o = n(i.split("/")), s = Math.min(r.length, o.length), a = s, h = 0; h < s; h++)
                    if (r[h] !== o[h]) {
                        a = h;
                        break
                    }
                for (var l = [], h = a; h < r.length; h++) l.push("..");
                return l = l.concat(o.slice(a)), l.join("/")
            }, e.sep = "/", e.delimiter = ":", e.dirname = function (t) {
                var e = o(t),
                    i = e[0],
                    n = e[1];
                return i || n ? (n && (n = n.substr(0, n.length - 1)), i + n) : "."
            }, e.basename = function (t, e) {
                var i = o(t)[2];
                return e && i.substr(-1 * e.length) === e && (i = i.substr(0, i.length - e.length)), i
            }, e.extname = function (t) {
                return o(t)[3]
            };
            var s = "b" === "ab".substr(-1) ? function (t, e, i) {
                return t.substr(e, i)
            } : function (t, e, i) {
                return e < 0 && (e = t.length + e), t.substr(e, i)
            }
        }).call(e, i(17))
    },
    function (t, e, i) {
        (function (e) {
            for (var n = i(107), r = "undefined" == typeof window ? e : window, o = ["moz", "webkit"], s = "AnimationFrame", a = r["request" + s], h = r["cancel" + s] || r["cancelRequest" + s], l = 0; !a && l < o.length; l++) a = r[o[l] + "Request" + s], h = r[o[l] + "Cancel" + s] || r[o[l] + "CancelRequest" + s];
            if (!a || !h) {
                var u = 0,
                    c = 0,
                    p = [],
                    d = 1e3 / 60;
                a = function (t) {
                    if (0 === p.length) {
                        var e = n(),
                            i = Math.max(0, d - (e - u));
                        u = i + e, setTimeout(function () {
                            var t = p.slice(0);
                            p.length = 0;
                            for (var e = 0; e < t.length; e++)
                                if (!t[e].cancelled) try {
                                    t[e].callback(u)
                                } catch (t) {
                                    setTimeout(function () {
                                        throw t
                                    }, 0)
                                }
                        }, Math.round(i))
                    }
                    return p.push({
                        handle: ++c,
                        callback: t,
                        cancelled: !1
                    }), c
                }, h = function (t) {
                    for (var e = 0; e < p.length; e++) p[e].handle === t && (p[e].cancelled = !0)
                }
            }
            t.exports = function (t) {
                return a.call(r, t)
            }, t.exports.cancel = function () {
                h.apply(r, arguments)
            }, t.exports.polyfill = function (t) {
                t || (t = r), t.requestAnimationFrame = a, t.cancelAnimationFrame = h
            }
        }).call(e, function () {
            return this
        }())
    },
    function (t, e, i) {
        (function (e) {
            (function () {
                var i, n, r, o, s, a;
                "undefined" != typeof performance && null !== performance && performance.now ? t.exports = function () {
                    return performance.now()
                } : "undefined" != typeof e && null !== e && e.hrtime ? (t.exports = function () {
                    return (i() - s) / 1e6
                }, n = e.hrtime, i = function () {
                    var t;
                    return t = n(), 1e9 * t[0] + t[1]
                }, o = i(), a = 1e9 * e.uptime(), s = o - a) : Date.now ? (t.exports = function () {
                    return Date.now() - r
                }, r = Date.now()) : (t.exports = function () {
                    return (new Date).getTime() - r
                }, r = (new Date).getTime())
            }).call(this)
        }).call(e, i(17))
    },
    function (t, e) {
        t.exports = "#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289_1_0(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute_1_1(vec3 x) {\n  return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nfloat snoise_1_2(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289_1_0(i); // Avoid truncation effects in permutation\n  vec3 p = permute_1_1( permute_1_1( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n\n\n\nuniform sampler2D tDiffuse;\nuniform sampler2D tMask;\nuniform vec3 seed;\nuniform vec2 resolution;\nuniform float revRate;\nuniform float revY;\nuniform float alpha;\nuniform float offset;\nuniform float darkness;\nuniform float time;\nuniform bool isBlackOnly;\n\nvarying vec2 vUv;\n\nvoid main(void) {\n\n  vec4 dest = texture2D(tDiffuse, vUv);\n\n  if(isBlackOnly) {\n\n    // dest.rgb = 1.0 - dest.rgb;\n    dest.rgb = dest.rgb;\n\n  } else {\n\n    vec4 mask = texture2D(tMask, vUv);\n\n    float r = 0.0;\n\n    // 縺薙％縺�§繧九→髮ｰ蝗ｲ豌励°繧上ｋ\n    vec2 uv = (vUv - vec2(0.5 + seed.x, 0.5 + seed.y)) * vec2(offset + seed.z);\n    uv.x *= resolution.x / resolution.y;\n\n    r = mix(r, 1.0 - darkness, dot(uv, uv));\n\n    float n = snoise_1_2(r + vUv.xy * 1.0 + vec2(0.0, time * -1.0));\n    n = (sin(vUv.y * 1.1 + n + time) + 1.0) * 0.5;\n    n = 1.0 - pow(n, 20.0);\n    n *= revRate;\n    dest.rgb = mix(mix(dest.rgb, 1.0 - dest.rgb, min(n, 1.0)), 1.0 - dest.rgb, revRate);\n\n    dest.a *= alpha;\n\n    dest.rgb = mix(dest.rgb, 1.0 - dest.rgb, step(1.0 - mask.a, 0.0));\n\n    mask.r = step(revY, vUv.y);\n    dest.rgb = mix(dest.rgb, 1.0 - dest.rgb, 1.0 - mask.r);\n\n    dest.rgb = mix(dest.rgb, vec3(1.0), mask.b * mask.a);\n\n  }\n\n  gl_FragColor = dest;\n  // gl_FragColor = mask;\n\n}\n"
    },
    function (t, e) {
        t.exports = "#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289_1_0(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute_1_1(vec3 x) {\n  return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nfloat snoise_1_2(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289_1_0(i); // Avoid truncation effects in permutation\n  vec3 p = permute_1_1( permute_1_1( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n\n\n\nuniform vec3 seed;\nuniform vec2 resolution;\nuniform float revRate;\nuniform float revY;\nuniform float alpha;\nuniform float offset;\nuniform float darkness;\nuniform float time;\n\nvarying vec2 vUv;\n\nvoid main(void) {\n\n  float r = 0.0;\n\n  // 縺薙％縺�§繧九→髮ｰ蝗ｲ豌励°繧上ｋ\n  vec2 uv = (vUv - vec2(0.5 + seed.x, 0.5 + seed.y)) * vec2(offset + seed.z);\n  uv.x *= resolution.x / resolution.y;\n\n  // vec2 uv = ( vUv - vec2( 0.5 ) ) * vec2( offset );\n\n  r = mix(r, 1.0 - darkness, dot(uv, uv));\n\n  float n = snoise_1_2(r + vUv.xy * 1.0 + vec2(0.0, time * -1.0));\n  n = (sin(vUv.y * 1.1 + n + time) + 1.0) * 0.5;\n  n = 1.0 - pow(n, 20.0);\n  n *= revRate;\n\n  // vec4 dest = mix(vec4(0.0, 0.0, 0.0, mix(n, 1.0, revRate)), vec4(1.0, 1.0, 1.0, mix(n, 1.0, revRate)), revRate);\n  vec4 dest = vec4(0.0, 0.0, 0.0, mix(n, 1.0, revRate));\n\n  gl_FragColor = dest;\n\n}\n"
    },
    function (t, e) {
        t.exports = "#define GLSLIFY 1\nuniform sampler2D tDiffuse;\nuniform float bright;\nuniform float alpha;\nuniform float contrast;\n\nvarying vec2 vUv;\n\nvoid main(void) {\n\n  vec4 dest = texture2D(tDiffuse, vUv);\n  dest.rgb = (dest.rgb - 0.5) / (1.0 - contrast) + 0.5;\n  dest.rgb += bright;\n  dest.a *= alpha;\n\n  gl_FragColor = dest;\n\n}\n"
    },
    function (t, e) {
        t.exports = "#define GLSLIFY 1\nuniform sampler2D tDiffuse;\nuniform float bright;\nuniform float alpha;\nuniform float contrast;\n\nvarying vec2 vUv;\n\n\nvoid main(void) {\n\n  vec4 dest = texture2D(tDiffuse, vUv);\n  dest.rgb = (dest.rgb - 0.5) / (1.0 - contrast) + 0.5;\n  dest.rgb += bright;\n  dest.a *= alpha;\n\n  gl_FragColor = dest;\n\n}\n"
    },
    function (t, e) {
        t.exports = "#define GLSLIFY 1\nuniform sampler2D tDiffuse;\nuniform sampler2D tMask;\nuniform float alpha;\nuniform float reverse;\nuniform float last;\nuniform bool useMask;\nuniform vec3 colorA;\nuniform vec3 colorB;\n\nvarying vec2 vUv;\n\nvoid main(void) {\n\n  vec4 dest = texture2D(tDiffuse, vUv);\n  // dest.rgb = vec3(0.0, 0.0, 1.0);\n\n  // mask.a *= 0.5;\n  if(useMask) {\n    vec4 mask = texture2D(tMask, vUv);\n    dest.a *= mask.a;\n  }\n\n  dest.rgb = mix(dest.rgb, vec3(0.0), reverse);\n  dest.rgb = mix(dest.rgb, vec3(1.0), last);\n  dest.a *= alpha;\n\n  // gl_FragColor = dest + mask;\n  gl_FragColor = dest;\n  // gl_FragColor = vec4(1.0, 1.0, 1.0, dest.a);\n}\n"
    },
    function (t, e) {
        t.exports = "#define GLSLIFY 1\nuniform float rate;\nuniform bool isYoko;\n\nvarying vec2 vUv;\n\nvoid main(void) {\n  vec4 dest = vec4(1.0, 0.0, 1.0, 1.0);\n\n  float test;\n  if(isYoko) {\n    test = vUv.x;\n  } else {\n    test = 1.0 - vUv.y;\n  }\n\n  dest.a *= 1.0 - step(rate, test);\n  // float d = 1.0 - abs(test - rate);\n  // dest.a *= mix(mix(1.0, 0.0, d), 1.0, rate);\n\n  gl_FragColor = dest;\n}\n"
    },
    function (t, e) {
        t.exports = "// precision highp float;\nprecision mediump float;\n#define GLSLIFY 1\n\nuniform float alpha;\nuniform vec3 colorA;\nuniform vec3 colorB;\nuniform bool isRev;\nuniform bool isBlackOnly;\nuniform bool isMenu;\n\nvarying vec3 vColor;\nvarying float vAlpha;\n\nvoid main(void) {\n\n  vec4 dest = vec4(vColor, 1.0);\n  if(isRev && isBlackOnly == false) {\n    // dest.rgb = colorA;\n    dest.rgb = 1.0 - dest.rgb;\n  }\n\n  dest.a *= vAlpha * alpha;\n\n  gl_FragColor = dest;\n}\n"
    },
    function (t, e) {
        t.exports = '//\n// GLSL textureless classic 3D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-10-11\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1_0(vec3 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_1_0(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_1_1(vec4 x)\n{\n  return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_1_2(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec3 fade_1_3(vec3 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat cnoise_1_4(vec3 P)\n{\n  vec3 Pi0 = floor(P); // Integer part for indexing\n  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n  Pi0 = mod289_1_0(Pi0);\n  Pi1 = mod289_1_0(Pi1);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute_1_1(permute_1_1(ix) + iy);\n  vec4 ixy0 = permute_1_1(ixy + iz0);\n  vec4 ixy1 = permute_1_1(ixy + iz1);\n\n  vec4 gx0 = ixy0 * (1.0 / 7.0);\n  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 * (1.0 / 7.0);\n  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt_1_2(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt_1_2(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade_1_3(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}\n\n\n\n\n// precision highp float;\nprecision mediump float;\n#define GLSLIFY 1\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nuniform float pointSize;\nuniform float alpha;\nuniform float time;\nuniform float radius;\nuniform vec3 colorA;\nuniform vec3 colorB;\n\nattribute vec3 position;\nattribute vec3 info;\n\nvarying vec3 vColor;\nvarying float vAlpha;\n\nvoid main(){\n  vec3 p = position;\n\n  float ny = cnoise_1_4(p + (info.x * 4.013 + time * 0.05)) * 0.285 * 0.1;\n  float nz = cnoise_1_4(p + (info.x * 10.01 + time * 0.05)) * 0.0185;\n\n  p.z += nz * radius;\n  p.y += ny * radius * 8.0;\n\n  vColor = vec3(1.0);\n  vAlpha = abs(nz * 300.0) * alpha;\n\n  vec4 mvPosition = modelViewMatrix * vec4(p, 1.0);\n\n  gl_Position = projectionMatrix * mvPosition;\n  gl_PointSize = pointSize * (0.0 + abs(p.z * 2.0));\n}\n'
    },
    function (t, e, i) {
        t.exports = i(19)
    },
    function (t, e, i) {
        "use strict";

        function n(t) {
            return this instanceof n ? void r.call(this, t) : new n(t)
        }
        t.exports = n;
        var r = i(48),
            o = i(26);
        o.inherits = i(21), o.inherits(n, r), n.prototype._transform = function (t, e, i) {
            i(null, t)
        }
    },
    function (t, e, i) {
        "use strict";

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function r(t, e, i) {
            t.copy(e, i)
        }
        var o = i(35).Buffer,
            s = i(132);
        t.exports = function () {
            function t() {
                n(this, t), this.head = null, this.tail = null, this.length = 0
            }
            return t.prototype.push = function (t) {
                var e = {
                    data: t,
                    next: null
                };
                this.length > 0 ? this.tail.next = e : this.head = e, this.tail = e, ++this.length
            }, t.prototype.unshift = function (t) {
                var e = {
                    data: t,
                    next: this.head
                };
                0 === this.length && (this.tail = e), this.head = e, ++this.length
            }, t.prototype.shift = function () {
                if (0 !== this.length) {
                    var t = this.head.data;
                    return 1 === this.length ? this.head = this.tail = null : this.head = this.head.next, --this.length, t
                }
            }, t.prototype.clear = function () {
                this.head = this.tail = null, this.length = 0
            }, t.prototype.join = function (t) {
                if (0 === this.length) return "";
                for (var e = this.head, i = "" + e.data; e = e.next;) i += t + e.data;
                return i
            }, t.prototype.concat = function (t) {
                if (0 === this.length) return o.alloc(0);
                if (1 === this.length) return this.head.data;
                for (var e = o.allocUnsafe(t >>> 0), i = this.head, n = 0; i;) r(i.data, e, n), n += i.data.length, i = i.next;
                return e
            }, t
        }(), s && s.inspect && s.inspect.custom && (t.exports.prototype[s.inspect.custom] = function () {
            var t = s.inspect({
                length: this.length
            });
            return this.constructor.name + " " + t
        })
    },
    function (t, e) {
        var i = {}.toString;
        t.exports = Array.isArray || function (t) {
            return "[object Array]" == i.call(t)
        }
    },
    function (t, e, i) {
        t.exports = i(40).PassThrough
    },
    function (t, e, i) {
        t.exports = i(40).Transform
    },
    function (t, e, i) {
        t.exports = i(39)
    },
    function (t, e, i) {
        (function (t, e) {
            ! function (t, i) {
                "use strict";

                function n(t) {
                    "function" != typeof t && (t = new Function("" + t));
                    for (var e = new Array(arguments.length - 1), i = 0; i < e.length; i++) e[i] = arguments[i + 1];
                    var n = {
                        callback: t,
                        args: e
                    };
                    return m[f] = n, d(f), f++
                }

                function r(t) {
                    delete m[t]
                }

                function o(t) {
                    var e = t.callback,
                        n = t.args;
                    switch (n.length) {
                    case 0:
                        e();
                        break;
                    case 1:
                        e(n[0]);
                        break;
                    case 2:
                        e(n[0], n[1]);
                        break;
                    case 3:
                        e(n[0], n[1], n[2]);
                        break;
                    default:
                        e.apply(i, n)
                    }
                }

                function s(t) {
                    if (g) setTimeout(s, 0, t);
                    else {
                        var e = m[t];
                        if (e) {
                            g = !0;
                            try {
                                o(e)
                            } finally {
                                r(t), g = !1
                            }
                        }
                    }
                }

                function a() {
                    d = function (t) {
                        e.nextTick(function () {
                            s(t)
                        })
                    }
                }

                function h() {
                    if (t.postMessage && !t.importScripts) {
                        var e = !0,
                            i = t.onmessage;
                        return t.onmessage = function () {
                            e = !1
                        }, t.postMessage("", "*"), t.onmessage = i, e
                    }
                }

                function l() {
                    var e = "setImmediate$" + Math.random() + "$",
                        i = function (i) {
                            i.source === t && "string" == typeof i.data && 0 === i.data.indexOf(e) && s(+i.data.slice(e.length))
                        };
                    t.addEventListener ? t.addEventListener("message", i, !1) : t.attachEvent("onmessage", i), d = function (i) {
                        t.postMessage(e + i, "*")
                    }
                }

                function u() {
                    var t = new MessageChannel;
                    t.port1.onmessage = function (t) {
                        var e = t.data;
                        s(e)
                    }, d = function (e) {
                        t.port2.postMessage(e)
                    }
                }

                function c() {
                    var t = v.documentElement;
                    d = function (e) {
                        var i = v.createElement("script");
                        i.onreadystatechange = function () {
                            s(e), i.onreadystatechange = null, t.removeChild(i), i = null
                        }, t.appendChild(i)
                    }
                }

                function p() {
                    d = function (t) {
                        setTimeout(s, 0, t)
                    }
                }
                if (!t.setImmediate) {
                    var d, f = 1,
                        m = {},
                        g = !1,
                        v = t.document,
                        _ = Object.getPrototypeOf && Object.getPrototypeOf(t);
                    _ = _ && _.setTimeout ? _ : t, "[object process]" === {}.toString.call(t.process) ? a() : h() ? l() : t.MessageChannel ? u() : v && "onreadystatechange" in v.createElement("script") ? c() : p(), _.setImmediate = n, _.clearImmediate = r
                }
            }("undefined" == typeof self ? "undefined" == typeof t ? this : t : self)
        }).call(e, function () {
            return this
        }(), i(17))
    },
    function (t, e) {
        var i = function () {
            var t = Date.now(),
                e = t,
                i = 0,
                n = 1 / 0,
                r = 0,
                o = 0,
                s = 1 / 0,
                a = 0,
                h = 0,
                l = 0,
                u = document.createElement("div");
            u.id = "stats", u.addEventListener("mousedown", function (t) {
                t.preventDefault(), _(++l % 2)
            }, !1), u.style.cssText = "width:80px;opacity:0.9;cursor:pointer";
            var c = document.createElement("div");
            c.id = "fps", c.style.cssText = "padding:0 0 3px 3px;text-align:left;background-color:#002", u.appendChild(c);
            var p = document.createElement("div");
            p.id = "fpsText", p.style.cssText = "color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px", p.innerHTML = "FPS", c.appendChild(p);
            var d = document.createElement("div");
            for (d.id = "fpsGraph", d.style.cssText = "position:relative;width:74px;height:30px;background-color:#0ff", c.appendChild(d); 74 > d.children.length;) {
                var f = document.createElement("span");
                f.style.cssText = "width:1px;height:30px;float:left;background-color:#113", d.appendChild(f)
            }
            var m = document.createElement("div");
            m.id = "ms", m.style.cssText = "padding:0 0 3px 3px;text-align:left;background-color:#020;display:none", u.appendChild(m);
            var g = document.createElement("div");
            g.id = "msText", g.style.cssText = "color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px", g.innerHTML = "MS", m.appendChild(g);
            var v = document.createElement("div");
            for (v.id = "msGraph", v.style.cssText = "position:relative;width:74px;height:30px;background-color:#0f0", m.appendChild(v); 74 > v.children.length;) f = document.createElement("span"), f.style.cssText = "width:1px;height:30px;float:left;background-color:#131", v.appendChild(f);
            var _ = function (t) {
                switch (l = t) {
                case 0:
                    c.style.display = "block", m.style.display = "none";
                    break;
                case 1:
                    c.style.display = "none", m.style.display = "block"
                }
            };
            return {
                REVISION: 12,
                domElement: u,
                setMode: _,
                begin: function () {
                    t = Date.now()
                }, end: function () {
                    var l = Date.now();
                    i = l - t, n = Math.min(n, i), r = Math.max(r, i), g.textContent = i + " MS (" + n + "-" + r + ")";
                    var u = Math.min(30, 30 - 30 * (i / 200));
                    return v.appendChild(v.firstChild).style.height = u + "px", h++, l > e + 1e3 && (o = Math.round(1e3 * h / (l - e)), s = Math.min(s, o), a = Math.max(a, o), p.textContent = o + " FPS (" + s + "-" + a + ")", u = Math.min(30, 30 - 30 * (o / 100)), d.appendChild(d.firstChild).style.height = u + "px", e = l, h = 0), l
                }, update: function () {
                    t = this.end()
                }
            }
        };
        "object" == typeof t && (t.exports = i)
    },
    function (t, e, i) {
        function n() {
            r.call(this)
        }
        t.exports = n;
        var r = i(37).EventEmitter,
            o = i(21);
        o(n, r), n.Readable = i(40), n.Writable = i(122), n.Duplex = i(116), n.Transform = i(121), n.PassThrough = i(120), n.Stream = n, n.prototype.pipe = function (t, e) {
            function i(e) {
                t.writable && !1 === t.write(e) && l.pause && l.pause()
            }

            function n() {
                l.readable && l.resume && l.resume()
            }

            function o() {
                u || (u = !0, t.end())
            }

            function s() {
                u || (u = !0, "function" == typeof t.destroy && t.destroy())
            }

            function a(t) {
                if (h(), 0 === r.listenerCount(this, "error")) throw t
            }

            function h() {
                l.removeListener("data", i), t.removeListener("drain", n), l.removeListener("end", o), l.removeListener("close", s), l.removeListener("error", a), t.removeListener("error", a), l.removeListener("end", h), l.removeListener("close", h), t.removeListener("close", h)
            }
            var l = this;
            l.on("data", i), t.on("drain", n), t._isStdio || e && e.end === !1 || (l.on("end", o), l.on("close", s));
            var u = !1;
            return l.on("error", a), t.on("error", a), l.on("end", h), l.on("close", h), t.on("close", h), t.emit("pipe", l), t
        }
    },
    function (t, e, i) {
        ! function (t, i) {
            i(e)
        }(this, function (t) {
            "use strict";

            function e() {}

            function i(t, e) {
                this.x = t || 0, this.y = e || 0
            }

            function n(t, e, i, n) {
                this._x = t || 0, this._y = e || 0, this._z = i || 0, this._w = void 0 !== n ? n : 1
            }

            function r(t, e, i) {
                this.x = t || 0, this.y = e || 0, this.z = i || 0
            }

            function o() {
                this.elements = [1, 0, 0, 0, 1, 0, 0, 0, 1], arguments.length > 0 && console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")
            }

            function s(t, e, n, r, a, h, l, u, c, p) {
                Object.defineProperty(this, "id", {
                    value: ru++
                }), this.uuid = Kl.generateUUID(), this.name = "", this.image = void 0 !== t ? t : s.DEFAULT_IMAGE, this.mipmaps = [], this.mapping = void 0 !== e ? e : s.DEFAULT_MAPPING, this.wrapS = void 0 !== n ? n : Qa, this.wrapT = void 0 !== r ? r : Qa, this.magFilter = void 0 !== a ? a : sh, this.minFilter = void 0 !== h ? h : lh, this.anisotropy = void 0 !== c ? c : 1, this.format = void 0 !== l ? l : Mh, this.type = void 0 !== u ? u : ch, this.offset = new i(0, 0), this.repeat = new i(1, 1), this.center = new i(0, 0), this.rotation = 0, this.matrixAutoUpdate = !0, this.matrix = new o, this.generateMipmaps = !0, this.premultiplyAlpha = !1, this.flipY = !0, this.unpackAlignment = 4, this.encoding = void 0 !== p ? p : dl, this.version = 0, this.onUpdate = null
            }

            function a(t, e, i, n) {
                this.x = t || 0, this.y = e || 0, this.z = i || 0, this.w = void 0 !== n ? n : 1
            }

            function h(t, e, i) {
                this.width = t, this.height = e, this.scissor = new a(0, 0, t, e), this.scissorTest = !1, this.viewport = new a(0, 0, t, e), i = i || {}, this.texture = new s(void 0, void 0, i.wrapS, i.wrapT, i.magFilter, i.minFilter, i.format, i.type, i.anisotropy, i.encoding), this.texture.image = {}, this.texture.image.width = t, this.texture.image.height = e, this.texture.generateMipmaps = void 0 !== i.generateMipmaps && i.generateMipmaps, this.texture.minFilter = void 0 !== i.minFilter ? i.minFilter : sh, this.depthBuffer = void 0 === i.depthBuffer || i.depthBuffer, this.stencilBuffer = void 0 === i.stencilBuffer || i.stencilBuffer, this.depthTexture = void 0 !== i.depthTexture ? i.depthTexture : null
            }

            function l(t, e, i) {
                h.call(this, t, e, i), this.samples = 4
            }

            function u() {
                this.elements = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], arguments.length > 0 && console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")
            }

            function c(t, e, i, n) {
                this._x = t || 0, this._y = e || 0, this._z = i || 0, this._order = n || c.DefaultOrder
            }

            function p() {
                this.mask = 1
            }

            function d() {
                function t() {
                    a.setFromEuler(s, !1)
                }

                function e() {
                    s.setFromQuaternion(a, void 0, !1)
                }
                Object.defineProperty(this, "id", {
                    value: fu++
                }), this.uuid = Kl.generateUUID(), this.name = "", this.type = "Object3D", this.parent = null, this.children = [], this.up = d.DefaultUp.clone();
                var i = new r,
                    s = new c,
                    a = new n,
                    h = new r(1, 1, 1);
                s._onChange(t), a._onChange(e), Object.defineProperties(this, {
                    position: {
                        configurable: !0,
                        enumerable: !0,
                        value: i
                    },
                    rotation: {
                        configurable: !0,
                        enumerable: !0,
                        value: s
                    },
                    quaternion: {
                        configurable: !0,
                        enumerable: !0,
                        value: a
                    },
                    scale: {
                        configurable: !0,
                        enumerable: !0,
                        value: h
                    },
                    modelViewMatrix: {
                        value: new u
                    },
                    normalMatrix: {
                        value: new o
                    }
                }), this.matrix = new u, this.matrixWorld = new u, this.matrixAutoUpdate = d.DefaultMatrixAutoUpdate, this.matrixWorldNeedsUpdate = !1, this.layers = new p, this.visible = !0, this.castShadow = !1, this.receiveShadow = !1, this.frustumCulled = !0, this.renderOrder = 0, this.userData = {}
            }

            function f() {
                d.call(this), this.type = "Scene", this.background = null, this.fog = null, this.overrideMaterial = null, this.autoUpdate = !0, "undefined" != typeof __THREE_DEVTOOLS__ && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe", {
                    detail: this
                }))
            }

            function m(t, e) {
                this.min = void 0 !== t ? t : new r(+(1 / 0), +(1 / 0), +(1 / 0)), this.max = void 0 !== e ? e : new r(-(1 / 0), -(1 / 0), -(1 / 0))
            }

            function g(t, e, i, n, r) {
                var o, s;
                for (o = 0, s = t.length - 3; o <= s; o += 3) {
                    Bu.fromArray(t, o);
                    var a = r.x * Math.abs(Bu.x) + r.y * Math.abs(Bu.y) + r.z * Math.abs(Bu.z),
                        h = e.dot(Bu),
                        l = i.dot(Bu),
                        u = n.dot(Bu);
                    if (Math.max(-Math.max(h, l, u), Math.min(h, l, u)) > a) return !1
                }
                return !0
            }

            function v(t, e) {
                this.center = void 0 !== t ? t : new r, this.radius = void 0 !== e ? e : 0
            }

            function _(t, e) {
                this.origin = void 0 !== t ? t : new r, this.direction = void 0 !== e ? e : new r
            }

            function y(t, e) {
                this.normal = void 0 !== t ? t : new r(1, 0, 0), this.constant = void 0 !== e ? e : 0
            }

            function x(t, e, i) {
                this.a = void 0 !== t ? t : new r, this.b = void 0 !== e ? e : new r, this.c = void 0 !== i ? i : new r
            }

            function w(t, e, i) {
                return void 0 === e && void 0 === i ? this.set(t) : this.setRGB(t, e, i)
            }

            function b(t, e, i) {
                return i < 0 && (i += 1), i > 1 && (i -= 1), i < 1 / 6 ? t + 6 * (e - t) * i : i < .5 ? e : i < 2 / 3 ? t + 6 * (e - t) * (2 / 3 - i) : t
            }

            function S(t) {
                return t < .04045 ? .0773993808 * t : Math.pow(.9478672986 * t + .0521327014, 2.4)
            }

            function T(t) {
                return t < .0031308 ? 12.92 * t : 1.055 * Math.pow(t, .41666) - .055
            }

            function M(t, e, i, n, o, s) {
                this.a = t, this.b = e, this.c = i, this.normal = n && n.isVector3 ? n : new r, this.vertexNormals = Array.isArray(n) ? n : [], this.color = o && o.isColor ? o : new w, this.vertexColors = Array.isArray(o) ? o : [], this.materialIndex = void 0 !== s ? s : 0
            }

            function E() {
                Object.defineProperty(this, "id", {
                    value: lc++
                }), this.uuid = Kl.generateUUID(), this.name = "", this.type = "Material", this.fog = !0, this.blending = sa, this.side = $s, this.flatShading = !1, this.vertexTangents = !1, this.vertexColors = ia, this.opacity = 1, this.transparent = !1, this.blendSrc = xa, this.blendDst = wa, this.blendEquation = ca, this.blendSrcAlpha = null, this.blendDstAlpha = null, this.blendEquationAlpha = null, this.depthFunc = Ra, this.depthTest = !0, this.depthWrite = !0, this.stencilWriteMask = 255, this.stencilFunc = Hl, this.stencilRef = 0, this.stencilFuncMask = 255, this.stencilFail = El, this.stencilZFail = El, this.stencilZPass = El, this.stencilWrite = !1, this.clippingPlanes = null, this.clipIntersection = !1, this.clipShadows = !1, this.shadowSide = null, this.colorWrite = !0, this.precision = null, this.polygonOffset = !1, this.polygonOffsetFactor = 0, this.polygonOffsetUnits = 0, this.dithering = !1, this.alphaTest = 0, this.premultipliedAlpha = !1, this.visible = !0, this.toneMapped = !0, this.userData = {}, this.needsUpdate = !0
            }

            function A(t) {
                E.call(this), this.type = "MeshBasicMaterial", this.color = new w(16777215), this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = ka, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.setValues(t)
            }

            function C(t, e, i) {
                if (Array.isArray(t)) throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
                this.name = "", this.array = t, this.itemSize = e, this.count = void 0 !== t ? t.length / e : 0, this.normalized = i === !0, this.usage = Ul, this.updateRange = {
                    offset: 0,
                    count: -1
                }, this.version = 0
            }

            function P(t, e, i) {
                C.call(this, new Int8Array(t), e, i)
            }

            function R(t, e, i) {
                C.call(this, new Uint8Array(t), e, i)
            }

            function L(t, e, i) {
                C.call(this, new Uint8ClampedArray(t), e, i)
            }

            function O(t, e, i) {
                C.call(this, new Int16Array(t), e, i)
            }

            function I(t, e, i) {
                C.call(this, new Uint16Array(t), e, i)
            }

            function D(t, e, i) {
                C.call(this, new Int32Array(t), e, i)
            }

            function k(t, e, i) {
                C.call(this, new Uint32Array(t), e, i)
            }

            function N(t, e, i) {
                C.call(this, new Float32Array(t), e, i)
            }

            function z(t, e, i) {
                C.call(this, new Float64Array(t), e, i)
            }

            function B() {
                this.vertices = [], this.normals = [], this.colors = [], this.uvs = [], this.uvs2 = [], this.groups = [], this.morphTargets = {}, this.skinWeights = [], this.skinIndices = [], this.boundingBox = null, this.boundingSphere = null, this.verticesNeedUpdate = !1, this.normalsNeedUpdate = !1, this.colorsNeedUpdate = !1, this.uvsNeedUpdate = !1, this.groupsNeedUpdate = !1
            }

            function F(t) {
                if (0 === t.length) return -(1 / 0);
                for (var e = t[0], i = 1, n = t.length; i < n; ++i) t[i] > e && (e = t[i]);
                return e
            }

            function H() {
                Object.defineProperty(this, "id", {
                    value: uc += 2
                }), this.uuid = Kl.generateUUID(), this.name = "", this.type = "BufferGeometry", this.index = null, this.attributes = {}, this.morphAttributes = {}, this.groups = [], this.boundingBox = null, this.boundingSphere = null, this.drawRange = {
                    start: 0,
                    count: 1 / 0
                }, this.userData = {}
            }

            function U(t, e) {
                d.call(this), this.type = "Mesh", this.geometry = void 0 !== t ? t : new H, this.material = void 0 !== e ? e : new A({
                    color: 16777215 * Math.random()
                }), this.drawMode = ul, this.updateMorphTargets()
            }

            function G(t, e, i, n, r, o, s, a) {
                var h;
                if (h = e.side === Ks ? n.intersectTriangle(s, o, r, !0, a) : n.intersectTriangle(r, o, s, e.side !== Qs, a), null === h) return null;
                Ic.copy(a), Ic.applyMatrix4(t.matrixWorld);
                var l = i.ray.origin.distanceTo(Ic);
                return l < i.near || l > i.far ? null : {
                    distance: l,
                    point: Ic.clone(),
                    object: t
                }
            }

            function j(t, e, n, r, o, s, a, h, l, u, c) {
                xc.fromBufferAttribute(o, l), wc.fromBufferAttribute(o, u), bc.fromBufferAttribute(o, c);
                var p = t.morphTargetInfluences;
                if (e.morphTargets && s && p) {
                    Ec.set(0, 0, 0), Ac.set(0, 0, 0), Cc.set(0, 0, 0);
                    for (var d = 0, f = s.length; d < f; d++) {
                        var m = p[d],
                            g = s[d];
                        0 !== m && (Sc.fromBufferAttribute(g, l), Tc.fromBufferAttribute(g, u), Mc.fromBufferAttribute(g, c), Ec.addScaledVector(Sc.sub(xc), m), Ac.addScaledVector(Tc.sub(wc), m), Cc.addScaledVector(Mc.sub(bc), m))
                    }
                    xc.add(Ec), wc.add(Ac), bc.add(Cc)
                }
                var v = G(t, e, n, r, xc, wc, bc, Oc);
                if (v) {
                    a && (Pc.fromBufferAttribute(a, l), Rc.fromBufferAttribute(a, u), Lc.fromBufferAttribute(a, c), v.uv = x.getUV(Oc, xc, wc, bc, Pc, Rc, Lc, new i)), h && (Pc.fromBufferAttribute(h, l), Rc.fromBufferAttribute(h, u), Lc.fromBufferAttribute(h, c), v.uv2 = x.getUV(Oc, xc, wc, bc, Pc, Rc, Lc, new i));
                    var _ = new M(l, u, c);
                    x.getNormal(xc, wc, bc, _.normal), v.face = _
                }
                return v
            }

            function V() {
                Object.defineProperty(this, "id", {
                    value: Dc += 2
                }), this.uuid = Kl.generateUUID(), this.name = "", this.type = "Geometry", this.vertices = [], this.colors = [], this.faces = [], this.faceVertexUvs = [
                    []
                ], this.morphTargets = [], this.morphNormals = [], this.skinWeights = [], this.skinIndices = [], this.lineDistances = [], this.boundingBox = null, this.boundingSphere = null, this.elementsNeedUpdate = !1, this.verticesNeedUpdate = !1, this.uvsNeedUpdate = !1, this.normalsNeedUpdate = !1, this.colorsNeedUpdate = !1, this.lineDistancesNeedUpdate = !1, this.groupsNeedUpdate = !1
            }

            function W(t) {
                var e = {};
                for (var i in t) {
                    e[i] = {};
                    for (var n in t[i]) {
                        var r = t[i][n];
                        r && (r.isColor || r.isMatrix3 || r.isMatrix4 || r.isVector2 || r.isVector3 || r.isVector4 || r.isTexture) ? e[i][n] = r.clone() : Array.isArray(r) ? e[i][n] = r.slice() : e[i][n] = r
                    }
                }
                return e
            }

            function q(t) {
                for (var e = {}, i = 0; i < t.length; i++) {
                    var n = W(t[i]);
                    for (var r in n) e[r] = n[r]
                }
                return e
            }

            function X(t) {
                E.call(this), this.type = "ShaderMaterial", this.defines = {}, this.uniforms = {}, this.vertexShader = Uc, this.fragmentShader = Gc, this.linewidth = 1, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.clipping = !1, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.extensions = {
                    derivatives: !1,
                    fragDepth: !1,
                    drawBuffers: !1,
                    shaderTextureLOD: !1
                }, this.defaultAttributeValues = {
                    color: [1, 1, 1],
                    uv: [0, 0],
                    uv2: [0, 0]
                }, this.index0AttributeName = void 0, this.uniformsNeedUpdate = !1, void 0 !== t && (void 0 !== t.attributes && console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."), this.setValues(t))
            }

            function Y() {
                d.call(this), this.type = "Camera", this.matrixWorldInverse = new u, this.projectionMatrix = new u, this.projectionMatrixInverse = new u
            }

            function Z(t, e, i, n) {
                Y.call(this), this.type = "PerspectiveCamera", this.fov = void 0 !== t ? t : 50, this.zoom = 1, this.near = void 0 !== i ? i : .1, this.far = void 0 !== n ? n : 2e3, this.focus = 10, this.aspect = void 0 !== e ? e : 1, this.view = null, this.filmGauge = 35, this.filmOffset = 0, this.updateProjectionMatrix()
            }

            function J(t, e, i, n) {
                d.call(this), this.type = "CubeCamera";
                var o = new Z(jc, Vc, t, e);
                o.up.set(0, -1, 0), o.lookAt(new r(1, 0, 0)), this.add(o);
                var s = new Z(jc, Vc, t, e);
                s.up.set(0, -1, 0), s.lookAt(new r(-1, 0, 0)), this.add(s);
                var a = new Z(jc, Vc, t, e);
                a.up.set(0, 0, 1), a.lookAt(new r(0, 1, 0)), this.add(a);
                var h = new Z(jc, Vc, t, e);
                h.up.set(0, 0, -1), h.lookAt(new r(0, -1, 0)), this.add(h);
                var l = new Z(jc, Vc, t, e);
                l.up.set(0, -1, 0), l.lookAt(new r(0, 0, 1)), this.add(l);
                var u = new Z(jc, Vc, t, e);
                u.up.set(0, -1, 0), u.lookAt(new r(0, 0, -1)), this.add(u), n = n || {
                    format: Th,
                    magFilter: sh,
                    minFilter: sh
                }, this.renderTarget = new $(i, i, n), this.renderTarget.texture.name = "CubeCamera", this.update = function (t, e) {
                    null === this.parent && this.updateMatrixWorld();
                    var i = t.getRenderTarget(),
                        n = this.renderTarget,
                        r = n.texture.generateMipmaps;
                    n.texture.generateMipmaps = !1, t.setRenderTarget(n, 0), t.render(e, o), t.setRenderTarget(n, 1), t.render(e, s), t.setRenderTarget(n, 2), t.render(e, a), t.setRenderTarget(n, 3), t.render(e, h), t.setRenderTarget(n, 4), t.render(e, l), n.texture.generateMipmaps = r, t.setRenderTarget(n, 5), t.render(e, u), t.setRenderTarget(i)
                }, this.clear = function (t, e, i, n) {
                    for (var r = t.getRenderTarget(), o = this.renderTarget, s = 0; s < 6; s++) t.setRenderTarget(o, s), t.clear(e, i, n);
                    t.setRenderTarget(r)
                }
            }

            function $(t, e, i) {
                h.call(this, t, e, i)
            }

            function K(t, e, i, n, r, o, a, h, l, u, c, p) {
                s.call(this, null, o, a, h, l, u, n, r, c, p), this.image = {
                    data: t || null,
                    width: e || 1,
                    height: i || 1
                }, this.magFilter = void 0 !== l ? l : eh, this.minFilter = void 0 !== u ? u : eh, this.generateMipmaps = !1, this.flipY = !1, this.unpackAlignment = 1, this.needsUpdate = !0
            }

            function Q(t, e, i, n, r, o) {
                this.planes = [void 0 !== t ? t : new y, void 0 !== e ? e : new y, void 0 !== i ? i : new y, void 0 !== n ? n : new y, void 0 !== r ? r : new y, void 0 !== o ? o : new y]
            }

            function tt() {
                function t(r, o) {
                    i !== !1 && (n(r, o), e.requestAnimationFrame(t))
                }
                var e = null,
                    i = !1,
                    n = null;
                return {
                    start: function () {
                        i !== !0 && null !== n && (e.requestAnimationFrame(t), i = !0)
                    }, stop: function () {
                        i = !1
                    }, setAnimationLoop: function (t) {
                        n = t
                    }, setContext: function (t) {
                        e = t
                    }
                }
            }

            function et(t) {
                function e(e, i) {
                    var n = e.array,
                        r = e.usage,
                        o = t.createBuffer();
                    t.bindBuffer(i, o), t.bufferData(i, n, r), e.onUploadCallback();
                    var s = 5126;
                    return n instanceof Float32Array ? s = 5126 : n instanceof Float64Array ? console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.") : n instanceof Uint16Array ? s = 5123 : n instanceof Int16Array ? s = 5122 : n instanceof Uint32Array ? s = 5125 : n instanceof Int32Array ? s = 5124 : n instanceof Int8Array ? s = 5120 : n instanceof Uint8Array && (s = 5121), {
                        buffer: o,
                        type: s,
                        bytesPerElement: n.BYTES_PER_ELEMENT,
                        version: e.version
                    }
                }

                function i(e, i, n) {
                    var r = i.array,
                        o = i.updateRange;
                    t.bindBuffer(n, e), o.count === -1 ? t.bufferSubData(n, 0, r) : (t.bufferSubData(n, o.offset * r.BYTES_PER_ELEMENT, r.subarray(o.offset, o.offset + o.count)), o.count = -1)
                }

                function n(t) {
                    return t.isInterleavedBufferAttribute && (t = t.data), s.get(t)
                }

                function r(e) {
                    e.isInterleavedBufferAttribute && (e = e.data);
                    var i = s.get(e);
                    i && (t.deleteBuffer(i.buffer), s.delete(e))
                }

                function o(t, n) {
                    t.isInterleavedBufferAttribute && (t = t.data);
                    var r = s.get(t);
                    void 0 === r ? s.set(t, e(t, n)) : r.version < t.version && (i(r.buffer, t, n), r.version = t.version)
                }
                var s = new WeakMap;
                return {
                    get: n,
                    remove: r,
                    update: o
                }
            }

            function it(t, e, i, n) {
                V.call(this), this.type = "PlaneGeometry", this.parameters = {
                    width: t,
                    height: e,
                    widthSegments: i,
                    heightSegments: n
                }, this.fromBufferGeometry(new nt(t, e, i, n)), this.mergeVertices()
            }

            function nt(t, e, i, n) {
                H.call(this), this.type = "PlaneBufferGeometry", this.parameters = {
                    width: t,
                    height: e,
                    widthSegments: i,
                    heightSegments: n
                }, t = t || 1, e = e || 1;
                var r, o, s = t / 2,
                    a = e / 2,
                    h = Math.floor(i) || 1,
                    l = Math.floor(n) || 1,
                    u = h + 1,
                    c = l + 1,
                    p = t / h,
                    d = e / l,
                    f = [],
                    m = [],
                    g = [],
                    v = [];
                for (o = 0; o < c; o++) {
                    var _ = o * d - a;
                    for (r = 0; r < u; r++) {
                        var y = r * p - s;
                        m.push(y, -_, 0), g.push(0, 0, 1), v.push(r / h), v.push(1 - o / l)
                    }
                }
                for (o = 0; o < l; o++)
                    for (r = 0; r < h; r++) {
                        var x = r + u * o,
                            w = r + u * (o + 1),
                            b = r + 1 + u * (o + 1),
                            S = r + 1 + u * o;
                        f.push(x, w, S), f.push(w, b, S)
                    }
                this.setIndex(f), this.setAttribute("position", new N(m, 3)), this.setAttribute("normal", new N(g, 3)), this.setAttribute("uv", new N(v, 2))
            }

            function rt(t, e, i, n) {
                function r(e, n, r, p) {
                    var d = n.background,
                        f = t.vr,
                        m = f.getSession && f.getSession();
                    if (m && "additive" === m.environmentBlendMode && (d = null), null === d ? (o(h, l), u = null, c = 0) : d && d.isColor && (o(d, 1), p = !0, u = null, c = 0), (t.autoClear || p) && t.clear(t.autoClearColor, t.autoClearDepth, t.autoClearStencil), d && (d.isCubeTexture || d.isWebGLRenderTargetCube)) {
                        void 0 === a && (a = new U(new Fc(1, 1, 1), new X({
                            type: "BackgroundCubeMaterial",
                            uniforms: W(cf.cube.uniforms),
                            vertexShader: cf.cube.vertexShader,
                            fragmentShader: cf.cube.fragmentShader,
                            side: Ks,
                            depthTest: !1,
                            depthWrite: !1,
                            fog: !1
                        })), a.geometry.deleteAttribute("normal"), a.geometry.deleteAttribute("uv"), a.onBeforeRender = function (t, e, i) {
                            this.matrixWorld.copyPosition(i.matrixWorld)
                        }, Object.defineProperty(a.material, "map", {
                            get: function () {
                                return this.uniforms.tCube.value
                            }
                        }), i.update(a));
                        var g = d.isWebGLRenderTargetCube ? d.texture : d;
                        a.material.uniforms.tCube.value = g, a.material.uniforms.tFlip.value = d.isWebGLRenderTargetCube ? 1 : -1, u === d && c === g.version || (a.material.needsUpdate = !0, u = d, c = g.version), e.unshift(a, a.geometry, a.material, 0, 0, null)
                    } else d && d.isTexture && (void 0 === s && (s = new U(new nt(2, 2), new X({
                        type: "BackgroundMaterial",
                        uniforms: W(cf.background.uniforms),
                        vertexShader: cf.background.vertexShader,
                        fragmentShader: cf.background.fragmentShader,
                        side: $s,
                        depthTest: !1,
                        depthWrite: !1,
                        fog: !1
                    })), s.geometry.deleteAttribute("normal"), Object.defineProperty(s.material, "map", {
                        get: function () {
                            return this.uniforms.t2D.value
                        }
                    }), i.update(s)), s.material.uniforms.t2D.value = d, d.matrixAutoUpdate === !0 && d.updateMatrix(), s.material.uniforms.uvTransform.value.copy(d.matrix), u === d && c === d.version || (s.material.needsUpdate = !0, u = d, c = d.version), e.unshift(s, s.geometry, s.material, 0, 0, null))
                }

                function o(t, i) {
                    e.buffers.color.setClear(t.r, t.g, t.b, i, n)
                }
                var s, a, h = new w(0),
                    l = 0,
                    u = null,
                    c = 0;
                return {
                    getClearColor: function () {
                        return h
                    }, setClearColor: function (t, e) {
                        h.set(t), l = void 0 !== e ? e : 1, o(h, l)
                    }, getClearAlpha: function () {
                        return l
                    }, setClearAlpha: function (t) {
                        l = t, o(h, l)
                    }, render: r
                }
            }

            function ot(t, e, i, n) {
                function r(t) {
                    a = t
                }

                function o(e, n) {
                    t.drawArrays(a, e, n), i.update(n, a)
                }

                function s(n, r, o, s) {
                    if (0 !== s) {
                        var l, u;
                        if (h) l = t, u = "drawArraysInstanced";
                        else if (l = e.get("ANGLE_instanced_arrays"), u = "drawArraysInstancedANGLE", null === l) return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
                        l[u](a, r, o, s), i.update(o, a, s)
                    }
                }
                var a, h = n.isWebGL2;
                this.setMode = r, this.render = o, this.renderInstances = s
            }

            function st(t, e, i) {
                function n() {
                    if (void 0 !== o) return o;
                    var i = e.get("EXT_texture_filter_anisotropic");
                    return o = null !== i ? t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0
                }

                function r(e) {
                    if ("highp" === e) {
                        if (t.getShaderPrecisionFormat(35633, 36338).precision > 0 && t.getShaderPrecisionFormat(35632, 36338).precision > 0) return "highp";
                        e = "mediump"
                    }
                    return "mediump" === e && t.getShaderPrecisionFormat(35633, 36337).precision > 0 && t.getShaderPrecisionFormat(35632, 36337).precision > 0 ? "mediump" : "lowp"
                }
                var o, s = "undefined" != typeof WebGL2RenderingContext && t instanceof WebGL2RenderingContext || "undefined" != typeof WebGL2ComputeRenderingContext && t instanceof WebGL2ComputeRenderingContext,
                    a = void 0 !== i.precision ? i.precision : "highp",
                    h = r(a);
                h !== a && (console.warn("THREE.WebGLRenderer:", a, "not supported, using", h, "instead."), a = h);
                var l = i.logarithmicDepthBuffer === !0,
                    u = t.getParameter(34930),
                    c = t.getParameter(35660),
                    p = t.getParameter(3379),
                    d = t.getParameter(34076),
                    f = t.getParameter(34921),
                    m = t.getParameter(36347),
                    g = t.getParameter(36348),
                    v = t.getParameter(36349),
                    _ = c > 0,
                    y = s || !!e.get("OES_texture_float"),
                    x = _ && y,
                    w = s ? t.getParameter(36183) : 0;
                return {
                    isWebGL2: s,
                    getMaxAnisotropy: n,
                    getMaxPrecision: r,
                    precision: a,
                    logarithmicDepthBuffer: l,
                    maxTextures: u,
                    maxVertexTextures: c,
                    maxTextureSize: p,
                    maxCubemapSize: d,
                    maxAttributes: f,
                    maxVertexUniforms: m,
                    maxVaryings: g,
                    maxFragmentUniforms: v,
                    vertexTextures: _,
                    floatFragmentTextures: y,
                    floatVertexTextures: x,
                    maxSamples: w
                }
            }

            function at() {
                function t() {
                    u.value !== n && (u.value = n, u.needsUpdate = r > 0), i.numPlanes = r, i.numIntersection = 0
                }

                function e(t, e, n, r) {
                    var o = null !== t ? t.length : 0,
                        s = null;
                    if (0 !== o) {
                        if (s = u.value, r !== !0 || null === s) {
                            var a = n + 4 * o,
                                c = e.matrixWorldInverse;
                            l.getNormalMatrix(c), (null === s || s.length < a) && (s = new Float32Array(a));
                            for (var p = 0, d = n; p !== o; ++p, d += 4) h.copy(t[p]).applyMatrix4(c, l), h.normal.toArray(s, d), s[d + 3] = h.constant
                        }
                        u.value = s, u.needsUpdate = !0
                    }
                    return i.numPlanes = o, s
                }
                var i = this,
                    n = null,
                    r = 0,
                    s = !1,
                    a = !1,
                    h = new y,
                    l = new o,
                    u = {
                        value: null,
                        needsUpdate: !1
                    };
                this.uniform = u, this.numPlanes = 0, this.numIntersection = 0, this.init = function (t, i, o) {
                    var a = 0 !== t.length || i || 0 !== r || s;
                    return s = i, n = e(t, o, 0), r = t.length, a
                }, this.beginShadows = function () {
                    a = !0, e(null)
                }, this.endShadows = function () {
                    a = !1, t()
                }, this.setState = function (i, o, h, l, c, p) {
                    if (!s || null === i || 0 === i.length || a && !h) a ? e(null) : t();
                    else {
                        var d = a ? 0 : r,
                            f = 4 * d,
                            m = c.clippingState || null;
                        u.value = m, m = e(i, l, f, p);
                        for (var g = 0; g !== f; ++g) m[g] = n[g];
                        c.clippingState = m, this.numIntersection = o ? this.numPlanes : 0, this.numPlanes += d
                    }
                }
            }

            function ht(t) {
                var e = {};
                return {
                    get: function (i) {
                        if (void 0 !== e[i]) return e[i];
                        var n;
                        switch (i) {
                        case "WEBGL_depth_texture":
                            n = t.getExtension("WEBGL_depth_texture") || t.getExtension("MOZ_WEBGL_depth_texture") || t.getExtension("WEBKIT_WEBGL_depth_texture");
                            break;
                        case "EXT_texture_filter_anisotropic":
                            n = t.getExtension("EXT_texture_filter_anisotropic") || t.getExtension("MOZ_EXT_texture_filter_anisotropic") || t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
                            break;
                        case "WEBGL_compressed_texture_s3tc":
                            n = t.getExtension("WEBGL_compressed_texture_s3tc") || t.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
                            break;
                        case "WEBGL_compressed_texture_pvrtc":
                            n = t.getExtension("WEBGL_compressed_texture_pvrtc") || t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
                            break;
                        default:
                            n = t.getExtension(i)
                        }
                        return null === n && console.warn("THREE.WebGLRenderer: " + i + " extension not supported."), e[i] = n, n
                    }
                }
            }

            function lt(t, e, i) {
                function n(t) {
                    var r = t.target,
                        o = h.get(r);
                    null !== o.index && e.remove(o.index);
                    for (var s in o.attributes) e.remove(o.attributes[s]);
                    r.removeEventListener("dispose", n), h.delete(r);
                    var a = l.get(o);
                    a && (e.remove(a), l.delete(o)), i.memory.geometries--
                }

                function r(t, e) {
                    var r = h.get(e);
                    return r ? r : (e.addEventListener("dispose", n), e.isBufferGeometry ? r = e : e.isGeometry && (void 0 === e._bufferGeometry && (e._bufferGeometry = (new H).setFromObject(t)), r = e._bufferGeometry), h.set(e, r), i.memory.geometries++, r)
                }

                function o(t) {
                    var i = t.index,
                        n = t.attributes;
                    null !== i && e.update(i, 34963);
                    for (var r in n) e.update(n[r], 34962);
                    var o = t.morphAttributes;
                    for (var r in o)
                        for (var s = o[r], a = 0, h = s.length; a < h; a++) e.update(s[a], 34962)
                }

                function s(t) {
                    var i = [],
                        n = t.index,
                        r = t.attributes.position,
                        o = 0;
                    if (null !== n) {
                        var s = n.array;
                        o = n.version;
                        for (var a = 0, h = s.length; a < h; a += 3) {
                            var u = s[a + 0],
                                c = s[a + 1],
                                p = s[a + 2];
                            i.push(u, c, c, p, p, u)
                        }
                    } else {
                        var s = r.array;
                        o = r.version;
                        for (var a = 0, h = s.length / 3 - 1; a < h; a += 3) {
                            var u = a + 0,
                                c = a + 1,
                                p = a + 2;
                            i.push(u, c, c, p, p, u)
                        }
                    }
                    var d = new(F(i) > 65535 ? k : I)(i, 1);
                    d.version = o, e.update(d, 34963);
                    var f = l.get(t);
                    f && e.remove(f), l.set(t, d)
                }

                function a(t) {
                    var e = l.get(t);
                    if (e) {
                        var i = t.index;
                        null !== i && e.version < i.version && s(t)
                    } else s(t);
                    return l.get(t)
                }
                var h = new WeakMap,
                    l = new WeakMap;
                return {
                    get: r,
                    update: o,
                    getWireframeAttribute: a
                }
            }

            function ut(t, e, i, n) {
                function r(t) {
                    h = t
                }

                function o(t) {
                    l = t.type, u = t.bytesPerElement
                }

                function s(e, n) {
                    t.drawElements(h, n, l, e * u), i.update(n, h)
                }

                function a(n, r, o, s) {
                    if (0 !== s) {
                        var a, p;
                        if (c) a = t, p = "drawElementsInstanced";
                        else if (a = e.get("ANGLE_instanced_arrays"), p = "drawElementsInstancedANGLE", null === a) return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
                        a[p](h, o, l, r * u, s), i.update(o, h, s)
                    }
                }
                var h, l, u, c = n.isWebGL2;
                this.setMode = r, this.setIndex = o, this.render = s, this.renderInstances = a
            }

            function ct(t) {
                function e(t, e, i) {
                    switch (i = i || 1, r.calls++, e) {
                    case 4:
                        r.triangles += i * (t / 3);
                        break;
                    case 5:
                    case 6:
                        r.triangles += i * (t - 2);
                        break;
                    case 1:
                        r.lines += i * (t / 2);
                        break;
                    case 3:
                        r.lines += i * (t - 1);
                        break;
                    case 2:
                        r.lines += i * t;
                        break;
                    case 0:
                        r.points += i * t;
                        break;
                    default:
                        console.error("THREE.WebGLInfo: Unknown draw mode:", e)
                    }
                }

                function i() {
                    r.frame++, r.calls = 0, r.triangles = 0, r.points = 0, r.lines = 0
                }
                var n = {
                        geometries: 0,
                        textures: 0
                    },
                    r = {
                        frame: 0,
                        calls: 0,
                        triangles: 0,
                        points: 0,
                        lines: 0
                    };
                return {
                    memory: n,
                    render: r,
                    programs: null,
                    autoReset: !0,
                    reset: i,
                    update: e
                }
            }

            function pt(t, e) {
                return Math.abs(e[1]) - Math.abs(t[1])
            }

            function dt(t) {
                function e(e, r, o, s) {
                    var a = e.morphTargetInfluences,
                        h = a.length,
                        l = i[r.id];
                    if (void 0 === l) {
                        l = [];
                        for (var u = 0; u < h; u++) l[u] = [u, 0];
                        i[r.id] = l
                    }
                    for (var c = o.morphTargets && r.morphAttributes.position, p = o.morphNormals && r.morphAttributes.normal, u = 0; u < h; u++) {
                        var d = l[u];
                        0 !== d[1] && (c && r.deleteAttribute("morphTarget" + u), p && r.deleteAttribute("morphNormal" + u))
                    }
                    for (var u = 0; u < h; u++) {
                        var d = l[u];
                        d[0] = u, d[1] = a[u]
                    }
                    l.sort(pt);
                    for (var u = 0; u < 8; u++) {
                        var d = l[u];
                        if (d) {
                            var f = d[0],
                                m = d[1];
                            if (m) {
                                c && r.setAttribute("morphTarget" + u, c[f]), p && r.setAttribute("morphNormal" + u, p[f]), n[u] = m;
                                continue
                            }
                        }
                        n[u] = 0
                    }
                    s.getUniforms().setValue(t, "morphTargetInfluences", n)
                }
                var i = {},
                    n = new Float32Array(8);
                return {
                    update: e
                }
            }

            function ft(t, e, i, n) {
                function r(t) {
                    var r = n.render.frame,
                        o = t.geometry,
                        a = e.get(t, o);
                    return s[a.id] !== r && (o.isGeometry && a.updateFromObject(t), e.update(a), s[a.id] = r), t.isInstancedMesh && i.update(t.instanceMatrix, 34962), a
                }

                function o() {
                    s = {}
                }
                var s = {};
                return {
                    update: r,
                    dispose: o
                }
            }

            function mt(t, e, i, n, r, o, a, h, l, u) {
                t = void 0 !== t ? t : [], e = void 0 !== e ? e : Wa, a = void 0 !== a ? a : Th, s.call(this, t, e, i, n, r, o, a, h, l, u), this.flipY = !1
            }

            function gt(t, e, i, n) {
                s.call(this, null), this.image = {
                    data: t || null,
                    width: e || 1,
                    height: i || 1,
                    depth: n || 1
                }, this.magFilter = eh, this.minFilter = eh, this.wrapR = Qa, this.generateMipmaps = !1, this.flipY = !1, this.needsUpdate = !0
            }

            function vt(t, e, i, n) {
                s.call(this, null), this.image = {
                    data: t || null,
                    width: e || 1,
                    height: i || 1,
                    depth: n || 1
                }, this.magFilter = eh, this.minFilter = eh, this.wrapR = Qa, this.generateMipmaps = !1, this.flipY = !1, this.needsUpdate = !0
            }

            function _t(t, e, i) {
                var n = t[0];
                if (n <= 0 || n > 0) return t;
                var r = e * i,
                    o = gf[r];
                if (void 0 === o && (o = new Float32Array(r), gf[r] = o), 0 !== e) {
                    n.toArray(o, 0);
                    for (var s = 1, a = 0; s !== e; ++s) a += i, t[s].toArray(o, a)
                }
                return o
            }

            function yt(t, e) {
                if (t.length !== e.length) return !1;
                for (var i = 0, n = t.length; i < n; i++)
                    if (t[i] !== e[i]) return !1;
                return !0
            }

            function xt(t, e) {
                for (var i = 0, n = e.length; i < n; i++) t[i] = e[i]
            }

            function wt(t, e) {
                var i = vf[e];
                void 0 === i && (i = new Int32Array(e), vf[e] = i);
                for (var n = 0; n !== e; ++n) i[n] = t.allocateTextureUnit();
                return i
            }

            function bt(t, e) {
                var i = this.cache;
                i[0] !== e && (t.uniform1f(this.addr, e), i[0] = e)
            }

            function St(t, e) {
                var i = this.cache;
                if (void 0 !== e.x) i[0] === e.x && i[1] === e.y || (t.uniform2f(this.addr, e.x, e.y), i[0] = e.x, i[1] = e.y);
                else {
                    if (yt(i, e)) return;
                    t.uniform2fv(this.addr, e), xt(i, e)
                }
            }

            function Tt(t, e) {
                var i = this.cache;
                if (void 0 !== e.x) i[0] === e.x && i[1] === e.y && i[2] === e.z || (t.uniform3f(this.addr, e.x, e.y, e.z), i[0] = e.x, i[1] = e.y, i[2] = e.z);
                else if (void 0 !== e.r) i[0] === e.r && i[1] === e.g && i[2] === e.b || (t.uniform3f(this.addr, e.r, e.g, e.b), i[0] = e.r, i[1] = e.g, i[2] = e.b);
                else {
                    if (yt(i, e)) return;
                    t.uniform3fv(this.addr, e), xt(i, e)
                }
            }

            function Mt(t, e) {
                var i = this.cache;
                if (void 0 !== e.x) i[0] === e.x && i[1] === e.y && i[2] === e.z && i[3] === e.w || (t.uniform4f(this.addr, e.x, e.y, e.z, e.w), i[0] = e.x, i[1] = e.y, i[2] = e.z, i[3] = e.w);
                else {
                    if (yt(i, e)) return;
                    t.uniform4fv(this.addr, e), xt(i, e)
                }
            }

            function Et(t, e) {
                var i = this.cache,
                    n = e.elements;
                if (void 0 === n) {
                    if (yt(i, e)) return;
                    t.uniformMatrix2fv(this.addr, !1, e), xt(i, e)
                } else {
                    if (yt(i, n)) return;
                    xf.set(n), t.uniformMatrix2fv(this.addr, !1, xf), xt(i, n)
                }
            }

            function At(t, e) {
                var i = this.cache,
                    n = e.elements;
                if (void 0 === n) {
                    if (yt(i, e)) return;
                    t.uniformMatrix3fv(this.addr, !1, e), xt(i, e)
                } else {
                    if (yt(i, n)) return;
                    yf.set(n), t.uniformMatrix3fv(this.addr, !1, yf), xt(i, n)
                }
            }

            function Ct(t, e) {
                var i = this.cache,
                    n = e.elements;
                if (void 0 === n) {
                    if (yt(i, e)) return;
                    t.uniformMatrix4fv(this.addr, !1, e), xt(i, e)
                } else {
                    if (yt(i, n)) return;
                    _f.set(n), t.uniformMatrix4fv(this.addr, !1, _f), xt(i, n)
                }
            }

            function Pt(t, e, i) {
                var n = this.cache,
                    r = i.allocateTextureUnit();
                n[0] !== r && (t.uniform1i(this.addr, r), n[0] = r), i.safeSetTexture2D(e || pf, r)
            }

            function Rt(t, e, i) {
                var n = this.cache,
                    r = i.allocateTextureUnit();
                n[0] !== r && (t.uniform1i(this.addr, r), n[0] = r), i.setTexture2DArray(e || df, r)
            }

            function Lt(t, e, i) {
                var n = this.cache,
                    r = i.allocateTextureUnit();
                n[0] !== r && (t.uniform1i(this.addr, r), n[0] = r), i.setTexture3D(e || ff, r)
            }

            function Ot(t, e, i) {
                var n = this.cache,
                    r = i.allocateTextureUnit();
                n[0] !== r && (t.uniform1i(this.addr, r), n[0] = r), i.safeSetTextureCube(e || mf, r)
            }

            function It(t, e) {
                var i = this.cache;
                i[0] !== e && (t.uniform1i(this.addr, e), i[0] = e)
            }

            function Dt(t, e) {
                var i = this.cache;
                yt(i, e) || (t.uniform2iv(this.addr, e), xt(i, e))
            }

            function kt(t, e) {
                var i = this.cache;
                yt(i, e) || (t.uniform3iv(this.addr, e), xt(i, e))
            }

            function Nt(t, e) {
                var i = this.cache;
                yt(i, e) || (t.uniform4iv(this.addr, e), xt(i, e))
            }

            function zt(t) {
                switch (t) {
                case 5126:
                    return bt;
                case 35664:
                    return St;
                case 35665:
                    return Tt;
                case 35666:
                    return Mt;
                case 35674:
                    return Et;
                case 35675:
                    return At;
                case 35676:
                    return Ct;
                case 35678:
                case 36198:
                    return Pt;
                case 35679:
                    return Lt;
                case 35680:
                    return Ot;
                case 36289:
                    return Rt;
                case 5124:
                case 35670:
                    return It;
                case 35667:
                case 35671:
                    return Dt;
                case 35668:
                case 35672:
                    return kt;
                case 35669:
                case 35673:
                    return Nt
                }
            }

            function Bt(t, e) {
                t.uniform1fv(this.addr, e)
            }

            function Ft(t, e) {
                t.uniform1iv(this.addr, e)
            }

            function Ht(t, e) {
                t.uniform2iv(this.addr, e)
            }

            function Ut(t, e) {
                t.uniform3iv(this.addr, e)
            }

            function Gt(t, e) {
                t.uniform4iv(this.addr, e)
            }

            function jt(t, e) {
                var i = _t(e, this.size, 2);
                t.uniform2fv(this.addr, i)
            }

            function Vt(t, e) {
                var i = _t(e, this.size, 3);
                t.uniform3fv(this.addr, i)
            }

            function Wt(t, e) {
                var i = _t(e, this.size, 4);
                t.uniform4fv(this.addr, i)
            }

            function qt(t, e) {
                var i = _t(e, this.size, 4);
                t.uniformMatrix2fv(this.addr, !1, i)
            }

            function Xt(t, e) {
                var i = _t(e, this.size, 9);
                t.uniformMatrix3fv(this.addr, !1, i)
            }

            function Yt(t, e) {
                var i = _t(e, this.size, 16);
                t.uniformMatrix4fv(this.addr, !1, i)
            }

            function Zt(t, e, i) {
                var n = e.length,
                    r = wt(i, n);
                t.uniform1iv(this.addr, r);
                for (var o = 0; o !== n; ++o) i.safeSetTexture2D(e[o] || pf, r[o])
            }

            function Jt(t, e, i) {
                var n = e.length,
                    r = wt(i, n);
                t.uniform1iv(this.addr, r);
                for (var o = 0; o !== n; ++o) i.safeSetTextureCube(e[o] || mf, r[o])
            }

            function $t(t) {
                switch (t) {
                case 5126:
                    return Bt;
                case 35664:
                    return jt;
                case 35665:
                    return Vt;
                case 35666:
                    return Wt;
                case 35674:
                    return qt;
                case 35675:
                    return Xt;
                case 35676:
                    return Yt;
                case 35678:
                    return Zt;
                case 35680:
                    return Jt;
                case 5124:
                case 35670:
                    return Ft;
                case 35667:
                case 35671:
                    return Ht;
                case 35668:
                case 35672:
                    return Ut;
                case 35669:
                case 35673:
                    return Gt
                }
            }

            function Kt(t, e, i) {
                this.id = t, this.addr = i, this.cache = [], this.setValue = zt(e.type)
            }

            function Qt(t, e, i) {
                this.id = t, this.addr = i, this.cache = [], this.size = e.size, this.setValue = $t(e.type)
            }

            function te(t) {
                this.id = t, this.seq = [], this.map = {}
            }

            function ee(t, e) {
                t.seq.push(e), t.map[e.id] = e
            }

            function ie(t, e, i) {
                var n = t.name,
                    r = n.length;
                for (wf.lastIndex = 0;;) {
                    var o = wf.exec(n),
                        s = wf.lastIndex,
                        a = o[1],
                        h = "]" === o[2],
                        l = o[3];
                    if (h && (a |= 0), void 0 === l || "[" === l && s + 2 === r) {
                        ee(i, void 0 === l ? new Kt(a, t, e) : new Qt(a, t, e));
                        break
                    }
                    var u = i.map,
                        c = u[a];
                    void 0 === c && (c = new te(a), ee(i, c)), i = c
                }
            }

            function ne(t, e) {
                this.seq = [], this.map = {};
                for (var i = t.getProgramParameter(e, 35718), n = 0; n < i; ++n) {
                    var r = t.getActiveUniform(e, n),
                        o = t.getUniformLocation(e, r.name);
                    ie(r, o, this)
                }
            }

            function re(t, e, i) {
                var n = t.createShader(e);
                return t.shaderSource(n, i), t.compileShader(n), n
            }

            function oe(t) {
                for (var e = t.split("\n"), i = 0; i < e.length; i++) e[i] = i + 1 + ": " + e[i];
                return e.join("\n")
            }

            function se(t) {
                switch (t) {
                case dl:
                    return ["Linear", "( value )"];
                case fl:
                    return ["sRGB", "( value )"];
                case gl:
                    return ["RGBE", "( value )"];
                case _l:
                    return ["RGBM", "( value, 7.0 )"];
                case yl:
                    return ["RGBM", "( value, 16.0 )"];
                case xl:
                    return ["RGBD", "( value, 256.0 )"];
                case ml:
                    return ["Gamma", "( value, float( GAMMA_FACTOR ) )"];
                case vl:
                    return ["LogLuv", "( value )"];
                default:
                    throw new Error("unsupported encoding: " + t)
                }
            }

            function ae(t, e, i) {
                var n = t.getShaderParameter(e, 35713),
                    r = t.getShaderInfoLog(e).trim();
                if (n && "" === r) return "";
                var o = t.getShaderSource(e);
                return "THREE.WebGLShader: gl.getShaderInfoLog() " + i + "\n" + r + oe(o)
            }

            function he(t, e) {
                var i = se(e);
                return "vec4 " + t + "( vec4 value ) { return " + i[0] + "ToLinear" + i[1] + "; }"
            }

            function le(t, e) {
                var i = se(e);
                return "vec4 " + t + "( vec4 value ) { return LinearTo" + i[0] + i[1] + "; }"
            }

            function ue(t, e) {
                var i;
                switch (e) {
                case Fa:
                    i = "Linear";
                    break;
                case Ha:
                    i = "Reinhard";
                    break;
                case Ua:
                    i = "Uncharted2";
                    break;
                case Ga:
                    i = "OptimizedCineon";
                    break;
                case ja:
                    i = "ACESFilmic";
                    break;
                default:
                    throw new Error("unsupported toneMapping: " + e)
                }
                return "vec3 " + t + "( vec3 color ) { return " + i + "ToneMapping( color ); }"
            }

            function ce(t, e, i) {
                t = t || {};
                var n = [t.derivatives || e.envMapCubeUV || e.bumpMap || e.tangentSpaceNormalMap || e.clearcoatNormalMap || e.flatShading ? "#extension GL_OES_standard_derivatives : enable" : "", (t.fragDepth || e.logarithmicDepthBuffer) && i.get("EXT_frag_depth") ? "#extension GL_EXT_frag_depth : enable" : "", t.drawBuffers && i.get("WEBGL_draw_buffers") ? "#extension GL_EXT_draw_buffers : require" : "", (t.shaderTextureLOD || e.envMap) && i.get("EXT_shader_texture_lod") ? "#extension GL_EXT_shader_texture_lod : enable" : ""];
                return n.filter(fe).join("\n")
            }

            function pe(t) {
                var e = [];
                for (var i in t) {
                    var n = t[i];
                    n !== !1 && e.push("#define " + i + " " + n)
                }
                return e.join("\n")
            }

            function de(t, e) {
                for (var i = {}, n = t.getProgramParameter(e, 35721), r = 0; r < n; r++) {
                    var o = t.getActiveAttrib(e, r),
                        s = o.name;
                    i[s] = t.getAttribLocation(e, s)
                }
                return i
            }

            function fe(t) {
                return "" !== t
            }

            function me(t, e) {
                return t.replace(/NUM_DIR_LIGHTS/g, e.numDirLights).replace(/NUM_SPOT_LIGHTS/g, e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g, e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g, e.numPointLights).replace(/NUM_HEMI_LIGHTS/g, e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g, e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g, e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g, e.numPointLightShadows)
            }

            function ge(t, e) {
                return t.replace(/NUM_CLIPPING_PLANES/g, e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g, e.numClippingPlanes - e.numClipIntersection)
            }

            function ve(t) {
                return t.replace(Sf, _e)
            }

            function _e(t, e) {
                var i = lf[e];
                if (void 0 === i) throw new Error("Can not resolve #include <" + e + ">");
                return ve(i)
            }

            function ye(t) {
                return t.replace(Tf, xe)
            }

            function xe(t, e, i, n) {
                for (var r = "", o = parseInt(e); o < parseInt(i); o++) r += n.replace(/\[ i \]/g, "[ " + o + " ]").replace(/UNROLLED_LOOP_INDEX/g, o);
                return r
            }

            function we(t) {
                var e = "precision " + t.precision + " float;\nprecision " + t.precision + " int;";
                return "highp" === t.precision ? e += "\n#define HIGH_PRECISION" : "mediump" === t.precision ? e += "\n#define MEDIUM_PRECISION" : "lowp" === t.precision && (e += "\n#define LOW_PRECISION"), e
            }

            function be(t) {
                var e = "SHADOWMAP_TYPE_BASIC";
                return t.shadowMapType === Ys ? e = "SHADOWMAP_TYPE_PCF" : t.shadowMapType === Zs ? e = "SHADOWMAP_TYPE_PCF_SOFT" : t.shadowMapType === Js && (e = "SHADOWMAP_TYPE_VSM"), e
            }

            function Se(t) {
                var e = "ENVMAP_TYPE_CUBE";
                if (t.envMap) switch (t.envMapMode) {
                case Wa:
                case qa:
                    e = "ENVMAP_TYPE_CUBE";
                    break;
                case Ja:
                case $a:
                    e = "ENVMAP_TYPE_CUBE_UV";
                    break;
                case Xa:
                case Ya:
                    e = "ENVMAP_TYPE_EQUIREC";
                    break;
                case Za:
                    e = "ENVMAP_TYPE_SPHERE"
                }
                return e
            }

            function Te(t) {
                var e = "ENVMAP_MODE_REFLECTION";
                if (t.envMap) switch (t.envMapMode) {
                case qa:
                case Ya:
                    e = "ENVMAP_MODE_REFRACTION"
                }
                return e
            }

            function Me(t) {
                var e = "ENVMAP_BLENDING_MULTIPLY";
                if (t.envMap) switch (t.combine) {
                case ka:
                    e = "ENVMAP_BLENDING_MULTIPLY";
                    break;
                case Na:
                    e = "ENVMAP_BLENDING_MIX";
                    break;
                case za:
                    e = "ENVMAP_BLENDING_ADD"
                }
                return e
            }

            function Ee(t, e, i, n, r, o) {
                var s, a, h = t.getContext(),
                    l = n.defines,
                    u = r.vertexShader,
                    c = r.fragmentShader,
                    p = be(o),
                    d = Se(o),
                    f = Te(o),
                    m = Me(o),
                    g = t.gammaFactor > 0 ? t.gammaFactor : 1,
                    v = o.isWebGL2 ? "" : ce(n.extensions, o, e),
                    _ = pe(l),
                    y = h.createProgram(),
                    x = o.numMultiviewViews;
                if (n.isRawShaderMaterial ? (s = [_].filter(fe).join("\n"), s.length > 0 && (s += "\n"), a = [v, _].filter(fe).join("\n"), a.length > 0 && (a += "\n")) : (s = [we(o), "#define SHADER_NAME " + r.name, _, o.instancing ? "#define USE_INSTANCING" : "", o.supportsVertexTextures ? "#define VERTEX_TEXTURES" : "", "#define GAMMA_FACTOR " + g, "#define MAX_BONES " + o.maxBones, o.useFog && o.fog ? "#define USE_FOG" : "", o.useFog && o.fogExp2 ? "#define FOG_EXP2" : "", o.map ? "#define USE_MAP" : "", o.envMap ? "#define USE_ENVMAP" : "", o.envMap ? "#define " + f : "", o.lightMap ? "#define USE_LIGHTMAP" : "", o.aoMap ? "#define USE_AOMAP" : "", o.emissiveMap ? "#define USE_EMISSIVEMAP" : "", o.bumpMap ? "#define USE_BUMPMAP" : "", o.normalMap ? "#define USE_NORMALMAP" : "", o.normalMap && o.objectSpaceNormalMap ? "#define OBJECTSPACE_NORMALMAP" : "", o.normalMap && o.tangentSpaceNormalMap ? "#define TANGENTSPACE_NORMALMAP" : "", o.clearcoatNormalMap ? "#define USE_CLEARCOAT_NORMALMAP" : "", o.displacementMap && o.supportsVertexTextures ? "#define USE_DISPLACEMENTMAP" : "", o.specularMap ? "#define USE_SPECULARMAP" : "", o.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", o.metalnessMap ? "#define USE_METALNESSMAP" : "", o.alphaMap ? "#define USE_ALPHAMAP" : "", o.vertexTangents ? "#define USE_TANGENT" : "", o.vertexColors ? "#define USE_COLOR" : "", o.vertexUvs ? "#define USE_UV" : "", o.uvsVertexOnly ? "#define UVS_VERTEX_ONLY" : "", o.flatShading ? "#define FLAT_SHADED" : "", o.skinning ? "#define USE_SKINNING" : "", o.useVertexTexture ? "#define BONE_TEXTURE" : "", o.morphTargets ? "#define USE_MORPHTARGETS" : "", o.morphNormals && o.flatShading === !1 ? "#define USE_MORPHNORMALS" : "", o.doubleSided ? "#define DOUBLE_SIDED" : "", o.flipSided ? "#define FLIP_SIDED" : "", o.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", o.shadowMapEnabled ? "#define " + p : "", o.sizeAttenuation ? "#define USE_SIZEATTENUATION" : "", o.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", o.logarithmicDepthBuffer && (o.isWebGL2 || e.get("EXT_frag_depth")) ? "#define USE_LOGDEPTHBUF_EXT" : "", "uniform mat4 modelMatrix;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform mat4 viewMatrix;", "uniform mat3 normalMatrix;", "uniform vec3 cameraPosition;", "uniform bool isOrthographic;", "#ifdef USE_INSTANCING", " attribute mat4 instanceMatrix;", "#endif", "attribute vec3 position;", "attribute vec3 normal;", "attribute vec2 uv;", "#ifdef USE_TANGENT", "\tattribute vec4 tangent;", "#endif", "#ifdef USE_COLOR", "\tattribute vec3 color;", "#endif", "#ifdef USE_MORPHTARGETS", "\tattribute vec3 morphTarget0;", "\tattribute vec3 morphTarget1;", "\tattribute vec3 morphTarget2;", "\tattribute vec3 morphTarget3;", "\t#ifdef USE_MORPHNORMALS", "\t\tattribute vec3 morphNormal0;", "\t\tattribute vec3 morphNormal1;", "\t\tattribute vec3 morphNormal2;", "\t\tattribute vec3 morphNormal3;", "\t#else", "\t\tattribute vec3 morphTarget4;", "\t\tattribute vec3 morphTarget5;", "\t\tattribute vec3 morphTarget6;", "\t\tattribute vec3 morphTarget7;", "\t#endif", "#endif", "#ifdef USE_SKINNING", "\tattribute vec4 skinIndex;", "\tattribute vec4 skinWeight;", "#endif", "\n"].filter(fe).join("\n"), a = [v, we(o), "#define SHADER_NAME " + r.name, _, o.alphaTest ? "#define ALPHATEST " + o.alphaTest + (o.alphaTest % 1 ? "" : ".0") : "", "#define GAMMA_FACTOR " + g, o.useFog && o.fog ? "#define USE_FOG" : "", o.useFog && o.fogExp2 ? "#define FOG_EXP2" : "", o.map ? "#define USE_MAP" : "", o.matcap ? "#define USE_MATCAP" : "", o.envMap ? "#define USE_ENVMAP" : "", o.envMap ? "#define " + d : "", o.envMap ? "#define " + f : "", o.envMap ? "#define " + m : "", o.lightMap ? "#define USE_LIGHTMAP" : "", o.aoMap ? "#define USE_AOMAP" : "", o.emissiveMap ? "#define USE_EMISSIVEMAP" : "", o.bumpMap ? "#define USE_BUMPMAP" : "", o.normalMap ? "#define USE_NORMALMAP" : "", o.normalMap && o.objectSpaceNormalMap ? "#define OBJECTSPACE_NORMALMAP" : "", o.normalMap && o.tangentSpaceNormalMap ? "#define TANGENTSPACE_NORMALMAP" : "", o.clearcoatNormalMap ? "#define USE_CLEARCOAT_NORMALMAP" : "", o.specularMap ? "#define USE_SPECULARMAP" : "", o.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", o.metalnessMap ? "#define USE_METALNESSMAP" : "", o.alphaMap ? "#define USE_ALPHAMAP" : "", o.sheen ? "#define USE_SHEEN" : "", o.vertexTangents ? "#define USE_TANGENT" : "", o.vertexColors ? "#define USE_COLOR" : "", o.vertexUvs ? "#define USE_UV" : "", o.uvsVertexOnly ? "#define UVS_VERTEX_ONLY" : "", o.gradientMap ? "#define USE_GRADIENTMAP" : "", o.flatShading ? "#define FLAT_SHADED" : "", o.doubleSided ? "#define DOUBLE_SIDED" : "", o.flipSided ? "#define FLIP_SIDED" : "", o.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", o.shadowMapEnabled ? "#define " + p : "", o.premultipliedAlpha ? "#define PREMULTIPLIED_ALPHA" : "", o.physicallyCorrectLights ? "#define PHYSICALLY_CORRECT_LIGHTS" : "", o.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", o.logarithmicDepthBuffer && (o.isWebGL2 || e.get("EXT_frag_depth")) ? "#define USE_LOGDEPTHBUF_EXT" : "", (!!n.extensions && n.extensions.shaderTextureLOD || o.envMap) && (o.isWebGL2 || e.get("EXT_shader_texture_lod")) ? "#define TEXTURE_LOD_EXT" : "", "uniform mat4 viewMatrix;", "uniform vec3 cameraPosition;", "uniform bool isOrthographic;", o.toneMapping !== Ba ? "#define TONE_MAPPING" : "", o.toneMapping !== Ba ? lf.tonemapping_pars_fragment : "", o.toneMapping !== Ba ? ue("toneMapping", o.toneMapping) : "", o.dithering ? "#define DITHERING" : "", o.outputEncoding || o.mapEncoding || o.matcapEncoding || o.envMapEncoding || o.emissiveMapEncoding ? lf.encodings_pars_fragment : "", o.mapEncoding ? he("mapTexelToLinear", o.mapEncoding) : "", o.matcapEncoding ? he("matcapTexelToLinear", o.matcapEncoding) : "", o.envMapEncoding ? he("envMapTexelToLinear", o.envMapEncoding) : "", o.emissiveMapEncoding ? he("emissiveMapTexelToLinear", o.emissiveMapEncoding) : "", o.outputEncoding ? le("linearToOutputTexel", o.outputEncoding) : "", o.depthPacking ? "#define DEPTH_PACKING " + n.depthPacking : "", "\n"].filter(fe).join("\n")), u = ve(u), u = me(u, o), u = ge(u, o), c = ve(c), c = me(c, o), c = ge(c, o), u = ye(u), c = ye(c), o.isWebGL2 && !n.isRawShaderMaterial) {
                    var w = !1,
                        b = /^\s*#version\s+300\s+es\s*\n/;
                    n.isShaderMaterial && null !== u.match(b) && null !== c.match(b) && (w = !0, u = u.replace(b, ""), c = c.replace(b, "")), s = ["#version 300 es\n", "#define attribute in", "#define varying out", "#define texture2D texture"].join("\n") + "\n" + s, a = ["#version 300 es\n", "#define varying in", w ? "" : "out highp vec4 pc_fragColor;", w ? "" : "#define gl_FragColor pc_fragColor", "#define gl_FragDepthEXT gl_FragDepth", "#define texture2D texture", "#define textureCube texture", "#define texture2DProj textureProj", "#define texture2DLodEXT textureLod", "#define texture2DProjLodEXT textureProjLod", "#define textureCubeLodEXT textureLod", "#define texture2DGradEXT textureGrad", "#define texture2DProjGradEXT textureProjGrad", "#define textureCubeGradEXT textureGrad"].join("\n") + "\n" + a, x > 0 && (s = s.replace("#version 300 es\n", ["#version 300 es\n", "#extension GL_OVR_multiview2 : require", "layout(num_views = " + x + ") in;", "#define VIEW_ID gl_ViewID_OVR"].join("\n")), s = s.replace(["uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform mat4 viewMatrix;", "uniform mat3 normalMatrix;"].join("\n"), ["uniform mat4 modelViewMatrices[" + x + "];", "uniform mat4 projectionMatrices[" + x + "];", "uniform mat4 viewMatrices[" + x + "];", "uniform mat3 normalMatrices[" + x + "];", "#define modelViewMatrix modelViewMatrices[VIEW_ID]", "#define projectionMatrix projectionMatrices[VIEW_ID]", "#define viewMatrix viewMatrices[VIEW_ID]", "#define normalMatrix normalMatrices[VIEW_ID]"].join("\n")), a = a.replace("#version 300 es\n", ["#version 300 es\n", "#extension GL_OVR_multiview2 : require", "#define VIEW_ID gl_ViewID_OVR"].join("\n")), a = a.replace("uniform mat4 viewMatrix;", ["uniform mat4 viewMatrices[" + x + "];", "#define viewMatrix viewMatrices[VIEW_ID]"].join("\n")))
                }
                var S = s + u,
                    T = a + c,
                    M = re(h, 35633, S),
                    E = re(h, 35632, T);
                if (h.attachShader(y, M), h.attachShader(y, E), void 0 !== n.index0AttributeName ? h.bindAttribLocation(y, 0, n.index0AttributeName) : o.morphTargets === !0 && h.bindAttribLocation(y, 0, "position"), h.linkProgram(y), t.debug.checkShaderErrors) {
                    var A = h.getProgramInfoLog(y).trim(),
                        C = h.getShaderInfoLog(M).trim(),
                        P = h.getShaderInfoLog(E).trim(),
                        R = !0,
                        L = !0;
                    if (h.getProgramParameter(y, 35714) === !1) {
                        R = !1;
                        var O = ae(h, M, "vertex"),
                            I = ae(h, E, "fragment");
                        console.error("THREE.WebGLProgram: shader error: ", h.getError(), "35715", h.getProgramParameter(y, 35715), "gl.getProgramInfoLog", A, O, I)
                    } else "" !== A ? console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()", A) : "" !== C && "" !== P || (L = !1);
                    L && (this.diagnostics = {
                        runnable: R,
                        material: n,
                        programLog: A,
                        vertexShader: {
                            log: C,
                            prefix: s
                        },
                        fragmentShader: {
                            log: P,
                            prefix: a
                        }
                    })
                }
                h.deleteShader(M), h.deleteShader(E);
                var D;
                this.getUniforms = function () {
                    return void 0 === D && (D = new ne(h, y)), D
                };
                var k;
                return this.getAttributes = function () {
                    return void 0 === k && (k = de(h, y)), k
                }, this.destroy = function () {
                    h.deleteProgram(y), this.program = void 0
                }, this.name = r.name, this.id = bf++, this.cacheKey = i, this.usedTimes = 1, this.program = y, this.vertexShader = M, this.fragmentShader = E, this.numMultiviewViews = x, this
            }

            function Ae(t, e, i) {
                function n(t) {
                    var e = t.skeleton,
                        i = e.bones;
                    if (h) return 1024;
                    var n = u,
                        r = Math.floor((n - 20) / 4),
                        o = Math.min(r, i.length);
                    return o < i.length ? (console.warn("THREE.WebGLRenderer: Skeleton has " + i.length + " bones. This GPU supports " + o + "."), 0) : o
                }

                function r(t, e) {
                    var i;
                    return t ? t.isTexture ? i = t.encoding : t.isWebGLRenderTarget && (console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."), i = t.texture.encoding) : i = dl, i === dl && e && (i = ml), i
                }
                var o = [],
                    s = i.isWebGL2,
                    a = i.logarithmicDepthBuffer,
                    h = i.floatVertexTextures,
                    l = i.precision,
                    u = i.maxVertexUniforms,
                    c = i.vertexTextures,
                    p = {
                        MeshDepthMaterial: "depth",
                        MeshDistanceMaterial: "distanceRGBA",
                        MeshNormalMaterial: "normal",
                        MeshBasicMaterial: "basic",
                        MeshLambertMaterial: "lambert",
                        MeshPhongMaterial: "phong",
                        MeshToonMaterial: "phong",
                        MeshStandardMaterial: "physical",
                        MeshPhysicalMaterial: "physical",
                        MeshMatcapMaterial: "matcap",
                        LineBasicMaterial: "basic",
                        LineDashedMaterial: "dashed",
                        PointsMaterial: "points",
                        ShadowMaterial: "shadow",
                        SpriteMaterial: "sprite"
                    },
                    d = ["precision", "isWebGL2", "supportsVertexTextures", "outputEncoding", "instancing", "numMultiviewViews", "map", "mapEncoding", "matcap", "matcapEncoding", "envMap", "envMapMode", "envMapEncoding", "envMapCubeUV", "lightMap", "aoMap", "emissiveMap", "emissiveMapEncoding", "bumpMap", "normalMap", "objectSpaceNormalMap", "tangentSpaceNormalMap", "clearcoatNormalMap", "displacementMap", "specularMap", "roughnessMap", "metalnessMap", "gradientMap", "alphaMap", "combine", "vertexColors", "vertexTangents", "vertexUvs", "uvsVertexOnly", "fog", "useFog", "fogExp2", "flatShading", "sizeAttenuation", "logarithmicDepthBuffer", "skinning", "maxBones", "useVertexTexture", "morphTargets", "morphNormals", "maxMorphTargets", "maxMorphNormals", "premultipliedAlpha", "numDirLights", "numPointLights", "numSpotLights", "numHemiLights", "numRectAreaLights", "numDirLightShadows", "numPointLightShadows", "numSpotLightShadows", "shadowMapEnabled", "shadowMapType", "toneMapping", "physicallyCorrectLights", "alphaTest", "doubleSided", "flipSided", "numClippingPlanes", "numClipIntersection", "depthPacking", "dithering", "sheen"];
                this.getParameters = function (e, o, u, d, f, m, g) {
                    var v = p[e.type],
                        _ = g.isSkinnedMesh ? n(g) : 0;
                    null !== e.precision && (l = i.getMaxPrecision(e.precision), l !== e.precision && console.warn("THREE.WebGLProgram.getParameters:", e.precision, "not supported, using", l, "instead."));
                    var y = t.getRenderTarget(),
                        x = y && y.isWebGLMultiviewRenderTarget ? y.numViews : 0,
                        w = {
                            isWebGL2: s,
                            shaderID: v,
                            precision: l,
                            instancing: g.isInstancedMesh === !0,
                            supportsVertexTextures: c,
                            numMultiviewViews: x,
                            outputEncoding: r(y ? y.texture : null, t.gammaOutput),
                            map: !!e.map,
                            mapEncoding: r(e.map, t.gammaInput),
                            matcap: !!e.matcap,
                            matcapEncoding: r(e.matcap, t.gammaInput),
                            envMap: !!e.envMap,
                            envMapMode: e.envMap && e.envMap.mapping,
                            envMapEncoding: r(e.envMap, t.gammaInput),
                            envMapCubeUV: !!e.envMap && (e.envMap.mapping === Ja || e.envMap.mapping === $a),
                            lightMap: !!e.lightMap,
                            aoMap: !!e.aoMap,
                            emissiveMap: !!e.emissiveMap,
                            emissiveMapEncoding: r(e.emissiveMap, t.gammaInput),
                            bumpMap: !!e.bumpMap,
                            normalMap: !!e.normalMap,
                            objectSpaceNormalMap: e.normalMapType === Tl,
                            tangentSpaceNormalMap: e.normalMapType === Sl,
                            clearcoatNormalMap: !!e.clearcoatNormalMap,
                            displacementMap: !!e.displacementMap,
                            roughnessMap: !!e.roughnessMap,
                            metalnessMap: !!e.metalnessMap,
                            specularMap: !!e.specularMap,
                            alphaMap: !!e.alphaMap,
                            gradientMap: !!e.gradientMap,
                            sheen: !!e.sheen,
                            combine: e.combine,
                            vertexTangents: e.normalMap && e.vertexTangents,
                            vertexColors: e.vertexColors,
                            vertexUvs: !!(e.map || e.bumpMap || e.normalMap || e.specularMap || e.alphaMap || e.emissiveMap || e.roughnessMap || e.metalnessMap || e.clearcoatNormalMap || e.displacementMap),
                            uvsVertexOnly: !(e.map || e.bumpMap || e.normalMap || e.specularMap || e.alphaMap || e.emissiveMap || e.roughnessMap || e.metalnessMap || e.clearcoatNormalMap || !e.displacementMap),
                            fog: !!d,
                            useFog: e.fog,
                            fogExp2: d && d.isFogExp2,
                            flatShading: e.flatShading,
                            sizeAttenuation: e.sizeAttenuation,
                            logarithmicDepthBuffer: a,
                            skinning: e.skinning && _ > 0,
                            maxBones: _,
                            useVertexTexture: h,
                            morphTargets: e.morphTargets,
                            morphNormals: e.morphNormals,
                            maxMorphTargets: t.maxMorphTargets,
                            maxMorphNormals: t.maxMorphNormals,
                            numDirLights: o.directional.length,
                            numPointLights: o.point.length,
                            numSpotLights: o.spot.length,
                            numRectAreaLights: o.rectArea.length,
                            numHemiLights: o.hemi.length,
                            numDirLightShadows: o.directionalShadowMap.length,
                            numPointLightShadows: o.pointShadowMap.length,
                            numSpotLightShadows: o.spotShadowMap.length,
                            numClippingPlanes: f,
                            numClipIntersection: m,
                            dithering: e.dithering,
                            shadowMapEnabled: t.shadowMap.enabled && u.length > 0,
                            shadowMapType: t.shadowMap.type,
                            toneMapping: e.toneMapped ? t.toneMapping : Ba,
                            physicallyCorrectLights: t.physicallyCorrectLights,
                            premultipliedAlpha: e.premultipliedAlpha,
                            alphaTest: e.alphaTest,
                            doubleSided: e.side === Qs,
                            flipSided: e.side === Ks,
                            depthPacking: void 0 !== e.depthPacking && e.depthPacking
                        };
                    return w
                }, this.getProgramCacheKey = function (e, i) {
                    var n = [];
                    if (i.shaderID ? n.push(i.shaderID) : (n.push(e.fragmentShader), n.push(e.vertexShader)), void 0 !== e.defines)
                        for (var r in e.defines) n.push(r), n.push(e.defines[r]);
                    for (var o = 0; o < d.length; o++) n.push(i[d[o]]);
                    return n.push(e.onBeforeCompile.toString()), n.push(t.gammaOutput), n.push(t.gammaFactor), n.join()
                }, this.acquireProgram = function (i, n, r, s) {
                    for (var a, h = 0, l = o.length; h < l; h++) {
                        var u = o[h];
                        if (u.cacheKey === s) {
                            a = u, ++a.usedTimes;
                            break
                        }
                    }
                    return void 0 === a && (a = new Ee(t, e, s, i, n, r), o.push(a)), a
                }, this.releaseProgram = function (t) {
                    if (0 === --t.usedTimes) {
                        var e = o.indexOf(t);
                        o[e] = o[o.length - 1], o.pop(), t.destroy()
                    }
                }, this.programs = o
            }

            function Ce() {
                function t(t) {
                    var e = r.get(t);
                    return void 0 === e && (e = {}, r.set(t, e)), e
                }

                function e(t) {
                    r.delete(t)
                }

                function i(t, e, i) {
                    r.get(t)[e] = i
                }

                function n() {
                    r = new WeakMap
                }
                var r = new WeakMap;
                return {
                    get: t,
                    remove: e,
                    update: i,
                    dispose: n
                }
            }

            function Pe(t, e) {
                return t.groupOrder !== e.groupOrder ? t.groupOrder - e.groupOrder : t.renderOrder !== e.renderOrder ? t.renderOrder - e.renderOrder : t.program !== e.program ? t.program.id - e.program.id : t.material.id !== e.material.id ? t.material.id - e.material.id : t.z !== e.z ? t.z - e.z : t.id - e.id
            }

            function Re(t, e) {
                return t.groupOrder !== e.groupOrder ? t.groupOrder - e.groupOrder : t.renderOrder !== e.renderOrder ? t.renderOrder - e.renderOrder : t.z !== e.z ? e.z - t.z : t.id - e.id
            }

            function Le() {
                function t() {
                    s = 0, a.length = 0, h.length = 0
                }

                function e(t, e, i, n, r, a) {
                    var h = o[s];
                    return void 0 === h ? (h = {
                        id: t.id,
                        object: t,
                        geometry: e,
                        material: i,
                        program: i.program || l,
                        groupOrder: n,
                        renderOrder: t.renderOrder,
                        z: r,
                        group: a
                    }, o[s] = h) : (h.id = t.id, h.object = t, h.geometry = e, h.material = i, h.program = i.program || l, h.groupOrder = n, h.renderOrder = t.renderOrder, h.z = r, h.group = a), s++, h
                }

                function i(t, i, n, r, o, s) {
                    var l = e(t, i, n, r, o, s);
                    (n.transparent === !0 ? h : a).push(l)
                }

                function n(t, i, n, r, o, s) {
                    var l = e(t, i, n, r, o, s);
                    (n.transparent === !0 ? h : a).unshift(l)
                }

                function r() {
                    a.length > 1 && a.sort(Pe), h.length > 1 && h.sort(Re)
                }
                var o = [],
                    s = 0,
                    a = [],
                    h = [],
                    l = {
                        id: -1
                    };
                return {
                    opaque: a,
                    transparent: h,
                    init: t,
                    push: i,
                    unshift: n,
                    sort: r
                }
            }

            function Oe() {
                function t(e) {
                    var i = e.target;
                    i.removeEventListener("dispose", t), n.delete(i)
                }

                function e(e, i) {
                    var r, o = n.get(e);
                    return void 0 === o ? (r = new Le, n.set(e, new WeakMap), n.get(e).set(i, r), e.addEventListener("dispose", t)) : (r = o.get(i), void 0 === r && (r = new Le, o.set(i, r))), r
                }

                function i() {
                    n = new WeakMap
                }
                var n = new WeakMap;
                return {
                    get: e,
                    dispose: i
                }
            }

            function Ie() {
                var t = {};
                return {
                    get: function (e) {
                        if (void 0 !== t[e.id]) return t[e.id];
                        var n;
                        switch (e.type) {
                        case "DirectionalLight":
                            n = {
                                direction: new r,
                                color: new w,
                                shadow: !1,
                                shadowBias: 0,
                                shadowRadius: 1,
                                shadowMapSize: new i
                            };
                            break;
                        case "SpotLight":
                            n = {
                                position: new r,
                                direction: new r,
                                color: new w,
                                distance: 0,
                                coneCos: 0,
                                penumbraCos: 0,
                                decay: 0,
                                shadow: !1,
                                shadowBias: 0,
                                shadowRadius: 1,
                                shadowMapSize: new i
                            };
                            break;
                        case "PointLight":
                            n = {
                                position: new r,
                                color: new w,
                                distance: 0,
                                decay: 0,
                                shadow: !1,
                                shadowBias: 0,
                                shadowRadius: 1,
                                shadowMapSize: new i,
                                shadowCameraNear: 1,
                                shadowCameraFar: 1e3
                            };
                            break;
                        case "HemisphereLight":
                            n = {
                                direction: new r,
                                skyColor: new w,
                                groundColor: new w
                            };
                            break;
                        case "RectAreaLight":
                            n = {
                                color: new w,
                                position: new r,
                                halfWidth: new r,
                                halfHeight: new r
                            }
                        }
                        return t[e.id] = n, n
                    }
                }
            }

            function De(t, e) {
                return (e.castShadow ? 1 : 0) - (t.castShadow ? 1 : 0)
            }

            function ke() {
                function t(t, n, r) {
                    for (var h = 0, l = 0, u = 0, c = 0; c < 9; c++) i.probe[c].set(0, 0, 0);
                    var p = 0,
                        d = 0,
                        f = 0,
                        m = 0,
                        g = 0,
                        v = 0,
                        _ = 0,
                        y = 0,
                        x = r.matrixWorldInverse;
                    t.sort(De);
                    for (var c = 0, w = t.length; c < w; c++) {
                        var b = t[c],
                            S = b.color,
                            T = b.intensity,
                            M = b.distance,
                            E = b.shadow && b.shadow.map ? b.shadow.map.texture : null;
                        if (b.isAmbientLight) h += S.r * T, l += S.g * T, u += S.b * T;
                        else if (b.isLightProbe)
                            for (var A = 0; A < 9; A++) i.probe[A].addScaledVector(b.sh.coefficients[A], T);
                        else if (b.isDirectionalLight) {
                            var C = e.get(b);
                            if (C.color.copy(b.color).multiplyScalar(b.intensity), C.direction.setFromMatrixPosition(b.matrixWorld), o.setFromMatrixPosition(b.target.matrixWorld), C.direction.sub(o), C.direction.transformDirection(x), C.shadow = b.castShadow, b.castShadow) {
                                var P = b.shadow;
                                C.shadowBias = P.bias, C.shadowRadius = P.radius, C.shadowMapSize = P.mapSize, i.directionalShadowMap[p] = E, i.directionalShadowMatrix[p] = b.shadow.matrix, v++
                            }
                            i.directional[p] = C, p++
                        } else if (b.isSpotLight) {
                            var C = e.get(b);
                            if (C.position.setFromMatrixPosition(b.matrixWorld), C.position.applyMatrix4(x), C.color.copy(S).multiplyScalar(T), C.distance = M, C.direction.setFromMatrixPosition(b.matrixWorld), o.setFromMatrixPosition(b.target.matrixWorld), C.direction.sub(o), C.direction.transformDirection(x), C.coneCos = Math.cos(b.angle), C.penumbraCos = Math.cos(b.angle * (1 - b.penumbra)), C.decay = b.decay, C.shadow = b.castShadow, b.castShadow) {
                                var P = b.shadow;
                                C.shadowBias = P.bias, C.shadowRadius = P.radius, C.shadowMapSize = P.mapSize, i.spotShadowMap[f] = E, i.spotShadowMatrix[f] = b.shadow.matrix, y++
                            }
                            i.spot[f] = C, f++
                        } else if (b.isRectAreaLight) {
                            var C = e.get(b);
                            C.color.copy(S).multiplyScalar(T), C.position.setFromMatrixPosition(b.matrixWorld), C.position.applyMatrix4(x), a.identity(), s.copy(b.matrixWorld), s.premultiply(x), a.extractRotation(s), C.halfWidth.set(.5 * b.width, 0, 0), C.halfHeight.set(0, .5 * b.height, 0), C.halfWidth.applyMatrix4(a), C.halfHeight.applyMatrix4(a), i.rectArea[m] = C, m++
                        } else if (b.isPointLight) {
                            var C = e.get(b);
                            if (C.position.setFromMatrixPosition(b.matrixWorld), C.position.applyMatrix4(x), C.color.copy(b.color).multiplyScalar(b.intensity), C.distance = b.distance, C.decay = b.decay, C.shadow = b.castShadow, b.castShadow) {
                                var P = b.shadow;
                                C.shadowBias = P.bias, C.shadowRadius = P.radius, C.shadowMapSize = P.mapSize, C.shadowCameraNear = P.camera.near, C.shadowCameraFar = P.camera.far, i.pointShadowMap[d] = E, i.pointShadowMatrix[d] = b.shadow.matrix, _++
                            }
                            i.point[d] = C, d++
                        } else if (b.isHemisphereLight) {
                            var C = e.get(b);
                            C.direction.setFromMatrixPosition(b.matrixWorld), C.direction.transformDirection(x), C.direction.normalize(), C.skyColor.copy(b.color).multiplyScalar(T), C.groundColor.copy(b.groundColor).multiplyScalar(T), i.hemi[g] = C, g++
                        }
                    }
                    i.ambient[0] = h, i.ambient[1] = l, i.ambient[2] = u;
                    var R = i.hash;
                    R.directionalLength === p && R.pointLength === d && R.spotLength === f && R.rectAreaLength === m && R.hemiLength === g && R.numDirectionalShadows === v && R.numPointShadows === _ && R.numSpotShadows === y || (i.directional.length = p, i.spot.length = f, i.rectArea.length = m, i.point.length = d, i.hemi.length = g, i.directionalShadowMap.length = v, i.pointShadowMap.length = _, i.spotShadowMap.length = y, i.directionalShadowMatrix.length = v, i.pointShadowMatrix.length = _, i.spotShadowMatrix.length = y, R.directionalLength = p, R.pointLength = d, R.spotLength = f, R.rectAreaLength = m, R.hemiLength = g, R.numDirectionalShadows = v, R.numPointShadows = _, R.numSpotShadows = y, i.version = Mf++)
                }
                for (var e = new Ie, i = {
                    version: 0,
                    hash: {
                        directionalLength: -1,
                        pointLength: -1,
                        spotLength: -1,
                        rectAreaLength: -1,
                        hemiLength: -1,
                        numDirectionalShadows: -1,
                        numPointShadows: -1,
                        numSpotShadows: -1
                    },
                    ambient: [0, 0, 0],
                    probe: [],
                    directional: [],
                    directionalShadowMap: [],
                    directionalShadowMatrix: [],
                    spot: [],
                    spotShadowMap: [],
                    spotShadowMatrix: [],
                    rectArea: [],
                    point: [],
                    pointShadowMap: [],
                    pointShadowMatrix: [],
                    hemi: [],
                    numDirectionalShadows: -1,
                    numPointShadows: -1,
                    numSpotShadows: -1
                }, n = 0; n < 9; n++) i.probe.push(new r);
                var o = new r,
                    s = new u,
                    a = new u;
                return {
                    setup: t,
                    state: i
                }
            }

            function Ne() {
                function t() {
                    o.length = 0, s.length = 0
                }

                function e(t) {
                    o.push(t)
                }

                function i(t) {
                    s.push(t)
                }

                function n(t) {
                    r.setup(o, s, t)
                }
                var r = new ke,
                    o = [],
                    s = [],
                    a = {
                        lightsArray: o,
                        shadowsArray: s,
                        lights: r
                    };
                return {
                    init: t,
                    state: a,
                    setupLights: n,
                    pushLight: e,
                    pushShadow: i
                }
            }

            function ze() {
                function t(e) {
                    var i = e.target;
                    i.removeEventListener("dispose", t), n.delete(i)
                }

                function e(e, i) {
                    var r;
                    return n.has(e) === !1 ? (r = new Ne, n.set(e, new WeakMap), n.get(e).set(i, r), e.addEventListener("dispose", t)) : n.get(e).has(i) === !1 ? (r = new Ne, n.get(e).set(i, r)) : r = n.get(e).get(i), r
                }

                function i() {
                    n = new WeakMap
                }
                var n = new WeakMap;
                return {
                    get: e,
                    dispose: i
                }
            }

            function Be(t) {
                E.call(this), this.type = "MeshDepthMaterial", this.depthPacking = wl, this.skinning = !1, this.morphTargets = !1, this.map = null, this.alphaMap = null, this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.setValues(t)
            }

            function Fe(t) {
                E.call(this), this.type = "MeshDistanceMaterial", this.referencePosition = new r, this.nearDistance = 1, this.farDistance = 1e3, this.skinning = !1, this.morphTargets = !1, this.map = null, this.alphaMap = null, this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.fog = !1, this.setValues(t)
            }

            function He(t, e, n) {
                function r(i, n) {
                    var r = e.update(b);
                    y.uniforms.shadow_pass.value = i.map.texture, y.uniforms.resolution.value = i.mapSize, y.uniforms.radius.value = i.radius, t.setRenderTarget(i.mapPass), t.clear(), t.renderBufferDirect(n, null, r, y, b, null), x.uniforms.shadow_pass.value = i.mapPass.texture, x.uniforms.resolution.value = i.mapSize, x.uniforms.radius.value = i.radius, t.setRenderTarget(i.map), t.clear(), t.renderBufferDirect(n, null, r, x, b, null)
                }

                function o(t, e, i) {
                    var n = t << 0 | e << 1 | i << 2,
                        r = m[n];
                    return void 0 === r && (r = new Be({
                        depthPacking: bl,
                        morphTargets: t,
                        skinning: e
                    }), m[n] = r), r
                }

                function s(t, e, i) {
                    var n = t << 0 | e << 1 | i << 2,
                        r = g[n];
                    return void 0 === r && (r = new Fe({
                        morphTargets: t,
                        skinning: e
                    }), g[n] = r), r
                }

                function l(e, i, n, r, a, h) {
                    var l = e.geometry,
                        u = null,
                        c = o,
                        p = e.customDepthMaterial;
                    if (n.isPointLight === !0 && (c = s, p = e.customDistanceMaterial), void 0 === p) {
                        var d = !1;
                        i.morphTargets === !0 && (l.isBufferGeometry === !0 ? d = l.morphAttributes && l.morphAttributes.position && l.morphAttributes.position.length > 0 : l.isGeometry === !0 && (d = l.morphTargets && l.morphTargets.length > 0));
                        var f = !1;
                        e.isSkinnedMesh === !0 && (i.skinning === !0 ? f = !0 : console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:", e));
                        var m = e.isInstancedMesh === !0;
                        u = c(d, f, m)
                    } else u = p; if (t.localClippingEnabled && i.clipShadows === !0 && 0 !== i.clippingPlanes.length) {
                        var g = u.uuid,
                            y = i.uuid,
                            x = v[g];
                        void 0 === x && (x = {}, v[g] = x);
                        var w = x[y];
                        void 0 === w && (w = u.clone(), x[y] = w), u = w
                    }
                    return u.visible = i.visible, u.wireframe = i.wireframe, h === Js ? u.side = null !== i.shadowSide ? i.shadowSide : i.side : u.side = null !== i.shadowSide ? i.shadowSide : _[i.side], u.clipShadows = i.clipShadows, u.clippingPlanes = i.clippingPlanes, u.clipIntersection = i.clipIntersection, u.wireframeLinewidth = i.wireframeLinewidth, u.linewidth = i.linewidth, n.isPointLight === !0 && u.isMeshDistanceMaterial === !0 && (u.referencePosition.setFromMatrixPosition(n.matrixWorld), u.nearDistance = r, u.farDistance = a), u
                }

                function u(i, n, r, o, s) {
                    if (i.visible !== !1) {
                        var a = i.layers.test(n.layers);
                        if (a && (i.isMesh || i.isLine || i.isPoints) && (i.castShadow || i.receiveShadow && s === Js) && (!i.frustumCulled || c.intersectsObject(i))) {
                            i.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse, i.matrixWorld);
                            var h = e.update(i),
                                p = i.material;
                            if (Array.isArray(p))
                                for (var d = h.groups, f = 0, m = d.length; f < m; f++) {
                                    var g = d[f],
                                        v = p[g.materialIndex];
                                    if (v && v.visible) {
                                        var _ = l(i, v, o, r.near, r.far, s);
                                        t.renderBufferDirect(r, null, h, _, i, g)
                                    }
                                } else if (p.visible) {
                                    var _ = l(i, p, o, r.near, r.far, s);
                                    t.renderBufferDirect(r, null, h, _, i, null);
                                }
                        }
                        for (var y = i.children, x = 0, w = y.length; x < w; x++) u(y[x], n, r, o, s)
                    }
                }
                var c = new Q,
                    p = new i,
                    d = new i,
                    f = new a,
                    m = [],
                    g = [],
                    v = {},
                    _ = {
                        0: Ks,
                        1: $s,
                        2: Qs
                    },
                    y = new X({
                        defines: {
                            SAMPLE_RATE: .25,
                            HALF_SAMPLE_RATE: 1 / 8
                        },
                        uniforms: {
                            shadow_pass: {
                                value: null
                            },
                            resolution: {
                                value: new i
                            },
                            radius: {
                                value: 4
                            }
                        },
                        vertexShader: Af,
                        fragmentShader: Ef
                    }),
                    x = y.clone();
                x.defines.HORIZONAL_PASS = 1;
                var w = new H;
                w.setAttribute("position", new C(new Float32Array([-1, -1, .5, 3, -1, .5, -1, 3, .5]), 3));
                var b = new U(w, y),
                    S = this;
                this.enabled = !1, this.autoUpdate = !0, this.needsUpdate = !1, this.type = Ys, this.render = function (e, i, o) {
                    if (S.enabled !== !1 && (S.autoUpdate !== !1 || S.needsUpdate !== !1) && 0 !== e.length) {
                        var s = t.getRenderTarget(),
                            a = t.getActiveCubeFace(),
                            l = t.getActiveMipmapLevel(),
                            m = t.state;
                        m.setBlending(oa), m.buffers.color.setClear(1, 1, 1, 1), m.buffers.depth.setTest(!0), m.setScissorTest(!1);
                        for (var g = 0, v = e.length; g < v; g++) {
                            var _ = e[g],
                                y = _.shadow;
                            if (void 0 !== y) {
                                p.copy(y.mapSize);
                                var x = y.getFrameExtents();
                                if (p.multiply(x), d.copy(y.mapSize), (p.x > n || p.y > n) && (console.warn("THREE.WebGLShadowMap:", _, "has shadow exceeding max texture size, reducing"), p.x > n && (d.x = Math.floor(n / x.x), p.x = d.x * x.x, y.mapSize.x = d.x), p.y > n && (d.y = Math.floor(n / x.y), p.y = d.y * x.y, y.mapSize.y = d.y)), null === y.map && !y.isPointLightShadow && this.type === Js) {
                                    var w = {
                                        minFilter: sh,
                                        magFilter: sh,
                                        format: Mh
                                    };
                                    y.map = new h(p.x, p.y, w), y.map.texture.name = _.name + ".shadowMap", y.mapPass = new h(p.x, p.y, w), y.camera.updateProjectionMatrix()
                                }
                                if (null === y.map) {
                                    var w = {
                                        minFilter: eh,
                                        magFilter: eh,
                                        format: Mh
                                    };
                                    y.map = new h(p.x, p.y, w), y.map.texture.name = _.name + ".shadowMap", y.camera.updateProjectionMatrix()
                                }
                                t.setRenderTarget(y.map), t.clear();
                                for (var b = y.getViewportCount(), T = 0; T < b; T++) {
                                    var M = y.getViewport(T);
                                    f.set(d.x * M.x, d.y * M.y, d.x * M.z, d.y * M.w), m.viewport(f), y.updateMatrices(_, T), c = y.getFrustum(), u(i, o, y.camera, _, this.type)
                                }
                                y.isPointLightShadow || this.type !== Js || r(y, o)
                            } else console.warn("THREE.WebGLShadowMap:", _, "has no shadow.")
                        }
                        S.needsUpdate = !1, t.setRenderTarget(s, a, l)
                    }
                }
            }

            function Ue(t, e, i) {
                function n() {
                    var e = !1,
                        i = new a,
                        n = null,
                        r = new a(0, 0, 0, 0);
                    return {
                        setMask: function (i) {
                            n === i || e || (t.colorMask(i, i, i, i), n = i)
                        }, setLocked: function (t) {
                            e = t
                        }, setClear: function (e, n, o, s, a) {
                            a === !0 && (e *= s, n *= s, o *= s), i.set(e, n, o, s), r.equals(i) === !1 && (t.clearColor(e, n, o, s), r.copy(i))
                        }, reset: function () {
                            e = !1, n = null, r.set(-1, 0, 0, 0)
                        }
                    }
                }

                function r() {
                    var e = !1,
                        i = null,
                        n = null,
                        r = null;
                    return {
                        setTest: function (t) {
                            t ? p(2929) : d(2929)
                        }, setMask: function (n) {
                            i === n || e || (t.depthMask(n), i = n)
                        }, setFunc: function (e) {
                            if (n !== e) {
                                if (e) switch (e) {
                                case Aa:
                                    t.depthFunc(512);
                                    break;
                                case Ca:
                                    t.depthFunc(519);
                                    break;
                                case Pa:
                                    t.depthFunc(513);
                                    break;
                                case Ra:
                                    t.depthFunc(515);
                                    break;
                                case La:
                                    t.depthFunc(514);
                                    break;
                                case Oa:
                                    t.depthFunc(518);
                                    break;
                                case Ia:
                                    t.depthFunc(516);
                                    break;
                                case Da:
                                    t.depthFunc(517);
                                    break;
                                default:
                                    t.depthFunc(515)
                                } else t.depthFunc(515);
                                n = e
                            }
                        }, setLocked: function (t) {
                            e = t
                        }, setClear: function (e) {
                            r !== e && (t.clearDepth(e), r = e)
                        }, reset: function () {
                            e = !1, i = null, n = null, r = null
                        }
                    }
                }

                function o() {
                    var e = !1,
                        i = null,
                        n = null,
                        r = null,
                        o = null,
                        s = null,
                        a = null,
                        h = null,
                        l = null;
                    return {
                        setTest: function (t) {
                            e || (t ? p(2960) : d(2960))
                        }, setMask: function (n) {
                            i === n || e || (t.stencilMask(n), i = n)
                        }, setFunc: function (e, i, s) {
                            n === e && r === i && o === s || (t.stencilFunc(e, i, s), n = e, r = i, o = s)
                        }, setOp: function (e, i, n) {
                            s === e && a === i && h === n || (t.stencilOp(e, i, n), s = e, a = i, h = n)
                        }, setLocked: function (t) {
                            e = t
                        }, setClear: function (e) {
                            l !== e && (t.clearStencil(e), l = e)
                        }, reset: function () {
                            e = !1, i = null, n = null, r = null, o = null, s = null, a = null, h = null, l = null
                        }
                    }
                }

                function s(e, i, n) {
                    var r = new Uint8Array(4),
                        o = t.createTexture();
                    t.bindTexture(e, o), t.texParameteri(e, 10241, 9728), t.texParameteri(e, 10240, 9728);
                    for (var s = 0; s < n; s++) t.texImage2D(i + s, 0, 6408, 1, 1, 0, 6408, 5121, r);
                    return o
                }

                function h() {
                    for (var t = 0, e = N.length; t < e; t++) N[t] = 0
                }

                function l(t) {
                    u(t, 0)
                }

                function u(i, n) {
                    if (N[i] = 1, 0 === z[i] && (t.enableVertexAttribArray(i), z[i] = 1), B[i] !== n) {
                        var r = L ? t : e.get("ANGLE_instanced_arrays");
                        r[L ? "vertexAttribDivisor" : "vertexAttribDivisorANGLE"](i, n), B[i] = n
                    }
                }

                function c() {
                    for (var e = 0, i = z.length; e !== i; ++e) z[e] !== N[e] && (t.disableVertexAttribArray(e), z[e] = 0)
                }

                function p(e) {
                    F[e] !== !0 && (t.enable(e), F[e] = !0)
                }

                function d(e) {
                    F[e] !== !1 && (t.disable(e), F[e] = !1)
                }

                function f(e) {
                    return H !== e && (t.useProgram(e), H = e, !0)
                }

                function m(e, i, n, r, o, s, a, h) {
                    if (e === oa) return void(U && (d(3042), U = !1));
                    if (U || (p(3042), U = !0), e === ua) o = o || i, s = s || n, a = a || r, i === j && o === q || (t.blendEquationSeparate(ut[i], ut[o]), j = i, q = o), n === V && r === W && s === X && a === Y || (t.blendFuncSeparate(pt[n], pt[r], pt[s], pt[a]), V = n, W = r, X = s, Y = a), G = e, Z = null;
                    else if (e !== G || h !== Z) {
                        if (j === ca && q === ca || (t.blendEquation(32774), j = ca, q = ca), h) switch (e) {
                        case sa:
                            t.blendFuncSeparate(1, 771, 1, 771);
                            break;
                        case aa:
                            t.blendFunc(1, 1);
                            break;
                        case ha:
                            t.blendFuncSeparate(0, 0, 769, 771);
                            break;
                        case la:
                            t.blendFuncSeparate(0, 768, 0, 770);
                            break;
                        default:
                            console.error("THREE.WebGLState: Invalid blending: ", e)
                        } else switch (e) {
                        case sa:
                            t.blendFuncSeparate(770, 771, 1, 771);
                            break;
                        case aa:
                            t.blendFunc(770, 1);
                            break;
                        case ha:
                            t.blendFunc(0, 769);
                            break;
                        case la:
                            t.blendFunc(0, 768);
                            break;
                        default:
                            console.error("THREE.WebGLState: Invalid blending: ", e)
                        }
                        V = null, W = null, X = null, Y = null, G = e, Z = h
                    }
                }

                function g(t, e) {
                    t.side === Qs ? d(2884) : p(2884);
                    var i = t.side === Ks;
                    e && (i = !i), v(i), t.blending === sa && t.transparent === !1 ? m(oa) : m(t.blending, t.blendEquation, t.blendSrc, t.blendDst, t.blendEquationAlpha, t.blendSrcAlpha, t.blendDstAlpha, t.premultipliedAlpha), I.setFunc(t.depthFunc), I.setTest(t.depthTest), I.setMask(t.depthWrite), O.setMask(t.colorWrite);
                    var n = t.stencilWrite;
                    D.setTest(n), n && (D.setMask(t.stencilWriteMask), D.setFunc(t.stencilFunc, t.stencilRef, t.stencilFuncMask), D.setOp(t.stencilFail, t.stencilZFail, t.stencilZPass)), x(t.polygonOffset, t.polygonOffsetFactor, t.polygonOffsetUnits)
                }

                function v(e) {
                    J !== e && (e ? t.frontFace(2304) : t.frontFace(2305), J = e)
                }

                function _(e) {
                    e !== Us ? (p(2884), e !== $ && (e === Gs ? t.cullFace(1029) : e === js ? t.cullFace(1028) : t.cullFace(1032))) : d(2884), $ = e
                }

                function y(e) {
                    e !== K && (it && t.lineWidth(e), K = e)
                }

                function x(e, i, n) {
                    e ? (p(32823), Q === i && tt === n || (t.polygonOffset(i, n), Q = i, tt = n)) : d(32823)
                }

                function w(t) {
                    t ? p(3089) : d(3089)
                }

                function b(e) {
                    void 0 === e && (e = 33984 + et - 1), ot !== e && (t.activeTexture(e), ot = e)
                }

                function S(e, i) {
                    null === ot && b();
                    var n = st[ot];
                    void 0 === n && (n = {
                        type: void 0,
                        texture: void 0
                    }, st[ot] = n), n.type === e && n.texture === i || (t.bindTexture(e, i || lt[e]), n.type = e, n.texture = i)
                }

                function T() {
                    var e = st[ot];
                    void 0 !== e && void 0 !== e.type && (t.bindTexture(e.type, null), e.type = void 0, e.texture = void 0)
                }

                function M() {
                    try {
                        t.compressedTexImage2D.apply(t, arguments)
                    } catch (t) {
                        console.error("THREE.WebGLState:", t)
                    }
                }

                function E() {
                    try {
                        t.texImage2D.apply(t, arguments)
                    } catch (t) {
                        console.error("THREE.WebGLState:", t)
                    }
                }

                function A() {
                    try {
                        t.texImage3D.apply(t, arguments)
                    } catch (t) {
                        console.error("THREE.WebGLState:", t)
                    }
                }

                function C(e) {
                    at.equals(e) === !1 && (t.scissor(e.x, e.y, e.z, e.w), at.copy(e))
                }

                function P(e) {
                    ht.equals(e) === !1 && (t.viewport(e.x, e.y, e.z, e.w), ht.copy(e))
                }

                function R() {
                    for (var e = 0; e < z.length; e++) 1 === z[e] && (t.disableVertexAttribArray(e), z[e] = 0);
                    F = {}, ot = null, st = {}, H = null, G = null, J = null, $ = null, O.reset(), I.reset(), D.reset()
                }
                var L = i.isWebGL2,
                    O = new n,
                    I = new r,
                    D = new o,
                    k = t.getParameter(34921),
                    N = new Uint8Array(k),
                    z = new Uint8Array(k),
                    B = new Uint8Array(k),
                    F = {},
                    H = null,
                    U = null,
                    G = null,
                    j = null,
                    V = null,
                    W = null,
                    q = null,
                    X = null,
                    Y = null,
                    Z = !1,
                    J = null,
                    $ = null,
                    K = null,
                    Q = null,
                    tt = null,
                    et = t.getParameter(35661),
                    it = !1,
                    nt = 0,
                    rt = t.getParameter(7938);
                rt.indexOf("WebGL") !== -1 ? (nt = parseFloat(/^WebGL\ ([0-9])/.exec(rt)[1]), it = nt >= 1) : rt.indexOf("OpenGL ES") !== -1 && (nt = parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(rt)[1]), it = nt >= 2);
                var ot = null,
                    st = {},
                    at = new a,
                    ht = new a,
                    lt = {};
                lt[3553] = s(3553, 3553, 1), lt[34067] = s(34067, 34069, 6), O.setClear(0, 0, 0, 1), I.setClear(1), D.setClear(0), p(2929), I.setFunc(Ra), v(!1), _(Gs), p(2884), m(oa);
                var ut = {};
                if (ut[ca] = 32774, ut[pa] = 32778, ut[da] = 32779, L) ut[fa] = 32775, ut[ma] = 32776;
                else {
                    var ct = e.get("EXT_blend_minmax");
                    null !== ct && (ut[fa] = ct.MIN_EXT, ut[ma] = ct.MIN_EXT)
                }
                var pt = {};
                return pt[ga] = 0, pt[va] = 1, pt[_a] = 768, pt[xa] = 770, pt[Ea] = 776, pt[Ta] = 774, pt[ba] = 772, pt[ya] = 769, pt[wa] = 771, pt[Ma] = 775, pt[Sa] = 773, {
                    buffers: {
                        color: O,
                        depth: I,
                        stencil: D
                    },
                    initAttributes: h,
                    enableAttribute: l,
                    enableAttributeAndDivisor: u,
                    disableUnusedAttributes: c,
                    enable: p,
                    disable: d,
                    useProgram: f,
                    setBlending: m,
                    setMaterial: g,
                    setFlipSided: v,
                    setCullFace: _,
                    setLineWidth: y,
                    setPolygonOffset: x,
                    setScissorTest: w,
                    activeTexture: b,
                    bindTexture: S,
                    unbindTexture: T,
                    compressedTexImage2D: M,
                    texImage2D: E,
                    texImage3D: A,
                    scissor: C,
                    viewport: P,
                    reset: R
                }
            }

            function Ge(t, e, i, n, r, o, s) {
                function a(t, e) {
                    return X ? new OffscreenCanvas(t, e) : document.createElementNS("http://www.w3.org/1999/xhtml", "canvas")
                }

                function h(t, e, i, n) {
                    var r = 1;
                    if ((t.width > n || t.height > n) && (r = n / Math.max(t.width, t.height)), r < 1 || e === !0) {
                        if ("undefined" != typeof HTMLImageElement && t instanceof HTMLImageElement || "undefined" != typeof HTMLCanvasElement && t instanceof HTMLCanvasElement || "undefined" != typeof ImageBitmap && t instanceof ImageBitmap) {
                            var o = e ? Kl.floorPowerOfTwo : Math.floor,
                                s = o(r * t.width),
                                h = o(r * t.height);
                            void 0 === H && (H = a(s, h));
                            var l = i ? a(s, h) : H;
                            l.width = s, l.height = h;
                            var u = l.getContext("2d");
                            return u.drawImage(t, 0, 0, s, h), console.warn("THREE.WebGLRenderer: Texture has been resized from (" + t.width + "x" + t.height + ") to (" + s + "x" + h + ")."), l
                        }
                        return "data" in t && console.warn("THREE.WebGLRenderer: Image in DataTexture is too big (" + t.width + "x" + t.height + ")."), t
                    }
                    return t
                }

                function l(t) {
                    return Kl.isPowerOfTwo(t.width) && Kl.isPowerOfTwo(t.height)
                }

                function u(t) {
                    return !U && (t.wrapS !== Qa || t.wrapT !== Qa || t.minFilter !== eh && t.minFilter !== sh)
                }

                function c(t, e) {
                    return t.generateMipmaps && e && t.minFilter !== eh && t.minFilter !== sh
                }

                function p(e, i, r, o) {
                    t.generateMipmap(e);
                    var s = n.get(i);
                    s.__maxMipLevel = Math.log(Math.max(r, o)) * Math.LOG2E
                }

                function d(t, i) {
                    if (U === !1) return t;
                    var n = t;
                    return 6403 === t && (5126 === i && (n = 33326), 5131 === i && (n = 33325), 5121 === i && (n = 33321)), 6407 === t && (5126 === i && (n = 34837), 5131 === i && (n = 34843), 5121 === i && (n = 32849)), 6408 === t && (5126 === i && (n = 34836), 5131 === i && (n = 34842), 5121 === i && (n = 32856)), 33325 === n || 33326 === n || 34842 === n || 34836 === n ? e.get("EXT_color_buffer_float") : 34843 !== n && 34837 !== n || console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."), n
                }

                function f(t) {
                    return t === eh || t === ih || t === rh ? 9728 : 9729
                }

                function m(t) {
                    var e = t.target;
                    e.removeEventListener("dispose", m), v(e), e.isVideoTexture && q.delete(e), s.memory.textures--
                }

                function g(t) {
                    var e = t.target;
                    e.removeEventListener("dispose", g), _(e), s.memory.textures--
                }

                function v(e) {
                    var i = n.get(e);
                    void 0 !== i.__webglInit && (t.deleteTexture(i.__webglTexture), n.remove(e))
                }

                function _(e) {
                    var i = n.get(e),
                        r = n.get(e.texture);
                    if (e) {
                        if (void 0 !== r.__webglTexture && t.deleteTexture(r.__webglTexture), e.depthTexture && e.depthTexture.dispose(), e.isWebGLRenderTargetCube)
                            for (var o = 0; o < 6; o++) t.deleteFramebuffer(i.__webglFramebuffer[o]), i.__webglDepthbuffer && t.deleteRenderbuffer(i.__webglDepthbuffer[o]);
                        else t.deleteFramebuffer(i.__webglFramebuffer), i.__webglDepthbuffer && t.deleteRenderbuffer(i.__webglDepthbuffer); if (e.isWebGLMultiviewRenderTarget) {
                            t.deleteTexture(i.__webglColorTexture), t.deleteTexture(i.__webglDepthStencilTexture), s.memory.textures -= 2;
                            for (var o = 0, a = i.__webglViewFramebuffers.length; o < a; o++) t.deleteFramebuffer(i.__webglViewFramebuffers[o])
                        }
                        n.remove(e.texture), n.remove(e)
                    }
                }

                function y() {
                    Y = 0
                }

                function x() {
                    var t = Y;
                    return t >= G && console.warn("THREE.WebGLTextures: Trying to use " + t + " texture units while this GPU supports only " + G), Y += 1, t
                }

                function w(t, e) {
                    var r = n.get(t);
                    if (t.isVideoTexture && z(t), t.version > 0 && r.__version !== t.version) {
                        var o = t.image;
                        if (void 0 === o) console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");
                        else {
                            if (o.complete !== !1) return void C(r, t, e);
                            console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")
                        }
                    }
                    i.activeTexture(33984 + e), i.bindTexture(3553, r.__webglTexture)
                }

                function b(t, e) {
                    var r = n.get(t);
                    return t.version > 0 && r.__version !== t.version ? void C(r, t, e) : (i.activeTexture(33984 + e), void i.bindTexture(35866, r.__webglTexture))
                }

                function S(t, e) {
                    var r = n.get(t);
                    return t.version > 0 && r.__version !== t.version ? void C(r, t, e) : (i.activeTexture(33984 + e), void i.bindTexture(32879, r.__webglTexture))
                }

                function T(e, r) {
                    if (6 === e.image.length) {
                        var s = n.get(e);
                        if (e.version > 0 && s.__version !== e.version) {
                            A(s, e), i.activeTexture(33984 + r), i.bindTexture(34067, s.__webglTexture), t.pixelStorei(37440, e.flipY);
                            for (var a = e && e.isCompressedTexture, u = e.image[0] && e.image[0].isDataTexture, f = [], m = 0; m < 6; m++) a || u ? f[m] = u ? e.image[m].image : e.image[m] : f[m] = h(e.image[m], !1, !0, j);
                            var g = f[0],
                                v = l(g) || U,
                                _ = o.convert(e.format),
                                y = o.convert(e.type),
                                x = d(_, y);
                            E(34067, e, v);
                            var w;
                            if (a) {
                                for (var m = 0; m < 6; m++) {
                                    w = f[m].mipmaps;
                                    for (var b = 0; b < w.length; b++) {
                                        var S = w[b];
                                        e.format !== Mh && e.format !== Th ? null !== _ ? i.compressedTexImage2D(34069 + m, b, x, S.width, S.height, 0, S.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()") : i.texImage2D(34069 + m, b, x, S.width, S.height, 0, _, y, S.data)
                                    }
                                }
                                s.__maxMipLevel = w.length - 1
                            } else {
                                w = e.mipmaps;
                                for (var m = 0; m < 6; m++)
                                    if (u) {
                                        i.texImage2D(34069 + m, 0, x, f[m].width, f[m].height, 0, _, y, f[m].data);
                                        for (var b = 0; b < w.length; b++) {
                                            var S = w[b],
                                                T = S.image[m].image;
                                            i.texImage2D(34069 + m, b + 1, x, T.width, T.height, 0, _, y, T.data)
                                        }
                                    } else {
                                        i.texImage2D(34069 + m, 0, x, _, y, f[m]);
                                        for (var b = 0; b < w.length; b++) {
                                            var S = w[b];
                                            i.texImage2D(34069 + m, b + 1, x, _, y, S.image[m])
                                        }
                                    }
                                s.__maxMipLevel = w.length
                            }
                            c(e, v) && p(34067, e, g.width, g.height), s.__version = e.version, e.onUpdate && e.onUpdate(e)
                        } else i.activeTexture(33984 + r), i.bindTexture(34067, s.__webglTexture)
                    }
                }

                function M(t, e) {
                    i.activeTexture(33984 + e), i.bindTexture(34067, n.get(t).__webglTexture)
                }

                function E(i, o, s) {
                    s ? (t.texParameteri(i, 10242, Z[o.wrapS]), t.texParameteri(i, 10243, Z[o.wrapT]), 32879 !== i && 35866 !== i || t.texParameteri(i, 32882, Z[o.wrapR]), t.texParameteri(i, 10240, J[o.magFilter]), t.texParameteri(i, 10241, J[o.minFilter])) : (t.texParameteri(i, 10242, 33071), t.texParameteri(i, 10243, 33071), 32879 !== i && 35866 !== i || t.texParameteri(i, 32882, 33071), o.wrapS === Qa && o.wrapT === Qa || console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."), t.texParameteri(i, 10240, f(o.magFilter)), t.texParameteri(i, 10241, f(o.minFilter)), o.minFilter !== eh && o.minFilter !== sh && console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));
                    var a = e.get("EXT_texture_filter_anisotropic");
                    if (a) {
                        if (o.type === vh && null === e.get("OES_texture_float_linear")) return;
                        if (o.type === _h && null === (U || e.get("OES_texture_half_float_linear"))) return;
                        (o.anisotropy > 1 || n.get(o).__currentAnisotropy) && (t.texParameterf(i, a.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(o.anisotropy, r.getMaxAnisotropy())), n.get(o).__currentAnisotropy = o.anisotropy)
                    }
                }

                function A(e, i) {
                    void 0 === e.__webglInit && (e.__webglInit = !0, i.addEventListener("dispose", m), e.__webglTexture = t.createTexture(), s.memory.textures++)
                }

                function C(e, n, r) {
                    var s = 3553;
                    n.isDataTexture2DArray && (s = 35866), n.isDataTexture3D && (s = 32879), A(e, n), i.activeTexture(33984 + r), i.bindTexture(s, e.__webglTexture), t.pixelStorei(37440, n.flipY), t.pixelStorei(37441, n.premultiplyAlpha), t.pixelStorei(3317, n.unpackAlignment);
                    var a = u(n) && l(n.image) === !1,
                        f = h(n.image, a, !1, V),
                        m = l(f) || U,
                        g = o.convert(n.format),
                        v = o.convert(n.type),
                        _ = d(g, v);
                    E(s, n, m);
                    var y, x = n.mipmaps;
                    if (n.isDepthTexture) {
                        if (_ = 6402, n.type === vh) {
                            if (U === !1) throw new Error("Float Depth Texture only supported in WebGL2.0");
                            _ = 36012
                        } else U && (_ = 33189);
                        n.format === Ph && 6402 === _ && n.type !== fh && n.type !== gh && (console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."), n.type = fh, v = o.convert(n.type)), n.format === Rh && (_ = 34041, n.type !== bh && (console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."), n.type = bh, v = o.convert(n.type))), i.texImage2D(3553, 0, _, f.width, f.height, 0, g, v, null)
                    } else if (n.isDataTexture)
                        if (x.length > 0 && m) {
                            for (var w = 0, b = x.length; w < b; w++) y = x[w], i.texImage2D(3553, w, _, y.width, y.height, 0, g, v, y.data);
                            n.generateMipmaps = !1, e.__maxMipLevel = x.length - 1
                        } else i.texImage2D(3553, 0, _, f.width, f.height, 0, g, v, f.data), e.__maxMipLevel = 0;
                    else if (n.isCompressedTexture) {
                        for (var w = 0, b = x.length; w < b; w++) y = x[w], n.format !== Mh && n.format !== Th ? null !== g ? i.compressedTexImage2D(3553, w, _, y.width, y.height, 0, y.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()") : i.texImage2D(3553, w, _, y.width, y.height, 0, g, v, y.data);
                        e.__maxMipLevel = x.length - 1
                    } else if (n.isDataTexture2DArray) i.texImage3D(35866, 0, _, f.width, f.height, f.depth, 0, g, v, f.data), e.__maxMipLevel = 0;
                    else if (n.isDataTexture3D) i.texImage3D(32879, 0, _, f.width, f.height, f.depth, 0, g, v, f.data), e.__maxMipLevel = 0;
                    else if (x.length > 0 && m) {
                        for (var w = 0, b = x.length; w < b; w++) y = x[w], i.texImage2D(3553, w, _, g, v, y);
                        n.generateMipmaps = !1, e.__maxMipLevel = x.length - 1
                    } else i.texImage2D(3553, 0, _, g, v, f), e.__maxMipLevel = 0;
                    c(n, m) && p(3553, n, f.width, f.height), e.__version = n.version, n.onUpdate && n.onUpdate(n)
                }

                function P(e, r, s, a) {
                    var h = o.convert(r.texture.format),
                        l = o.convert(r.texture.type),
                        u = d(h, l);
                    i.texImage2D(a, 0, u, r.width, r.height, 0, h, l, null), t.bindFramebuffer(36160, e), t.framebufferTexture2D(36160, s, a, n.get(r.texture).__webglTexture, 0), t.bindFramebuffer(36160, null)
                }

                function R(e, i, n) {
                    if (t.bindRenderbuffer(36161, e), i.depthBuffer && !i.stencilBuffer) {
                        if (n) {
                            var r = N(i);
                            t.renderbufferStorageMultisample(36161, r, 33189, i.width, i.height)
                        } else t.renderbufferStorage(36161, 33189, i.width, i.height);
                        t.framebufferRenderbuffer(36160, 36096, 36161, e)
                    } else if (i.depthBuffer && i.stencilBuffer) {
                        if (n) {
                            var r = N(i);
                            t.renderbufferStorageMultisample(36161, r, 35056, i.width, i.height)
                        } else t.renderbufferStorage(36161, 34041, i.width, i.height);
                        t.framebufferRenderbuffer(36160, 33306, 36161, e)
                    } else {
                        var s = o.convert(i.texture.format),
                            a = o.convert(i.texture.type),
                            h = d(s, a);
                        if (n) {
                            var r = N(i);
                            t.renderbufferStorageMultisample(36161, r, h, i.width, i.height)
                        } else t.renderbufferStorage(36161, h, i.width, i.height)
                    }
                    t.bindRenderbuffer(36161, null)
                }

                function L(e, i) {
                    var r = i && i.isWebGLRenderTargetCube;
                    if (r) throw new Error("Depth Texture with cube render targets is not supported");
                    if (t.bindFramebuffer(36160, e), !i.depthTexture || !i.depthTexture.isDepthTexture) throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");
                    n.get(i.depthTexture).__webglTexture && i.depthTexture.image.width === i.width && i.depthTexture.image.height === i.height || (i.depthTexture.image.width = i.width, i.depthTexture.image.height = i.height, i.depthTexture.needsUpdate = !0), w(i.depthTexture, 0);
                    var o = n.get(i.depthTexture).__webglTexture;
                    if (i.depthTexture.format === Ph) t.framebufferTexture2D(36160, 36096, 3553, o, 0);
                    else {
                        if (i.depthTexture.format !== Rh) throw new Error("Unknown depthTexture format");
                        t.framebufferTexture2D(36160, 33306, 3553, o, 0)
                    }
                }

                function O(e) {
                    var i = n.get(e),
                        r = e.isWebGLRenderTargetCube === !0;
                    if (e.depthTexture) {
                        if (r) throw new Error("target.depthTexture not supported in Cube render targets");
                        L(i.__webglFramebuffer, e)
                    } else if (r) {
                        i.__webglDepthbuffer = [];
                        for (var o = 0; o < 6; o++) t.bindFramebuffer(36160, i.__webglFramebuffer[o]), i.__webglDepthbuffer[o] = t.createRenderbuffer(), R(i.__webglDepthbuffer[o], e)
                    } else t.bindFramebuffer(36160, i.__webglFramebuffer), i.__webglDepthbuffer = t.createRenderbuffer(), R(i.__webglDepthbuffer, e);
                    t.bindFramebuffer(36160, null)
                }

                function I(r) {
                    var a = n.get(r),
                        h = n.get(r.texture);
                    r.addEventListener("dispose", g), h.__webglTexture = t.createTexture(), s.memory.textures++;
                    var u = r.isWebGLRenderTargetCube === !0,
                        f = r.isWebGLMultisampleRenderTarget === !0,
                        m = r.isWebGLMultiviewRenderTarget === !0,
                        v = l(r) || U;
                    if (u) {
                        a.__webglFramebuffer = [];
                        for (var _ = 0; _ < 6; _++) a.__webglFramebuffer[_] = t.createFramebuffer()
                    } else if (a.__webglFramebuffer = t.createFramebuffer(), f)
                        if (U) {
                            a.__webglMultisampledFramebuffer = t.createFramebuffer(), a.__webglColorRenderbuffer = t.createRenderbuffer(), t.bindRenderbuffer(36161, a.__webglColorRenderbuffer);
                            var y = o.convert(r.texture.format),
                                x = o.convert(r.texture.type),
                                w = d(y, x),
                                b = N(r);
                            t.renderbufferStorageMultisample(36161, b, w, r.width, r.height), t.bindFramebuffer(36160, a.__webglMultisampledFramebuffer), t.framebufferRenderbuffer(36160, 36064, 36161, a.__webglColorRenderbuffer), t.bindRenderbuffer(36161, null), r.depthBuffer && (a.__webglDepthRenderbuffer = t.createRenderbuffer(), R(a.__webglDepthRenderbuffer, r, !0)), t.bindFramebuffer(36160, null)
                        } else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");
                    else if (m) {
                        var S = r.width,
                            T = r.height,
                            M = r.numViews;
                        t.bindFramebuffer(36160, a.__webglFramebuffer);
                        var A = e.get("OVR_multiview2");
                        s.memory.textures += 2;
                        var C = t.createTexture();
                        t.bindTexture(35866, C), t.texParameteri(35866, 10240, 9728), t.texParameteri(35866, 10241, 9728), t.texImage3D(35866, 0, 32856, S, T, M, 0, 6408, 5121, null), A.framebufferTextureMultiviewOVR(36160, 36064, C, 0, 0, M);
                        var L = t.createTexture();
                        t.bindTexture(35866, L), t.texParameteri(35866, 10240, 9728), t.texParameteri(35866, 10241, 9728), t.texImage3D(35866, 0, 35056, S, T, M, 0, 34041, 34042, null), A.framebufferTextureMultiviewOVR(36160, 33306, L, 0, 0, M);
                        for (var I = new Array(M), _ = 0; _ < M; ++_) I[_] = t.createFramebuffer(), t.bindFramebuffer(36160, I[_]), t.framebufferTextureLayer(36160, 36064, C, 0, _);
                        a.__webglColorTexture = C, a.__webglDepthStencilTexture = L, a.__webglViewFramebuffers = I, t.bindFramebuffer(36160, null), t.bindTexture(35866, null)
                    }
                    if (u) {
                        i.bindTexture(34067, h.__webglTexture), E(34067, r.texture, v);
                        for (var _ = 0; _ < 6; _++) P(a.__webglFramebuffer[_], r, 36064, 34069 + _);
                        c(r.texture, v) && p(34067, r.texture, r.width, r.height), i.bindTexture(34067, null)
                    } else m || (i.bindTexture(3553, h.__webglTexture), E(3553, r.texture, v), P(a.__webglFramebuffer, r, 36064, 3553), c(r.texture, v) && p(3553, r.texture, r.width, r.height), i.bindTexture(3553, null));
                    r.depthBuffer && O(r)
                }

                function D(t) {
                    var e = t.texture,
                        r = l(t) || U;
                    if (c(e, r)) {
                        var o = t.isWebGLRenderTargetCube ? 34067 : 3553,
                            s = n.get(e).__webglTexture;
                        i.bindTexture(o, s), p(o, e, t.width, t.height), i.bindTexture(o, null)
                    }
                }

                function k(e) {
                    if (e.isWebGLMultisampleRenderTarget)
                        if (U) {
                            var i = n.get(e);
                            t.bindFramebuffer(36008, i.__webglMultisampledFramebuffer), t.bindFramebuffer(36009, i.__webglFramebuffer);
                            var r = e.width,
                                o = e.height,
                                s = 16384;
                            e.depthBuffer && (s |= 256), e.stencilBuffer && (s |= 1024), t.blitFramebuffer(0, 0, r, o, 0, 0, r, o, s, 9728)
                        } else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")
                }

                function N(t) {
                    return U && t.isWebGLMultisampleRenderTarget ? Math.min(W, t.samples) : 0
                }

                function z(t) {
                    var e = s.render.frame;
                    q.get(t) !== e && (q.set(t, e), t.update())
                }

                function B(t, e) {
                    t && t.isWebGLRenderTarget && ($ === !1 && (console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."), $ = !0), t = t.texture), w(t, e)
                }

                function F(t, e) {
                    t && t.isWebGLRenderTargetCube && (K === !1 && (console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."), K = !0), t = t.texture), t && t.isCubeTexture || Array.isArray(t.image) && 6 === t.image.length ? T(t, e) : M(t, e)
                }
                var H, U = r.isWebGL2,
                    G = r.maxTextures,
                    j = r.maxCubemapSize,
                    V = r.maxTextureSize,
                    W = r.maxSamples,
                    q = new WeakMap,
                    X = "undefined" != typeof OffscreenCanvas && null !== new OffscreenCanvas(1, 1).getContext("2d"),
                    Y = 0,
                    Z = {};
                Z[Ka] = 10497, Z[Qa] = 33071, Z[th] = 33648;
                var J = {};
                J[eh] = 9728, J[ih] = 9984, J[rh] = 9986, J[sh] = 9729, J[ah] = 9985, J[lh] = 9987;
                var $ = !1,
                    K = !1;
                this.allocateTextureUnit = x, this.resetTextureUnits = y, this.setTexture2D = w, this.setTexture2DArray = b, this.setTexture3D = S, this.setTextureCube = T, this.setTextureCubeDynamic = M, this.setupRenderTarget = I, this.updateRenderTargetMipmap = D, this.updateMultisampleRenderTarget = k, this.safeSetTexture2D = B, this.safeSetTextureCube = F
            }

            function je(t, e, i) {
                function n(t) {
                    var i;
                    if (t === ch) return 5121;
                    if (t === yh) return 32819;
                    if (t === xh) return 32820;
                    if (t === wh) return 33635;
                    if (t === ph) return 5120;
                    if (t === dh) return 5122;
                    if (t === fh) return 5123;
                    if (t === mh) return 5124;
                    if (t === gh) return 5125;
                    if (t === vh) return 5126;
                    if (t === _h) return r ? 5131 : (i = e.get("OES_texture_half_float"), null !== i ? i.HALF_FLOAT_OES : null);
                    if (t === Sh) return 6406;
                    if (t === Th) return 6407;
                    if (t === Mh) return 6408;
                    if (t === Eh) return 6409;
                    if (t === Ah) return 6410;
                    if (t === Ph) return 6402;
                    if (t === Rh) return 34041;
                    if (t === Lh) return 6403;
                    if (t === Oh || t === Ih || t === Dh || t === kh) {
                        if (i = e.get("WEBGL_compressed_texture_s3tc"), null === i) return null;
                        if (t === Oh) return i.COMPRESSED_RGB_S3TC_DXT1_EXT;
                        if (t === Ih) return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;
                        if (t === Dh) return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;
                        if (t === kh) return i.COMPRESSED_RGBA_S3TC_DXT5_EXT
                    }
                    if (t === Nh || t === zh || t === Bh || t === Fh) {
                        if (i = e.get("WEBGL_compressed_texture_pvrtc"), null === i) return null;
                        if (t === Nh) return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
                        if (t === zh) return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
                        if (t === Bh) return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
                        if (t === Fh) return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG
                    }
                    return t === Hh ? (i = e.get("WEBGL_compressed_texture_etc1"), null !== i ? i.COMPRESSED_RGB_ETC1_WEBGL : null) : t === Uh || t === Gh || t === jh || t === Vh || t === Wh || t === qh || t === Xh || t === Yh || t === Zh || t === Jh || t === $h || t === Kh || t === Qh || t === tl ? (i = e.get("WEBGL_compressed_texture_astc"), null !== i ? t : null) : t === bh ? r ? 34042 : (i = e.get("WEBGL_depth_texture"), null !== i ? i.UNSIGNED_INT_24_8_WEBGL : null) : void 0
                }
                var r = i.isWebGL2;
                return {
                    convert: n
                }
            }

            function Ve(t, e, i, n) {
                h.call(this, t, e, n), this.depthBuffer = !1, this.stencilBuffer = !1, this.numViews = i
            }

            function We(t, e) {
                function n() {
                    if (void 0 === w) {
                        var t = S.get("OVR_multiview2");
                        if (w = null !== t && e.getContextAttributes().antialias === !1) {
                            M = e.getParameter(t.MAX_VIEWS_OVR), m = new Ve(0, 0, b), x = new i, _ = [], v = [], y = [];
                            for (var n = 0; n < M; n++) _[n] = new u, v[n] = new o
                        }
                    }
                    return w
                }

                function r(t) {
                    return t.isArrayCamera ? t.cameras : (y[0] = t, y)
                }

                function s(t, i) {
                    for (var n = r(t), o = 0; o < n.length; o++) _[o].copy(n[o].projectionMatrix);
                    i.setValue(e, "projectionMatrices", _)
                }

                function a(t, i) {
                    for (var n = r(t), o = 0; o < n.length; o++) _[o].copy(n[o].matrixWorldInverse);
                    i.setValue(e, "viewMatrices", _)
                }

                function h(t, i, n) {
                    for (var o = r(i), s = 0; s < o.length; s++) _[s].multiplyMatrices(o[s].matrixWorldInverse, t.matrixWorld), v[s].getNormalMatrix(_[s]);
                    n.setValue(e, "modelViewMatrices", _), n.setValue(e, "normalMatrices", v)
                }

                function l(t) {
                    if (void 0 === t.isArrayCamera) return !0;
                    var e = t.cameras;
                    if (e.length > M) return !1;
                    for (var i = 1, n = e.length; i < n; i++)
                        if (e[0].viewport.z !== e[i].viewport.z || e[0].viewport.w !== e[i].viewport.w) return !1;
                    return !0
                }

                function c(e) {
                    if (g ? x.set(g.width, g.height) : t.getDrawingBufferSize(x), e.isArrayCamera) {
                        var i = e.cameras[0].viewport;
                        m.setSize(i.z, i.w), m.setNumViews(e.cameras.length)
                    } else m.setSize(x.x, x.y), m.setNumViews(b)
                }

                function p(e) {
                    l(e) !== !1 && (g = t.getRenderTarget(), c(e), t.setRenderTarget(m))
                }

                function d(e) {
                    m === t.getRenderTarget() && (t.setRenderTarget(g), f(e))
                }

                function f(t) {
                    var i = m,
                        n = i.numViews,
                        r = T.get(i).__webglViewFramebuffers,
                        o = i.width,
                        s = i.height;
                    if (t.isArrayCamera)
                        for (var a = 0; a < n; a++) {
                            var h = t.cameras[a].viewport,
                                l = h.x,
                                u = h.y,
                                c = l + h.z,
                                p = u + h.w;
                            e.bindFramebuffer(36008, r[a]), e.blitFramebuffer(0, 0, o, s, l, u, c, p, 16384, 9728)
                        } else e.bindFramebuffer(36008, r[0]), e.blitFramebuffer(0, 0, o, s, 0, 0, x.x, x.y, 16384, 9728)
                }
                var m, g, v, _, y, x, w, b = 2,
                    S = t.extensions,
                    T = t.properties,
                    M = 0;
                this.isAvailable = n, this.attachCamera = p, this.detachCamera = d, this.updateCameraProjectionMatricesUniform = s, this.updateCameraViewMatricesUniform = a, this.updateObjectMatricesUniforms = h
            }

            function qe() {
                d.call(this), this.type = "Group"
            }

            function Xe(t) {
                Z.call(this), this.cameras = t || []
            }

            function Ye(t, e, i) {
                Cf.setFromMatrixPosition(e.matrixWorld), Pf.setFromMatrixPosition(i.matrixWorld);
                var n = Cf.distanceTo(Pf),
                    r = e.projectionMatrix.elements,
                    o = i.projectionMatrix.elements,
                    s = r[14] / (r[10] - 1),
                    a = r[14] / (r[10] + 1),
                    h = (r[9] + 1) / r[5],
                    l = (r[9] - 1) / r[5],
                    u = (r[8] - 1) / r[0],
                    c = (o[8] + 1) / o[0],
                    p = s * u,
                    d = s * c,
                    f = n / (-u + c),
                    m = f * -u;
                e.matrixWorld.decompose(t.position, t.quaternion, t.scale), t.translateX(m), t.translateZ(f), t.matrixWorld.compose(t.position, t.quaternion, t.scale), t.matrixWorldInverse.getInverse(t.matrixWorld);
                var g = s + f,
                    v = a + f,
                    _ = p - m,
                    y = d + (n - m),
                    x = h * a / v * g,
                    w = l * a / v * g;
                t.projectionMatrix.makePerspective(_, y, x, w, g, v)
            }

            function Ze(t) {
                function e() {
                    return null !== f && f.isPresenting === !0
                }

                function o() {
                    if (e()) {
                        var i = f.getEyeParameters("left");
                        c = 2 * i.renderWidth * x, p = i.renderHeight * x, C = t.getPixelRatio(), t.getSize(P), t.setDrawingBufferSize(c, p, 1), M.viewport.set(0, 0, c / 2, p), E.viewport.set(c / 2, 0, c / 2, p), L.start(), d.dispatchEvent({
                            type: "sessionstart"
                        })
                    } else d.enabled && t.setDrawingBufferSize(P.width, P.height, C), L.stop(), d.dispatchEvent({
                        type: "sessionend"
                    })
                }

                function s(t) {
                    for (var e = navigator.getGamepads && navigator.getGamepads(), i = 0, n = e.length; i < n; i++) {
                        var r = e[i];
                        if (r && ("Daydream Controller" === r.id || "Gear VR Controller" === r.id || "Oculus Go Controller" === r.id || "OpenVR Gamepad" === r.id || r.id.startsWith("Oculus Touch") || r.id.startsWith("HTC Vive Focus") || r.id.startsWith("Spatial Controller"))) {
                            var o = r.hand;
                            if (0 === t && ("" === o || "right" === o)) return r;
                            if (1 === t && "left" === o) return r
                        }
                    }
                }

                function h() {
                    for (var t = 0; t < v.length; t++) {
                        var e = v[t],
                            i = s(t);
                        if (void 0 !== i && void 0 !== i.pose) {
                            if (null === i.pose) return;
                            var n = i.pose;
                            n.hasPosition === !1 && e.position.set(.2, -.6, -.05), null !== n.position && e.position.fromArray(n.position), null !== n.orientation && e.quaternion.fromArray(n.orientation), e.matrix.compose(e.position, e.quaternion, e.scale), e.matrix.premultiply(_), e.matrix.decompose(e.position, e.quaternion, e.scale), e.matrixWorldNeedsUpdate = !0, e.visible = !0;
                            var r = "Daydream Controller" === i.id ? 0 : 1;
                            void 0 === R[t] && (R[t] = !1), R[t] !== i.buttons[r].pressed && (R[t] = i.buttons[r].pressed, R[t] === !0 ? e.dispatchEvent({
                                type: "selectstart"
                            }) : (e.dispatchEvent({
                                type: "selectend"
                            }), e.dispatchEvent({
                                type: "select"
                            })))
                        } else e.visible = !1
                    }
                }

                function l(t, e) {
                    null !== e && 4 === e.length && t.set(e[0] * c, e[1] * p, e[2] * c, e[3] * p)
                }
                var c, p, d = this,
                    f = null,
                    m = null,
                    g = null,
                    v = [],
                    _ = new u,
                    y = new u,
                    x = 1,
                    w = "local-floor";
                "undefined" != typeof window && "VRFrameData" in window && (m = new window.VRFrameData, window.addEventListener("vrdisplaypresentchange", o, !1));
                var b = new u,
                    S = new n,
                    T = new r,
                    M = new Z;
                M.viewport = new a, M.layers.enable(1);
                var E = new Z;
                E.viewport = new a, E.layers.enable(2);
                var A = new Xe([M, E]);
                A.layers.enable(1), A.layers.enable(2);
                var C, P = new i,
                    R = [];
                this.enabled = !1, this.getController = function (t) {
                    var e = v[t];
                    return void 0 === e && (e = new qe, e.matrixAutoUpdate = !1, e.visible = !1, v[t] = e), e
                }, this.getDevice = function () {
                    return f
                }, this.setDevice = function (t) {
                    void 0 !== t && (f = t), L.setContext(t)
                }, this.setFramebufferScaleFactor = function (t) {
                    x = t
                }, this.setReferenceSpaceType = function (t) {
                    w = t
                }, this.setPoseTarget = function (t) {
                    void 0 !== t && (g = t)
                }, this.getCamera = function (t) {
                    var i = "local-floor" === w ? 1.6 : 0;
                    if (e() === !1) return t.position.set(0, i, 0), t.rotation.set(0, 0, 0), t;
                    if (f.depthNear = t.near, f.depthFar = t.far, f.getFrameData(m), "local-floor" === w) {
                        var n = f.stageParameters;
                        n ? _.fromArray(n.sittingToStandingTransform) : _.makeTranslation(0, i, 0)
                    }
                    var r = m.pose,
                        o = null !== g ? g : t;
                    o.matrix.copy(_), o.matrix.decompose(o.position, o.quaternion, o.scale), null !== r.orientation && (S.fromArray(r.orientation), o.quaternion.multiply(S)), null !== r.position && (S.setFromRotationMatrix(_), T.fromArray(r.position), T.applyQuaternion(S), o.position.add(T)), o.updateMatrixWorld(), M.near = t.near, E.near = t.near, M.far = t.far, E.far = t.far, M.matrixWorldInverse.fromArray(m.leftViewMatrix), E.matrixWorldInverse.fromArray(m.rightViewMatrix), y.getInverse(_), "local-floor" === w && (M.matrixWorldInverse.multiply(y), E.matrixWorldInverse.multiply(y));
                    var s = o.parent;
                    null !== s && (b.getInverse(s.matrixWorld), M.matrixWorldInverse.multiply(b), E.matrixWorldInverse.multiply(b)), M.matrixWorld.getInverse(M.matrixWorldInverse), E.matrixWorld.getInverse(E.matrixWorldInverse), M.projectionMatrix.fromArray(m.leftProjectionMatrix), E.projectionMatrix.fromArray(m.rightProjectionMatrix), Ye(A, M, E);
                    var a = f.getLayers();
                    if (a.length) {
                        var u = a[0];
                        l(M.viewport, u.leftBounds), l(E.viewport, u.rightBounds)
                    }
                    return h(), A
                }, this.getStandingMatrix = function () {
                    return _
                }, this.isPresenting = e;
                var L = new tt;
                this.setAnimationLoop = function (t) {
                    L.setAnimationLoop(t), e() && L.start()
                }, this.submitFrame = function () {
                    e() && f.submitFrame()
                }, this.dispose = function () {
                    "undefined" != typeof window && window.removeEventListener("vrdisplaypresentchange", o)
                }, this.setFrameOfReferenceType = function () {
                    console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")
                }
            }

            function Je(t, e) {
                function i() {
                    return null !== d && null !== f
                }

                function n(t) {
                    for (var e = 0; e < v.length; e++) _[e] === t.inputSource && v[e].dispatchEvent({
                        type: t.type
                    })
                }

                function r() {
                    t.setFramebuffer(null), t.setRenderTarget(t.getRenderTarget()), S.stop(), p.dispatchEvent({
                        type: "sessionend"
                    })
                }

                function o(t) {
                    f = t, S.setContext(d), S.start(), p.dispatchEvent({
                        type: "sessionstart"
                    })
                }

                function s() {
                    for (var t = 0; t < v.length; t++) _[t] = h(t);
                }

                function h(t) {
                    for (var e = d.inputSources, i = 0; i < e.length; i++) {
                        var n = e[i],
                            r = n.handedness;
                        if (0 === t && ("none" === r || "right" === r)) return n;
                        if (1 === t && "left" === r) return n
                    }
                }

                function l(t, e) {
                    null === e ? t.matrixWorld.copy(t.matrix) : t.matrixWorld.multiplyMatrices(e.matrixWorld, t.matrix), t.matrixWorldInverse.getInverse(t.matrixWorld)
                }

                function c(e, i) {
                    if (g = i.getViewerPose(f), null !== g) {
                        var n = g.views,
                            r = d.renderState.baseLayer;
                        t.setFramebuffer(r.framebuffer);
                        for (var o = 0; o < n.length; o++) {
                            var s = n[o],
                                a = r.getViewport(s),
                                h = s.transform.inverse.matrix,
                                l = w.cameras[o];
                            l.matrix.fromArray(h).getInverse(l.matrix), l.projectionMatrix.fromArray(s.projectionMatrix), l.viewport.set(a.x, a.y, a.width, a.height), 0 === o && w.matrix.copy(l.matrix)
                        }
                    }
                    for (var o = 0; o < v.length; o++) {
                        var u = v[o],
                            c = _[o];
                        if (c) {
                            var p = i.getPose(c.targetRaySpace, f);
                            if (null !== p) {
                                u.matrix.fromArray(p.transform.matrix), u.matrix.decompose(u.position, u.rotation, u.scale), u.visible = !0;
                                continue
                            }
                        }
                        u.visible = !1
                    }
                    b && b(e)
                }
                var p = this,
                    d = null,
                    f = null,
                    m = "local-floor",
                    g = null,
                    v = [],
                    _ = [],
                    y = new Z;
                y.layers.enable(1), y.viewport = new a;
                var x = new Z;
                x.layers.enable(2), x.viewport = new a;
                var w = new Xe([y, x]);
                w.layers.enable(1), w.layers.enable(2), this.enabled = !1, this.getController = function (t) {
                    var e = v[t];
                    return void 0 === e && (e = new qe, e.matrixAutoUpdate = !1, e.visible = !1, v[t] = e), e
                }, this.setFramebufferScaleFactor = function () {}, this.setReferenceSpaceType = function (t) {
                    m = t
                }, this.getSession = function () {
                    return d
                }, this.setSession = function (t) {
                    d = t, null !== d && (d.addEventListener("select", n), d.addEventListener("selectstart", n), d.addEventListener("selectend", n), d.addEventListener("end", r), d.updateRenderState({
                        baseLayer: new XRWebGLLayer(d, e)
                    }), d.requestReferenceSpace(m).then(o), d.addEventListener("inputsourceschange", s), s())
                }, this.getCamera = function (t) {
                    if (i()) {
                        var e = t.parent,
                            n = w.cameras;
                        l(w, e);
                        for (var r = 0; r < n.length; r++) l(n[r], e);
                        t.matrixWorld.copy(w.matrixWorld);
                        for (var o = t.children, r = 0, s = o.length; r < s; r++) o[r].updateMatrixWorld(!0);
                        return Ye(w, y, x), w
                    }
                    return t
                }, this.isPresenting = i;
                var b = null,
                    S = new tt;
                S.setAnimationLoop(c), this.setAnimationLoop = function (t) {
                    b = t
                }, this.dispose = function () {}, this.getStandingMatrix = function () {
                    return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."), new u
                }, this.getDevice = function () {
                    console.warn("THREE.WebXRManager: getDevice() has been deprecated.")
                }, this.setDevice = function () {
                    console.warn("THREE.WebXRManager: setDevice() has been deprecated.")
                }, this.setFrameOfReferenceType = function () {
                    console.warn("THREE.WebXRManager: setFrameOfReferenceType() has been deprecated.")
                }, this.submitFrame = function () {}
            }

            function $e(t) {
                function e() {
                    return null === gt ? At : 1
                }

                function n() {
                    Bt = new ht(J), Ft = new st(J, Bt, t), Ft.isWebGL2 === !1 && (Bt.get("WEBGL_depth_texture"), Bt.get("OES_texture_float"), Bt.get("OES_texture_half_float"), Bt.get("OES_texture_half_float_linear"), Bt.get("OES_standard_derivatives"), Bt.get("OES_element_index_uint"), Bt.get("ANGLE_instanced_arrays")), Bt.get("OES_texture_float_linear"), te = new je(J, Bt, Ft), Ht = new Ue(J, Bt, Ft), Ht.scissor(St.copy(Pt).multiplyScalar(At).floor()), Ht.viewport(bt.copy(Ct).multiplyScalar(At).floor()), Ut = new ct(J), Gt = new Ce, jt = new Ge(J, Bt, Ht, Gt, Ft, te, Ut), Vt = new et(J), Wt = new lt(J, Vt, Ut), qt = new ft(J, Wt, Vt, Ut), $t = new dt(J), Xt = new Ae($, Bt, Ft), Yt = new Oe, Zt = new ze, Jt = new rt($, Ht, qt, j), Kt = new ot(J, Bt, Ut, Ft), Qt = new ut(J, Bt, Ut, Ft), Ut.programs = Xt.programs, $.capabilities = Ft, $.extensions = Bt, $.properties = Gt, $.renderLists = Yt, $.state = Ht, $.info = Ut
                }

                function o(t) {
                    t.preventDefault(), console.log("THREE.WebGLRenderer: Context Lost."), it = !0
                }

                function s() {
                    console.log("THREE.WebGLRenderer: Context Restored."), it = !1, n()
                }

                function h(t) {
                    var e = t.target;
                    e.removeEventListener("dispose", h), l(e)
                }

                function l(t) {
                    c(t), Gt.remove(t)
                }

                function c(t) {
                    var e = Gt.get(t).program;
                    t.program = void 0, void 0 !== e && Xt.releaseProgram(e)
                }

                function p(t, e) {
                    t.render(function (t) {
                        $.renderBufferImmediate(t, e)
                    })
                }

                function d(t, e, i, n) {
                    if (Ft.isWebGL2 !== !1 || !t.isInstancedMesh && !e.isInstancedBufferGeometry || null !== Bt.get("ANGLE_instanced_arrays")) {
                        Ht.initAttributes();
                        var r = e.attributes,
                            o = n.getAttributes(),
                            s = i.defaultAttributeValues;
                        for (var a in o) {
                            var h = o[a];
                            if (h >= 0) {
                                var l = r[a];
                                if (void 0 !== l) {
                                    var u = l.normalized,
                                        c = l.itemSize,
                                        p = Vt.get(l);
                                    if (void 0 === p) continue;
                                    var d = p.buffer,
                                        f = p.type,
                                        m = p.bytesPerElement;
                                    if (l.isInterleavedBufferAttribute) {
                                        var g = l.data,
                                            v = g.stride,
                                            _ = l.offset;
                                        g && g.isInstancedInterleavedBuffer ? (Ht.enableAttributeAndDivisor(h, g.meshPerAttribute), void 0 === e.maxInstancedCount && (e.maxInstancedCount = g.meshPerAttribute * g.count)) : Ht.enableAttribute(h), J.bindBuffer(34962, d), J.vertexAttribPointer(h, c, f, u, v * m, _ * m)
                                    } else l.isInstancedBufferAttribute ? (Ht.enableAttributeAndDivisor(h, l.meshPerAttribute), void 0 === e.maxInstancedCount && (e.maxInstancedCount = l.meshPerAttribute * l.count)) : Ht.enableAttribute(h), J.bindBuffer(34962, d), J.vertexAttribPointer(h, c, f, u, 0, 0)
                                } else if ("instanceMatrix" === a) {
                                    var p = Vt.get(t.instanceMatrix);
                                    if (void 0 === p) continue;
                                    var d = p.buffer,
                                        f = p.type;
                                    Ht.enableAttributeAndDivisor(h + 0, 1), Ht.enableAttributeAndDivisor(h + 1, 1), Ht.enableAttributeAndDivisor(h + 2, 1), Ht.enableAttributeAndDivisor(h + 3, 1), J.bindBuffer(34962, d), J.vertexAttribPointer(h + 0, 4, f, !1, 64, 0), J.vertexAttribPointer(h + 1, 4, f, !1, 64, 16), J.vertexAttribPointer(h + 2, 4, f, !1, 64, 32), J.vertexAttribPointer(h + 3, 4, f, !1, 64, 48)
                                } else if (void 0 !== s) {
                                    var y = s[a];
                                    if (void 0 !== y) switch (y.length) {
                                    case 2:
                                        J.vertexAttrib2fv(h, y);
                                        break;
                                    case 3:
                                        J.vertexAttrib3fv(h, y);
                                        break;
                                    case 4:
                                        J.vertexAttrib4fv(h, y);
                                        break;
                                    default:
                                        J.vertexAttrib1fv(h, y)
                                    }
                                }
                            }
                        }
                        Ht.disableUnusedAttributes()
                    }
                }

                function f(t) {
                    ee.isPresenting() || oe && oe(t)
                }

                function m(t, e, i, n) {
                    if (t.visible !== !1) {
                        var r = t.layers.test(e.layers);
                        if (r)
                            if (t.isGroup) i = t.renderOrder;
                            else if (t.isLOD) t.autoUpdate === !0 && t.update(e);
                        else if (t.isLight) Z.pushLight(t), t.castShadow && Z.pushShadow(t);
                        else if (t.isSprite) {
                            if (!t.frustumCulled || Lt.intersectsSprite(t)) {
                                n && Nt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(kt);
                                var o = qt.update(t),
                                    s = t.material;
                                s.visible && Y.push(t, o, s, i, Nt.z, null)
                            }
                        } else if (t.isImmediateRenderObject) n && Nt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(kt), Y.push(t, null, t.material, i, Nt.z, null);
                        else if ((t.isMesh || t.isLine || t.isPoints) && (t.isSkinnedMesh && t.skeleton.frame !== Ut.render.frame && (t.skeleton.update(), t.skeleton.frame = Ut.render.frame), !t.frustumCulled || Lt.intersectsObject(t))) {
                            n && Nt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(kt);
                            var o = qt.update(t),
                                s = t.material;
                            if (Array.isArray(s))
                                for (var a = o.groups, h = 0, l = a.length; h < l; h++) {
                                    var u = a[h],
                                        c = s[u.materialIndex];
                                    c && c.visible && Y.push(t, o, c, i, Nt.z, u)
                                } else s.visible && Y.push(t, o, s, i, Nt.z, null)
                        }
                        for (var p = t.children, h = 0, l = p.length; h < l; h++) m(p[h], e, i, n)
                    }
                }

                function g(t, e, i, n) {
                    for (var r = 0, o = t.length; r < o; r++) {
                        var s = t[r],
                            a = s.object,
                            h = s.geometry,
                            l = void 0 === n ? s.material : n,
                            u = s.group;
                        if (i.isArrayCamera)
                            if (wt = i, ee.enabled && ie.isAvailable()) v(a, e, i, h, l, u);
                            else
                                for (var c = i.cameras, p = 0, d = c.length; p < d; p++) {
                                    var f = c[p];
                                    a.layers.test(f.layers) && (Ht.viewport(bt.copy(f.viewport)), Z.setupLights(f), v(a, e, f, h, l, u))
                                } else wt = null, v(a, e, i, h, l, u)
                    }
                }

                function v(t, e, i, n, r, o) {
                    if (t.onBeforeRender($, e, i, n, r, o), Z = Zt.get(e, wt || i), t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse, t.matrixWorld), t.normalMatrix.getNormalMatrix(t.modelViewMatrix), t.isImmediateRenderObject) {
                        Ht.setMaterial(r);
                        var s = y(i, e.fog, r, t);
                        yt.geometry = null, yt.program = null, yt.wireframe = !1, p(t, s)
                    } else $.renderBufferDirect(i, e.fog, n, r, t, o);
                    t.onAfterRender($, e, i, n, r, o), Z = Zt.get(e, wt || i)
                }

                function _(t, e, i) {
                    var n = Gt.get(t),
                        r = Z.state.lights,
                        o = Z.state.shadowsArray,
                        s = r.state.version,
                        a = Xt.getParameters(t, r.state, o, e, Ot.numPlanes, Ot.numIntersection, i),
                        l = Xt.getProgramCacheKey(t, a),
                        u = n.program,
                        p = !0;
                    if (void 0 === u) t.addEventListener("dispose", h);
                    else if (u.cacheKey !== l) c(t);
                    else if (n.lightsStateVersion !== s) n.lightsStateVersion = s, p = !1;
                    else {
                        if (void 0 !== a.shaderID) return;
                        p = !1
                    } if (p) {
                        if (a.shaderID) {
                            var d = cf[a.shaderID];
                            n.shader = {
                                name: t.type,
                                uniforms: W(d.uniforms),
                                vertexShader: d.vertexShader,
                                fragmentShader: d.fragmentShader
                            }
                        } else n.shader = {
                            name: t.type,
                            uniforms: t.uniforms,
                            vertexShader: t.vertexShader,
                            fragmentShader: t.fragmentShader
                        };
                        t.onBeforeCompile(n.shader, $), l = Xt.getProgramCacheKey(t, a), u = Xt.acquireProgram(t, n.shader, a, l), n.program = u, t.program = u
                    }
                    var f = u.getAttributes();
                    if (t.morphTargets) {
                        t.numSupportedMorphTargets = 0;
                        for (var m = 0; m < $.maxMorphTargets; m++) f["morphTarget" + m] >= 0 && t.numSupportedMorphTargets++
                    }
                    if (t.morphNormals) {
                        t.numSupportedMorphNormals = 0;
                        for (var m = 0; m < $.maxMorphNormals; m++) f["morphNormal" + m] >= 0 && t.numSupportedMorphNormals++
                    }
                    var g = n.shader.uniforms;
                    (t.isShaderMaterial || t.isRawShaderMaterial) && t.clipping !== !0 || (n.numClippingPlanes = Ot.numPlanes, n.numIntersection = Ot.numIntersection, g.clippingPlanes = Ot.uniform), n.fog = e, n.needsLights = N(t), n.lightsStateVersion = s, n.needsLights && (g.ambientLightColor.value = r.state.ambient, g.lightProbe.value = r.state.probe, g.directionalLights.value = r.state.directional, g.spotLights.value = r.state.spot, g.rectAreaLights.value = r.state.rectArea, g.pointLights.value = r.state.point, g.hemisphereLights.value = r.state.hemi, g.directionalShadowMap.value = r.state.directionalShadowMap, g.directionalShadowMatrix.value = r.state.directionalShadowMatrix, g.spotShadowMap.value = r.state.spotShadowMap, g.spotShadowMatrix.value = r.state.spotShadowMatrix, g.pointShadowMap.value = r.state.pointShadowMap, g.pointShadowMatrix.value = r.state.pointShadowMatrix);
                    var v = n.program.getUniforms(),
                        _ = ne.seqWithValue(v.seq, g);
                    n.uniformsList = _
                }

                function y(t, e, i, n) {
                    jt.resetTextureUnits();
                    var r = Gt.get(i),
                        o = Z.state.lights;
                    if (It && (Dt || t !== xt)) {
                        var s = t === xt && i.id === _t;
                        Ot.setState(i.clippingPlanes, i.clipIntersection, i.clipShadows, t, r, s)
                    }
                    i.needsUpdate === !1 && (void 0 === r.program ? i.needsUpdate = !0 : i.fog && r.fog !== e ? i.needsUpdate = !0 : r.needsLights && r.lightsStateVersion !== o.state.version ? i.needsUpdate = !0 : void 0 === r.numClippingPlanes || r.numClippingPlanes === Ot.numPlanes && r.numIntersection === Ot.numIntersection || (i.needsUpdate = !0)), i.needsUpdate && (_(i, e, n), i.needsUpdate = !1);
                    var a = !1,
                        h = !1,
                        l = !1,
                        u = r.program,
                        c = u.getUniforms(),
                        p = r.shader.uniforms;
                    if (Ht.useProgram(u.program) && (a = !0, h = !0, l = !0), i.id !== _t && (_t = i.id, h = !0), a || xt !== t) {
                        if (u.numMultiviewViews > 0 ? ie.updateCameraProjectionMatricesUniform(t, c) : c.setValue(J, "projectionMatrix", t.projectionMatrix), Ft.logarithmicDepthBuffer && c.setValue(J, "logDepthBufFC", 2 / (Math.log(t.far + 1) / Math.LN2)), xt !== t && (xt = t, h = !0, l = !0), i.isShaderMaterial || i.isMeshPhongMaterial || i.isMeshStandardMaterial || i.envMap) {
                            var d = c.map.cameraPosition;
                            void 0 !== d && d.setValue(J, Nt.setFromMatrixPosition(t.matrixWorld))
                        }(i.isMeshPhongMaterial || i.isMeshLambertMaterial || i.isMeshBasicMaterial || i.isMeshStandardMaterial || i.isShaderMaterial) && c.setValue(J, "isOrthographic", t.isOrthographicCamera === !0), (i.isMeshPhongMaterial || i.isMeshLambertMaterial || i.isMeshBasicMaterial || i.isMeshStandardMaterial || i.isShaderMaterial || i.skinning) && (u.numMultiviewViews > 0 ? ie.updateCameraViewMatricesUniform(t, c) : c.setValue(J, "viewMatrix", t.matrixWorldInverse))
                    }
                    if (i.skinning) {
                        c.setOptional(J, n, "bindMatrix"), c.setOptional(J, n, "bindMatrixInverse");
                        var f = n.skeleton;
                        if (f) {
                            var m = f.bones;
                            if (Ft.floatVertexTextures) {
                                if (void 0 === f.boneTexture) {
                                    var g = Math.sqrt(4 * m.length);
                                    g = Kl.ceilPowerOfTwo(g), g = Math.max(g, 4);
                                    var v = new Float32Array(g * g * 4);
                                    v.set(f.boneMatrices);
                                    var y = new K(v, g, g, Mh, vh);
                                    f.boneMatrices = v, f.boneTexture = y, f.boneTextureSize = g
                                }
                                c.setValue(J, "boneTexture", f.boneTexture, jt), c.setValue(J, "boneTextureSize", f.boneTextureSize)
                            } else c.setOptional(J, f, "boneMatrices")
                        }
                    }
                    return (h || r.receiveShadow !== n.receiveShadow) && (r.receiveShadow = n.receiveShadow, c.setValue(J, "receiveShadow", n.receiveShadow)), h && (c.setValue(J, "toneMappingExposure", $.toneMappingExposure), c.setValue(J, "toneMappingWhitePoint", $.toneMappingWhitePoint), r.needsLights && k(p, l), e && i.fog && M(p, e), i.isMeshBasicMaterial ? x(p, i) : i.isMeshLambertMaterial ? (x(p, i), E(p, i)) : i.isMeshPhongMaterial ? (x(p, i), i.isMeshToonMaterial ? C(p, i) : A(p, i)) : i.isMeshStandardMaterial ? (x(p, i), i.isMeshPhysicalMaterial ? R(p, i) : P(p, i)) : i.isMeshMatcapMaterial ? (x(p, i), L(p, i)) : i.isMeshDepthMaterial ? (x(p, i), O(p, i)) : i.isMeshDistanceMaterial ? (x(p, i), I(p, i)) : i.isMeshNormalMaterial ? (x(p, i), D(p, i)) : i.isLineBasicMaterial ? (w(p, i), i.isLineDashedMaterial && b(p, i)) : i.isPointsMaterial ? S(p, i) : i.isSpriteMaterial ? T(p, i) : i.isShadowMaterial && (p.color.value.copy(i.color), p.opacity.value = i.opacity), void 0 !== p.ltc_1 && (p.ltc_1.value = uf.LTC_1), void 0 !== p.ltc_2 && (p.ltc_2.value = uf.LTC_2), ne.upload(J, r.uniformsList, p, jt), i.isShaderMaterial && (i.uniformsNeedUpdate = !1)), i.isShaderMaterial && i.uniformsNeedUpdate === !0 && (ne.upload(J, r.uniformsList, p, jt), i.uniformsNeedUpdate = !1), i.isSpriteMaterial && c.setValue(J, "center", n.center), u.numMultiviewViews > 0 ? ie.updateObjectMatricesUniforms(n, t, c) : (c.setValue(J, "modelViewMatrix", n.modelViewMatrix), c.setValue(J, "normalMatrix", n.normalMatrix)), c.setValue(J, "modelMatrix", n.matrixWorld), u
                }

                function x(t, e) {
                    t.opacity.value = e.opacity, e.color && t.diffuse.value.copy(e.color), e.emissive && t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity), e.map && (t.map.value = e.map), e.alphaMap && (t.alphaMap.value = e.alphaMap), e.specularMap && (t.specularMap.value = e.specularMap), e.envMap && (t.envMap.value = e.envMap, t.flipEnvMap.value = e.envMap.isCubeTexture ? -1 : 1, t.reflectivity.value = e.reflectivity, t.refractionRatio.value = e.refractionRatio, t.maxMipLevel.value = Gt.get(e.envMap).__maxMipLevel), e.lightMap && (t.lightMap.value = e.lightMap, t.lightMapIntensity.value = e.lightMapIntensity), e.aoMap && (t.aoMap.value = e.aoMap, t.aoMapIntensity.value = e.aoMapIntensity);
                    var i;
                    e.map ? i = e.map : e.specularMap ? i = e.specularMap : e.displacementMap ? i = e.displacementMap : e.normalMap ? i = e.normalMap : e.bumpMap ? i = e.bumpMap : e.roughnessMap ? i = e.roughnessMap : e.metalnessMap ? i = e.metalnessMap : e.alphaMap ? i = e.alphaMap : e.emissiveMap && (i = e.emissiveMap), void 0 !== i && (i.isWebGLRenderTarget && (i = i.texture), i.matrixAutoUpdate === !0 && i.updateMatrix(), t.uvTransform.value.copy(i.matrix))
                }

                function w(t, e) {
                    t.diffuse.value.copy(e.color), t.opacity.value = e.opacity
                }

                function b(t, e) {
                    t.dashSize.value = e.dashSize, t.totalSize.value = e.dashSize + e.gapSize, t.scale.value = e.scale
                }

                function S(t, e) {
                    t.diffuse.value.copy(e.color), t.opacity.value = e.opacity, t.size.value = e.size * At, t.scale.value = .5 * Et, e.map && (t.map.value = e.map), e.alphaMap && (t.alphaMap.value = e.alphaMap);
                    var i;
                    e.map ? i = e.map : e.alphaMap && (i = e.alphaMap), void 0 !== i && (i.matrixAutoUpdate === !0 && i.updateMatrix(), t.uvTransform.value.copy(i.matrix))
                }

                function T(t, e) {
                    t.diffuse.value.copy(e.color), t.opacity.value = e.opacity, t.rotation.value = e.rotation, e.map && (t.map.value = e.map), e.alphaMap && (t.alphaMap.value = e.alphaMap);
                    var i;
                    e.map ? i = e.map : e.alphaMap && (i = e.alphaMap), void 0 !== i && (i.matrixAutoUpdate === !0 && i.updateMatrix(), t.uvTransform.value.copy(i.matrix))
                }

                function M(t, e) {
                    t.fogColor.value.copy(e.color), e.isFog ? (t.fogNear.value = e.near, t.fogFar.value = e.far) : e.isFogExp2 && (t.fogDensity.value = e.density)
                }

                function E(t, e) {
                    e.emissiveMap && (t.emissiveMap.value = e.emissiveMap)
                }

                function A(t, e) {
                    t.specular.value.copy(e.specular), t.shininess.value = Math.max(e.shininess, 1e-4), e.emissiveMap && (t.emissiveMap.value = e.emissiveMap), e.bumpMap && (t.bumpMap.value = e.bumpMap, t.bumpScale.value = e.bumpScale, e.side === Ks && (t.bumpScale.value *= -1)), e.normalMap && (t.normalMap.value = e.normalMap, t.normalScale.value.copy(e.normalScale), e.side === Ks && t.normalScale.value.negate()), e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias)
                }

                function C(t, e) {
                    A(t, e), e.gradientMap && (t.gradientMap.value = e.gradientMap)
                }

                function P(t, e) {
                    t.roughness.value = e.roughness, t.metalness.value = e.metalness, e.roughnessMap && (t.roughnessMap.value = e.roughnessMap), e.metalnessMap && (t.metalnessMap.value = e.metalnessMap), e.emissiveMap && (t.emissiveMap.value = e.emissiveMap), e.bumpMap && (t.bumpMap.value = e.bumpMap, t.bumpScale.value = e.bumpScale, e.side === Ks && (t.bumpScale.value *= -1)), e.normalMap && (t.normalMap.value = e.normalMap, t.normalScale.value.copy(e.normalScale), e.side === Ks && t.normalScale.value.negate()), e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias), e.envMap && (t.envMapIntensity.value = e.envMapIntensity)
                }

                function R(t, e) {
                    P(t, e), t.reflectivity.value = e.reflectivity, t.clearcoat.value = e.clearcoat, t.clearcoatRoughness.value = e.clearcoatRoughness, e.sheen && t.sheen.value.copy(e.sheen), e.clearcoatNormalMap && (t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale), t.clearcoatNormalMap.value = e.clearcoatNormalMap, e.side === Ks && t.clearcoatNormalScale.value.negate()), t.transparency.value = e.transparency
                }

                function L(t, e) {
                    e.matcap && (t.matcap.value = e.matcap), e.bumpMap && (t.bumpMap.value = e.bumpMap, t.bumpScale.value = e.bumpScale, e.side === Ks && (t.bumpScale.value *= -1)), e.normalMap && (t.normalMap.value = e.normalMap, t.normalScale.value.copy(e.normalScale), e.side === Ks && t.normalScale.value.negate()), e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias)
                }

                function O(t, e) {
                    e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias)
                }

                function I(t, e) {
                    e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias), t.referencePosition.value.copy(e.referencePosition), t.nearDistance.value = e.nearDistance, t.farDistance.value = e.farDistance
                }

                function D(t, e) {
                    e.bumpMap && (t.bumpMap.value = e.bumpMap, t.bumpScale.value = e.bumpScale, e.side === Ks && (t.bumpScale.value *= -1)), e.normalMap && (t.normalMap.value = e.normalMap, t.normalScale.value.copy(e.normalScale), e.side === Ks && t.normalScale.value.negate()), e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias)
                }

                function k(t, e) {
                    t.ambientLightColor.needsUpdate = e, t.lightProbe.needsUpdate = e, t.directionalLights.needsUpdate = e, t.pointLights.needsUpdate = e, t.spotLights.needsUpdate = e, t.rectAreaLights.needsUpdate = e, t.hemisphereLights.needsUpdate = e
                }

                function N(t) {
                    return t.isMeshLambertMaterial || t.isMeshPhongMaterial || t.isMeshStandardMaterial || t.isShadowMaterial || t.isShaderMaterial && t.lights === !0
                }
                t = t || {};
                var z = void 0 !== t.canvas ? t.canvas : document.createElementNS("http://www.w3.org/1999/xhtml", "canvas"),
                    B = void 0 !== t.context ? t.context : null,
                    F = void 0 !== t.alpha && t.alpha,
                    H = void 0 === t.depth || t.depth,
                    U = void 0 === t.stencil || t.stencil,
                    G = void 0 !== t.antialias && t.antialias,
                    j = void 0 === t.premultipliedAlpha || t.premultipliedAlpha,
                    V = void 0 !== t.preserveDrawingBuffer && t.preserveDrawingBuffer,
                    q = void 0 !== t.powerPreference ? t.powerPreference : "default",
                    X = void 0 !== t.failIfMajorPerformanceCaveat && t.failIfMajorPerformanceCaveat,
                    Y = null,
                    Z = null;
                this.domElement = z, this.debug = {
                    checkShaderErrors: !0
                }, this.autoClear = !0, this.autoClearColor = !0, this.autoClearDepth = !0, this.autoClearStencil = !0, this.sortObjects = !0, this.clippingPlanes = [], this.localClippingEnabled = !1, this.gammaFactor = 2, this.gammaInput = !1, this.gammaOutput = !1, this.physicallyCorrectLights = !1, this.toneMapping = Fa, this.toneMappingExposure = 1, this.toneMappingWhitePoint = 1, this.maxMorphTargets = 8, this.maxMorphNormals = 4;
                var J, $ = this,
                    it = !1,
                    nt = null,
                    pt = 0,
                    mt = 0,
                    gt = null,
                    vt = null,
                    _t = -1,
                    yt = {
                        geometry: null,
                        program: null,
                        wireframe: !1
                    },
                    xt = null,
                    wt = null,
                    bt = new a,
                    St = new a,
                    Tt = null,
                    Mt = z.width,
                    Et = z.height,
                    At = 1,
                    Ct = new a(0, 0, Mt, Et),
                    Pt = new a(0, 0, Mt, Et),
                    Rt = !1,
                    Lt = new Q,
                    Ot = new at,
                    It = !1,
                    Dt = !1,
                    kt = new u,
                    Nt = new r;
                try {
                    var zt = {
                        alpha: F,
                        depth: H,
                        stencil: U,
                        antialias: G,
                        premultipliedAlpha: j,
                        preserveDrawingBuffer: V,
                        powerPreference: q,
                        failIfMajorPerformanceCaveat: X,
                        xrCompatible: !0
                    };
                    if (z.addEventListener("webglcontextlost", o, !1), z.addEventListener("webglcontextrestored", s, !1), J = B || z.getContext("webgl", zt) || z.getContext("experimental-webgl", zt), null === J) throw null !== z.getContext("webgl") ? new Error("Error creating WebGL context with your selected attributes.") : new Error("Error creating WebGL context.");
                    void 0 === J.getShaderPrecisionFormat && (J.getShaderPrecisionFormat = function () {
                        return {
                            rangeMin: 1,
                            rangeMax: 1,
                            precision: 1
                        }
                    })
                } catch (t) {
                    throw console.error("THREE.WebGLRenderer: " + t.message), t
                }
                var Bt, Ft, Ht, Ut, Gt, jt, Vt, Wt, qt, Xt, Yt, Zt, Jt, $t, Kt, Qt, te;
                n();
                var ee = "undefined" != typeof navigator && "xr" in navigator && "isSessionSupported" in navigator.xr ? new Je($, J) : new Ze($);
                this.vr = ee;
                var ie = new We($, J),
                    re = new He($, qt, Ft.maxTextureSize);
                this.shadowMap = re, this.getContext = function () {
                    return J
                }, this.getContextAttributes = function () {
                    return J.getContextAttributes()
                }, this.forceContextLoss = function () {
                    var t = Bt.get("WEBGL_lose_context");
                    t && t.loseContext()
                }, this.forceContextRestore = function () {
                    var t = Bt.get("WEBGL_lose_context");
                    t && t.restoreContext()
                }, this.getPixelRatio = function () {
                    return At
                }, this.setPixelRatio = function (t) {
                    void 0 !== t && (At = t, this.setSize(Mt, Et, !1))
                }, this.getSize = function (t) {
                    return void 0 === t && (console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"), t = new i), t.set(Mt, Et)
                }, this.setSize = function (t, e, i) {
                    return ee.isPresenting() ? void console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.") : (Mt = t, Et = e, z.width = Math.floor(t * At), z.height = Math.floor(e * At), i !== !1 && (z.style.width = t + "px", z.style.height = e + "px"), void this.setViewport(0, 0, t, e))
                }, this.getDrawingBufferSize = function (t) {
                    return void 0 === t && (console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"), t = new i), t.set(Mt * At, Et * At).floor()
                }, this.setDrawingBufferSize = function (t, e, i) {
                    Mt = t, Et = e, At = i, z.width = Math.floor(t * i), z.height = Math.floor(e * i), this.setViewport(0, 0, t, e)
                }, this.getCurrentViewport = function (t) {
                    return void 0 === t && (console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"), t = new a), t.copy(bt)
                }, this.getViewport = function (t) {
                    return t.copy(Ct)
                }, this.setViewport = function (t, e, i, n) {
                    t.isVector4 ? Ct.set(t.x, t.y, t.z, t.w) : Ct.set(t, e, i, n), Ht.viewport(bt.copy(Ct).multiplyScalar(At).floor())
                }, this.getScissor = function (t) {
                    return t.copy(Pt)
                }, this.setScissor = function (t, e, i, n) {
                    t.isVector4 ? Pt.set(t.x, t.y, t.z, t.w) : Pt.set(t, e, i, n), Ht.scissor(St.copy(Pt).multiplyScalar(At).floor())
                }, this.getScissorTest = function () {
                    return Rt
                }, this.setScissorTest = function (t) {
                    Ht.setScissorTest(Rt = t)
                }, this.getClearColor = function () {
                    return Jt.getClearColor()
                }, this.setClearColor = function () {
                    Jt.setClearColor.apply(Jt, arguments)
                }, this.getClearAlpha = function () {
                    return Jt.getClearAlpha()
                }, this.setClearAlpha = function () {
                    Jt.setClearAlpha.apply(Jt, arguments)
                }, this.clear = function (t, e, i) {
                    var n = 0;
                    (void 0 === t || t) && (n |= 16384), (void 0 === e || e) && (n |= 256), (void 0 === i || i) && (n |= 1024), J.clear(n)
                }, this.clearColor = function () {
                    this.clear(!0, !1, !1)
                }, this.clearDepth = function () {
                    this.clear(!1, !0, !1)
                }, this.clearStencil = function () {
                    this.clear(!1, !1, !0)
                }, this.dispose = function () {
                    z.removeEventListener("webglcontextlost", o, !1), z.removeEventListener("webglcontextrestored", s, !1), Yt.dispose(), Zt.dispose(), Gt.dispose(), qt.dispose(), ee.dispose(), se.stop()
                }, this.renderBufferImmediate = function (t, e) {
                    Ht.initAttributes();
                    var i = Gt.get(t);
                    t.hasPositions && !i.position && (i.position = J.createBuffer()), t.hasNormals && !i.normal && (i.normal = J.createBuffer()), t.hasUvs && !i.uv && (i.uv = J.createBuffer()), t.hasColors && !i.color && (i.color = J.createBuffer());
                    var n = e.getAttributes();
                    t.hasPositions && (J.bindBuffer(34962, i.position), J.bufferData(34962, t.positionArray, 35048), Ht.enableAttribute(n.position), J.vertexAttribPointer(n.position, 3, 5126, !1, 0, 0)), t.hasNormals && (J.bindBuffer(34962, i.normal), J.bufferData(34962, t.normalArray, 35048), Ht.enableAttribute(n.normal), J.vertexAttribPointer(n.normal, 3, 5126, !1, 0, 0)), t.hasUvs && (J.bindBuffer(34962, i.uv), J.bufferData(34962, t.uvArray, 35048), Ht.enableAttribute(n.uv), J.vertexAttribPointer(n.uv, 2, 5126, !1, 0, 0)), t.hasColors && (J.bindBuffer(34962, i.color), J.bufferData(34962, t.colorArray, 35048), Ht.enableAttribute(n.color), J.vertexAttribPointer(n.color, 3, 5126, !1, 0, 0)), Ht.disableUnusedAttributes(), J.drawArrays(4, 0, t.count), t.count = 0
                }, this.renderBufferDirect = function (t, i, n, r, o, s) {
                    var a = o.isMesh && o.matrixWorld.determinant() < 0;
                    Ht.setMaterial(r, a);
                    var h = y(t, i, r, o),
                        l = !1;
                    yt.geometry === n.id && yt.program === h.id && yt.wireframe === (r.wireframe === !0) || (yt.geometry = n.id, yt.program = h.id, yt.wireframe = r.wireframe === !0, l = !0), o.morphTargetInfluences && ($t.update(o, n, r, h), l = !0);
                    var u = n.index,
                        c = n.attributes.position,
                        p = 1;
                    r.wireframe === !0 && (u = Wt.getWireframeAttribute(n), p = 2);
                    var f, m = Kt;
                    null !== u && (f = Vt.get(u), m = Qt, m.setIndex(f)), l && (d(o, n, r, h), null !== u && J.bindBuffer(34963, f.buffer));
                    var g = 1 / 0;
                    null !== u ? g = u.count : void 0 !== c && (g = c.count);
                    var v = n.drawRange.start * p,
                        _ = n.drawRange.count * p,
                        x = null !== s ? s.start * p : 0,
                        w = null !== s ? s.count * p : 1 / 0,
                        b = Math.max(v, x),
                        S = Math.min(g, v + _, x + w) - 1,
                        T = Math.max(0, S - b + 1);
                    if (0 !== T) {
                        if (o.isMesh)
                            if (r.wireframe === !0) Ht.setLineWidth(r.wireframeLinewidth * e()), m.setMode(1);
                            else switch (o.drawMode) {
                            case ul:
                                m.setMode(4);
                                break;
                            case cl:
                                m.setMode(5);
                                break;
                            case pl:
                                m.setMode(6)
                            } else if (o.isLine) {
                                var M = r.linewidth;
                                void 0 === M && (M = 1), Ht.setLineWidth(M * e()), o.isLineSegments ? m.setMode(1) : o.isLineLoop ? m.setMode(2) : m.setMode(3)
                            } else o.isPoints ? m.setMode(0) : o.isSprite && m.setMode(4);
                        o.isInstancedMesh ? m.renderInstances(n, b, T, o.count) : n.isInstancedBufferGeometry ? m.renderInstances(n, b, T, n.maxInstancedCount) : m.render(b, T)
                    }
                }, this.compile = function (t, e) {
                    Z = Zt.get(t, e), Z.init(), t.traverse(function (t) {
                        t.isLight && (Z.pushLight(t), t.castShadow && Z.pushShadow(t))
                    }), Z.setupLights(e), t.traverse(function (e) {
                        if (e.material)
                            if (Array.isArray(e.material))
                                for (var i = 0; i < e.material.length; i++) _(e.material[i], t.fog, e);
                            else _(e.material, t.fog, e)
                    })
                };
                var oe = null,
                    se = new tt;
                se.setAnimationLoop(f), "undefined" != typeof window && se.setContext(window), this.setAnimationLoop = function (t) {
                    oe = t, ee.setAnimationLoop(t), se.start()
                }, this.render = function (t, e) {
                    var i, n;
                    if (void 0 !== arguments[2] && (console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."), i = arguments[2]), void 0 !== arguments[3] && (console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."), n = arguments[3]), !e || !e.isCamera) return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");
                    if (!it) {
                        yt.geometry = null, yt.program = null, yt.wireframe = !1, _t = -1, xt = null, t.autoUpdate === !0 && t.updateMatrixWorld(), null === e.parent && e.updateMatrixWorld(), ee.enabled && (e = ee.getCamera(e)), Z = Zt.get(t, e), Z.init(), t.onBeforeRender($, t, e, i || gt), kt.multiplyMatrices(e.projectionMatrix, e.matrixWorldInverse), Lt.setFromMatrix(kt), Dt = this.localClippingEnabled, It = Ot.init(this.clippingPlanes, Dt, e), Y = Yt.get(t, e), Y.init(), m(t, e, 0, $.sortObjects), $.sortObjects === !0 && Y.sort(), It && Ot.beginShadows();
                        var r = Z.state.shadowsArray;
                        re.render(r, t, e), Z.setupLights(e), It && Ot.endShadows(), this.info.autoReset && this.info.reset(), void 0 !== i && this.setRenderTarget(i), ee.enabled && ie.isAvailable() && ie.attachCamera(e), Jt.render(Y, t, e, n);
                        var o = Y.opaque,
                            s = Y.transparent;
                        if (t.overrideMaterial) {
                            var a = t.overrideMaterial;
                            o.length && g(o, t, e, a), s.length && g(s, t, e, a)
                        } else o.length && g(o, t, e), s.length && g(s, t, e);
                        t.onAfterRender($, t, e), null !== gt && (jt.updateRenderTargetMipmap(gt), jt.updateMultisampleRenderTarget(gt)), Ht.buffers.depth.setTest(!0), Ht.buffers.depth.setMask(!0), Ht.buffers.color.setMask(!0), Ht.setPolygonOffset(!1), ee.enabled && (ie.isAvailable() && ie.detachCamera(e), ee.submitFrame()), Y = null, Z = null
                    }
                }, this.setFramebuffer = function (t) {
                    nt !== t && null === gt && J.bindFramebuffer(36160, t), nt = t
                }, this.getActiveCubeFace = function () {
                    return pt
                }, this.getActiveMipmapLevel = function () {
                    return mt
                }, this.getRenderTarget = function () {
                    return gt
                }, this.setRenderTarget = function (t, e, i) {
                    gt = t, pt = e, mt = i, t && void 0 === Gt.get(t).__webglFramebuffer && jt.setupRenderTarget(t);
                    var n = nt,
                        r = !1;
                    if (t) {
                        var o = Gt.get(t).__webglFramebuffer;
                        t.isWebGLRenderTargetCube ? (n = o[e || 0], r = !0) : n = t.isWebGLMultisampleRenderTarget ? Gt.get(t).__webglMultisampledFramebuffer : o, bt.copy(t.viewport), St.copy(t.scissor), Tt = t.scissorTest
                    } else bt.copy(Ct).multiplyScalar(At).floor(), St.copy(Pt).multiplyScalar(At).floor(), Tt = Rt; if (vt !== n && (J.bindFramebuffer(36160, n), vt = n), Ht.viewport(bt), Ht.scissor(St), Ht.setScissorTest(Tt), r) {
                        var s = Gt.get(t.texture);
                        J.framebufferTexture2D(36160, 36064, 34069 + (e || 0), s.__webglTexture, i || 0)
                    }
                }, this.readRenderTargetPixels = function (t, e, i, n, r, o, s) {
                    if (!t || !t.isWebGLRenderTarget) return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");
                    var a = Gt.get(t).__webglFramebuffer;
                    if (t.isWebGLRenderTargetCube && void 0 !== s && (a = a[s]), a) {
                        var h = !1;
                        a !== vt && (J.bindFramebuffer(36160, a), h = !0);
                        try {
                            var l = t.texture,
                                u = l.format,
                                c = l.type;
                            if (u !== Mh && te.convert(u) !== J.getParameter(35739)) return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");
                            if (!(c === ch || te.convert(c) === J.getParameter(35738) || c === vh && (Ft.isWebGL2 || Bt.get("OES_texture_float") || Bt.get("WEBGL_color_buffer_float")) || c === _h && (Ft.isWebGL2 ? Bt.get("EXT_color_buffer_float") : Bt.get("EXT_color_buffer_half_float")))) return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");
                            36053 === J.checkFramebufferStatus(36160) ? e >= 0 && e <= t.width - n && i >= 0 && i <= t.height - r && J.readPixels(e, i, n, r, te.convert(u), te.convert(c), o) : console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")
                        } finally {
                            h && J.bindFramebuffer(36160, vt)
                        }
                    }
                }, this.copyFramebufferToTexture = function (t, e, i) {
                    void 0 === i && (i = 0);
                    var n = Math.pow(2, -i),
                        r = Math.floor(e.image.width * n),
                        o = Math.floor(e.image.height * n),
                        s = te.convert(e.format);
                    jt.setTexture2D(e, 0), J.copyTexImage2D(3553, i, s, t.x, t.y, r, o, 0), Ht.unbindTexture()
                }, this.copyTextureToTexture = function (t, e, i, n) {
                    var r = e.image.width,
                        o = e.image.height,
                        s = te.convert(i.format),
                        a = te.convert(i.type);
                    jt.setTexture2D(i, 0), e.isDataTexture ? J.texSubImage2D(3553, n || 0, t.x, t.y, r, o, s, a, e.image.data) : J.texSubImage2D(3553, n || 0, t.x, t.y, s, a, e.image), Ht.unbindTexture()
                }, this.initTexture = function (t) {
                    jt.setTexture2D(t, 0), Ht.unbindTexture()
                }, "undefined" != typeof __THREE_DEVTOOLS__ && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe", {
                    detail: this
                }))
            }

            function Ke(t, e) {
                this.name = "", this.color = new w(t), this.density = void 0 !== e ? e : 25e-5
            }

            function Qe(t, e, i) {
                this.name = "", this.color = new w(t), this.near = void 0 !== e ? e : 1, this.far = void 0 !== i ? i : 1e3
            }

            function ti(t, e) {
                this.array = t, this.stride = e, this.count = void 0 !== t ? t.length / e : 0, this.usage = Ul, this.updateRange = {
                    offset: 0,
                    count: -1
                }, this.version = 0
            }

            function ei(t, e, i, n) {
                this.data = t, this.itemSize = e, this.offset = i, this.normalized = n === !0
            }

            function ii(t) {
                E.call(this), this.type = "SpriteMaterial", this.color = new w(16777215), this.map = null, this.alphaMap = null, this.rotation = 0, this.sizeAttenuation = !0, this.transparent = !0, this.setValues(t)
            }

            function ni(t) {
                if (d.call(this), this.type = "Sprite", void 0 === Rf) {
                    Rf = new H;
                    var e = new Float32Array([-.5, -.5, 0, 0, 0, .5, -.5, 0, 1, 0, .5, .5, 0, 1, 1, -.5, .5, 0, 0, 1]),
                        n = new ti(e, 5);
                    Rf.setIndex([0, 1, 2, 0, 2, 3]), Rf.setAttribute("position", new ei(n, 3, 0, !1)), Rf.setAttribute("uv", new ei(n, 2, 3, !1))
                }
                this.geometry = Rf, this.material = void 0 !== t ? t : new ii, this.center = new i(.5, .5)
            }

            function ri(t, e, i, n, r, o) {
                Df.subVectors(t, i).addScalar(.5).multiply(n), void 0 !== r ? (kf.x = o * Df.x - r * Df.y, kf.y = r * Df.x + o * Df.y) : kf.copy(Df), t.copy(e), t.x += kf.x, t.y += kf.y, t.applyMatrix4(Nf)
            }

            function oi() {
                d.call(this), this.type = "LOD", Object.defineProperties(this, {
                    levels: {
                        enumerable: !0,
                        value: []
                    }
                }), this.autoUpdate = !0
            }

            function si(t, e) {
                t && t.isGeometry && console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."), U.call(this, t, e), this.type = "SkinnedMesh", this.bindMode = "attached", this.bindMatrix = new u, this.bindMatrixInverse = new u
            }

            function ai(t, e) {
                if (t = t || [], this.bones = t.slice(0), this.boneMatrices = new Float32Array(16 * this.bones.length), this.frame = -1, void 0 === e) this.calculateInverses();
                else if (this.bones.length === e.length) this.boneInverses = e.slice(0);
                else {
                    console.warn("THREE.Skeleton boneInverses is the wrong length."), this.boneInverses = [];
                    for (var i = 0, n = this.bones.length; i < n; i++) this.boneInverses.push(new u)
                }
            }

            function hi() {
                d.call(this), this.type = "Bone"
            }

            function li(t, e, i) {
                U.call(this, t, e), this.instanceMatrix = new C(new Float32Array(16 * i), 16),
                    this.count = i
            }

            function ui(t) {
                E.call(this), this.type = "LineBasicMaterial", this.color = new w(16777215), this.linewidth = 1, this.linecap = "round", this.linejoin = "round", this.setValues(t)
            }

            function ci(t, e, i) {
                1 === i && console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."), d.call(this), this.type = "Line", this.geometry = void 0 !== t ? t : new H, this.material = void 0 !== e ? e : new ui({
                    color: 16777215 * Math.random()
                })
            }

            function pi(t, e) {
                ci.call(this, t, e), this.type = "LineSegments"
            }

            function di(t, e) {
                ci.call(this, t, e), this.type = "LineLoop"
            }

            function fi(t) {
                E.call(this), this.type = "PointsMaterial", this.color = new w(16777215), this.map = null, this.alphaMap = null, this.size = 1, this.sizeAttenuation = !0, this.morphTargets = !1, this.setValues(t)
            }

            function mi(t, e) {
                d.call(this), this.type = "Points", this.geometry = void 0 !== t ? t : new H, this.material = void 0 !== e ? e : new fi({
                    color: 16777215 * Math.random()
                }), this.updateMorphTargets()
            }

            function gi(t, e, i, n, o, s, a) {
                var h = em.distanceSqToPoint(t);
                if (h < i) {
                    var l = new r;
                    em.closestPointToPoint(t, l), l.applyMatrix4(n);
                    var u = o.ray.origin.distanceTo(l);
                    if (u < o.near || u > o.far) return;
                    s.push({
                        distance: u,
                        distanceToRay: Math.sqrt(h),
                        point: l,
                        index: e,
                        face: null,
                        object: a
                    })
                }
            }

            function vi(t, e, i, n, r, o, a, h, l) {
                s.call(this, t, e, i, n, r, o, a, h, l), this.format = void 0 !== a ? a : Th, this.minFilter = void 0 !== o ? o : sh, this.magFilter = void 0 !== r ? r : sh, this.generateMipmaps = !1
            }

            function _i(t, e, i, n, r, o, a, h, l, u, c, p) {
                s.call(this, null, o, a, h, l, u, n, r, c, p), this.image = {
                    width: e,
                    height: i
                }, this.mipmaps = t, this.flipY = !1, this.generateMipmaps = !1
            }

            function yi(t, e, i, n, r, o, a, h, l) {
                s.call(this, t, e, i, n, r, o, a, h, l), this.needsUpdate = !0
            }

            function xi(t, e, i, n, r, o, a, h, l, u) {
                if (u = void 0 !== u ? u : Ph, u !== Ph && u !== Rh) throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");
                void 0 === i && u === Ph && (i = fh), void 0 === i && u === Rh && (i = bh), s.call(this, null, n, r, o, a, h, u, i, l), this.image = {
                    width: t,
                    height: e
                }, this.magFilter = void 0 !== a ? a : eh, this.minFilter = void 0 !== h ? h : eh, this.flipY = !1, this.generateMipmaps = !1
            }

            function wi(t) {
                H.call(this), this.type = "WireframeGeometry";
                var e, i, n, o, s, a, h, l, u, c, p = [],
                    d = [0, 0],
                    f = {},
                    m = ["a", "b", "c"];
                if (t && t.isGeometry) {
                    var g = t.faces;
                    for (e = 0, n = g.length; e < n; e++) {
                        var v = g[e];
                        for (i = 0; i < 3; i++) h = v[m[i]], l = v[m[(i + 1) % 3]], d[0] = Math.min(h, l), d[1] = Math.max(h, l), u = d[0] + "," + d[1], void 0 === f[u] && (f[u] = {
                            index1: d[0],
                            index2: d[1]
                        })
                    }
                    for (u in f) a = f[u], c = t.vertices[a.index1], p.push(c.x, c.y, c.z), c = t.vertices[a.index2], p.push(c.x, c.y, c.z)
                } else if (t && t.isBufferGeometry) {
                    var _, y, x, w, b, S, T, M;
                    if (c = new r, null !== t.index) {
                        for (_ = t.attributes.position, y = t.index, x = t.groups, 0 === x.length && (x = [{
                            start: 0,
                            count: y.count,
                            materialIndex: 0
                        }]), o = 0, s = x.length; o < s; ++o)
                            for (w = x[o], b = w.start, S = w.count, e = b, n = b + S; e < n; e += 3)
                                for (i = 0; i < 3; i++) h = y.getX(e + i), l = y.getX(e + (i + 1) % 3), d[0] = Math.min(h, l), d[1] = Math.max(h, l), u = d[0] + "," + d[1], void 0 === f[u] && (f[u] = {
                                    index1: d[0],
                                    index2: d[1]
                                });
                        for (u in f) a = f[u], c.fromBufferAttribute(_, a.index1), p.push(c.x, c.y, c.z), c.fromBufferAttribute(_, a.index2), p.push(c.x, c.y, c.z)
                    } else
                        for (_ = t.attributes.position, e = 0, n = _.count / 3; e < n; e++)
                            for (i = 0; i < 3; i++) T = 3 * e + i, c.fromBufferAttribute(_, T), p.push(c.x, c.y, c.z), M = 3 * e + (i + 1) % 3, c.fromBufferAttribute(_, M), p.push(c.x, c.y, c.z)
                }
                this.setAttribute("position", new N(p, 3))
            }

            function bi(t, e, i) {
                V.call(this), this.type = "ParametricGeometry", this.parameters = {
                    func: t,
                    slices: e,
                    stacks: i
                }, this.fromBufferGeometry(new Si(t, e, i)), this.mergeVertices()
            }

            function Si(t, e, i) {
                H.call(this), this.type = "ParametricBufferGeometry", this.parameters = {
                    func: t,
                    slices: e,
                    stacks: i
                };
                var n, o, s = [],
                    a = [],
                    h = [],
                    l = [],
                    u = 1e-5,
                    c = new r,
                    p = new r,
                    d = new r,
                    f = new r,
                    m = new r;
                t.length < 3 && console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");
                var g = e + 1;
                for (n = 0; n <= i; n++) {
                    var v = n / i;
                    for (o = 0; o <= e; o++) {
                        var _ = o / e;
                        t(_, v, p), a.push(p.x, p.y, p.z), _ - u >= 0 ? (t(_ - u, v, d), f.subVectors(p, d)) : (t(_ + u, v, d), f.subVectors(d, p)), v - u >= 0 ? (t(_, v - u, d), m.subVectors(p, d)) : (t(_, v + u, d), m.subVectors(d, p)), c.crossVectors(f, m).normalize(), h.push(c.x, c.y, c.z), l.push(_, v)
                    }
                }
                for (n = 0; n < i; n++)
                    for (o = 0; o < e; o++) {
                        var y = n * g + o,
                            x = n * g + o + 1,
                            w = (n + 1) * g + o + 1,
                            b = (n + 1) * g + o;
                        s.push(y, x, b), s.push(x, w, b)
                    }
                this.setIndex(s), this.setAttribute("position", new N(a, 3)), this.setAttribute("normal", new N(h, 3)), this.setAttribute("uv", new N(l, 2))
            }

            function Ti(t, e, i, n) {
                V.call(this), this.type = "PolyhedronGeometry", this.parameters = {
                    vertices: t,
                    indices: e,
                    radius: i,
                    detail: n
                }, this.fromBufferGeometry(new Mi(t, e, i, n)), this.mergeVertices()
            }

            function Mi(t, e, n, o) {
                function s(t) {
                    for (var i = new r, n = new r, o = new r, s = 0; s < e.length; s += 3) p(e[s + 0], i), p(e[s + 1], n), p(e[s + 2], o), a(i, n, o, t)
                }

                function a(t, e, i, n) {
                    var r, o, s = Math.pow(2, n),
                        a = [];
                    for (r = 0; r <= s; r++) {
                        a[r] = [];
                        var h = t.clone().lerp(i, r / s),
                            l = e.clone().lerp(i, r / s),
                            u = s - r;
                        for (o = 0; o <= u; o++) 0 === o && r === s ? a[r][o] = h : a[r][o] = h.clone().lerp(l, o / u)
                    }
                    for (r = 0; r < s; r++)
                        for (o = 0; o < 2 * (s - r) - 1; o++) {
                            var p = Math.floor(o / 2);
                            o % 2 === 0 ? (c(a[r][p + 1]), c(a[r + 1][p]), c(a[r][p])) : (c(a[r][p + 1]), c(a[r + 1][p + 1]), c(a[r + 1][p]))
                        }
                }

                function h(t) {
                    for (var e = new r, i = 0; i < v.length; i += 3) e.x = v[i + 0], e.y = v[i + 1], e.z = v[i + 2], e.normalize().multiplyScalar(t), v[i + 0] = e.x, v[i + 1] = e.y, v[i + 2] = e.z
                }

                function l() {
                    for (var t = new r, e = 0; e < v.length; e += 3) {
                        t.x = v[e + 0], t.y = v[e + 1], t.z = v[e + 2];
                        var i = m(t) / 2 / Math.PI + .5,
                            n = g(t) / Math.PI + .5;
                        _.push(i, 1 - n)
                    }
                    d(), u()
                }

                function u() {
                    for (var t = 0; t < _.length; t += 6) {
                        var e = _[t + 0],
                            i = _[t + 2],
                            n = _[t + 4],
                            r = Math.max(e, i, n),
                            o = Math.min(e, i, n);
                        r > .9 && o < .1 && (e < .2 && (_[t + 0] += 1), i < .2 && (_[t + 2] += 1), n < .2 && (_[t + 4] += 1))
                    }
                }

                function c(t) {
                    v.push(t.x, t.y, t.z)
                }

                function p(e, i) {
                    var n = 3 * e;
                    i.x = t[n + 0], i.y = t[n + 1], i.z = t[n + 2]
                }

                function d() {
                    for (var t = new r, e = new r, n = new r, o = new r, s = new i, a = new i, h = new i, l = 0, u = 0; l < v.length; l += 9, u += 6) {
                        t.set(v[l + 0], v[l + 1], v[l + 2]), e.set(v[l + 3], v[l + 4], v[l + 5]), n.set(v[l + 6], v[l + 7], v[l + 8]), s.set(_[u + 0], _[u + 1]), a.set(_[u + 2], _[u + 3]), h.set(_[u + 4], _[u + 5]), o.copy(t).add(e).add(n).divideScalar(3);
                        var c = m(o);
                        f(s, u + 0, t, c), f(a, u + 2, e, c), f(h, u + 4, n, c)
                    }
                }

                function f(t, e, i, n) {
                    n < 0 && 1 === t.x && (_[e] = t.x - 1), 0 === i.x && 0 === i.z && (_[e] = n / 2 / Math.PI + .5)
                }

                function m(t) {
                    return Math.atan2(t.z, -t.x)
                }

                function g(t) {
                    return Math.atan2(-t.y, Math.sqrt(t.x * t.x + t.z * t.z))
                }
                H.call(this), this.type = "PolyhedronBufferGeometry", this.parameters = {
                    vertices: t,
                    indices: e,
                    radius: n,
                    detail: o
                }, n = n || 1, o = o || 0;
                var v = [],
                    _ = [];
                s(o), h(n), l(), this.setAttribute("position", new N(v, 3)), this.setAttribute("normal", new N(v.slice(), 3)), this.setAttribute("uv", new N(_, 2)), 0 === o ? this.computeVertexNormals() : this.normalizeNormals()
            }

            function Ei(t, e) {
                V.call(this), this.type = "TetrahedronGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }, this.fromBufferGeometry(new Ai(t, e)), this.mergeVertices()
            }

            function Ai(t, e) {
                var i = [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1],
                    n = [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1];
                Mi.call(this, i, n, t, e), this.type = "TetrahedronBufferGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }
            }

            function Ci(t, e) {
                V.call(this), this.type = "OctahedronGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }, this.fromBufferGeometry(new Pi(t, e)), this.mergeVertices()
            }

            function Pi(t, e) {
                var i = [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1],
                    n = [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2];
                Mi.call(this, i, n, t, e), this.type = "OctahedronBufferGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }
            }

            function Ri(t, e) {
                V.call(this), this.type = "IcosahedronGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }, this.fromBufferGeometry(new Li(t, e)), this.mergeVertices()
            }

            function Li(t, e) {
                var i = (1 + Math.sqrt(5)) / 2,
                    n = [-1, i, 0, 1, i, 0, -1, -i, 0, 1, -i, 0, 0, -1, i, 0, 1, i, 0, -1, -i, 0, 1, -i, i, 0, -1, i, 0, 1, -i, 0, -1, -i, 0, 1],
                    r = [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1];
                Mi.call(this, n, r, t, e), this.type = "IcosahedronBufferGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }
            }

            function Oi(t, e) {
                V.call(this), this.type = "DodecahedronGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }, this.fromBufferGeometry(new Ii(t, e)), this.mergeVertices()
            }

            function Ii(t, e) {
                var i = (1 + Math.sqrt(5)) / 2,
                    n = 1 / i,
                    r = [-1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, 0, -n, -i, 0, -n, i, 0, n, -i, 0, n, i, -n, -i, 0, -n, i, 0, n, -i, 0, n, i, 0, -i, 0, -n, i, 0, -n, -i, 0, n, i, 0, n],
                    o = [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9];
                Mi.call(this, r, o, t, e), this.type = "DodecahedronBufferGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }
            }

            function Di(t, e, i, n, r, o) {
                V.call(this), this.type = "TubeGeometry", this.parameters = {
                    path: t,
                    tubularSegments: e,
                    radius: i,
                    radialSegments: n,
                    closed: r
                }, void 0 !== o && console.warn("THREE.TubeGeometry: taper has been removed.");
                var s = new ki(t, e, i, n, r);
                this.tangents = s.tangents, this.normals = s.normals, this.binormals = s.binormals, this.fromBufferGeometry(s), this.mergeVertices()
            }

            function ki(t, e, n, o, s) {
                function a() {
                    for (p = 0; p < e; p++) h(p);
                    h(s === !1 ? e : 0), u(), l()
                }

                function h(i) {
                    v = t.getPointAt(i / e, v);
                    var r = c.normals[i],
                        s = c.binormals[i];
                    for (d = 0; d <= o; d++) {
                        var a = d / o * Math.PI * 2,
                            h = Math.sin(a),
                            l = -Math.cos(a);
                        m.x = l * r.x + h * s.x, m.y = l * r.y + h * s.y, m.z = l * r.z + h * s.z, m.normalize(), y.push(m.x, m.y, m.z), f.x = v.x + n * m.x, f.y = v.y + n * m.y, f.z = v.z + n * m.z, _.push(f.x, f.y, f.z)
                    }
                }

                function l() {
                    for (d = 1; d <= e; d++)
                        for (p = 1; p <= o; p++) {
                            var t = (o + 1) * (d - 1) + (p - 1),
                                i = (o + 1) * d + (p - 1),
                                n = (o + 1) * d + p,
                                r = (o + 1) * (d - 1) + p;
                            w.push(t, i, r), w.push(i, n, r)
                        }
                }

                function u() {
                    for (p = 0; p <= e; p++)
                        for (d = 0; d <= o; d++) g.x = p / e, g.y = d / o, x.push(g.x, g.y)
                }
                H.call(this), this.type = "TubeBufferGeometry", this.parameters = {
                    path: t,
                    tubularSegments: e,
                    radius: n,
                    radialSegments: o,
                    closed: s
                }, e = e || 64, n = n || 1, o = o || 8, s = s || !1;
                var c = t.computeFrenetFrames(e, s);
                this.tangents = c.tangents, this.normals = c.normals, this.binormals = c.binormals;
                var p, d, f = new r,
                    m = new r,
                    g = new i,
                    v = new r,
                    _ = [],
                    y = [],
                    x = [],
                    w = [];
                a(), this.setIndex(w), this.setAttribute("position", new N(_, 3)), this.setAttribute("normal", new N(y, 3)), this.setAttribute("uv", new N(x, 2))
            }

            function Ni(t, e, i, n, r, o, s) {
                V.call(this), this.type = "TorusKnotGeometry", this.parameters = {
                    radius: t,
                    tube: e,
                    tubularSegments: i,
                    radialSegments: n,
                    p: r,
                    q: o
                }, void 0 !== s && console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."), this.fromBufferGeometry(new zi(t, e, i, n, r, o)), this.mergeVertices()
            }

            function zi(t, e, i, n, o, s) {
                function a(t, e, i, n, r) {
                    var o = Math.cos(t),
                        s = Math.sin(t),
                        a = i / e * t,
                        h = Math.cos(a);
                    r.x = n * (2 + h) * .5 * o, r.y = n * (2 + h) * s * .5, r.z = n * Math.sin(a) * .5
                }
                H.call(this), this.type = "TorusKnotBufferGeometry", this.parameters = {
                    radius: t,
                    tube: e,
                    tubularSegments: i,
                    radialSegments: n,
                    p: o,
                    q: s
                }, t = t || 1, e = e || .4, i = Math.floor(i) || 64, n = Math.floor(n) || 8, o = o || 2, s = s || 3;
                var h, l, u = [],
                    c = [],
                    p = [],
                    d = [],
                    f = new r,
                    m = new r,
                    g = new r,
                    v = new r,
                    _ = new r,
                    y = new r,
                    x = new r;
                for (h = 0; h <= i; ++h) {
                    var w = h / i * o * Math.PI * 2;
                    for (a(w, o, s, t, g), a(w + .01, o, s, t, v), y.subVectors(v, g), x.addVectors(v, g), _.crossVectors(y, x), x.crossVectors(_, y), _.normalize(), x.normalize(), l = 0; l <= n; ++l) {
                        var b = l / n * Math.PI * 2,
                            S = -e * Math.cos(b),
                            T = e * Math.sin(b);
                        f.x = g.x + (S * x.x + T * _.x), f.y = g.y + (S * x.y + T * _.y), f.z = g.z + (S * x.z + T * _.z), c.push(f.x, f.y, f.z), m.subVectors(f, g).normalize(), p.push(m.x, m.y, m.z), d.push(h / i), d.push(l / n)
                    }
                }
                for (l = 1; l <= i; l++)
                    for (h = 1; h <= n; h++) {
                        var M = (n + 1) * (l - 1) + (h - 1),
                            E = (n + 1) * l + (h - 1),
                            A = (n + 1) * l + h,
                            C = (n + 1) * (l - 1) + h;
                        u.push(M, E, C), u.push(E, A, C)
                    }
                this.setIndex(u), this.setAttribute("position", new N(c, 3)), this.setAttribute("normal", new N(p, 3)), this.setAttribute("uv", new N(d, 2))
            }

            function Bi(t, e, i, n, r) {
                V.call(this), this.type = "TorusGeometry", this.parameters = {
                    radius: t,
                    tube: e,
                    radialSegments: i,
                    tubularSegments: n,
                    arc: r
                }, this.fromBufferGeometry(new Fi(t, e, i, n, r)), this.mergeVertices()
            }

            function Fi(t, e, i, n, o) {
                H.call(this), this.type = "TorusBufferGeometry", this.parameters = {
                    radius: t,
                    tube: e,
                    radialSegments: i,
                    tubularSegments: n,
                    arc: o
                }, t = t || 1, e = e || .4, i = Math.floor(i) || 8, n = Math.floor(n) || 6, o = o || 2 * Math.PI;
                var s, a, h = [],
                    l = [],
                    u = [],
                    c = [],
                    p = new r,
                    d = new r,
                    f = new r;
                for (s = 0; s <= i; s++)
                    for (a = 0; a <= n; a++) {
                        var m = a / n * o,
                            g = s / i * Math.PI * 2;
                        d.x = (t + e * Math.cos(g)) * Math.cos(m), d.y = (t + e * Math.cos(g)) * Math.sin(m), d.z = e * Math.sin(g), l.push(d.x, d.y, d.z), p.x = t * Math.cos(m), p.y = t * Math.sin(m), f.subVectors(d, p).normalize(), u.push(f.x, f.y, f.z), c.push(a / n), c.push(s / i)
                    }
                for (s = 1; s <= i; s++)
                    for (a = 1; a <= n; a++) {
                        var v = (n + 1) * s + a - 1,
                            _ = (n + 1) * (s - 1) + a - 1,
                            y = (n + 1) * (s - 1) + a,
                            x = (n + 1) * s + a;
                        h.push(v, _, x), h.push(_, y, x)
                    }
                this.setIndex(h), this.setAttribute("position", new N(l, 3)), this.setAttribute("normal", new N(u, 3)), this.setAttribute("uv", new N(c, 2))
            }

            function Hi(t, e, i, n, r) {
                var o, s;
                if (r === fn(t, e, i, n) > 0)
                    for (o = e; o < i; o += n) s = cn(o, t[o], t[o + 1], s);
                else
                    for (o = i - n; o >= e; o -= n) s = cn(o, t[o], t[o + 1], s);
                return s && on(s, s.next) && (pn(s), s = s.next), s
            }

            function Ui(t, e) {
                if (!t) return t;
                e || (e = t);
                var i, n = t;
                do
                    if (i = !1, n.steiner || !on(n, n.next) && 0 !== rn(n.prev, n, n.next)) n = n.next;
                    else {
                        if (pn(n), n = e = n.prev, n === n.next) break;
                        i = !0
                    }
                while (i || n !== e);
                return e
            }

            function Gi(t, e, i, n, r, o, s) {
                if (t) {
                    !s && o && $i(t, n, r, o);
                    for (var a, h, l = t; t.prev !== t.next;)
                        if (a = t.prev, h = t.next, o ? Vi(t, n, r, o) : ji(t)) e.push(a.i / i), e.push(t.i / i), e.push(h.i / i), pn(t), t = h.next, l = h.next;
                        else if (t = h, t === l) {
                        s ? 1 === s ? (t = Wi(t, e, i), Gi(t, e, i, n, r, o, 2)) : 2 === s && qi(t, e, i, n, r, o) : Gi(Ui(t), e, i, n, r, o, 1);
                        break
                    }
                }
            }

            function ji(t) {
                var e = t.prev,
                    i = t,
                    n = t.next;
                if (rn(e, i, n) >= 0) return !1;
                for (var r = t.next.next; r !== t.prev;) {
                    if (en(e.x, e.y, i.x, i.y, n.x, n.y, r.x, r.y) && rn(r.prev, r, r.next) >= 0) return !1;
                    r = r.next
                }
                return !0
            }

            function Vi(t, e, i, n) {
                var r = t.prev,
                    o = t,
                    s = t.next;
                if (rn(r, o, s) >= 0) return !1;
                for (var a = r.x < o.x ? r.x < s.x ? r.x : s.x : o.x < s.x ? o.x : s.x, h = r.y < o.y ? r.y < s.y ? r.y : s.y : o.y < s.y ? o.y : s.y, l = r.x > o.x ? r.x > s.x ? r.x : s.x : o.x > s.x ? o.x : s.x, u = r.y > o.y ? r.y > s.y ? r.y : s.y : o.y > s.y ? o.y : s.y, c = Qi(a, h, e, i, n), p = Qi(l, u, e, i, n), d = t.prevZ, f = t.nextZ; d && d.z >= c && f && f.z <= p;) {
                    if (d !== t.prev && d !== t.next && en(r.x, r.y, o.x, o.y, s.x, s.y, d.x, d.y) && rn(d.prev, d, d.next) >= 0) return !1;
                    if (d = d.prevZ, f !== t.prev && f !== t.next && en(r.x, r.y, o.x, o.y, s.x, s.y, f.x, f.y) && rn(f.prev, f, f.next) >= 0) return !1;
                    f = f.nextZ
                }
                for (; d && d.z >= c;) {
                    if (d !== t.prev && d !== t.next && en(r.x, r.y, o.x, o.y, s.x, s.y, d.x, d.y) && rn(d.prev, d, d.next) >= 0) return !1;
                    d = d.prevZ
                }
                for (; f && f.z <= p;) {
                    if (f !== t.prev && f !== t.next && en(r.x, r.y, o.x, o.y, s.x, s.y, f.x, f.y) && rn(f.prev, f, f.next) >= 0) return !1;
                    f = f.nextZ
                }
                return !0
            }

            function Wi(t, e, i) {
                var n = t;
                do {
                    var r = n.prev,
                        o = n.next.next;
                    !on(r, o) && sn(r, n, n.next, o) && hn(r, o) && hn(o, r) && (e.push(r.i / i), e.push(n.i / i), e.push(o.i / i), pn(n), pn(n.next), n = t = o), n = n.next
                } while (n !== t);
                return n
            }

            function qi(t, e, i, n, r, o) {
                var s = t;
                do {
                    for (var a = s.next.next; a !== s.prev;) {
                        if (s.i !== a.i && nn(s, a)) {
                            var h = un(s, a);
                            return s = Ui(s, s.next), h = Ui(h, h.next), Gi(s, e, i, n, r, o), void Gi(h, e, i, n, r, o)
                        }
                        a = a.next
                    }
                    s = s.next
                } while (s !== t)
            }

            function Xi(t, e, i, n) {
                var r, o, s, a, h, l = [];
                for (r = 0, o = e.length; r < o; r++) s = e[r] * n, a = r < o - 1 ? e[r + 1] * n : t.length, h = Hi(t, s, a, n, !1), h === h.next && (h.steiner = !0), l.push(tn(h));
                for (l.sort(Yi), r = 0; r < l.length; r++) Zi(l[r], i), i = Ui(i, i.next);
                return i
            }

            function Yi(t, e) {
                return t.x - e.x
            }

            function Zi(t, e) {
                if (e = Ji(t, e)) {
                    var i = un(e, t);
                    Ui(i, i.next)
                }
            }

            function Ji(t, e) {
                var i, n = e,
                    r = t.x,
                    o = t.y,
                    s = -(1 / 0);
                do {
                    if (o <= n.y && o >= n.next.y && n.next.y !== n.y) {
                        var a = n.x + (o - n.y) * (n.next.x - n.x) / (n.next.y - n.y);
                        if (a <= r && a > s) {
                            if (s = a, a === r) {
                                if (o === n.y) return n;
                                if (o === n.next.y) return n.next
                            }
                            i = n.x < n.next.x ? n : n.next
                        }
                    }
                    n = n.next
                } while (n !== e);
                if (!i) return null;
                if (r === s) return i.prev;
                var h, l = i,
                    u = i.x,
                    c = i.y,
                    p = 1 / 0;
                for (n = i.next; n !== l;) r >= n.x && n.x >= u && r !== n.x && en(o < c ? r : s, o, u, c, o < c ? s : r, o, n.x, n.y) && (h = Math.abs(o - n.y) / (r - n.x), (h < p || h === p && n.x > i.x) && hn(n, t) && (i = n, p = h)), n = n.next;
                return i
            }

            function $i(t, e, i, n) {
                var r = t;
                do null === r.z && (r.z = Qi(r.x, r.y, e, i, n)), r.prevZ = r.prev, r.nextZ = r.next, r = r.next; while (r !== t);
                r.prevZ.nextZ = null, r.prevZ = null, Ki(r)
            }

            function Ki(t) {
                var e, i, n, r, o, s, a, h, l = 1;
                do {
                    for (i = t, t = null, o = null, s = 0; i;) {
                        for (s++, n = i, a = 0, e = 0; e < l && (a++, n = n.nextZ, n); e++);
                        for (h = l; a > 0 || h > 0 && n;) 0 !== a && (0 === h || !n || i.z <= n.z) ? (r = i, i = i.nextZ, a--) : (r = n, n = n.nextZ, h--), o ? o.nextZ = r : t = r, r.prevZ = o, o = r;
                        i = n
                    }
                    o.nextZ = null, l *= 2
                } while (s > 1);
                return t
            }

            function Qi(t, e, i, n, r) {
                return t = 32767 * (t - i) * r, e = 32767 * (e - n) * r, t = 16711935 & (t | t << 8), t = 252645135 & (t | t << 4), t = 858993459 & (t | t << 2), t = 1431655765 & (t | t << 1), e = 16711935 & (e | e << 8), e = 252645135 & (e | e << 4), e = 858993459 & (e | e << 2), e = 1431655765 & (e | e << 1), t | e << 1
            }

            function tn(t) {
                var e = t,
                    i = t;
                do(e.x < i.x || e.x === i.x && e.y < i.y) && (i = e), e = e.next; while (e !== t);
                return i
            }

            function en(t, e, i, n, r, o, s, a) {
                return (r - s) * (e - a) - (t - s) * (o - a) >= 0 && (t - s) * (n - a) - (i - s) * (e - a) >= 0 && (i - s) * (o - a) - (r - s) * (n - a) >= 0
            }

            function nn(t, e) {
                return t.next.i !== e.i && t.prev.i !== e.i && !an(t, e) && hn(t, e) && hn(e, t) && ln(t, e)
            }

            function rn(t, e, i) {
                return (e.y - t.y) * (i.x - e.x) - (e.x - t.x) * (i.y - e.y)
            }

            function on(t, e) {
                return t.x === e.x && t.y === e.y
            }

            function sn(t, e, i, n) {
                return !!(on(t, i) && on(e, n) || on(t, n) && on(i, e)) || rn(t, e, i) > 0 != rn(t, e, n) > 0 && rn(i, n, t) > 0 != rn(i, n, e) > 0
            }

            function an(t, e) {
                var i = t;
                do {
                    if (i.i !== t.i && i.next.i !== t.i && i.i !== e.i && i.next.i !== e.i && sn(i, i.next, t, e)) return !0;
                    i = i.next
                } while (i !== t);
                return !1
            }

            function hn(t, e) {
                return rn(t.prev, t, t.next) < 0 ? rn(t, e, t.next) >= 0 && rn(t, t.prev, e) >= 0 : rn(t, e, t.prev) < 0 || rn(t, t.next, e) < 0
            }

            function ln(t, e) {
                var i = t,
                    n = !1,
                    r = (t.x + e.x) / 2,
                    o = (t.y + e.y) / 2;
                do i.y > o != i.next.y > o && i.next.y !== i.y && r < (i.next.x - i.x) * (o - i.y) / (i.next.y - i.y) + i.x && (n = !n), i = i.next; while (i !== t);
                return n
            }

            function un(t, e) {
                var i = new dn(t.i, t.x, t.y),
                    n = new dn(e.i, e.x, e.y),
                    r = t.next,
                    o = e.prev;
                return t.next = e, e.prev = t, i.next = r, r.prev = i, n.next = i, i.prev = n, o.next = n, n.prev = o, n
            }

            function cn(t, e, i, n) {
                var r = new dn(t, e, i);
                return n ? (r.next = n.next, r.prev = n, n.next.prev = r, n.next = r) : (r.prev = r, r.next = r), r
            }

            function pn(t) {
                t.next.prev = t.prev, t.prev.next = t.next, t.prevZ && (t.prevZ.nextZ = t.nextZ), t.nextZ && (t.nextZ.prevZ = t.prevZ)
            }

            function dn(t, e, i) {
                this.i = t, this.x = e, this.y = i, this.prev = null, this.next = null, this.z = null, this.prevZ = null, this.nextZ = null, this.steiner = !1
            }

            function fn(t, e, i, n) {
                for (var r = 0, o = e, s = i - n; o < i; o += n) r += (t[s] - t[o]) * (t[o + 1] + t[s + 1]), s = o;
                return r
            }

            function mn(t) {
                var e = t.length;
                e > 2 && t[e - 1].equals(t[0]) && t.pop()
            }

            function gn(t, e) {
                for (var i = 0; i < e.length; i++) t.push(e[i].x), t.push(e[i].y)
            }

            function vn(t, e) {
                V.call(this), this.type = "ExtrudeGeometry", this.parameters = {
                    shapes: t,
                    options: e
                }, this.fromBufferGeometry(new _n(t, e)), this.mergeVertices()
            }

            function _n(t, e) {
                function n(t) {
                    function n(t, e, i) {
                        return e || console.error("THREE.ExtrudeGeometry: vec does not exist"), e.clone().multiplyScalar(i).add(t)
                    }

                    function h(t, e, n) {
                        var r, o, s, a = t.x - e.x,
                            h = t.y - e.y,
                            l = n.x - t.x,
                            u = n.y - t.y,
                            c = a * a + h * h,
                            p = a * u - h * l;
                        if (Math.abs(p) > Number.EPSILON) {
                            var d = Math.sqrt(c),
                                f = Math.sqrt(l * l + u * u),
                                m = e.x - h / d,
                                g = e.y + a / d,
                                v = n.x - u / f,
                                _ = n.y + l / f,
                                y = ((v - m) * u - (_ - g) * l) / (a * u - h * l);
                            r = m + a * y - t.x, o = g + h * y - t.y;
                            var x = r * r + o * o;
                            if (x <= 2) return new i(r, o);
                            s = Math.sqrt(x / 2)
                        } else {
                            var w = !1;
                            a > Number.EPSILON ? l > Number.EPSILON && (w = !0) : a < -Number.EPSILON ? l < -Number.EPSILON && (w = !0) : Math.sign(h) === Math.sign(u) && (w = !0), w ? (r = -h, o = a, s = Math.sqrt(c)) : (r = a, o = h, s = Math.sqrt(c / 2))
                        }
                        return new i(r / s, o / s)
                    }

                    function l() {
                        var t = s.length / 3;
                        if (w) {
                            var e = 0,
                                i = Z * e;
                            for (K = 0; K < J; K++) Y = U[K], d(Y[2] + i, Y[1] + i, Y[0] + i);
                            for (e = y + 2 * M, i = Z * e, K = 0; K < J; K++) Y = U[K], d(Y[0] + i, Y[1] + i, Y[2] + i)
                        } else {
                            for (K = 0; K < J; K++) Y = U[K], d(Y[2], Y[1], Y[0]);
                            for (K = 0; K < J; K++) Y = U[K], d(Y[0] + Z * y, Y[1] + Z * y, Y[2] + Z * y)
                        }
                        o.addGroup(t, s.length / 3 - t, 0)
                    }

                    function u() {
                        var t = s.length / 3,
                            e = 0;
                        for (c(G, e), e += G.length, k = 0, N = F.length; k < N; k++) D = F[k], c(D, e), e += D.length;
                        o.addGroup(t, s.length / 3 - t, 1)
                    }

                    function c(t, e) {
                        var i, n;
                        for (K = t.length; --K >= 0;) {
                            i = K, n = K - 1, n < 0 && (n = t.length - 1);
                            var r = 0,
                                o = y + 2 * M;
                            for (r = 0; r < o; r++) {
                                var s = Z * r,
                                    a = Z * (r + 1),
                                    h = e + i + s,
                                    l = e + n + s,
                                    u = e + n + a,
                                    c = e + i + a;
                                f(h, l, u, c)
                            }
                        }
                    }

                    function p(t, e, i) {
                        v.push(t), v.push(e), v.push(i)
                    }

                    function d(t, e, i) {
                        m(t), m(e), m(i);
                        var n = s.length / 3,
                            r = A.generateTopUV(o, s, n - 3, n - 2, n - 1);
                        g(r[0]), g(r[1]), g(r[2])
                    }

                    function f(t, e, i, n) {
                        m(t), m(e), m(n), m(e), m(i), m(n);
                        var r = s.length / 3,
                            a = A.generateSideWallUV(o, s, r - 6, r - 3, r - 2, r - 1);
                        g(a[0]), g(a[1]), g(a[3]), g(a[1]), g(a[2]), g(a[3])
                    }

                    function m(t) {
                        s.push(v[3 * t + 0]), s.push(v[3 * t + 1]), s.push(v[3 * t + 2])
                    }

                    function g(t) {
                        a.push(t.x), a.push(t.y)
                    }
                    var v = [],
                        _ = void 0 !== e.curveSegments ? e.curveSegments : 12,
                        y = void 0 !== e.steps ? e.steps : 1,
                        x = void 0 !== e.depth ? e.depth : 100,
                        w = void 0 === e.bevelEnabled || e.bevelEnabled,
                        b = void 0 !== e.bevelThickness ? e.bevelThickness : 6,
                        S = void 0 !== e.bevelSize ? e.bevelSize : b - 2,
                        T = void 0 !== e.bevelOffset ? e.bevelOffset : 0,
                        M = void 0 !== e.bevelSegments ? e.bevelSegments : 3,
                        E = e.extrudePath,
                        A = void 0 !== e.UVGenerator ? e.UVGenerator : sm;
                    void 0 !== e.amount && (console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."), x = e.amount);
                    var C, P, R, L, O, I = !1;
                    E && (C = E.getSpacedPoints(y), I = !0, w = !1, P = E.computeFrenetFrames(y, !1), R = new r, L = new r, O = new r), w || (M = 0, b = 0, S = 0, T = 0);
                    var D, k, N, z = t.extractPoints(_),
                        B = z.shape,
                        F = z.holes,
                        H = !om.isClockWise(B);
                    if (H)
                        for (B = B.reverse(), k = 0, N = F.length; k < N; k++) D = F[k], om.isClockWise(D) && (F[k] = D.reverse());
                    var U = om.triangulateShape(B, F),
                        G = B;
                    for (k = 0, N = F.length; k < N; k++) D = F[k], B = B.concat(D);
                    for (var j, V, W, q, X, Y, Z = B.length, J = U.length, $ = [], K = 0, Q = G.length, tt = Q - 1, et = K + 1; K < Q; K++, tt++, et++) tt === Q && (tt = 0), et === Q && (et = 0), $[K] = h(G[K], G[tt], G[et]);
                    var it, nt = [],
                        rt = $.concat();
                    for (k = 0, N = F.length; k < N; k++) {
                        for (D = F[k], it = [], K = 0, Q = D.length, tt = Q - 1, et = K + 1; K < Q; K++, tt++, et++) tt === Q && (tt = 0), et === Q && (et = 0), it[K] = h(D[K], D[tt], D[et]);
                        nt.push(it), rt = rt.concat(it)
                    }
                    for (j = 0; j < M; j++) {
                        for (W = j / M, q = b * Math.cos(W * Math.PI / 2), V = S * Math.sin(W * Math.PI / 2) + T, K = 0, Q = G.length; K < Q; K++) X = n(G[K], $[K], V), p(X.x, X.y, -q);
                        for (k = 0, N = F.length; k < N; k++)
                            for (D = F[k], it = nt[k], K = 0, Q = D.length; K < Q; K++) X = n(D[K], it[K], V), p(X.x, X.y, -q)
                    }
                    for (V = S + T, K = 0; K < Z; K++) X = w ? n(B[K], rt[K], V) : B[K], I ? (L.copy(P.normals[0]).multiplyScalar(X.x), R.copy(P.binormals[0]).multiplyScalar(X.y), O.copy(C[0]).add(L).add(R), p(O.x, O.y, O.z)) : p(X.x, X.y, 0);
                    var ot;
                    for (ot = 1; ot <= y; ot++)
                        for (K = 0; K < Z; K++) X = w ? n(B[K], rt[K], V) : B[K], I ? (L.copy(P.normals[ot]).multiplyScalar(X.x), R.copy(P.binormals[ot]).multiplyScalar(X.y), O.copy(C[ot]).add(L).add(R), p(O.x, O.y, O.z)) : p(X.x, X.y, x / y * ot);
                    for (j = M - 1; j >= 0; j--) {
                        for (W = j / M, q = b * Math.cos(W * Math.PI / 2), V = S * Math.sin(W * Math.PI / 2) + T, K = 0, Q = G.length; K < Q; K++) X = n(G[K], $[K], V), p(X.x, X.y, x + q);
                        for (k = 0, N = F.length; k < N; k++)
                            for (D = F[k], it = nt[k], K = 0, Q = D.length; K < Q; K++) X = n(D[K], it[K], V), I ? p(X.x, X.y + C[y - 1].y, C[y - 1].x + q) : p(X.x, X.y, x + q)
                    }
                    l(), u()
                }
                H.call(this), this.type = "ExtrudeBufferGeometry", this.parameters = {
                    shapes: t,
                    options: e
                }, t = Array.isArray(t) ? t : [t];
                for (var o = this, s = [], a = [], h = 0, l = t.length; h < l; h++) {
                    var u = t[h];
                    n(u)
                }
                this.setAttribute("position", new N(s, 3)), this.setAttribute("uv", new N(a, 2)), this.computeVertexNormals()
            }

            function yn(t, e, i) {
                if (i.shapes = [], Array.isArray(t))
                    for (var n = 0, r = t.length; n < r; n++) {
                        var o = t[n];
                        i.shapes.push(o.uuid)
                    } else i.shapes.push(t.uuid);
                return void 0 !== e.extrudePath && (i.options.extrudePath = e.extrudePath.toJSON()), i
            }

            function xn(t, e) {
                V.call(this), this.type = "TextGeometry", this.parameters = {
                    text: t,
                    parameters: e
                }, this.fromBufferGeometry(new wn(t, e)), this.mergeVertices()
            }

            function wn(t, e) {
                e = e || {};
                var i = e.font;
                if (!i || !i.isFont) return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."), new V;
                var n = i.generateShapes(t, e.size);
                e.depth = void 0 !== e.height ? e.height : 50, void 0 === e.bevelThickness && (e.bevelThickness = 10), void 0 === e.bevelSize && (e.bevelSize = 8), void 0 === e.bevelEnabled && (e.bevelEnabled = !1), _n.call(this, n, e), this.type = "TextBufferGeometry"
            }

            function bn(t, e, i, n, r, o, s) {
                V.call(this), this.type = "SphereGeometry", this.parameters = {
                    radius: t,
                    widthSegments: e,
                    heightSegments: i,
                    phiStart: n,
                    phiLength: r,
                    thetaStart: o,
                    thetaLength: s
                }, this.fromBufferGeometry(new Sn(t, e, i, n, r, o, s)), this.mergeVertices()
            }

            function Sn(t, e, i, n, o, s, a) {
                H.call(this), this.type = "SphereBufferGeometry", this.parameters = {
                    radius: t,
                    widthSegments: e,
                    heightSegments: i,
                    phiStart: n,
                    phiLength: o,
                    thetaStart: s,
                    thetaLength: a
                }, t = t || 1, e = Math.max(3, Math.floor(e) || 8), i = Math.max(2, Math.floor(i) || 6), n = void 0 !== n ? n : 0, o = void 0 !== o ? o : 2 * Math.PI, s = void 0 !== s ? s : 0, a = void 0 !== a ? a : Math.PI;
                var h, l, u = Math.min(s + a, Math.PI),
                    c = 0,
                    p = [],
                    d = new r,
                    f = new r,
                    m = [],
                    g = [],
                    v = [],
                    _ = [];
                for (l = 0; l <= i; l++) {
                    var y = [],
                        x = l / i,
                        w = 0;
                    for (0 == l && 0 == s ? w = .5 / e : l == i && u == Math.PI && (w = -.5 / e), h = 0; h <= e; h++) {
                        var b = h / e;
                        d.x = -t * Math.cos(n + b * o) * Math.sin(s + x * a), d.y = t * Math.cos(s + x * a), d.z = t * Math.sin(n + b * o) * Math.sin(s + x * a), g.push(d.x, d.y, d.z), f.copy(d).normalize(), v.push(f.x, f.y, f.z), _.push(b + w, 1 - x), y.push(c++)
                    }
                    p.push(y)
                }
                for (l = 0; l < i; l++)
                    for (h = 0; h < e; h++) {
                        var S = p[l][h + 1],
                            T = p[l][h],
                            M = p[l + 1][h],
                            E = p[l + 1][h + 1];
                        (0 !== l || s > 0) && m.push(S, T, E), (l !== i - 1 || u < Math.PI) && m.push(T, M, E)
                    }
                this.setIndex(m), this.setAttribute("position", new N(g, 3)), this.setAttribute("normal", new N(v, 3)), this.setAttribute("uv", new N(_, 2))
            }

            function Tn(t, e, i, n, r, o) {
                V.call(this), this.type = "RingGeometry", this.parameters = {
                    innerRadius: t,
                    outerRadius: e,
                    thetaSegments: i,
                    phiSegments: n,
                    thetaStart: r,
                    thetaLength: o
                }, this.fromBufferGeometry(new Mn(t, e, i, n, r, o)), this.mergeVertices()
            }

            function Mn(t, e, n, o, s, a) {
                H.call(this), this.type = "RingBufferGeometry", this.parameters = {
                    innerRadius: t,
                    outerRadius: e,
                    thetaSegments: n,
                    phiSegments: o,
                    thetaStart: s,
                    thetaLength: a
                }, t = t || .5, e = e || 1, s = void 0 !== s ? s : 0, a = void 0 !== a ? a : 2 * Math.PI, n = void 0 !== n ? Math.max(3, n) : 8, o = void 0 !== o ? Math.max(1, o) : 1;
                var h, l, u, c = [],
                    p = [],
                    d = [],
                    f = [],
                    m = t,
                    g = (e - t) / o,
                    v = new r,
                    _ = new i;
                for (l = 0; l <= o; l++) {
                    for (u = 0; u <= n; u++) h = s + u / n * a, v.x = m * Math.cos(h), v.y = m * Math.sin(h), p.push(v.x, v.y, v.z), d.push(0, 0, 1), _.x = (v.x / e + 1) / 2, _.y = (v.y / e + 1) / 2, f.push(_.x, _.y);
                    m += g
                }
                for (l = 0; l < o; l++) {
                    var y = l * (n + 1);
                    for (u = 0; u < n; u++) {
                        h = u + y;
                        var x = h,
                            w = h + n + 1,
                            b = h + n + 2,
                            S = h + 1;
                        c.push(x, w, S), c.push(w, b, S)
                    }
                }
                this.setIndex(c), this.setAttribute("position", new N(p, 3)), this.setAttribute("normal", new N(d, 3)), this.setAttribute("uv", new N(f, 2))
            }

            function En(t, e, i, n) {
                V.call(this), this.type = "LatheGeometry", this.parameters = {
                    points: t,
                    segments: e,
                    phiStart: i,
                    phiLength: n
                }, this.fromBufferGeometry(new An(t, e, i, n)), this.mergeVertices()
            }

            function An(t, e, n, o) {
                H.call(this), this.type = "LatheBufferGeometry", this.parameters = {
                    points: t,
                    segments: e,
                    phiStart: n,
                    phiLength: o
                }, e = Math.floor(e) || 12, n = n || 0, o = o || 2 * Math.PI, o = Kl.clamp(o, 0, 2 * Math.PI);
                var s, a, h, l = [],
                    u = [],
                    c = [],
                    p = 1 / e,
                    d = new r,
                    f = new i;
                for (a = 0; a <= e; a++) {
                    var m = n + a * p * o,
                        g = Math.sin(m),
                        v = Math.cos(m);
                    for (h = 0; h <= t.length - 1; h++) d.x = t[h].x * g, d.y = t[h].y, d.z = t[h].x * v, u.push(d.x, d.y, d.z), f.x = a / e, f.y = h / (t.length - 1), c.push(f.x, f.y)
                }
                for (a = 0; a < e; a++)
                    for (h = 0; h < t.length - 1; h++) {
                        s = h + a * t.length;
                        var _ = s,
                            y = s + t.length,
                            x = s + t.length + 1,
                            w = s + 1;
                        l.push(_, y, w), l.push(y, x, w)
                    }
                if (this.setIndex(l), this.setAttribute("position", new N(u, 3)), this.setAttribute("uv", new N(c, 2)), this.computeVertexNormals(), o === 2 * Math.PI) {
                    var b = this.attributes.normal.array,
                        S = new r,
                        T = new r,
                        M = new r;
                    for (s = e * t.length * 3, a = 0, h = 0; a < t.length; a++, h += 3) S.x = b[h + 0], S.y = b[h + 1], S.z = b[h + 2], T.x = b[s + h + 0], T.y = b[s + h + 1], T.z = b[s + h + 2], M.addVectors(S, T).normalize(), b[h + 0] = b[s + h + 0] = M.x, b[h + 1] = b[s + h + 1] = M.y, b[h + 2] = b[s + h + 2] = M.z
                }
            }

            function Cn(t, e) {
                V.call(this), this.type = "ShapeGeometry", "object" == typeof e && (console.warn("THREE.ShapeGeometry: Options parameter has been removed."), e = e.curveSegments), this.parameters = {
                    shapes: t,
                    curveSegments: e
                }, this.fromBufferGeometry(new Pn(t, e)), this.mergeVertices()
            }

            function Pn(t, e) {
                function i(t) {
                    var i, a, l, u = r.length / 3,
                        c = t.extractPoints(e),
                        p = c.shape,
                        d = c.holes;
                    for (om.isClockWise(p) === !1 && (p = p.reverse()), i = 0, a = d.length; i < a; i++) l = d[i], om.isClockWise(l) === !0 && (d[i] = l.reverse());
                    var f = om.triangulateShape(p, d);
                    for (i = 0, a = d.length; i < a; i++) l = d[i], p = p.concat(l);
                    for (i = 0, a = p.length; i < a; i++) {
                        var m = p[i];
                        r.push(m.x, m.y, 0), o.push(0, 0, 1), s.push(m.x, m.y)
                    }
                    for (i = 0, a = f.length; i < a; i++) {
                        var g = f[i],
                            v = g[0] + u,
                            _ = g[1] + u,
                            y = g[2] + u;
                        n.push(v, _, y), h += 3
                    }
                }
                H.call(this), this.type = "ShapeBufferGeometry", this.parameters = {
                    shapes: t,
                    curveSegments: e
                }, e = e || 12;
                var n = [],
                    r = [],
                    o = [],
                    s = [],
                    a = 0,
                    h = 0;
                if (Array.isArray(t) === !1) i(t);
                else
                    for (var l = 0; l < t.length; l++) i(t[l]), this.addGroup(a, h, l), a += h, h = 0;
                this.setIndex(n), this.setAttribute("position", new N(r, 3)), this.setAttribute("normal", new N(o, 3)), this.setAttribute("uv", new N(s, 2))
            }

            function Rn(t, e) {
                if (e.shapes = [], Array.isArray(t))
                    for (var i = 0, n = t.length; i < n; i++) {
                        var r = t[i];
                        e.shapes.push(r.uuid)
                    } else e.shapes.push(t.uuid);
                return e
            }

            function Ln(t, e) {
                H.call(this), this.type = "EdgesGeometry", this.parameters = {
                    thresholdAngle: e
                }, e = void 0 !== e ? e : 1;
                var i, n, r, o, s = [],
                    a = Math.cos(Kl.DEG2RAD * e),
                    h = [0, 0],
                    l = {},
                    u = ["a", "b", "c"];
                t.isBufferGeometry ? (o = new V, o.fromBufferGeometry(t)) : o = t.clone(), o.mergeVertices(), o.computeFaceNormals();
                for (var c = o.vertices, p = o.faces, d = 0, f = p.length; d < f; d++)
                    for (var m = p[d], g = 0; g < 3; g++) i = m[u[g]], n = m[u[(g + 1) % 3]], h[0] = Math.min(i, n), h[1] = Math.max(i, n), r = h[0] + "," + h[1], void 0 === l[r] ? l[r] = {
                        index1: h[0],
                        index2: h[1],
                        face1: d,
                        face2: void 0
                    } : l[r].face2 = d;
                for (r in l) {
                    var v = l[r];
                    if (void 0 === v.face2 || p[v.face1].normal.dot(p[v.face2].normal) <= a) {
                        var _ = c[v.index1];
                        s.push(_.x, _.y, _.z), _ = c[v.index2], s.push(_.x, _.y, _.z)
                    }
                }
                this.setAttribute("position", new N(s, 3))
            }

            function On(t, e, i, n, r, o, s, a) {
                V.call(this), this.type = "CylinderGeometry", this.parameters = {
                    radiusTop: t,
                    radiusBottom: e,
                    height: i,
                    radialSegments: n,
                    heightSegments: r,
                    openEnded: o,
                    thetaStart: s,
                    thetaLength: a
                }, this.fromBufferGeometry(new In(t, e, i, n, r, o, s, a)), this.mergeVertices()
            }

            function In(t, e, n, o, s, a, h, l) {
                function u() {
                    var i, a, u = new r,
                        c = new r,
                        w = 0,
                        b = (e - t) / n;
                    for (a = 0; a <= s; a++) {
                        var S = [],
                            T = a / s,
                            M = T * (e - t) + t;
                        for (i = 0; i <= o; i++) {
                            var E = i / o,
                                A = E * l + h,
                                C = Math.sin(A),
                                P = Math.cos(A);
                            c.x = M * C, c.y = -T * n + y, c.z = M * P, f.push(c.x, c.y, c.z), u.set(C, b, P).normalize(), m.push(u.x, u.y, u.z), g.push(E, 1 - T), S.push(v++)
                        }
                        _.push(S)
                    }
                    for (i = 0; i < o; i++)
                        for (a = 0; a < s; a++) {
                            var R = _[a][i],
                                L = _[a + 1][i],
                                O = _[a + 1][i + 1],
                                I = _[a][i + 1];
                            d.push(R, L, I), d.push(L, O, I), w += 6
                        }
                    p.addGroup(x, w, 0), x += w
                }

                function c(n) {
                    var s, a, u, c = new i,
                        _ = new r,
                        w = 0,
                        b = n === !0 ? t : e,
                        S = n === !0 ? 1 : -1;
                    for (a = v, s = 1; s <= o; s++) f.push(0, y * S, 0), m.push(0, S, 0), g.push(.5, .5), v++;
                    for (u = v, s = 0; s <= o; s++) {
                        var T = s / o,
                            M = T * l + h,
                            E = Math.cos(M),
                            A = Math.sin(M);
                        _.x = b * A, _.y = y * S, _.z = b * E, f.push(_.x, _.y, _.z), m.push(0, S, 0), c.x = .5 * E + .5, c.y = .5 * A * S + .5, g.push(c.x, c.y), v++
                    }
                    for (s = 0; s < o; s++) {
                        var C = a + s,
                            P = u + s;
                        n === !0 ? d.push(P, P + 1, C) : d.push(P + 1, P, C), w += 3
                    }
                    p.addGroup(x, w, n === !0 ? 1 : 2), x += w
                }
                H.call(this), this.type = "CylinderBufferGeometry", this.parameters = {
                    radiusTop: t,
                    radiusBottom: e,
                    height: n,
                    radialSegments: o,
                    heightSegments: s,
                    openEnded: a,
                    thetaStart: h,
                    thetaLength: l
                };
                var p = this;
                t = void 0 !== t ? t : 1, e = void 0 !== e ? e : 1, n = n || 1, o = Math.floor(o) || 8, s = Math.floor(s) || 1, a = void 0 !== a && a, h = void 0 !== h ? h : 0, l = void 0 !== l ? l : 2 * Math.PI;
                var d = [],
                    f = [],
                    m = [],
                    g = [],
                    v = 0,
                    _ = [],
                    y = n / 2,
                    x = 0;
                u(), a === !1 && (t > 0 && c(!0), e > 0 && c(!1)), this.setIndex(d), this.setAttribute("position", new N(f, 3)), this.setAttribute("normal", new N(m, 3)), this.setAttribute("uv", new N(g, 2))
            }

            function Dn(t, e, i, n, r, o, s) {
                On.call(this, 0, t, e, i, n, r, o, s), this.type = "ConeGeometry", this.parameters = {
                    radius: t,
                    height: e,
                    radialSegments: i,
                    heightSegments: n,
                    openEnded: r,
                    thetaStart: o,
                    thetaLength: s
                }
            }

            function kn(t, e, i, n, r, o, s) {
                In.call(this, 0, t, e, i, n, r, o, s), this.type = "ConeBufferGeometry", this.parameters = {
                    radius: t,
                    height: e,
                    radialSegments: i,
                    heightSegments: n,
                    openEnded: r,
                    thetaStart: o,
                    thetaLength: s
                }
            }

            function Nn(t, e, i, n) {
                V.call(this), this.type = "CircleGeometry", this.parameters = {
                    radius: t,
                    segments: e,
                    thetaStart: i,
                    thetaLength: n
                }, this.fromBufferGeometry(new zn(t, e, i, n)), this.mergeVertices()
            }

            function zn(t, e, n, o) {
                H.call(this), this.type = "CircleBufferGeometry", this.parameters = {
                    radius: t,
                    segments: e,
                    thetaStart: n,
                    thetaLength: o
                }, t = t || 1, e = void 0 !== e ? Math.max(3, e) : 8, n = void 0 !== n ? n : 0, o = void 0 !== o ? o : 2 * Math.PI;
                var s, a, h = [],
                    l = [],
                    u = [],
                    c = [],
                    p = new r,
                    d = new i;
                for (l.push(0, 0, 0), u.push(0, 0, 1), c.push(.5, .5), a = 0, s = 3; a <= e; a++, s += 3) {
                    var f = n + a / e * o;
                    p.x = t * Math.cos(f), p.y = t * Math.sin(f), l.push(p.x, p.y, p.z), u.push(0, 0, 1), d.x = (l[s] / t + 1) / 2, d.y = (l[s + 1] / t + 1) / 2, c.push(d.x, d.y)
                }
                for (s = 1; s <= e; s++) h.push(s, s + 1, 0);
                this.setIndex(h), this.setAttribute("position", new N(l, 3)), this.setAttribute("normal", new N(u, 3)), this.setAttribute("uv", new N(c, 2))
            }

            function Bn(t) {
                E.call(this), this.type = "ShadowMaterial", this.color = new w(0), this.transparent = !0, this.setValues(t)
            }

            function Fn(t) {
                X.call(this, t), this.type = "RawShaderMaterial"
            }

            function Hn(t) {
                E.call(this), this.defines = {
                    STANDARD: ""
                }, this.type = "MeshStandardMaterial", this.color = new w(16777215), this.roughness = .5, this.metalness = .5, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new w(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Sl, this.normalScale = new i(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.roughnessMap = null, this.metalnessMap = null, this.alphaMap = null, this.envMap = null, this.envMapIntensity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t)
            }

            function Un(t) {
                Hn.call(this), this.defines = {
                    STANDARD: "",
                    PHYSICAL: ""
                }, this.type = "MeshPhysicalMaterial", this.reflectivity = .5, this.clearcoat = 0, this.clearcoatRoughness = 0, this.sheen = null, this.clearcoatNormalScale = new i(1, 1), this.clearcoatNormalMap = null, this.transparency = 0, this.setValues(t)
            }

            function Gn(t) {
                E.call(this), this.type = "MeshPhongMaterial",
                    this.color = new w(16777215), this.specular = new w(1118481), this.shininess = 30, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new w(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Sl, this.normalScale = new i(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = ka, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t)
            }

            function jn(t) {
                Gn.call(this), this.defines = {
                    TOON: ""
                }, this.type = "MeshToonMaterial", this.gradientMap = null, this.setValues(t)
            }

            function Vn(t) {
                E.call(this), this.type = "MeshNormalMaterial", this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Sl, this.normalScale = new i(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t)
            }

            function Wn(t) {
                E.call(this), this.type = "MeshLambertMaterial", this.color = new w(16777215), this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new w(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = ka, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t)
            }

            function qn(t) {
                E.call(this), this.defines = {
                    MATCAP: ""
                }, this.type = "MeshMatcapMaterial", this.color = new w(16777215), this.matcap = null, this.map = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Sl, this.normalScale = new i(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.alphaMap = null, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t)
            }

            function Xn(t) {
                ui.call(this), this.type = "LineDashedMaterial", this.scale = 1, this.dashSize = 3, this.gapSize = 1, this.setValues(t)
            }

            function Yn(t, e, i, n) {
                this.parameterPositions = t, this._cachedIndex = 0, this.resultBuffer = void 0 !== n ? n : new e.constructor(i), this.sampleValues = e, this.valueSize = i
            }

            function Zn(t, e, i, n) {
                Yn.call(this, t, e, i, n), this._weightPrev = -0, this._offsetPrev = -0, this._weightNext = -0, this._offsetNext = -0
            }

            function Jn(t, e, i, n) {
                Yn.call(this, t, e, i, n)
            }

            function $n(t, e, i, n) {
                Yn.call(this, t, e, i, n)
            }

            function Kn(t, e, i, n) {
                if (void 0 === t) throw new Error("THREE.KeyframeTrack: track name is undefined");
                if (void 0 === e || 0 === e.length) throw new Error("THREE.KeyframeTrack: no keyframes in track named " + t);
                this.name = t, this.times = lm.convertArray(e, this.TimeBufferType), this.values = lm.convertArray(i, this.ValueBufferType), this.setInterpolation(n || this.DefaultInterpolation)
            }

            function Qn(t, e, i) {
                Kn.call(this, t, e, i)
            }

            function tr(t, e, i, n) {
                Kn.call(this, t, e, i, n)
            }

            function er(t, e, i, n) {
                Kn.call(this, t, e, i, n)
            }

            function ir(t, e, i, n) {
                Yn.call(this, t, e, i, n)
            }

            function nr(t, e, i, n) {
                Kn.call(this, t, e, i, n)
            }

            function rr(t, e, i, n) {
                Kn.call(this, t, e, i, n)
            }

            function or(t, e, i, n) {
                Kn.call(this, t, e, i, n)
            }

            function sr(t, e, i) {
                this.name = t, this.tracks = i, this.duration = void 0 !== e ? e : -1, this.uuid = Kl.generateUUID(), this.duration < 0 && this.resetDuration()
            }

            function ar(t) {
                switch (t.toLowerCase()) {
                case "scalar":
                case "double":
                case "float":
                case "number":
                case "integer":
                    return er;
                case "vector":
                case "vector2":
                case "vector3":
                case "vector4":
                    return or;
                case "color":
                    return tr;
                case "quaternion":
                    return nr;
                case "bool":
                case "boolean":
                    return Qn;
                case "string":
                    return rr
                }
                throw new Error("THREE.KeyframeTrack: Unsupported typeName: " + t)
            }

            function hr(t) {
                if (void 0 === t.type) throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");
                var e = ar(t.type);
                if (void 0 === t.times) {
                    var i = [],
                        n = [];
                    lm.flattenJSON(t.keys, i, n, "value"), t.times = i, t.values = n
                }
                return void 0 !== e.parse ? e.parse(t) : new e(t.name, t.times, t.values, t.interpolation)
            }

            function lr(t, e, i) {
                var n = this,
                    r = !1,
                    o = 0,
                    s = 0,
                    a = void 0,
                    h = [];
                this.onStart = void 0, this.onLoad = t, this.onProgress = e, this.onError = i, this.itemStart = function (t) {
                    s++, r === !1 && void 0 !== n.onStart && n.onStart(t, o, s), r = !0
                }, this.itemEnd = function (t) {
                    o++, void 0 !== n.onProgress && n.onProgress(t, o, s), o === s && (r = !1, void 0 !== n.onLoad && n.onLoad())
                }, this.itemError = function (t) {
                    void 0 !== n.onError && n.onError(t)
                }, this.resolveURL = function (t) {
                    return a ? a(t) : t
                }, this.setURLModifier = function (t) {
                    return a = t, this
                }, this.addHandler = function (t, e) {
                    return h.push(t, e), this
                }, this.removeHandler = function (t) {
                    var e = h.indexOf(t);
                    return e !== -1 && h.splice(e, 2), this
                }, this.getHandler = function (t) {
                    for (var e = 0, i = h.length; e < i; e += 2) {
                        var n = h[e],
                            r = h[e + 1];
                        if (n.test(t)) return r
                    }
                    return null
                }
            }

            function ur(t) {
                this.manager = void 0 !== t ? t : cm, this.crossOrigin = "anonymous", this.path = "", this.resourcePath = ""
            }

            function cr(t) {
                ur.call(this, t)
            }

            function pr(t) {
                ur.call(this, t)
            }

            function dr(t) {
                ur.call(this, t)
            }

            function fr(t) {
                ur.call(this, t)
            }

            function mr(t) {
                ur.call(this, t)
            }

            function gr(t) {
                ur.call(this, t)
            }

            function vr(t) {
                ur.call(this, t)
            }

            function _r() {
                this.type = "Curve", this.arcLengthDivisions = 200
            }

            function yr(t, e, i, n, r, o, s, a) {
                _r.call(this), this.type = "EllipseCurve", this.aX = t || 0, this.aY = e || 0, this.xRadius = i || 1, this.yRadius = n || 1, this.aStartAngle = r || 0, this.aEndAngle = o || 2 * Math.PI, this.aClockwise = s || !1, this.aRotation = a || 0
            }

            function xr(t, e, i, n, r, o) {
                yr.call(this, t, e, i, i, n, r, o), this.type = "ArcCurve"
            }

            function wr() {
                function t(t, o, s, a) {
                    e = t, i = s, n = -3 * t + 3 * o - 2 * s - a, r = 2 * t - 2 * o + s + a
                }
                var e = 0,
                    i = 0,
                    n = 0,
                    r = 0;
                return {
                    initCatmullRom: function (e, i, n, r, o) {
                        t(i, n, o * (n - e), o * (r - i))
                    }, initNonuniformCatmullRom: function (e, i, n, r, o, s, a) {
                        var h = (i - e) / o - (n - e) / (o + s) + (n - i) / s,
                            l = (n - i) / s - (r - i) / (s + a) + (r - n) / a;
                        h *= s, l *= s, t(i, n, h, l)
                    }, calc: function (t) {
                        var o = t * t,
                            s = o * t;
                        return e + i * t + n * o + r * s
                    }
                }
            }

            function br(t, e, i, n) {
                _r.call(this), this.type = "CatmullRomCurve3", this.points = t || [], this.closed = e || !1, this.curveType = i || "centripetal", this.tension = n || .5
            }

            function Sr(t, e, i, n, r) {
                var o = .5 * (n - e),
                    s = .5 * (r - i),
                    a = t * t,
                    h = t * a;
                return (2 * i - 2 * n + o + s) * h + (-3 * i + 3 * n - 2 * o - s) * a + o * t + i
            }

            function Tr(t, e) {
                var i = 1 - t;
                return i * i * e
            }

            function Mr(t, e) {
                return 2 * (1 - t) * t * e
            }

            function Er(t, e) {
                return t * t * e
            }

            function Ar(t, e, i, n) {
                return Tr(t, e) + Mr(t, i) + Er(t, n)
            }

            function Cr(t, e) {
                var i = 1 - t;
                return i * i * i * e
            }

            function Pr(t, e) {
                var i = 1 - t;
                return 3 * i * i * t * e
            }

            function Rr(t, e) {
                return 3 * (1 - t) * t * t * e
            }

            function Lr(t, e) {
                return t * t * t * e
            }

            function Or(t, e, i, n, r) {
                return Cr(t, e) + Pr(t, i) + Rr(t, n) + Lr(t, r)
            }

            function Ir(t, e, n, r) {
                _r.call(this), this.type = "CubicBezierCurve", this.v0 = t || new i, this.v1 = e || new i, this.v2 = n || new i, this.v3 = r || new i
            }

            function Dr(t, e, i, n) {
                _r.call(this), this.type = "CubicBezierCurve3", this.v0 = t || new r, this.v1 = e || new r, this.v2 = i || new r, this.v3 = n || new r
            }

            function kr(t, e) {
                _r.call(this), this.type = "LineCurve", this.v1 = t || new i, this.v2 = e || new i
            }

            function Nr(t, e) {
                _r.call(this), this.type = "LineCurve3", this.v1 = t || new r, this.v2 = e || new r
            }

            function zr(t, e, n) {
                _r.call(this), this.type = "QuadraticBezierCurve", this.v0 = t || new i, this.v1 = e || new i, this.v2 = n || new i
            }

            function Br(t, e, i) {
                _r.call(this), this.type = "QuadraticBezierCurve3", this.v0 = t || new r, this.v1 = e || new r, this.v2 = i || new r
            }

            function Fr(t) {
                _r.call(this), this.type = "SplineCurve", this.points = t || []
            }

            function Hr() {
                _r.call(this), this.type = "CurvePath", this.curves = [], this.autoClose = !1
            }

            function Ur(t) {
                Hr.call(this), this.type = "Path", this.currentPoint = new i, t && this.setFromPoints(t)
            }

            function Gr(t) {
                Ur.call(this, t), this.uuid = Kl.generateUUID(), this.type = "Shape", this.holes = []
            }

            function jr(t, e) {
                d.call(this), this.type = "Light", this.color = new w(t), this.intensity = void 0 !== e ? e : 1, this.receiveShadow = void 0
            }

            function Vr(t, e, i) {
                jr.call(this, t, i), this.type = "HemisphereLight", this.castShadow = void 0, this.position.copy(d.DefaultUp), this.updateMatrix(), this.groundColor = new w(e)
            }

            function Wr(t) {
                this.camera = t, this.bias = 0, this.radius = 1, this.mapSize = new i(512, 512), this.map = null, this.mapPass = null, this.matrix = new u, this._frustum = new Q, this._frameExtents = new i(1, 1), this._viewportCount = 1, this._viewports = [new a(0, 0, 1, 1)]
            }

            function qr() {
                Wr.call(this, new Z(50, 1, .5, 500))
            }

            function Xr(t, e, i, n, r, o) {
                jr.call(this, t, e), this.type = "SpotLight", this.position.copy(d.DefaultUp), this.updateMatrix(), this.target = new d, Object.defineProperty(this, "power", {
                    get: function () {
                        return this.intensity * Math.PI
                    }, set: function (t) {
                        this.intensity = t / Math.PI
                    }
                }), this.distance = void 0 !== i ? i : 0, this.angle = void 0 !== n ? n : Math.PI / 3, this.penumbra = void 0 !== r ? r : 0, this.decay = void 0 !== o ? o : 1, this.shadow = new qr
            }

            function Yr() {
                Wr.call(this, new Z(90, 1, .5, 500)), this._frameExtents = new i(4, 2), this._viewportCount = 6, this._viewports = [new a(2, 1, 1, 1), new a(0, 1, 1, 1), new a(3, 1, 1, 1), new a(1, 1, 1, 1), new a(3, 0, 1, 1), new a(1, 0, 1, 1)], this._cubeDirections = [new r(1, 0, 0), new r(-1, 0, 0), new r(0, 0, 1), new r(0, 0, -1), new r(0, 1, 0), new r(0, -1, 0)], this._cubeUps = [new r(0, 1, 0), new r(0, 1, 0), new r(0, 1, 0), new r(0, 1, 0), new r(0, 0, 1), new r(0, 0, -1)]
            }

            function Zr(t, e, i, n) {
                jr.call(this, t, e), this.type = "PointLight", Object.defineProperty(this, "power", {
                    get: function () {
                        return 4 * this.intensity * Math.PI
                    }, set: function (t) {
                        this.intensity = t / (4 * Math.PI)
                    }
                }), this.distance = void 0 !== i ? i : 0, this.decay = void 0 !== n ? n : 1, this.shadow = new Yr
            }

            function Jr(t, e, i, n, r, o) {
                Y.call(this), this.type = "OrthographicCamera", this.zoom = 1, this.view = null, this.left = void 0 !== t ? t : -1, this.right = void 0 !== e ? e : 1, this.top = void 0 !== i ? i : 1, this.bottom = void 0 !== n ? n : -1, this.near = void 0 !== r ? r : .1, this.far = void 0 !== o ? o : 2e3, this.updateProjectionMatrix()
            }

            function $r() {
                Wr.call(this, new Jr(-5, 5, 5, -5, .5, 500))
            }

            function Kr(t, e) {
                jr.call(this, t, e), this.type = "DirectionalLight", this.position.copy(d.DefaultUp), this.updateMatrix(), this.target = new d, this.shadow = new $r
            }

            function Qr(t, e) {
                jr.call(this, t, e), this.type = "AmbientLight", this.castShadow = void 0
            }

            function to(t, e, i, n) {
                jr.call(this, t, e), this.type = "RectAreaLight", this.width = void 0 !== i ? i : 10, this.height = void 0 !== n ? n : 10
            }

            function eo(t) {
                ur.call(this, t), this.textures = {}
            }

            function io() {
                H.call(this), this.type = "InstancedBufferGeometry", this.maxInstancedCount = void 0
            }

            function no(t, e, i, n) {
                "number" == typeof i && (n = i, i = !1, console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")), C.call(this, t, e, i), this.meshPerAttribute = n || 1
            }

            function ro(t) {
                ur.call(this, t)
            }

            function oo(t) {
                ur.call(this, t)
            }

            function so(t) {
                "undefined" == typeof createImageBitmap && console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."), "undefined" == typeof fetch && console.warn("THREE.ImageBitmapLoader: fetch() not supported."), ur.call(this, t), this.options = void 0
            }

            function ao() {
                this.type = "ShapePath", this.color = new w, this.subPaths = [], this.currentPath = null
            }

            function ho(t) {
                this.type = "Font", this.data = t
            }

            function lo(t, e, i) {
                for (var n = Array.from ? Array.from(t) : String(t).split(""), r = e / i.resolution, o = (i.boundingBox.yMax - i.boundingBox.yMin + i.underlineThickness) * r, s = [], a = 0, h = 0, l = 0; l < n.length; l++) {
                    var u = n[l];
                    if ("\n" === u) a = 0, h -= o;
                    else {
                        var c = uo(u, r, a, h, i);
                        a += c.offsetX, s.push(c.path)
                    }
                }
                return s
            }

            function uo(t, e, i, n, r) {
                var o = r.glyphs[t] || r.glyphs["?"];
                if (!o) return void console.error('THREE.Font: character "' + t + '" does not exists in font family ' + r.familyName + ".");
                var s, a, h, l, u, c, p, d, f = new ao;
                if (o.o)
                    for (var m = o._cachedOutline || (o._cachedOutline = o.o.split(" ")), g = 0, v = m.length; g < v;) {
                        var _ = m[g++];
                        switch (_) {
                        case "m":
                            s = m[g++] * e + i, a = m[g++] * e + n, f.moveTo(s, a);
                            break;
                        case "l":
                            s = m[g++] * e + i, a = m[g++] * e + n, f.lineTo(s, a);
                            break;
                        case "q":
                            h = m[g++] * e + i, l = m[g++] * e + n, u = m[g++] * e + i, c = m[g++] * e + n, f.quadraticCurveTo(u, c, h, l);
                            break;
                        case "b":
                            h = m[g++] * e + i, l = m[g++] * e + n, u = m[g++] * e + i, c = m[g++] * e + n, p = m[g++] * e + i, d = m[g++] * e + n, f.bezierCurveTo(u, c, p, d, h, l)
                        }
                    }
                return {
                    offsetX: o.ha * e,
                    path: f
                }
            }

            function co(t) {
                ur.call(this, t)
            }

            function po(t) {
                ur.call(this, t)
            }

            function fo() {
                this.coefficients = [];
                for (var t = 0; t < 9; t++) this.coefficients.push(new r)
            }

            function mo(t, e) {
                jr.call(this, void 0, e), this.sh = void 0 !== t ? t : new fo
            }

            function go(t, e, i) {
                mo.call(this, void 0, i);
                var n = (new w).set(t),
                    o = (new w).set(e),
                    s = new r(n.r, n.g, n.b),
                    a = new r(o.r, o.g, o.b),
                    h = Math.sqrt(Math.PI),
                    l = h * Math.sqrt(.75);
                this.sh.coefficients[0].copy(s).add(a).multiplyScalar(h), this.sh.coefficients[1].copy(s).sub(a).multiplyScalar(l)
            }

            function vo(t, e) {
                mo.call(this, void 0, e);
                var i = (new w).set(t);
                this.sh.coefficients[0].set(i.r, i.g, i.b).multiplyScalar(2 * Math.sqrt(Math.PI))
            }

            function _o() {
                this.type = "StereoCamera", this.aspect = 1, this.eyeSep = .064, this.cameraL = new Z, this.cameraL.layers.enable(1), this.cameraL.matrixAutoUpdate = !1, this.cameraR = new Z, this.cameraR.layers.enable(2), this.cameraR.matrixAutoUpdate = !1, this._cache = {
                    focus: null,
                    fov: null,
                    aspect: null,
                    near: null,
                    far: null,
                    zoom: null,
                    eyeSep: null
                }
            }

            function yo(t) {
                this.autoStart = void 0 === t || t, this.startTime = 0, this.oldTime = 0, this.elapsedTime = 0, this.running = !1
            }

            function xo() {
                d.call(this), this.type = "AudioListener", this.context = Tm.getContext(), this.gain = this.context.createGain(), this.gain.connect(this.context.destination), this.filter = null, this.timeDelta = 0, this._clock = new yo
            }

            function wo(t) {
                d.call(this), this.type = "Audio", this.listener = t, this.context = t.context, this.gain = this.context.createGain(), this.gain.connect(t.getInput()), this.autoplay = !1, this.buffer = null, this.detune = 0, this.loop = !1, this.loopStart = 0, this.loopEnd = 0, this.offset = 0, this.duration = void 0, this.playbackRate = 1, this.isPlaying = !1, this.hasPlaybackControl = !0, this.sourceType = "empty", this._startedAt = 0, this._pausedAt = 0, this.filters = []
            }

            function bo(t) {
                wo.call(this, t), this.panner = this.context.createPanner(), this.panner.panningModel = "HRTF", this.panner.connect(this.gain)
            }

            function So(t, e) {
                this.analyser = t.context.createAnalyser(), this.analyser.fftSize = void 0 !== e ? e : 2048, this.data = new Uint8Array(this.analyser.frequencyBinCount), t.getOutput().connect(this.analyser)
            }

            function To(t, e, i) {
                this.binding = t, this.valueSize = i;
                var n, r = Float64Array;
                switch (e) {
                case "quaternion":
                    n = this._slerp;
                    break;
                case "string":
                case "bool":
                    r = Array, n = this._select;
                    break;
                default:
                    n = this._lerp
                }
                this.buffer = new r(4 * i), this._mixBufferRegion = n, this.cumulativeWeight = 0, this.useCount = 0, this.referenceCount = 0
            }

            function Mo(t, e, i) {
                var n = i || Eo.parseTrackName(e);
                this._targetGroup = t, this._bindings = t.subscribe_(e, n)
            }

            function Eo(t, e, i) {
                this.path = e, this.parsedPath = i || Eo.parseTrackName(e), this.node = Eo.findNode(t, this.parsedPath.nodeName) || t, this.rootNode = t
            }

            function Ao() {
                this.uuid = Kl.generateUUID(), this._objects = Array.prototype.slice.call(arguments), this.nCachedObjects_ = 0;
                var t = {};
                this._indicesByUUID = t;
                for (var e = 0, i = arguments.length; e !== i; ++e) t[arguments[e].uuid] = e;
                this._paths = [], this._parsedPaths = [], this._bindings = [], this._bindingsIndicesByPath = {};
                var n = this;
                this.stats = {
                    objects: {
                        get total() {
                            return n._objects.length
                        }, get inUse() {
                            return this.total - n.nCachedObjects_
                        }
                    },
                    get bindingsPerObject() {
                        return n._bindings.length
                    }
                }
            }

            function Co(t, e, i) {
                this._mixer = t, this._clip = e, this._localRoot = i || null;
                for (var n = e.tracks, r = n.length, o = new Array(r), s = {
                    endingStart: al,
                    endingEnd: al
                }, a = 0; a !== r; ++a) {
                    var h = n[a].createInterpolant(null);
                    o[a] = h, h.settings = s
                }
                this._interpolantSettings = s, this._interpolants = o, this._propertyBindings = new Array(r), this._cacheIndex = null, this._byClipCacheIndex = null, this._timeScaleInterpolant = null, this._weightInterpolant = null, this.loop = il, this._loopCount = -1, this._startTime = null, this.time = 0, this.timeScale = 1, this._effectiveTimeScale = 1, this.weight = 1, this._effectiveWeight = 1, this.repetitions = 1 / 0, this.paused = !1, this.enabled = !0, this.clampWhenFinished = !1, this.zeroSlopeAtStart = !0, this.zeroSlopeAtEnd = !0
            }

            function Po(t) {
                this._root = t, this._initMemoryManager(), this._accuIndex = 0, this.time = 0, this.timeScale = 1
            }

            function Ro(t) {
                "string" == typeof t && (console.warn("THREE.Uniform: Type parameter is no longer needed."), t = arguments[1]), this.value = t
            }

            function Lo(t, e, i) {
                ti.call(this, t, e), this.meshPerAttribute = i || 1
            }

            function Oo(t, e, i, n) {
                this.ray = new _(t, e), this.near = i || 0, this.far = n || 1 / 0, this.camera = null, this.params = {
                    Mesh: {},
                    Line: {},
                    LOD: {},
                    Points: {
                        threshold: 1
                    },
                    Sprite: {}
                }, Object.defineProperties(this.params, {
                    PointCloud: {
                        get: function () {
                            return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."), this.Points
                        }
                    }
                })
            }

            function Io(t, e) {
                return t.distance - e.distance
            }

            function Do(t, e, i, n) {
                if (t.visible !== !1 && (t.raycast(e, i), n === !0))
                    for (var r = t.children, o = 0, s = r.length; o < s; o++) Do(r[o], e, i, !0)
            }

            function ko(t, e, i) {
                return this.radius = void 0 !== t ? t : 1, this.phi = void 0 !== e ? e : 0, this.theta = void 0 !== i ? i : 0, this
            }

            function No(t, e, i) {
                return this.radius = void 0 !== t ? t : 1, this.theta = void 0 !== e ? e : 0, this.y = void 0 !== i ? i : 0, this
            }

            function zo(t, e) {
                this.min = void 0 !== t ? t : new i(+(1 / 0), +(1 / 0)), this.max = void 0 !== e ? e : new i(-(1 / 0), -(1 / 0))
            }

            function Bo(t, e) {
                this.start = void 0 !== t ? t : new r, this.end = void 0 !== e ? e : new r
            }

            function Fo(t) {
                d.call(this), this.material = t, this.render = function () {}
            }

            function Ho(t, e, i, n) {
                this.object = t, this.size = void 0 !== e ? e : 1;
                var r = void 0 !== i ? i : 16711680,
                    o = void 0 !== n ? n : 1,
                    s = 0,
                    a = this.object.geometry;
                a && a.isGeometry ? s = 3 * a.faces.length : a && a.isBufferGeometry && (s = a.attributes.normal.count);
                var h = new H,
                    l = new N(2 * s * 3, 3);
                h.setAttribute("position", l), pi.call(this, h, new ui({
                    color: r,
                    linewidth: o
                })), this.matrixAutoUpdate = !1, this.update()
            }

            function Uo(t, e) {
                d.call(this), this.light = t, this.light.updateMatrixWorld(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.color = e;
                for (var i = new H, n = [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, -1, 1], r = 0, o = 1, s = 32; r < s; r++, o++) {
                    var a = r / s * Math.PI * 2,
                        h = o / s * Math.PI * 2;
                    n.push(Math.cos(a), Math.sin(a), 1, Math.cos(h), Math.sin(h), 1)
                }
                i.setAttribute("position", new N(n, 3));
                var l = new ui({
                    fog: !1
                });
                this.cone = new pi(i, l), this.add(this.cone), this.update()
            }

            function Go(t) {
                var e = [];
                t && t.isBone && e.push(t);
                for (var i = 0; i < t.children.length; i++) e.push.apply(e, Go(t.children[i]));
                return e
            }

            function jo(t) {
                for (var e = Go(t), i = new H, n = [], r = [], o = new w(0, 0, 1), s = new w(0, 1, 0), a = 0; a < e.length; a++) {
                    var h = e[a];
                    h.parent && h.parent.isBone && (n.push(0, 0, 0), n.push(0, 0, 0), r.push(o.r, o.g, o.b), r.push(s.r, s.g, s.b))
                }
                i.setAttribute("position", new N(n, 3)), i.setAttribute("color", new N(r, 3));
                var l = new ui({
                    vertexColors: ra,
                    depthTest: !1,
                    depthWrite: !1,
                    transparent: !0
                });
                pi.call(this, i, l), this.root = t, this.bones = e, this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1
            }

            function Vo(t, e, i) {
                this.light = t, this.light.updateMatrixWorld(), this.color = i;
                var n = new Sn(e, 4, 2),
                    r = new A({
                        wireframe: !0,
                        fog: !1
                    });
                U.call(this, n, r), this.matrix = this.light.matrixWorld, this.matrixAutoUpdate = !1, this.update()
            }

            function Wo(t, e) {
                this.type = "RectAreaLightHelper", this.light = t, this.color = e;
                var i = [1, 1, 0, -1, 1, 0, -1, -1, 0, 1, -1, 0, 1, 1, 0],
                    n = new H;
                n.setAttribute("position", new N(i, 3)), n.computeBoundingSphere();
                var r = new ui({
                    fog: !1
                });
                ci.call(this, n, r);
                var o = [1, 1, 0, -1, 1, 0, -1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0],
                    s = new H;
                s.setAttribute("position", new N(o, 3)), s.computeBoundingSphere(), this.add(new U(s, new A({
                    side: Ks,
                    fog: !1
                }))), this.update()
            }

            function qo(t, e, i) {
                d.call(this), this.light = t, this.light.updateMatrixWorld(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.color = i;
                var n = new Pi(e);
                n.rotateY(.5 * Math.PI), this.material = new A({
                    wireframe: !0,
                    fog: !1
                }), void 0 === this.color && (this.material.vertexColors = ra);
                var r = n.getAttribute("position"),
                    o = new Float32Array(3 * r.count);
                n.setAttribute("color", new C(o, 3)), this.add(new U(n, this.material)), this.update()
            }

            function Xo(t, e) {
                this.lightProbe = t, this.size = e;
                var i = {};
                i.GAMMA_OUTPUT = "";
                var n = new X({
                        defines: i,
                        uniforms: {
                            sh: {
                                value: this.lightProbe.sh.coefficients
                            },
                            intensity: {
                                value: this.lightProbe.intensity
                            }
                        },
                        vertexShader: ["varying vec3 vNormal;", "void main() {", "\tvNormal = normalize( normalMatrix * normal );", "\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );", "}"].join("\n"),
                        fragmentShader: ["#define RECIPROCAL_PI 0.318309886", "vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {", "\t// matrix is assumed to be orthogonal", "\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );", "}", "vec3 linearToOutput( in vec3 a ) {", "\t#ifdef GAMMA_OUTPUT", "\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );", "\t#else", "\t\treturn a;", "\t#endif", "}", "// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf", "vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {", "\t// normal is assumed to have unit length", "\tfloat x = normal.x, y = normal.y, z = normal.z;", "\t// band 0", "\tvec3 result = shCoefficients[ 0 ] * 0.886227;", "\t// band 1", "\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;", "\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;", "\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;", "\t// band 2", "\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;", "\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;", "\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );", "\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;", "\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );", "\treturn result;", "}", "uniform vec3 sh[ 9 ]; // sh coefficients", "uniform float intensity; // light probe intensity", "varying vec3 vNormal;", "void main() {", "\tvec3 normal = normalize( vNormal );", "\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );", "\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );", "\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;", "\toutgoingLight = linearToOutput( outgoingLight );", "\tgl_FragColor = vec4( outgoingLight, 1.0 );", "}"].join("\n")
                    }),
                    r = new Sn(1, 32, 16);
                U.call(this, r, n), this.onBeforeRender()
            }

            function Yo(t, e, i, n) {
                t = t || 10, e = e || 10, i = new w(void 0 !== i ? i : 4473924), n = new w(void 0 !== n ? n : 8947848);
                for (var r = e / 2, o = t / e, s = t / 2, a = [], h = [], l = 0, u = 0, c = -s; l <= e; l++, c += o) {
                    a.push(-s, 0, c, s, 0, c), a.push(c, 0, -s, c, 0, s);
                    var p = l === r ? i : n;
                    p.toArray(h, u), u += 3, p.toArray(h, u), u += 3, p.toArray(h, u), u += 3, p.toArray(h, u), u += 3
                }
                var d = new H;
                d.setAttribute("position", new N(a, 3)), d.setAttribute("color", new N(h, 3));
                var f = new ui({
                    vertexColors: ra
                });
                pi.call(this, d, f)
            }

            function Zo(t, e, i, n, r, o) {
                t = t || 10, e = e || 16, i = i || 8, n = n || 64, r = new w(void 0 !== r ? r : 4473924), o = new w(void 0 !== o ? o : 8947848);
                var s, a, h, l, u, c, p, d = [],
                    f = [];
                for (l = 0; l <= e; l++) h = l / e * (2 * Math.PI), s = Math.sin(h) * t, a = Math.cos(h) * t, d.push(0, 0, 0), d.push(s, 0, a), p = 1 & l ? r : o, f.push(p.r, p.g, p.b), f.push(p.r, p.g, p.b);
                for (l = 0; l <= i; l++)
                    for (p = 1 & l ? r : o, c = t - t / i * l, u = 0; u < n; u++) h = u / n * (2 * Math.PI), s = Math.sin(h) * c, a = Math.cos(h) * c, d.push(s, 0, a), f.push(p.r, p.g, p.b), h = (u + 1) / n * (2 * Math.PI), s = Math.sin(h) * c, a = Math.cos(h) * c, d.push(s, 0, a), f.push(p.r, p.g, p.b);
                var m = new H;
                m.setAttribute("position", new N(d, 3)), m.setAttribute("color", new N(f, 3));
                var g = new ui({
                    vertexColors: ra
                });
                pi.call(this, m, g)
            }

            function Jo(t, e, i, n) {
                this.audio = t, this.range = e || 1, this.divisionsInnerAngle = i || 16, this.divisionsOuterAngle = n || 2;
                var r = new H,
                    o = this.divisionsInnerAngle + 2 * this.divisionsOuterAngle,
                    s = new Float32Array(3 * (3 * o + 3));
                r.setAttribute("position", new C(s, 3));
                var a = new ui({
                        color: 65280
                    }),
                    h = new ui({
                        color: 16776960
                    });
                ci.call(this, r, [h, a]), this.update()
            }

            function $o(t, e, i, n) {
                this.object = t, this.size = void 0 !== e ? e : 1;
                var r = void 0 !== i ? i : 16776960,
                    o = void 0 !== n ? n : 1,
                    s = 0,
                    a = this.object.geometry;
                a && a.isGeometry ? s = a.faces.length : console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");
                var h = new H,
                    l = new N(2 * s * 3, 3);
                h.setAttribute("position", l), pi.call(this, h, new ui({
                    color: r,
                    linewidth: o
                })), this.matrixAutoUpdate = !1, this.update()
            }

            function Ko(t, e, i) {
                d.call(this), this.light = t, this.light.updateMatrixWorld(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.color = i, void 0 === e && (e = 1);
                var n = new H;
                n.setAttribute("position", new N([-e, e, 0, e, e, 0, e, -e, 0, -e, -e, 0, -e, e, 0], 3));
                var r = new ui({
                    fog: !1
                });
                this.lightPlane = new ci(n, r), this.add(this.lightPlane), n = new H, n.setAttribute("position", new N([0, 0, 0, 0, 0, 1], 3)), this.targetLine = new ci(n, r), this.add(this.targetLine), this.update()
            }

            function Qo(t) {
                function e(t, e, n) {
                    i(t, n), i(e, n)
                }

                function i(t, e) {
                    o.push(0, 0, 0), s.push(e.r, e.g, e.b), void 0 === a[t] && (a[t] = []), a[t].push(o.length / 3 - 1)
                }
                var n = new H,
                    r = new ui({
                        color: 16777215,
                        vertexColors: na
                    }),
                    o = [],
                    s = [],
                    a = {},
                    h = new w(16755200),
                    l = new w(16711680),
                    u = new w(43775),
                    c = new w(16777215),
                    p = new w(3355443);
                e("n1", "n2", h), e("n2", "n4", h), e("n4", "n3", h), e("n3", "n1", h), e("f1", "f2", h), e("f2", "f4", h), e("f4", "f3", h), e("f3", "f1", h), e("n1", "f1", h), e("n2", "f2", h), e("n3", "f3", h), e("n4", "f4", h), e("p", "n1", l), e("p", "n2", l), e("p", "n3", l), e("p", "n4", l), e("u1", "u2", u), e("u2", "u3", u), e("u3", "u1", u), e("c", "t", c), e("p", "c", p), e("cn1", "cn2", p), e("cn3", "cn4", p), e("cf1", "cf2", p), e("cf3", "cf4", p), n.setAttribute("position", new N(o, 3)), n.setAttribute("color", new N(s, 3)), pi.call(this, n, r), this.camera = t, this.camera.updateProjectionMatrix && this.camera.updateProjectionMatrix(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.pointMap = a, this.update()
            }

            function ts(t, e, i, n, r, o, s) {
                cg.set(r, o, s).unproject(n);
                var a = e[t];
                if (void 0 !== a)
                    for (var h = i.getAttribute("position"), l = 0, u = a.length; l < u; l++) h.setXYZ(a[l], cg.x, cg.y, cg.z)
            }

            function es(t, e) {
                this.object = t, void 0 === e && (e = 16776960);
                var i = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]),
                    n = new Float32Array(24),
                    r = new H;
                r.setIndex(new C(i, 1)), r.setAttribute("position", new C(n, 3)), pi.call(this, r, new ui({
                    color: e
                })), this.matrixAutoUpdate = !1, this.update()
            }

            function is(t, e) {
                this.type = "Box3Helper", this.box = t, e = e || 16776960;
                var i = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]),
                    n = [1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, -1, -1, 1, -1, -1, -1, -1, 1, -1, -1],
                    r = new H;
                r.setIndex(new C(i, 1)), r.setAttribute("position", new N(n, 3)), pi.call(this, r, new ui({
                    color: e
                })), this.geometry.computeBoundingSphere()
            }

            function ns(t, e, i) {
                this.type = "PlaneHelper", this.plane = t, this.size = void 0 === e ? 1 : e;
                var n = void 0 !== i ? i : 16776960,
                    r = [1, -1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0],
                    o = new H;
                o.setAttribute("position", new N(r, 3)), o.computeBoundingSphere(), ci.call(this, o, new ui({
                    color: n
                }));
                var s = [1, 1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, 1],
                    a = new H;
                a.setAttribute("position", new N(s, 3)), a.computeBoundingSphere(), this.add(new U(a, new A({
                    color: n,
                    opacity: .2,
                    transparent: !0,
                    depthWrite: !1
                })))
            }

            function rs(t, e, i, n, o, s) {
                d.call(this), void 0 === t && (t = new r(0, 0, 1)), void 0 === e && (e = new r(0, 0, 0)), void 0 === i && (i = 1), void 0 === n && (n = 16776960), void 0 === o && (o = .2 * i), void 0 === s && (s = .2 * o), void 0 === fg && (fg = new H, fg.setAttribute("position", new N([0, 0, 0, 0, 1, 0], 3)), mg = new In(0, .5, 1, 5, 1), mg.translate(0, -.5, 0)), this.position.copy(e), this.line = new ci(fg, new ui({
                    color: n
                })), this.line.matrixAutoUpdate = !1, this.add(this.line), this.cone = new U(mg, new A({
                    color: n
                })), this.cone.matrixAutoUpdate = !1, this.add(this.cone), this.setDirection(t), this.setLength(i, o, s)
            }

            function os(t) {
                t = t || 1;
                var e = [0, 0, 0, t, 0, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, 0, t],
                    i = [1, 0, 0, 1, .6, 0, 0, 1, 0, .6, 1, 0, 0, 0, 1, 0, .6, 1],
                    n = new H;
                n.setAttribute("position", new N(e, 3)), n.setAttribute("color", new N(i, 3));
                var r = new ui({
                    vertexColors: ra
                });
                pi.call(this, n, r)
            }

            function ss(t, e, i, n, r, o, s) {
                return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."), new M(t, e, i, r, o, s)
            }

            function as(t) {
                return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."), t
            }

            function hs(t) {
                return void 0 === t && (t = []), console.warn("THREE.MultiMaterial has been removed. Use an Array instead."), t.isMultiMaterial = !0, t.materials = t, t.clone = function () {
                    return t.slice()
                }, t
            }

            function ls(t, e) {
                return console.warn("THREE.PointCloud has been renamed to THREE.Points."), new mi(t, e)
            }

            function us(t) {
                return console.warn("THREE.Particle has been renamed to THREE.Sprite."), new ni(t)
            }

            function cs(t, e) {
                return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."), new mi(t, e)
            }

            function ps(t) {
                return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."), new fi(t)
            }

            function ds(t) {
                return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."), new fi(t)
            }

            function fs(t) {
                return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."), new fi(t)
            }

            function ms(t, e, i) {
                return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."), new r(t, e, i)
            }

            function gs(t, e) {
                return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."), new C(t, e).setDynamic(!0)
            }

            function vs(t, e) {
                return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."), new P(t, e)
            }

            function _s(t, e) {
                return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."), new R(t, e)
            }

            function ys(t, e) {
                return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."), new L(t, e)
            }

            function xs(t, e) {
                return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."), new O(t, e)
            }

            function ws(t, e) {
                return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."), new I(t, e)
            }

            function bs(t, e) {
                return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."), new D(t, e)
            }

            function Ss(t, e) {
                return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."), new k(t, e)
            }

            function Ts(t, e) {
                return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."), new N(t, e)
            }

            function Ms(t, e) {
                return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."), new z(t, e)
            }

            function Es(t) {
                console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."), br.call(this, t), this.type = "catmullrom", this.closed = !0
            }

            function As(t) {
                console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."), br.call(this, t), this.type = "catmullrom"
            }

            function Cs(t) {
                console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."), br.call(this, t), this.type = "catmullrom"
            }

            function Ps(t) {
                return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."), new os(t)
            }

            function Rs(t, e) {
                return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."), new es(t, e)
            }

            function Ls(t, e) {
                return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."), new pi(new Ln(t.geometry), new ui({
                    color: void 0 !== e ? e : 16777215
                }))
            }

            function Os(t, e) {
                return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."), new pi(new wi(t.geometry), new ui({
                    color: void 0 !== e ? e : 16777215
                }))
            }

            function Is(t) {
                return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."), new cr(t)
            }

            function Ds(t) {
                return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."), new fr(t)
            }

            function ks() {
                console.error("THREE.CanvasRenderer has been removed")
            }

            function Ns() {
                console.error("THREE.JSONLoader has been removed.")
            }

            function zs() {
                console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")
            }
            void 0 === Number.EPSILON && (Number.EPSILON = Math.pow(2, -52)), void 0 === Number.isInteger && (Number.isInteger = function (t) {
                return "number" == typeof t && isFinite(t) && Math.floor(t) === t
            }), void 0 === Math.sign && (Math.sign = function (t) {
                return t < 0 ? -1 : t > 0 ? 1 : +t
            }), "name" in Function.prototype == !1 && Object.defineProperty(Function.prototype, "name", {
                get: function () {
                    return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]
                }
            }), void 0 === Object.assign && (Object.assign = function (t) {
                if (void 0 === t || null === t) throw new TypeError("Cannot convert undefined or null to object");
                for (var e = Object(t), i = 1; i < arguments.length; i++) {
                    var n = arguments[i];
                    if (void 0 !== n && null !== n)
                        for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
                }
                return e
            });
            var Bs = "110",
                Fs = {
                    LEFT: 0,
                    MIDDLE: 1,
                    RIGHT: 2,
                    ROTATE: 0,
                    DOLLY: 1,
                    PAN: 2
                },
                Hs = {
                    ROTATE: 0,
                    PAN: 1,
                    DOLLY_PAN: 2,
                    DOLLY_ROTATE: 3
                },
                Us = 0,
                Gs = 1,
                js = 2,
                Vs = 3,
                Ws = 0,
                qs = 1,
                Xs = 0,
                Ys = 1,
                Zs = 2,
                Js = 3,
                $s = 0,
                Ks = 1,
                Qs = 2,
                ta = 1,
                ea = 2,
                ia = 0,
                na = 1,
                ra = 2,
                oa = 0,
                sa = 1,
                aa = 2,
                ha = 3,
                la = 4,
                ua = 5,
                ca = 100,
                pa = 101,
                da = 102,
                fa = 103,
                ma = 104,
                ga = 200,
                va = 201,
                _a = 202,
                ya = 203,
                xa = 204,
                wa = 205,
                ba = 206,
                Sa = 207,
                Ta = 208,
                Ma = 209,
                Ea = 210,
                Aa = 0,
                Ca = 1,
                Pa = 2,
                Ra = 3,
                La = 4,
                Oa = 5,
                Ia = 6,
                Da = 7,
                ka = 0,
                Na = 1,
                za = 2,
                Ba = 0,
                Fa = 1,
                Ha = 2,
                Ua = 3,
                Ga = 4,
                ja = 5,
                Va = 300,
                Wa = 301,
                qa = 302,
                Xa = 303,
                Ya = 304,
                Za = 305,
                Ja = 306,
                $a = 307,
                Ka = 1e3,
                Qa = 1001,
                th = 1002,
                eh = 1003,
                ih = 1004,
                nh = 1004,
                rh = 1005,
                oh = 1005,
                sh = 1006,
                ah = 1007,
                hh = 1007,
                lh = 1008,
                uh = 1008,
                ch = 1009,
                ph = 1010,
                dh = 1011,
                fh = 1012,
                mh = 1013,
                gh = 1014,
                vh = 1015,
                _h = 1016,
                yh = 1017,
                xh = 1018,
                wh = 1019,
                bh = 1020,
                Sh = 1021,
                Th = 1022,
                Mh = 1023,
                Eh = 1024,
                Ah = 1025,
                Ch = Mh,
                Ph = 1026,
                Rh = 1027,
                Lh = 1028,
                Oh = 33776,
                Ih = 33777,
                Dh = 33778,
                kh = 33779,
                Nh = 35840,
                zh = 35841,
                Bh = 35842,
                Fh = 35843,
                Hh = 36196,
                Uh = 37808,
                Gh = 37809,
                jh = 37810,
                Vh = 37811,
                Wh = 37812,
                qh = 37813,
                Xh = 37814,
                Yh = 37815,
                Zh = 37816,
                Jh = 37817,
                $h = 37818,
                Kh = 37819,
                Qh = 37820,
                tl = 37821,
                el = 2200,
                il = 2201,
                nl = 2202,
                rl = 2300,
                ol = 2301,
                sl = 2302,
                al = 2400,
                hl = 2401,
                ll = 2402,
                ul = 0,
                cl = 1,
                pl = 2,
                dl = 3e3,
                fl = 3001,
                ml = 3007,
                gl = 3002,
                vl = 3003,
                _l = 3004,
                yl = 3005,
                xl = 3006,
                wl = 3200,
                bl = 3201,
                Sl = 0,
                Tl = 1,
                Ml = 0,
                El = 7680,
                Al = 7681,
                Cl = 7682,
                Pl = 7683,
                Rl = 34055,
                Ll = 34056,
                Ol = 5386,
                Il = 512,
                Dl = 513,
                kl = 514,
                Nl = 515,
                zl = 516,
                Bl = 517,
                Fl = 518,
                Hl = 519,
                Ul = 35044,
                Gl = 35048,
                jl = 35040,
                Vl = 35045,
                Wl = 35049,
                ql = 35041,
                Xl = 35046,
                Yl = 35050,
                Zl = 35042;
            Object.assign(e.prototype, {
                addEventListener: function (t, e) {
                    void 0 === this._listeners && (this._listeners = {});
                    var i = this._listeners;
                    void 0 === i[t] && (i[t] = []), i[t].indexOf(e) === -1 && i[t].push(e)
                }, hasEventListener: function (t, e) {
                    if (void 0 === this._listeners) return !1;
                    var i = this._listeners;
                    return void 0 !== i[t] && i[t].indexOf(e) !== -1
                }, removeEventListener: function (t, e) {
                    if (void 0 !== this._listeners) {
                        var i = this._listeners,
                            n = i[t];
                        if (void 0 !== n) {
                            var r = n.indexOf(e);
                            r !== -1 && n.splice(r, 1)
                        }
                    }
                }, dispatchEvent: function (t) {
                    if (void 0 !== this._listeners) {
                        var e = this._listeners,
                            i = e[t.type];
                        if (void 0 !== i) {
                            t.target = this;
                            for (var n = i.slice(0), r = 0, o = n.length; r < o; r++) n[r].call(this, t)
                        }
                    }
                }
            });
            for (var Jl = [], $l = 0; $l < 256; $l++) Jl[$l] = ($l < 16 ? "0" : "") + $l.toString(16);
            var Kl = {
                DEG2RAD: Math.PI / 180,
                RAD2DEG: 180 / Math.PI,
                generateUUID: function () {
                    var t = 4294967295 * Math.random() | 0,
                        e = 4294967295 * Math.random() | 0,
                        i = 4294967295 * Math.random() | 0,
                        n = 4294967295 * Math.random() | 0,
                        r = Jl[255 & t] + Jl[t >> 8 & 255] + Jl[t >> 16 & 255] + Jl[t >> 24 & 255] + "-" + Jl[255 & e] + Jl[e >> 8 & 255] + "-" + Jl[e >> 16 & 15 | 64] + Jl[e >> 24 & 255] + "-" + Jl[63 & i | 128] + Jl[i >> 8 & 255] + "-" + Jl[i >> 16 & 255] + Jl[i >> 24 & 255] + Jl[255 & n] + Jl[n >> 8 & 255] + Jl[n >> 16 & 255] + Jl[n >> 24 & 255];
                    return r.toUpperCase()
                }, clamp: function (t, e, i) {
                    return Math.max(e, Math.min(i, t))
                }, euclideanModulo: function (t, e) {
                    return (t % e + e) % e
                }, mapLinear: function (t, e, i, n, r) {
                    return n + (t - e) * (r - n) / (i - e)
                }, lerp: function (t, e, i) {
                    return (1 - i) * t + i * e
                }, smoothstep: function (t, e, i) {
                    return t <= e ? 0 : t >= i ? 1 : (t = (t - e) / (i - e), t * t * (3 - 2 * t))
                }, smootherstep: function (t, e, i) {
                    return t <= e ? 0 : t >= i ? 1 : (t = (t - e) / (i - e), t * t * t * (t * (6 * t - 15) + 10))
                }, randInt: function (t, e) {
                    return t + Math.floor(Math.random() * (e - t + 1))
                }, randFloat: function (t, e) {
                    return t + Math.random() * (e - t)
                }, randFloatSpread: function (t) {
                    return t * (.5 - Math.random())
                }, degToRad: function (t) {
                    return t * Kl.DEG2RAD
                }, radToDeg: function (t) {
                    return t * Kl.RAD2DEG
                }, isPowerOfTwo: function (t) {
                    return 0 === (t & t - 1) && 0 !== t
                }, ceilPowerOfTwo: function (t) {
                    return Math.pow(2, Math.ceil(Math.log(t) / Math.LN2))
                }, floorPowerOfTwo: function (t) {
                    return Math.pow(2, Math.floor(Math.log(t) / Math.LN2))
                }
            };
            Object.defineProperties(i.prototype, {
                width: {
                    get: function () {
                        return this.x
                    }, set: function (t) {
                        this.x = t
                    }
                },
                height: {
                    get: function () {
                        return this.y
                    }, set: function (t) {
                        this.y = t
                    }
                }
            }), Object.assign(i.prototype, {
                isVector2: !0,
                set: function (t, e) {
                    return this.x = t, this.y = e, this
                }, setScalar: function (t) {
                    return this.x = t, this.y = t, this
                }, setX: function (t) {
                    return this.x = t, this
                }, setY: function (t) {
                    return this.y = t, this
                }, setComponent: function (t, e) {
                    switch (t) {
                    case 0:
                        this.x = e;
                        break;
                    case 1:
                        this.y = e;
                        break;
                    default:
                        throw new Error("index is out of range: " + t)
                    }
                    return this
                }, getComponent: function (t) {
                    switch (t) {
                    case 0:
                        return this.x;
                    case 1:
                        return this.y;
                    default:
                        throw new Error("index is out of range: " + t)
                    }
                }, clone: function () {
                    return new this.constructor(this.x, this.y)
                }, copy: function (t) {
                    return this.x = t.x, this.y = t.y, this
                }, add: function (t, e) {
                    return void 0 !== e ? (console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(t, e)) : (this.x += t.x, this.y += t.y, this)
                }, addScalar: function (t) {
                    return this.x += t, this.y += t, this
                }, addVectors: function (t, e) {
                    return this.x = t.x + e.x, this.y = t.y + e.y, this
                }, addScaledVector: function (t, e) {
                    return this.x += t.x * e, this.y += t.y * e, this
                }, sub: function (t, e) {
                    return void 0 !== e ? (console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(t, e)) : (this.x -= t.x, this.y -= t.y, this)
                }, subScalar: function (t) {
                    return this.x -= t, this.y -= t, this
                }, subVectors: function (t, e) {
                    return this.x = t.x - e.x, this.y = t.y - e.y, this
                }, multiply: function (t) {
                    return this.x *= t.x, this.y *= t.y, this
                }, multiplyScalar: function (t) {
                    return this.x *= t, this.y *= t, this
                }, divide: function (t) {
                    return this.x /= t.x, this.y /= t.y, this
                }, divideScalar: function (t) {
                    return this.multiplyScalar(1 / t)
                }, applyMatrix3: function (t) {
                    var e = this.x,
                        i = this.y,
                        n = t.elements;
                    return this.x = n[0] * e + n[3] * i + n[6], this.y = n[1] * e + n[4] * i + n[7], this
                }, min: function (t) {
                    return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this
                }, max: function (t) {
                    return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this
                }, clamp: function (t, e) {
                    return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this
                }, clampScalar: function (t, e) {
                    return this.x = Math.max(t, Math.min(e, this.x)), this.y = Math.max(t, Math.min(e, this.y)), this
                }, clampLength: function (t, e) {
                    var i = this.length();
                    return this.divideScalar(i || 1).multiplyScalar(Math.max(t, Math.min(e, i)))
                }, floor: function () {
                    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this
                }, ceil: function () {
                    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this
                }, round: function () {
                    return this.x = Math.round(this.x), this.y = Math.round(this.y), this
                }, roundToZero: function () {
                    return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this
                }, negate: function () {
                    return this.x = -this.x, this.y = -this.y, this
                }, dot: function (t) {
                    return this.x * t.x + this.y * t.y
                }, cross: function (t) {
                    return this.x * t.y - this.y * t.x
                }, lengthSq: function () {
                    return this.x * this.x + this.y * this.y
                }, length: function () {
                    return Math.sqrt(this.x * this.x + this.y * this.y)
                }, manhattanLength: function () {
                    return Math.abs(this.x) + Math.abs(this.y)
                }, normalize: function () {
                    return this.divideScalar(this.length() || 1)
                }, angle: function () {
                    var t = Math.atan2(this.y, this.x);
                    return t < 0 && (t += 2 * Math.PI), t
                }, distanceTo: function (t) {
                    return Math.sqrt(this.distanceToSquared(t))
                }, distanceToSquared: function (t) {
                    var e = this.x - t.x,
                        i = this.y - t.y;
                    return e * e + i * i
                }, manhattanDistanceTo: function (t) {
                    return Math.abs(this.x - t.x) + Math.abs(this.y - t.y)
                }, setLength: function (t) {
                    return this.normalize().multiplyScalar(t)
                }, lerp: function (t, e) {
                    return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this
                }, lerpVectors: function (t, e, i) {
                    return this.subVectors(e, t).multiplyScalar(i).add(t)
                }, equals: function (t) {
                    return t.x === this.x && t.y === this.y
                }, fromArray: function (t, e) {
                    return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this
                }, toArray: function (t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t
                }, fromBufferAttribute: function (t, e, i) {
                    return void 0 !== i && console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."), this.x = t.getX(e), this.y = t.getY(e), this
                }, rotateAround: function (t, e) {
                    var i = Math.cos(e),
                        n = Math.sin(e),
                        r = this.x - t.x,
                        o = this.y - t.y;
                    return this.x = r * i - o * n + t.x, this.y = r * n + o * i + t.y, this
                }
            }), Object.assign(n, {
                slerp: function (t, e, i, n) {
                    return i.copy(t).slerp(e, n)
                }, slerpFlat: function (t, e, i, n, r, o, s) {
                    var a = i[n + 0],
                        h = i[n + 1],
                        l = i[n + 2],
                        u = i[n + 3],
                        c = r[o + 0],
                        p = r[o + 1],
                        d = r[o + 2],
                        f = r[o + 3];
                    if (u !== f || a !== c || h !== p || l !== d) {
                        var m = 1 - s,
                            g = a * c + h * p + l * d + u * f,
                            v = g >= 0 ? 1 : -1,
                            _ = 1 - g * g;
                        if (_ > Number.EPSILON) {
                            var y = Math.sqrt(_),
                                x = Math.atan2(y, g * v);
                            m = Math.sin(m * x) / y, s = Math.sin(s * x) / y
                        }
                        var w = s * v;
                        if (a = a * m + c * w, h = h * m + p * w, l = l * m + d * w, u = u * m + f * w, m === 1 - s) {
                            var b = 1 / Math.sqrt(a * a + h * h + l * l + u * u);
                            a *= b, h *= b, l *= b, u *= b
                        }
                    }
                    t[e] = a, t[e + 1] = h, t[e + 2] = l, t[e + 3] = u
                }
            }), Object.defineProperties(n.prototype, {
                x: {
                    get: function () {
                        return this._x
                    }, set: function (t) {
                        this._x = t, this._onChangeCallback()
                    }
                },
                y: {
                    get: function () {
                        return this._y
                    }, set: function (t) {
                        this._y = t, this._onChangeCallback()
                    }
                },
                z: {
                    get: function () {
                        return this._z
                    }, set: function (t) {
                        this._z = t, this._onChangeCallback()
                    }
                },
                w: {
                    get: function () {
                        return this._w
                    }, set: function (t) {
                        this._w = t, this._onChangeCallback()
                    }
                }
            }), Object.assign(n.prototype, {
                isQuaternion: !0,
                set: function (t, e, i, n) {
                    return this._x = t, this._y = e, this._z = i, this._w = n, this._onChangeCallback(), this
                }, clone: function () {
                    return new this.constructor(this._x, this._y, this._z, this._w)
                }, copy: function (t) {
                    return this._x = t.x, this._y = t.y, this._z = t.z, this._w = t.w, this._onChangeCallback(), this
                }, setFromEuler: function (t, e) {
                    if (!t || !t.isEuler) throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");
                    var i = t._x,
                        n = t._y,
                        r = t._z,
                        o = t.order,
                        s = Math.cos,
                        a = Math.sin,
                        h = s(i / 2),
                        l = s(n / 2),
                        u = s(r / 2),
                        c = a(i / 2),
                        p = a(n / 2),
                        d = a(r / 2);
                    return "XYZ" === o ? (this._x = c * l * u + h * p * d, this._y = h * p * u - c * l * d, this._z = h * l * d + c * p * u, this._w = h * l * u - c * p * d) : "YXZ" === o ? (this._x = c * l * u + h * p * d, this._y = h * p * u - c * l * d, this._z = h * l * d - c * p * u, this._w = h * l * u + c * p * d) : "ZXY" === o ? (this._x = c * l * u - h * p * d, this._y = h * p * u + c * l * d, this._z = h * l * d + c * p * u, this._w = h * l * u - c * p * d) : "ZYX" === o ? (this._x = c * l * u - h * p * d, this._y = h * p * u + c * l * d, this._z = h * l * d - c * p * u, this._w = h * l * u + c * p * d) : "YZX" === o ? (this._x = c * l * u + h * p * d, this._y = h * p * u + c * l * d, this._z = h * l * d - c * p * u, this._w = h * l * u - c * p * d) : "XZY" === o && (this._x = c * l * u - h * p * d, this._y = h * p * u - c * l * d, this._z = h * l * d + c * p * u, this._w = h * l * u + c * p * d), e !== !1 && this._onChangeCallback(), this
                }, setFromAxisAngle: function (t, e) {
                    var i = e / 2,
                        n = Math.sin(i);
                    return this._x = t.x * n, this._y = t.y * n, this._z = t.z * n, this._w = Math.cos(i), this._onChangeCallback(), this
                }, setFromRotationMatrix: function (t) {
                    var e, i = t.elements,
                        n = i[0],
                        r = i[4],
                        o = i[8],
                        s = i[1],
                        a = i[5],
                        h = i[9],
                        l = i[2],
                        u = i[6],
                        c = i[10],
                        p = n + a + c;
                    return p > 0 ? (e = .5 / Math.sqrt(p + 1), this._w = .25 / e, this._x = (u - h) * e, this._y = (o - l) * e, this._z = (s - r) * e) : n > a && n > c ? (e = 2 * Math.sqrt(1 + n - a - c), this._w = (u - h) / e, this._x = .25 * e, this._y = (r + s) / e, this._z = (o + l) / e) : a > c ? (e = 2 * Math.sqrt(1 + a - n - c), this._w = (o - l) / e, this._x = (r + s) / e, this._y = .25 * e, this._z = (h + u) / e) : (e = 2 * Math.sqrt(1 + c - n - a), this._w = (s - r) / e, this._x = (o + l) / e, this._y = (h + u) / e, this._z = .25 * e), this._onChangeCallback(), this
                }, setFromUnitVectors: function (t, e) {
                    var i = 1e-6,
                        n = t.dot(e) + 1;
                    return n < i ? (n = 0, Math.abs(t.x) > Math.abs(t.z) ? (this._x = -t.y, this._y = t.x, this._z = 0, this._w = n) : (this._x = 0, this._y = -t.z, this._z = t.y, this._w = n)) : (this._x = t.y * e.z - t.z * e.y, this._y = t.z * e.x - t.x * e.z, this._z = t.x * e.y - t.y * e.x, this._w = n), this.normalize()
                }, angleTo: function (t) {
                    return 2 * Math.acos(Math.abs(Kl.clamp(this.dot(t), -1, 1)))
                }, rotateTowards: function (t, e) {
                    var i = this.angleTo(t);
                    if (0 === i) return this;
                    var n = Math.min(1, e / i);
                    return this.slerp(t, n), this
                }, inverse: function () {
                    return this.conjugate()
                }, conjugate: function () {
                    return this._x *= -1, this._y *= -1, this._z *= -1, this._onChangeCallback(), this
                }, dot: function (t) {
                    return this._x * t._x + this._y * t._y + this._z * t._z + this._w * t._w
                }, lengthSq: function () {
                    return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w
                }, length: function () {
                    return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w)
                }, normalize: function () {
                    var t = this.length();
                    return 0 === t ? (this._x = 0, this._y = 0, this._z = 0, this._w = 1) : (t = 1 / t, this._x = this._x * t, this._y = this._y * t, this._z = this._z * t, this._w = this._w * t), this._onChangeCallback(), this
                }, multiply: function (t, e) {
                    return void 0 !== e ? (console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."), this.multiplyQuaternions(t, e)) : this.multiplyQuaternions(this, t)
                }, premultiply: function (t) {
                    return this.multiplyQuaternions(t, this)
                }, multiplyQuaternions: function (t, e) {
                    var i = t._x,
                        n = t._y,
                        r = t._z,
                        o = t._w,
                        s = e._x,
                        a = e._y,
                        h = e._z,
                        l = e._w;
                    return this._x = i * l + o * s + n * h - r * a, this._y = n * l + o * a + r * s - i * h, this._z = r * l + o * h + i * a - n * s, this._w = o * l - i * s - n * a - r * h, this._onChangeCallback(), this
                }, slerp: function (t, e) {
                    if (0 === e) return this;
                    if (1 === e) return this.copy(t);
                    var i = this._x,
                        n = this._y,
                        r = this._z,
                        o = this._w,
                        s = o * t._w + i * t._x + n * t._y + r * t._z;
                    if (s < 0 ? (this._w = -t._w, this._x = -t._x, this._y = -t._y, this._z = -t._z, s = -s) : this.copy(t), s >= 1) return this._w = o, this._x = i, this._y = n, this._z = r, this;
                    var a = 1 - s * s;
                    if (a <= Number.EPSILON) {
                        var h = 1 - e;
                        return this._w = h * o + e * this._w, this._x = h * i + e * this._x, this._y = h * n + e * this._y, this._z = h * r + e * this._z, this.normalize(), this._onChangeCallback(), this
                    }
                    var l = Math.sqrt(a),
                        u = Math.atan2(l, s),
                        c = Math.sin((1 - e) * u) / l,
                        p = Math.sin(e * u) / l;
                    return this._w = o * c + this._w * p, this._x = i * c + this._x * p, this._y = n * c + this._y * p, this._z = r * c + this._z * p, this._onChangeCallback(), this
                }, equals: function (t) {
                    return t._x === this._x && t._y === this._y && t._z === this._z && t._w === this._w
                }, fromArray: function (t, e) {
                    return void 0 === e && (e = 0), this._x = t[e], this._y = t[e + 1], this._z = t[e + 2], this._w = t[e + 3], this._onChangeCallback(), this
                }, toArray: function (t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this._x, t[e + 1] = this._y, t[e + 2] = this._z, t[e + 3] = this._w, t
                }, _onChange: function (t) {
                    return this._onChangeCallback = t, this
                }, _onChangeCallback: function () {}
            });
            var Ql = new r,
                tu = new n;
            Object.assign(r.prototype, {
                isVector3: !0,
                set: function (t, e, i) {
                    return this.x = t, this.y = e, this.z = i, this
                }, setScalar: function (t) {
                    return this.x = t, this.y = t, this.z = t, this
                }, setX: function (t) {
                    return this.x = t, this
                }, setY: function (t) {
                    return this.y = t, this
                }, setZ: function (t) {
                    return this.z = t, this
                }, setComponent: function (t, e) {
                    switch (t) {
                    case 0:
                        this.x = e;
                        break;
                    case 1:
                        this.y = e;
                        break;
                    case 2:
                        this.z = e;
                        break;
                    default:
                        throw new Error("index is out of range: " + t)
                    }
                    return this
                }, getComponent: function (t) {
                    switch (t) {
                    case 0:
                        return this.x;
                    case 1:
                        return this.y;
                    case 2:
                        return this.z;
                    default:
                        throw new Error("index is out of range: " + t)
                    }
                }, clone: function () {
                    return new this.constructor(this.x, this.y, this.z)
                }, copy: function (t) {
                    return this.x = t.x, this.y = t.y, this.z = t.z, this
                }, add: function (t, e) {
                    return void 0 !== e ? (console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(t, e)) : (this.x += t.x, this.y += t.y, this.z += t.z, this)
                }, addScalar: function (t) {
                    return this.x += t, this.y += t, this.z += t, this
                }, addVectors: function (t, e) {
                    return this.x = t.x + e.x, this.y = t.y + e.y, this.z = t.z + e.z, this
                }, addScaledVector: function (t, e) {
                    return this.x += t.x * e, this.y += t.y * e, this.z += t.z * e, this
                }, sub: function (t, e) {
                    return void 0 !== e ? (console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(t, e)) : (this.x -= t.x, this.y -= t.y, this.z -= t.z, this)
                }, subScalar: function (t) {
                    return this.x -= t, this.y -= t, this.z -= t, this
                }, subVectors: function (t, e) {
                    return this.x = t.x - e.x, this.y = t.y - e.y, this.z = t.z - e.z, this
                }, multiply: function (t, e) {
                    return void 0 !== e ? (console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."), this.multiplyVectors(t, e)) : (this.x *= t.x, this.y *= t.y, this.z *= t.z, this)
                }, multiplyScalar: function (t) {
                    return this.x *= t, this.y *= t, this.z *= t, this
                }, multiplyVectors: function (t, e) {
                    return this.x = t.x * e.x, this.y = t.y * e.y, this.z = t.z * e.z, this
                }, applyEuler: function (t) {
                    return t && t.isEuler || console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."), this.applyQuaternion(tu.setFromEuler(t))
                }, applyAxisAngle: function (t, e) {
                    return this.applyQuaternion(tu.setFromAxisAngle(t, e))
                }, applyMatrix3: function (t) {
                    var e = this.x,
                        i = this.y,
                        n = this.z,
                        r = t.elements;
                    return this.x = r[0] * e + r[3] * i + r[6] * n, this.y = r[1] * e + r[4] * i + r[7] * n, this.z = r[2] * e + r[5] * i + r[8] * n, this
                }, applyMatrix4: function (t) {
                    var e = this.x,
                        i = this.y,
                        n = this.z,
                        r = t.elements,
                        o = 1 / (r[3] * e + r[7] * i + r[11] * n + r[15]);
                    return this.x = (r[0] * e + r[4] * i + r[8] * n + r[12]) * o, this.y = (r[1] * e + r[5] * i + r[9] * n + r[13]) * o, this.z = (r[2] * e + r[6] * i + r[10] * n + r[14]) * o, this
                }, applyQuaternion: function (t) {
                    var e = this.x,
                        i = this.y,
                        n = this.z,
                        r = t.x,
                        o = t.y,
                        s = t.z,
                        a = t.w,
                        h = a * e + o * n - s * i,
                        l = a * i + s * e - r * n,
                        u = a * n + r * i - o * e,
                        c = -r * e - o * i - s * n;
                    return this.x = h * a + c * -r + l * -s - u * -o, this.y = l * a + c * -o + u * -r - h * -s, this.z = u * a + c * -s + h * -o - l * -r, this
                }, project: function (t) {
                    return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)
                }, unproject: function (t) {
                    return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)
                }, transformDirection: function (t) {
                    var e = this.x,
                        i = this.y,
                        n = this.z,
                        r = t.elements;
                    return this.x = r[0] * e + r[4] * i + r[8] * n, this.y = r[1] * e + r[5] * i + r[9] * n, this.z = r[2] * e + r[6] * i + r[10] * n, this.normalize()
                }, divide: function (t) {
                    return this.x /= t.x, this.y /= t.y, this.z /= t.z, this
                }, divideScalar: function (t) {
                    return this.multiplyScalar(1 / t)
                }, min: function (t) {
                    return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this.z = Math.min(this.z, t.z), this
                }, max: function (t) {
                    return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this.z = Math.max(this.z, t.z), this
                }, clamp: function (t, e) {
                    return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this.z = Math.max(t.z, Math.min(e.z, this.z)), this
                }, clampScalar: function (t, e) {
                    return this.x = Math.max(t, Math.min(e, this.x)), this.y = Math.max(t, Math.min(e, this.y)), this.z = Math.max(t, Math.min(e, this.z)), this
                }, clampLength: function (t, e) {
                    var i = this.length();
                    return this.divideScalar(i || 1).multiplyScalar(Math.max(t, Math.min(e, i)))
                }, floor: function () {
                    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this
                }, ceil: function () {
                    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this
                }, round: function () {
                    return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this
                }, roundToZero: function () {
                    return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this
                }, negate: function () {
                    return this.x = -this.x, this.y = -this.y, this.z = -this.z, this
                }, dot: function (t) {
                    return this.x * t.x + this.y * t.y + this.z * t.z
                }, lengthSq: function () {
                    return this.x * this.x + this.y * this.y + this.z * this.z
                }, length: function () {
                    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)
                }, manhattanLength: function () {
                    return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z)
                }, normalize: function () {
                    return this.divideScalar(this.length() || 1)
                }, setLength: function (t) {
                    return this.normalize().multiplyScalar(t)
                }, lerp: function (t, e) {
                    return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this.z += (t.z - this.z) * e, this
                }, lerpVectors: function (t, e, i) {
                    return this.subVectors(e, t).multiplyScalar(i).add(t)
                }, cross: function (t, e) {
                    return void 0 !== e ? (console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."), this.crossVectors(t, e)) : this.crossVectors(this, t)
                }, crossVectors: function (t, e) {
                    var i = t.x,
                        n = t.y,
                        r = t.z,
                        o = e.x,
                        s = e.y,
                        a = e.z;
                    return this.x = n * a - r * s, this.y = r * o - i * a, this.z = i * s - n * o, this
                }, projectOnVector: function (t) {
                    var e = t.dot(this) / t.lengthSq();
                    return this.copy(t).multiplyScalar(e)
                }, projectOnPlane: function (t) {
                    return Ql.copy(this).projectOnVector(t), this.sub(Ql)
                }, reflect: function (t) {
                    return this.sub(Ql.copy(t).multiplyScalar(2 * this.dot(t)))
                }, angleTo: function (t) {
                    var e = Math.sqrt(this.lengthSq() * t.lengthSq());
                    0 === e && console.error("THREE.Vector3: angleTo() can't handle zero length vectors.");
                    var i = this.dot(t) / e;
                    return Math.acos(Kl.clamp(i, -1, 1))
                }, distanceTo: function (t) {
                    return Math.sqrt(this.distanceToSquared(t))
                }, distanceToSquared: function (t) {
                    var e = this.x - t.x,
                        i = this.y - t.y,
                        n = this.z - t.z;
                    return e * e + i * i + n * n
                }, manhattanDistanceTo: function (t) {
                    return Math.abs(this.x - t.x) + Math.abs(this.y - t.y) + Math.abs(this.z - t.z)
                }, setFromSpherical: function (t) {
                    return this.setFromSphericalCoords(t.radius, t.phi, t.theta)
                }, setFromSphericalCoords: function (t, e, i) {
                    var n = Math.sin(e) * t;
                    return this.x = n * Math.sin(i), this.y = Math.cos(e) * t, this.z = n * Math.cos(i), this
                }, setFromCylindrical: function (t) {
                    return this.setFromCylindricalCoords(t.radius, t.theta, t.y)
                }, setFromCylindricalCoords: function (t, e, i) {
                    return this.x = t * Math.sin(e), this.y = i, this.z = t * Math.cos(e), this
                }, setFromMatrixPosition: function (t) {
                    var e = t.elements;
                    return this.x = e[12], this.y = e[13], this.z = e[14], this
                }, setFromMatrixScale: function (t) {
                    var e = this.setFromMatrixColumn(t, 0).length(),
                        i = this.setFromMatrixColumn(t, 1).length(),
                        n = this.setFromMatrixColumn(t, 2).length();
                    return this.x = e, this.y = i, this.z = n, this
                }, setFromMatrixColumn: function (t, e) {
                    return this.fromArray(t.elements, 4 * e)
                }, equals: function (t) {
                    return t.x === this.x && t.y === this.y && t.z === this.z
                }, fromArray: function (t, e) {
                    return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this.z = t[e + 2], this
                }, toArray: function (t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t[e + 2] = this.z, t
                }, fromBufferAttribute: function (t, e, i) {
                    return void 0 !== i && console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."), this.x = t.getX(e), this.y = t.getY(e), this.z = t.getZ(e), this
                }
            });
            var eu = new r;
            Object.assign(o.prototype, {
                isMatrix3: !0,
                set: function (t, e, i, n, r, o, s, a, h) {
                    var l = this.elements;
                    return l[0] = t, l[1] = n, l[2] = s, l[3] = e, l[4] = r, l[5] = a, l[6] = i, l[7] = o, l[8] = h, this
                }, identity: function () {
                    return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1), this
                }, clone: function () {
                    return (new this.constructor).fromArray(this.elements)
                }, copy: function (t) {
                    var e = this.elements,
                        i = t.elements;
                    return e[0] = i[0], e[1] = i[1], e[2] = i[2], e[3] = i[3], e[4] = i[4], e[5] = i[5], e[6] = i[6], e[7] = i[7], e[8] = i[8], this
                }, setFromMatrix4: function (t) {
                    var e = t.elements;
                    return this.set(e[0], e[4], e[8], e[1], e[5], e[9], e[2], e[6], e[10]), this
                }, applyToBufferAttribute: function (t) {
                    for (var e = 0, i = t.count; e < i; e++) eu.x = t.getX(e), eu.y = t.getY(e), eu.z = t.getZ(e), eu.applyMatrix3(this), t.setXYZ(e, eu.x, eu.y, eu.z);
                    return t
                }, multiply: function (t) {
                    return this.multiplyMatrices(this, t)
                }, premultiply: function (t) {
                    return this.multiplyMatrices(t, this)
                }, multiplyMatrices: function (t, e) {
                    var i = t.elements,
                        n = e.elements,
                        r = this.elements,
                        o = i[0],
                        s = i[3],
                        a = i[6],
                        h = i[1],
                        l = i[4],
                        u = i[7],
                        c = i[2],
                        p = i[5],
                        d = i[8],
                        f = n[0],
                        m = n[3],
                        g = n[6],
                        v = n[1],
                        _ = n[4],
                        y = n[7],
                        x = n[2],
                        w = n[5],
                        b = n[8];
                    return r[0] = o * f + s * v + a * x, r[3] = o * m + s * _ + a * w, r[6] = o * g + s * y + a * b, r[1] = h * f + l * v + u * x, r[4] = h * m + l * _ + u * w, r[7] = h * g + l * y + u * b, r[2] = c * f + p * v + d * x, r[5] = c * m + p * _ + d * w, r[8] = c * g + p * y + d * b, this
                }, multiplyScalar: function (t) {
                    var e = this.elements;
                    return e[0] *= t, e[3] *= t, e[6] *= t, e[1] *= t, e[4] *= t, e[7] *= t, e[2] *= t, e[5] *= t, e[8] *= t, this
                }, determinant: function () {
                    var t = this.elements,
                        e = t[0],
                        i = t[1],
                        n = t[2],
                        r = t[3],
                        o = t[4],
                        s = t[5],
                        a = t[6],
                        h = t[7],
                        l = t[8];
                    return e * o * l - e * s * h - i * r * l + i * s * a + n * r * h - n * o * a
                }, getInverse: function (t, e) {
                    t && t.isMatrix4 && console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");
                    var i = t.elements,
                        n = this.elements,
                        r = i[0],
                        o = i[1],
                        s = i[2],
                        a = i[3],
                        h = i[4],
                        l = i[5],
                        u = i[6],
                        c = i[7],
                        p = i[8],
                        d = p * h - l * c,
                        f = l * u - p * a,
                        m = c * a - h * u,
                        g = r * d + o * f + s * m;
                    if (0 === g) {
                        var v = "THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";
                        if (e === !0) throw new Error(v);
                        return console.warn(v), this.identity()
                    }
                    var _ = 1 / g;
                    return n[0] = d * _, n[1] = (s * c - p * o) * _, n[2] = (l * o - s * h) * _, n[3] = f * _, n[4] = (p * r - s * u) * _, n[5] = (s * a - l * r) * _, n[6] = m * _, n[7] = (o * u - c * r) * _, n[8] = (h * r - o * a) * _, this
                }, transpose: function () {
                    var t, e = this.elements;
                    return t = e[1], e[1] = e[3], e[3] = t, t = e[2], e[2] = e[6], e[6] = t, t = e[5], e[5] = e[7], e[7] = t, this
                }, getNormalMatrix: function (t) {
                    return this.setFromMatrix4(t).getInverse(this).transpose()
                }, transposeIntoArray: function (t) {
                    var e = this.elements;
                    return t[0] = e[0], t[1] = e[3], t[2] = e[6], t[3] = e[1], t[4] = e[4], t[5] = e[7], t[6] = e[2], t[7] = e[5], t[8] = e[8], this
                }, setUvTransform: function (t, e, i, n, r, o, s) {
                    var a = Math.cos(r),
                        h = Math.sin(r);
                    this.set(i * a, i * h, -i * (a * o + h * s) + o + t, -n * h, n * a, -n * (-h * o + a * s) + s + e, 0, 0, 1)
                }, scale: function (t, e) {
                    var i = this.elements;
                    return i[0] *= t, i[3] *= t, i[6] *= t, i[1] *= e, i[4] *= e, i[7] *= e, this
                }, rotate: function (t) {
                    var e = Math.cos(t),
                        i = Math.sin(t),
                        n = this.elements,
                        r = n[0],
                        o = n[3],
                        s = n[6],
                        a = n[1],
                        h = n[4],
                        l = n[7];
                    return n[0] = e * r + i * a, n[3] = e * o + i * h, n[6] = e * s + i * l, n[1] = -i * r + e * a, n[4] = -i * o + e * h, n[7] = -i * s + e * l, this
                }, translate: function (t, e) {
                    var i = this.elements;
                    return i[0] += t * i[2], i[3] += t * i[5], i[6] += t * i[8], i[1] += e * i[2], i[4] += e * i[5], i[7] += e * i[8], this
                }, equals: function (t) {
                    for (var e = this.elements, i = t.elements, n = 0; n < 9; n++)
                        if (e[n] !== i[n]) return !1;
                    return !0
                }, fromArray: function (t, e) {
                    void 0 === e && (e = 0);
                    for (var i = 0; i < 9; i++) this.elements[i] = t[i + e];
                    return this
                }, toArray: function (t, e) {
                    void 0 === t && (t = []), void 0 === e && (e = 0);
                    var i = this.elements;
                    return t[e] = i[0], t[e + 1] = i[1], t[e + 2] = i[2], t[e + 3] = i[3], t[e + 4] = i[4], t[e + 5] = i[5], t[e + 6] = i[6], t[e + 7] = i[7], t[e + 8] = i[8], t
                }
            });
            var iu, nu = {
                    getDataURL: function (t) {
                        var e;
                        if ("undefined" == typeof HTMLCanvasElement) return t.src;
                        if (t instanceof HTMLCanvasElement) e = t;
                        else {
                            void 0 === iu && (iu = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas")), iu.width = t.width, iu.height = t.height;
                            var i = iu.getContext("2d");
                            t instanceof ImageData ? i.putImageData(t, 0, 0) : i.drawImage(t, 0, 0, t.width, t.height), e = iu
                        }
                        return e.width > 2048 || e.height > 2048 ? e.toDataURL("image/jpeg", .6) : e.toDataURL("image/png")
                    }
                },
                ru = 0;
            s.DEFAULT_IMAGE = void 0, s.DEFAULT_MAPPING = Va, s.prototype = Object.assign(Object.create(e.prototype), {
                constructor: s,
                isTexture: !0,
                updateMatrix: function () {
                    this.matrix.setUvTransform(this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y)
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.name = t.name, this.image = t.image, this.mipmaps = t.mipmaps.slice(0), this.mapping = t.mapping, this.wrapS = t.wrapS, this.wrapT = t.wrapT, this.magFilter = t.magFilter, this.minFilter = t.minFilter, this.anisotropy = t.anisotropy, this.format = t.format, this.type = t.type, this.offset.copy(t.offset), this.repeat.copy(t.repeat), this.center.copy(t.center), this.rotation = t.rotation, this.matrixAutoUpdate = t.matrixAutoUpdate, this.matrix.copy(t.matrix), this.generateMipmaps = t.generateMipmaps, this.premultiplyAlpha = t.premultiplyAlpha, this.flipY = t.flipY, this.unpackAlignment = t.unpackAlignment, this.encoding = t.encoding, this
                }, toJSON: function (t) {
                    var e = void 0 === t || "string" == typeof t;
                    if (!e && void 0 !== t.textures[this.uuid]) return t.textures[this.uuid];
                    var i = {
                        metadata: {
                            version: 4.5,
                            type: "Texture",
                            generator: "Texture.toJSON"
                        },
                        uuid: this.uuid,
                        name: this.name,
                        mapping: this.mapping,
                        repeat: [this.repeat.x, this.repeat.y],
                        offset: [this.offset.x, this.offset.y],
                        center: [this.center.x, this.center.y],
                        rotation: this.rotation,
                        wrap: [this.wrapS, this.wrapT],
                        format: this.format,
                        type: this.type,
                        encoding: this.encoding,
                        minFilter: this.minFilter,
                        magFilter: this.magFilter,
                        anisotropy: this.anisotropy,
                        flipY: this.flipY,
                        premultiplyAlpha: this.premultiplyAlpha,
                        unpackAlignment: this.unpackAlignment
                    };
                    if (void 0 !== this.image) {
                        var n = this.image;
                        if (void 0 === n.uuid && (n.uuid = Kl.generateUUID()), !e && void 0 === t.images[n.uuid]) {
                            var r;
                            if (Array.isArray(n)) {
                                r = [];
                                for (var o = 0, s = n.length; o < s; o++) r.push(nu.getDataURL(n[o]))
                            } else r = nu.getDataURL(n);
                            t.images[n.uuid] = {
                                uuid: n.uuid,
                                url: r
                            }
                        }
                        i.image = n.uuid
                    }
                    return e || (t.textures[this.uuid] = i), i
                }, dispose: function () {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                }, transformUv: function (t) {
                    if (this.mapping !== Va) return t;
                    if (t.applyMatrix3(this.matrix), t.x < 0 || t.x > 1) switch (this.wrapS) {
                    case Ka:
                        t.x = t.x - Math.floor(t.x);
                        break;
                    case Qa:
                        t.x = t.x < 0 ? 0 : 1;
                        break;
                    case th:
                        1 === Math.abs(Math.floor(t.x) % 2) ? t.x = Math.ceil(t.x) - t.x : t.x = t.x - Math.floor(t.x)
                    }
                    if (t.y < 0 || t.y > 1) switch (this.wrapT) {
                    case Ka:
                        t.y = t.y - Math.floor(t.y);
                        break;
                    case Qa:
                        t.y = t.y < 0 ? 0 : 1;
                        break;
                    case th:
                        1 === Math.abs(Math.floor(t.y) % 2) ? t.y = Math.ceil(t.y) - t.y : t.y = t.y - Math.floor(t.y)
                    }
                    return this.flipY && (t.y = 1 - t.y), t
                }
            }), Object.defineProperty(s.prototype, "needsUpdate", {
                set: function (t) {
                    t === !0 && this.version++
                }
            }), Object.defineProperties(a.prototype, {
                width: {
                    get: function () {
                        return this.z
                    }, set: function (t) {
                        this.z = t
                    }
                },
                height: {
                    get: function () {
                        return this.w
                    }, set: function (t) {
                        this.w = t
                    }
                }
            }), Object.assign(a.prototype, {
                isVector4: !0,
                set: function (t, e, i, n) {
                    return this.x = t, this.y = e, this.z = i, this.w = n, this
                }, setScalar: function (t) {
                    return this.x = t, this.y = t, this.z = t, this.w = t, this
                }, setX: function (t) {
                    return this.x = t, this
                }, setY: function (t) {
                    return this.y = t, this
                }, setZ: function (t) {
                    return this.z = t, this
                }, setW: function (t) {
                    return this.w = t, this
                }, setComponent: function (t, e) {
                    switch (t) {
                    case 0:
                        this.x = e;
                        break;
                    case 1:
                        this.y = e;
                        break;
                    case 2:
                        this.z = e;
                        break;
                    case 3:
                        this.w = e;
                        break;
                    default:
                        throw new Error("index is out of range: " + t)
                    }
                    return this
                }, getComponent: function (t) {
                    switch (t) {
                    case 0:
                        return this.x;
                    case 1:
                        return this.y;
                    case 2:
                        return this.z;
                    case 3:
                        return this.w;
                    default:
                        throw new Error("index is out of range: " + t)
                    }
                }, clone: function () {
                    return new this.constructor(this.x, this.y, this.z, this.w)
                }, copy: function (t) {
                    return this.x = t.x, this.y = t.y, this.z = t.z, this.w = void 0 !== t.w ? t.w : 1, this
                }, add: function (t, e) {
                    return void 0 !== e ? (console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(t, e)) : (this.x += t.x, this.y += t.y, this.z += t.z, this.w += t.w, this)
                }, addScalar: function (t) {
                    return this.x += t, this.y += t, this.z += t, this.w += t, this
                }, addVectors: function (t, e) {
                    return this.x = t.x + e.x, this.y = t.y + e.y, this.z = t.z + e.z, this.w = t.w + e.w, this
                }, addScaledVector: function (t, e) {
                    return this.x += t.x * e, this.y += t.y * e, this.z += t.z * e, this.w += t.w * e, this
                }, sub: function (t, e) {
                    return void 0 !== e ? (console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(t, e)) : (this.x -= t.x, this.y -= t.y, this.z -= t.z, this.w -= t.w, this)
                }, subScalar: function (t) {
                    return this.x -= t, this.y -= t, this.z -= t, this.w -= t, this
                }, subVectors: function (t, e) {
                    return this.x = t.x - e.x, this.y = t.y - e.y, this.z = t.z - e.z, this.w = t.w - e.w, this
                }, multiplyScalar: function (t) {
                    return this.x *= t, this.y *= t, this.z *= t, this.w *= t, this
                }, applyMatrix4: function (t) {
                    var e = this.x,
                        i = this.y,
                        n = this.z,
                        r = this.w,
                        o = t.elements;
                    return this.x = o[0] * e + o[4] * i + o[8] * n + o[12] * r, this.y = o[1] * e + o[5] * i + o[9] * n + o[13] * r, this.z = o[2] * e + o[6] * i + o[10] * n + o[14] * r, this.w = o[3] * e + o[7] * i + o[11] * n + o[15] * r, this
                }, divideScalar: function (t) {
                    return this.multiplyScalar(1 / t)
                }, setAxisAngleFromQuaternion: function (t) {
                    this.w = 2 * Math.acos(t.w);
                    var e = Math.sqrt(1 - t.w * t.w);
                    return e < 1e-4 ? (this.x = 1, this.y = 0, this.z = 0) : (this.x = t.x / e, this.y = t.y / e, this.z = t.z / e), this
                }, setAxisAngleFromRotationMatrix: function (t) {
                    var e, i, n, r, o = .01,
                        s = .1,
                        a = t.elements,
                        h = a[0],
                        l = a[4],
                        u = a[8],
                        c = a[1],
                        p = a[5],
                        d = a[9],
                        f = a[2],
                        m = a[6],
                        g = a[10];
                    if (Math.abs(l - c) < o && Math.abs(u - f) < o && Math.abs(d - m) < o) {
                        if (Math.abs(l + c) < s && Math.abs(u + f) < s && Math.abs(d + m) < s && Math.abs(h + p + g - 3) < s) return this.set(1, 0, 0, 0), this;
                        e = Math.PI;
                        var v = (h + 1) / 2,
                            _ = (p + 1) / 2,
                            y = (g + 1) / 2,
                            x = (l + c) / 4,
                            w = (u + f) / 4,
                            b = (d + m) / 4;
                        return v > _ && v > y ? v < o ? (i = 0, n = .707106781, r = .707106781) : (i = Math.sqrt(v), n = x / i, r = w / i) : _ > y ? _ < o ? (i = .707106781, n = 0, r = .707106781) : (n = Math.sqrt(_), i = x / n, r = b / n) : y < o ? (i = .707106781, n = .707106781, r = 0) : (r = Math.sqrt(y), i = w / r, n = b / r), this.set(i, n, r, e), this
                    }
                    var S = Math.sqrt((m - d) * (m - d) + (u - f) * (u - f) + (c - l) * (c - l));
                    return Math.abs(S) < .001 && (S = 1), this.x = (m - d) / S, this.y = (u - f) / S, this.z = (c - l) / S, this.w = Math.acos((h + p + g - 1) / 2), this
                }, min: function (t) {
                    return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this.z = Math.min(this.z, t.z), this.w = Math.min(this.w, t.w), this
                }, max: function (t) {
                    return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this.z = Math.max(this.z, t.z), this.w = Math.max(this.w, t.w), this
                }, clamp: function (t, e) {
                    return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this.z = Math.max(t.z, Math.min(e.z, this.z)), this.w = Math.max(t.w, Math.min(e.w, this.w)), this
                }, clampScalar: function (t, e) {
                    return this.x = Math.max(t, Math.min(e, this.x)), this.y = Math.max(t, Math.min(e, this.y)), this.z = Math.max(t, Math.min(e, this.z)), this.w = Math.max(t, Math.min(e, this.w)), this
                }, clampLength: function (t, e) {
                    var i = this.length();
                    return this.divideScalar(i || 1).multiplyScalar(Math.max(t, Math.min(e, i)))
                }, floor: function () {
                    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this.w = Math.floor(this.w), this
                }, ceil: function () {
                    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this.w = Math.ceil(this.w), this
                }, round: function () {
                    return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this.w = Math.round(this.w), this
                }, roundToZero: function () {
                    return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w), this
                }, negate: function () {
                    return this.x = -this.x, this.y = -this.y, this.z = -this.z, this.w = -this.w, this
                }, dot: function (t) {
                    return this.x * t.x + this.y * t.y + this.z * t.z + this.w * t.w
                }, lengthSq: function () {
                    return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
                }, length: function () {
                    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w)
                }, manhattanLength: function () {
                    return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w)
                }, normalize: function () {
                    return this.divideScalar(this.length() || 1)
                }, setLength: function (t) {
                    return this.normalize().multiplyScalar(t)
                }, lerp: function (t, e) {
                    return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this.z += (t.z - this.z) * e, this.w += (t.w - this.w) * e, this
                }, lerpVectors: function (t, e, i) {
                    return this.subVectors(e, t).multiplyScalar(i).add(t)
                }, equals: function (t) {
                    return t.x === this.x && t.y === this.y && t.z === this.z && t.w === this.w
                }, fromArray: function (t, e) {
                    return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this.z = t[e + 2], this.w = t[e + 3], this
                }, toArray: function (t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t[e + 2] = this.z, t[e + 3] = this.w, t
                }, fromBufferAttribute: function (t, e, i) {
                    return void 0 !== i && console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."), this.x = t.getX(e), this.y = t.getY(e), this.z = t.getZ(e), this.w = t.getW(e), this
                }
            }), h.prototype = Object.assign(Object.create(e.prototype), {
                constructor: h,
                isWebGLRenderTarget: !0,
                setSize: function (t, e) {
                    this.width === t && this.height === e || (this.width = t, this.height = e, this.texture.image.width = t, this.texture.image.height = e, this.dispose()), this.viewport.set(0, 0, t, e),
                        this.scissor.set(0, 0, t, e)
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.width = t.width, this.height = t.height, this.viewport.copy(t.viewport), this.texture = t.texture.clone(), this.depthBuffer = t.depthBuffer, this.stencilBuffer = t.stencilBuffer, this.depthTexture = t.depthTexture, this
                }, dispose: function () {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                }
            }), l.prototype = Object.assign(Object.create(h.prototype), {
                constructor: l,
                isWebGLMultisampleRenderTarget: !0,
                copy: function (t) {
                    return h.prototype.copy.call(this, t), this.samples = t.samples, this
                }
            });
            var ou = new r,
                su = new u,
                au = new r(0, 0, 0),
                hu = new r(1, 1, 1),
                lu = new r,
                uu = new r,
                cu = new r;
            Object.assign(u.prototype, {
                isMatrix4: !0,
                set: function (t, e, i, n, r, o, s, a, h, l, u, c, p, d, f, m) {
                    var g = this.elements;
                    return g[0] = t, g[4] = e, g[8] = i, g[12] = n, g[1] = r, g[5] = o, g[9] = s, g[13] = a, g[2] = h, g[6] = l, g[10] = u, g[14] = c, g[3] = p, g[7] = d, g[11] = f, g[15] = m, this
                }, identity: function () {
                    return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this
                }, clone: function () {
                    return (new u).fromArray(this.elements)
                }, copy: function (t) {
                    var e = this.elements,
                        i = t.elements;
                    return e[0] = i[0], e[1] = i[1], e[2] = i[2], e[3] = i[3], e[4] = i[4], e[5] = i[5], e[6] = i[6], e[7] = i[7], e[8] = i[8], e[9] = i[9], e[10] = i[10], e[11] = i[11], e[12] = i[12], e[13] = i[13], e[14] = i[14], e[15] = i[15], this
                }, copyPosition: function (t) {
                    var e = this.elements,
                        i = t.elements;
                    return e[12] = i[12], e[13] = i[13], e[14] = i[14], this
                }, extractBasis: function (t, e, i) {
                    return t.setFromMatrixColumn(this, 0), e.setFromMatrixColumn(this, 1), i.setFromMatrixColumn(this, 2), this
                }, makeBasis: function (t, e, i) {
                    return this.set(t.x, e.x, i.x, 0, t.y, e.y, i.y, 0, t.z, e.z, i.z, 0, 0, 0, 0, 1), this
                }, extractRotation: function (t) {
                    var e = this.elements,
                        i = t.elements,
                        n = 1 / ou.setFromMatrixColumn(t, 0).length(),
                        r = 1 / ou.setFromMatrixColumn(t, 1).length(),
                        o = 1 / ou.setFromMatrixColumn(t, 2).length();
                    return e[0] = i[0] * n, e[1] = i[1] * n, e[2] = i[2] * n, e[3] = 0, e[4] = i[4] * r, e[5] = i[5] * r, e[6] = i[6] * r, e[7] = 0, e[8] = i[8] * o, e[9] = i[9] * o, e[10] = i[10] * o, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1, this
                }, makeRotationFromEuler: function (t) {
                    t && t.isEuler || console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
                    var e = this.elements,
                        i = t.x,
                        n = t.y,
                        r = t.z,
                        o = Math.cos(i),
                        s = Math.sin(i),
                        a = Math.cos(n),
                        h = Math.sin(n),
                        l = Math.cos(r),
                        u = Math.sin(r);
                    if ("XYZ" === t.order) {
                        var c = o * l,
                            p = o * u,
                            d = s * l,
                            f = s * u;
                        e[0] = a * l, e[4] = -a * u, e[8] = h, e[1] = p + d * h, e[5] = c - f * h, e[9] = -s * a, e[2] = f - c * h, e[6] = d + p * h, e[10] = o * a
                    } else if ("YXZ" === t.order) {
                        var m = a * l,
                            g = a * u,
                            v = h * l,
                            _ = h * u;
                        e[0] = m + _ * s, e[4] = v * s - g, e[8] = o * h, e[1] = o * u, e[5] = o * l, e[9] = -s, e[2] = g * s - v, e[6] = _ + m * s, e[10] = o * a
                    } else if ("ZXY" === t.order) {
                        var m = a * l,
                            g = a * u,
                            v = h * l,
                            _ = h * u;
                        e[0] = m - _ * s, e[4] = -o * u, e[8] = v + g * s, e[1] = g + v * s, e[5] = o * l, e[9] = _ - m * s, e[2] = -o * h, e[6] = s, e[10] = o * a
                    } else if ("ZYX" === t.order) {
                        var c = o * l,
                            p = o * u,
                            d = s * l,
                            f = s * u;
                        e[0] = a * l, e[4] = d * h - p, e[8] = c * h + f, e[1] = a * u, e[5] = f * h + c, e[9] = p * h - d, e[2] = -h, e[6] = s * a, e[10] = o * a
                    } else if ("YZX" === t.order) {
                        var y = o * a,
                            x = o * h,
                            w = s * a,
                            b = s * h;
                        e[0] = a * l, e[4] = b - y * u, e[8] = w * u + x, e[1] = u, e[5] = o * l, e[9] = -s * l, e[2] = -h * l, e[6] = x * u + w, e[10] = y - b * u
                    } else if ("XZY" === t.order) {
                        var y = o * a,
                            x = o * h,
                            w = s * a,
                            b = s * h;
                        e[0] = a * l, e[4] = -u, e[8] = h * l, e[1] = y * u + b, e[5] = o * l, e[9] = x * u - w, e[2] = w * u - x, e[6] = s * l, e[10] = b * u + y
                    }
                    return e[3] = 0, e[7] = 0, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1, this
                }, makeRotationFromQuaternion: function (t) {
                    return this.compose(au, t, hu)
                }, lookAt: function (t, e, i) {
                    var n = this.elements;
                    return cu.subVectors(t, e), 0 === cu.lengthSq() && (cu.z = 1), cu.normalize(), lu.crossVectors(i, cu), 0 === lu.lengthSq() && (1 === Math.abs(i.z) ? cu.x += 1e-4 : cu.z += 1e-4, cu.normalize(), lu.crossVectors(i, cu)), lu.normalize(), uu.crossVectors(cu, lu), n[0] = lu.x, n[4] = uu.x, n[8] = cu.x, n[1] = lu.y, n[5] = uu.y, n[9] = cu.y, n[2] = lu.z, n[6] = uu.z, n[10] = cu.z, this
                }, multiply: function (t, e) {
                    return void 0 !== e ? (console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."), this.multiplyMatrices(t, e)) : this.multiplyMatrices(this, t)
                }, premultiply: function (t) {
                    return this.multiplyMatrices(t, this)
                }, multiplyMatrices: function (t, e) {
                    var i = t.elements,
                        n = e.elements,
                        r = this.elements,
                        o = i[0],
                        s = i[4],
                        a = i[8],
                        h = i[12],
                        l = i[1],
                        u = i[5],
                        c = i[9],
                        p = i[13],
                        d = i[2],
                        f = i[6],
                        m = i[10],
                        g = i[14],
                        v = i[3],
                        _ = i[7],
                        y = i[11],
                        x = i[15],
                        w = n[0],
                        b = n[4],
                        S = n[8],
                        T = n[12],
                        M = n[1],
                        E = n[5],
                        A = n[9],
                        C = n[13],
                        P = n[2],
                        R = n[6],
                        L = n[10],
                        O = n[14],
                        I = n[3],
                        D = n[7],
                        k = n[11],
                        N = n[15];
                    return r[0] = o * w + s * M + a * P + h * I, r[4] = o * b + s * E + a * R + h * D, r[8] = o * S + s * A + a * L + h * k, r[12] = o * T + s * C + a * O + h * N, r[1] = l * w + u * M + c * P + p * I, r[5] = l * b + u * E + c * R + p * D, r[9] = l * S + u * A + c * L + p * k, r[13] = l * T + u * C + c * O + p * N, r[2] = d * w + f * M + m * P + g * I, r[6] = d * b + f * E + m * R + g * D, r[10] = d * S + f * A + m * L + g * k, r[14] = d * T + f * C + m * O + g * N, r[3] = v * w + _ * M + y * P + x * I, r[7] = v * b + _ * E + y * R + x * D, r[11] = v * S + _ * A + y * L + x * k, r[15] = v * T + _ * C + y * O + x * N, this
                }, multiplyScalar: function (t) {
                    var e = this.elements;
                    return e[0] *= t, e[4] *= t, e[8] *= t, e[12] *= t, e[1] *= t, e[5] *= t, e[9] *= t, e[13] *= t, e[2] *= t, e[6] *= t, e[10] *= t, e[14] *= t, e[3] *= t, e[7] *= t, e[11] *= t, e[15] *= t, this
                }, applyToBufferAttribute: function (t) {
                    for (var e = 0, i = t.count; e < i; e++) ou.x = t.getX(e), ou.y = t.getY(e), ou.z = t.getZ(e), ou.applyMatrix4(this), t.setXYZ(e, ou.x, ou.y, ou.z);
                    return t
                }, determinant: function () {
                    var t = this.elements,
                        e = t[0],
                        i = t[4],
                        n = t[8],
                        r = t[12],
                        o = t[1],
                        s = t[5],
                        a = t[9],
                        h = t[13],
                        l = t[2],
                        u = t[6],
                        c = t[10],
                        p = t[14],
                        d = t[3],
                        f = t[7],
                        m = t[11],
                        g = t[15];
                    return d * (+r * a * u - n * h * u - r * s * c + i * h * c + n * s * p - i * a * p) + f * (+e * a * p - e * h * c + r * o * c - n * o * p + n * h * l - r * a * l) + m * (+e * h * u - e * s * p - r * o * u + i * o * p + r * s * l - i * h * l) + g * (-n * s * l - e * a * u + e * s * c + n * o * u - i * o * c + i * a * l)
                }, transpose: function () {
                    var t, e = this.elements;
                    return t = e[1], e[1] = e[4], e[4] = t, t = e[2], e[2] = e[8], e[8] = t, t = e[6], e[6] = e[9], e[9] = t, t = e[3], e[3] = e[12], e[12] = t, t = e[7], e[7] = e[13], e[13] = t, t = e[11], e[11] = e[14], e[14] = t, this
                }, setPosition: function (t, e, i) {
                    var n = this.elements;
                    return t.isVector3 ? (n[12] = t.x, n[13] = t.y, n[14] = t.z) : (n[12] = t, n[13] = e, n[14] = i), this
                }, getInverse: function (t, e) {
                    var i = this.elements,
                        n = t.elements,
                        r = n[0],
                        o = n[1],
                        s = n[2],
                        a = n[3],
                        h = n[4],
                        l = n[5],
                        u = n[6],
                        c = n[7],
                        p = n[8],
                        d = n[9],
                        f = n[10],
                        m = n[11],
                        g = n[12],
                        v = n[13],
                        _ = n[14],
                        y = n[15],
                        x = d * _ * c - v * f * c + v * u * m - l * _ * m - d * u * y + l * f * y,
                        w = g * f * c - p * _ * c - g * u * m + h * _ * m + p * u * y - h * f * y,
                        b = p * v * c - g * d * c + g * l * m - h * v * m - p * l * y + h * d * y,
                        S = g * d * u - p * v * u - g * l * f + h * v * f + p * l * _ - h * d * _,
                        T = r * x + o * w + s * b + a * S;
                    if (0 === T) {
                        var M = "THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";
                        if (e === !0) throw new Error(M);
                        return console.warn(M), this.identity()
                    }
                    var E = 1 / T;
                    return i[0] = x * E, i[1] = (v * f * a - d * _ * a - v * s * m + o * _ * m + d * s * y - o * f * y) * E, i[2] = (l * _ * a - v * u * a + v * s * c - o * _ * c - l * s * y + o * u * y) * E, i[3] = (d * u * a - l * f * a - d * s * c + o * f * c + l * s * m - o * u * m) * E, i[4] = w * E, i[5] = (p * _ * a - g * f * a + g * s * m - r * _ * m - p * s * y + r * f * y) * E, i[6] = (g * u * a - h * _ * a - g * s * c + r * _ * c + h * s * y - r * u * y) * E, i[7] = (h * f * a - p * u * a + p * s * c - r * f * c - h * s * m + r * u * m) * E, i[8] = b * E, i[9] = (g * d * a - p * v * a - g * o * m + r * v * m + p * o * y - r * d * y) * E, i[10] = (h * v * a - g * l * a + g * o * c - r * v * c - h * o * y + r * l * y) * E, i[11] = (p * l * a - h * d * a - p * o * c + r * d * c + h * o * m - r * l * m) * E, i[12] = S * E, i[13] = (p * v * s - g * d * s + g * o * f - r * v * f - p * o * _ + r * d * _) * E, i[14] = (g * l * s - h * v * s - g * o * u + r * v * u + h * o * _ - r * l * _) * E, i[15] = (h * d * s - p * l * s + p * o * u - r * d * u - h * o * f + r * l * f) * E, this
                }, scale: function (t) {
                    var e = this.elements,
                        i = t.x,
                        n = t.y,
                        r = t.z;
                    return e[0] *= i, e[4] *= n, e[8] *= r, e[1] *= i, e[5] *= n, e[9] *= r, e[2] *= i, e[6] *= n, e[10] *= r, e[3] *= i, e[7] *= n, e[11] *= r, this
                }, getMaxScaleOnAxis: function () {
                    var t = this.elements,
                        e = t[0] * t[0] + t[1] * t[1] + t[2] * t[2],
                        i = t[4] * t[4] + t[5] * t[5] + t[6] * t[6],
                        n = t[8] * t[8] + t[9] * t[9] + t[10] * t[10];
                    return Math.sqrt(Math.max(e, i, n))
                }, makeTranslation: function (t, e, i) {
                    return this.set(1, 0, 0, t, 0, 1, 0, e, 0, 0, 1, i, 0, 0, 0, 1), this
                }, makeRotationX: function (t) {
                    var e = Math.cos(t),
                        i = Math.sin(t);
                    return this.set(1, 0, 0, 0, 0, e, -i, 0, 0, i, e, 0, 0, 0, 0, 1), this
                }, makeRotationY: function (t) {
                    var e = Math.cos(t),
                        i = Math.sin(t);
                    return this.set(e, 0, i, 0, 0, 1, 0, 0, -i, 0, e, 0, 0, 0, 0, 1), this
                }, makeRotationZ: function (t) {
                    var e = Math.cos(t),
                        i = Math.sin(t);
                    return this.set(e, -i, 0, 0, i, e, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this
                }, makeRotationAxis: function (t, e) {
                    var i = Math.cos(e),
                        n = Math.sin(e),
                        r = 1 - i,
                        o = t.x,
                        s = t.y,
                        a = t.z,
                        h = r * o,
                        l = r * s;
                    return this.set(h * o + i, h * s - n * a, h * a + n * s, 0, h * s + n * a, l * s + i, l * a - n * o, 0, h * a - n * s, l * a + n * o, r * a * a + i, 0, 0, 0, 0, 1), this
                }, makeScale: function (t, e, i) {
                    return this.set(t, 0, 0, 0, 0, e, 0, 0, 0, 0, i, 0, 0, 0, 0, 1), this
                }, makeShear: function (t, e, i) {
                    return this.set(1, e, i, 0, t, 1, i, 0, t, e, 1, 0, 0, 0, 0, 1), this
                }, compose: function (t, e, i) {
                    var n = this.elements,
                        r = e._x,
                        o = e._y,
                        s = e._z,
                        a = e._w,
                        h = r + r,
                        l = o + o,
                        u = s + s,
                        c = r * h,
                        p = r * l,
                        d = r * u,
                        f = o * l,
                        m = o * u,
                        g = s * u,
                        v = a * h,
                        _ = a * l,
                        y = a * u,
                        x = i.x,
                        w = i.y,
                        b = i.z;
                    return n[0] = (1 - (f + g)) * x, n[1] = (p + y) * x, n[2] = (d - _) * x, n[3] = 0, n[4] = (p - y) * w, n[5] = (1 - (c + g)) * w, n[6] = (m + v) * w, n[7] = 0, n[8] = (d + _) * b, n[9] = (m - v) * b, n[10] = (1 - (c + f)) * b, n[11] = 0, n[12] = t.x, n[13] = t.y, n[14] = t.z, n[15] = 1, this
                }, decompose: function (t, e, i) {
                    var n = this.elements,
                        r = ou.set(n[0], n[1], n[2]).length(),
                        o = ou.set(n[4], n[5], n[6]).length(),
                        s = ou.set(n[8], n[9], n[10]).length(),
                        a = this.determinant();
                    a < 0 && (r = -r), t.x = n[12], t.y = n[13], t.z = n[14], su.copy(this);
                    var h = 1 / r,
                        l = 1 / o,
                        u = 1 / s;
                    return su.elements[0] *= h, su.elements[1] *= h, su.elements[2] *= h, su.elements[4] *= l, su.elements[5] *= l, su.elements[6] *= l, su.elements[8] *= u, su.elements[9] *= u, su.elements[10] *= u, e.setFromRotationMatrix(su), i.x = r, i.y = o, i.z = s, this
                }, makePerspective: function (t, e, i, n, r, o) {
                    void 0 === o && console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");
                    var s = this.elements,
                        a = 2 * r / (e - t),
                        h = 2 * r / (i - n),
                        l = (e + t) / (e - t),
                        u = (i + n) / (i - n),
                        c = -(o + r) / (o - r),
                        p = -2 * o * r / (o - r);
                    return s[0] = a, s[4] = 0, s[8] = l, s[12] = 0, s[1] = 0, s[5] = h, s[9] = u, s[13] = 0, s[2] = 0, s[6] = 0, s[10] = c, s[14] = p, s[3] = 0, s[7] = 0, s[11] = -1, s[15] = 0, this
                }, makeOrthographic: function (t, e, i, n, r, o) {
                    var s = this.elements,
                        a = 1 / (e - t),
                        h = 1 / (i - n),
                        l = 1 / (o - r),
                        u = (e + t) * a,
                        c = (i + n) * h,
                        p = (o + r) * l;
                    return s[0] = 2 * a, s[4] = 0, s[8] = 0, s[12] = -u, s[1] = 0, s[5] = 2 * h, s[9] = 0, s[13] = -c, s[2] = 0, s[6] = 0, s[10] = -2 * l, s[14] = -p, s[3] = 0, s[7] = 0, s[11] = 0, s[15] = 1, this
                }, equals: function (t) {
                    for (var e = this.elements, i = t.elements, n = 0; n < 16; n++)
                        if (e[n] !== i[n]) return !1;
                    return !0
                }, fromArray: function (t, e) {
                    void 0 === e && (e = 0);
                    for (var i = 0; i < 16; i++) this.elements[i] = t[i + e];
                    return this
                }, toArray: function (t, e) {
                    void 0 === t && (t = []), void 0 === e && (e = 0);
                    var i = this.elements;
                    return t[e] = i[0], t[e + 1] = i[1], t[e + 2] = i[2], t[e + 3] = i[3], t[e + 4] = i[4], t[e + 5] = i[5], t[e + 6] = i[6], t[e + 7] = i[7], t[e + 8] = i[8], t[e + 9] = i[9], t[e + 10] = i[10], t[e + 11] = i[11], t[e + 12] = i[12], t[e + 13] = i[13], t[e + 14] = i[14], t[e + 15] = i[15], t
                }
            });
            var pu = new u,
                du = new n;
            c.RotationOrders = ["XYZ", "YZX", "ZXY", "XZY", "YXZ", "ZYX"], c.DefaultOrder = "XYZ", Object.defineProperties(c.prototype, {
                x: {
                    get: function () {
                        return this._x
                    }, set: function (t) {
                        this._x = t, this._onChangeCallback()
                    }
                },
                y: {
                    get: function () {
                        return this._y
                    }, set: function (t) {
                        this._y = t, this._onChangeCallback()
                    }
                },
                z: {
                    get: function () {
                        return this._z
                    }, set: function (t) {
                        this._z = t, this._onChangeCallback()
                    }
                },
                order: {
                    get: function () {
                        return this._order
                    }, set: function (t) {
                        this._order = t, this._onChangeCallback()
                    }
                }
            }), Object.assign(c.prototype, {
                isEuler: !0,
                set: function (t, e, i, n) {
                    return this._x = t, this._y = e, this._z = i, this._order = n || this._order, this._onChangeCallback(), this
                }, clone: function () {
                    return new this.constructor(this._x, this._y, this._z, this._order)
                }, copy: function (t) {
                    return this._x = t._x, this._y = t._y, this._z = t._z, this._order = t._order, this._onChangeCallback(), this
                }, setFromRotationMatrix: function (t, e, i) {
                    var n = Kl.clamp,
                        r = t.elements,
                        o = r[0],
                        s = r[4],
                        a = r[8],
                        h = r[1],
                        l = r[5],
                        u = r[9],
                        c = r[2],
                        p = r[6],
                        d = r[10];
                    return e = e || this._order, "XYZ" === e ? (this._y = Math.asin(n(a, -1, 1)), Math.abs(a) < .9999999 ? (this._x = Math.atan2(-u, d), this._z = Math.atan2(-s, o)) : (this._x = Math.atan2(p, l), this._z = 0)) : "YXZ" === e ? (this._x = Math.asin(-n(u, -1, 1)), Math.abs(u) < .9999999 ? (this._y = Math.atan2(a, d), this._z = Math.atan2(h, l)) : (this._y = Math.atan2(-c, o), this._z = 0)) : "ZXY" === e ? (this._x = Math.asin(n(p, -1, 1)), Math.abs(p) < .9999999 ? (this._y = Math.atan2(-c, d), this._z = Math.atan2(-s, l)) : (this._y = 0, this._z = Math.atan2(h, o))) : "ZYX" === e ? (this._y = Math.asin(-n(c, -1, 1)), Math.abs(c) < .9999999 ? (this._x = Math.atan2(p, d), this._z = Math.atan2(h, o)) : (this._x = 0, this._z = Math.atan2(-s, l))) : "YZX" === e ? (this._z = Math.asin(n(h, -1, 1)), Math.abs(h) < .9999999 ? (this._x = Math.atan2(-u, l), this._y = Math.atan2(-c, o)) : (this._x = 0, this._y = Math.atan2(a, d))) : "XZY" === e ? (this._z = Math.asin(-n(s, -1, 1)), Math.abs(s) < .9999999 ? (this._x = Math.atan2(p, l), this._y = Math.atan2(a, o)) : (this._x = Math.atan2(-u, d), this._y = 0)) : console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: " + e), this._order = e, i !== !1 && this._onChangeCallback(), this
                }, setFromQuaternion: function (t, e, i) {
                    return pu.makeRotationFromQuaternion(t), this.setFromRotationMatrix(pu, e, i)
                }, setFromVector3: function (t, e) {
                    return this.set(t.x, t.y, t.z, e || this._order)
                }, reorder: function (t) {
                    return du.setFromEuler(this), this.setFromQuaternion(du, t)
                }, equals: function (t) {
                    return t._x === this._x && t._y === this._y && t._z === this._z && t._order === this._order
                }, fromArray: function (t) {
                    return this._x = t[0], this._y = t[1], this._z = t[2], void 0 !== t[3] && (this._order = t[3]), this._onChangeCallback(), this
                }, toArray: function (t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this._x, t[e + 1] = this._y, t[e + 2] = this._z, t[e + 3] = this._order, t
                }, toVector3: function (t) {
                    return t ? t.set(this._x, this._y, this._z) : new r(this._x, this._y, this._z)
                }, _onChange: function (t) {
                    return this._onChangeCallback = t, this
                }, _onChangeCallback: function () {}
            }), Object.assign(p.prototype, {
                set: function (t) {
                    this.mask = 1 << t | 0
                }, enable: function (t) {
                    this.mask |= 1 << t | 0
                }, enableAll: function () {
                    this.mask = -1
                }, toggle: function (t) {
                    this.mask ^= 1 << t | 0
                }, disable: function (t) {
                    this.mask &= ~(1 << t | 0)
                }, disableAll: function () {
                    this.mask = 0
                }, test: function (t) {
                    return 0 !== (this.mask & t.mask)
                }
            });
            var fu = 0,
                mu = new r,
                gu = new n,
                vu = new u,
                _u = new r,
                yu = new r,
                xu = new r,
                wu = new n,
                bu = new r(1, 0, 0),
                Su = new r(0, 1, 0),
                Tu = new r(0, 0, 1),
                Mu = {
                    type: "added"
                },
                Eu = {
                    type: "removed"
                };
            d.DefaultUp = new r(0, 1, 0), d.DefaultMatrixAutoUpdate = !0, d.prototype = Object.assign(Object.create(e.prototype), {
                constructor: d,
                isObject3D: !0,
                onBeforeRender: function () {}, onAfterRender: function () {}, applyMatrix: function (t) {
                    this.matrixAutoUpdate && this.updateMatrix(), this.matrix.premultiply(t), this.matrix.decompose(this.position, this.quaternion, this.scale)
                }, applyQuaternion: function (t) {
                    return this.quaternion.premultiply(t), this
                }, setRotationFromAxisAngle: function (t, e) {
                    this.quaternion.setFromAxisAngle(t, e)
                }, setRotationFromEuler: function (t) {
                    this.quaternion.setFromEuler(t, !0)
                }, setRotationFromMatrix: function (t) {
                    this.quaternion.setFromRotationMatrix(t)
                }, setRotationFromQuaternion: function (t) {
                    this.quaternion.copy(t)
                }, rotateOnAxis: function (t, e) {
                    return gu.setFromAxisAngle(t, e), this.quaternion.multiply(gu), this
                }, rotateOnWorldAxis: function (t, e) {
                    return gu.setFromAxisAngle(t, e), this.quaternion.premultiply(gu), this
                }, rotateX: function (t) {
                    return this.rotateOnAxis(bu, t)
                }, rotateY: function (t) {
                    return this.rotateOnAxis(Su, t)
                }, rotateZ: function (t) {
                    return this.rotateOnAxis(Tu, t)
                }, translateOnAxis: function (t, e) {
                    return mu.copy(t).applyQuaternion(this.quaternion), this.position.add(mu.multiplyScalar(e)), this
                }, translateX: function (t) {
                    return this.translateOnAxis(bu, t)
                }, translateY: function (t) {
                    return this.translateOnAxis(Su, t)
                }, translateZ: function (t) {
                    return this.translateOnAxis(Tu, t)
                }, localToWorld: function (t) {
                    return t.applyMatrix4(this.matrixWorld)
                }, worldToLocal: function (t) {
                    return t.applyMatrix4(vu.getInverse(this.matrixWorld))
                }, lookAt: function (t, e, i) {
                    t.isVector3 ? _u.copy(t) : _u.set(t, e, i);
                    var n = this.parent;
                    this.updateWorldMatrix(!0, !1), yu.setFromMatrixPosition(this.matrixWorld), this.isCamera || this.isLight ? vu.lookAt(yu, _u, this.up) : vu.lookAt(_u, yu, this.up), this.quaternion.setFromRotationMatrix(vu), n && (vu.extractRotation(n.matrixWorld), gu.setFromRotationMatrix(vu), this.quaternion.premultiply(gu.inverse()))
                }, add: function (t) {
                    if (arguments.length > 1) {
                        for (var e = 0; e < arguments.length; e++) this.add(arguments[e]);
                        return this
                    }
                    return t === this ? (console.error("THREE.Object3D.add: object can't be added as a child of itself.", t), this) : (t && t.isObject3D ? (null !== t.parent && t.parent.remove(t), t.parent = this, this.children.push(t), t.dispatchEvent(Mu)) : console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.", t), this)
                }, remove: function (t) {
                    if (arguments.length > 1) {
                        for (var e = 0; e < arguments.length; e++) this.remove(arguments[e]);
                        return this
                    }
                    var i = this.children.indexOf(t);
                    return i !== -1 && (t.parent = null, this.children.splice(i, 1), t.dispatchEvent(Eu)), this
                }, attach: function (t) {
                    return this.updateWorldMatrix(!0, !1), vu.getInverse(this.matrixWorld), null !== t.parent && (t.parent.updateWorldMatrix(!0, !1), vu.multiply(t.parent.matrixWorld)), t.applyMatrix(vu), t.updateWorldMatrix(!1, !1), this.add(t), this
                }, getObjectById: function (t) {
                    return this.getObjectByProperty("id", t)
                }, getObjectByName: function (t) {
                    return this.getObjectByProperty("name", t)
                }, getObjectByProperty: function (t, e) {
                    if (this[t] === e) return this;
                    for (var i = 0, n = this.children.length; i < n; i++) {
                        var r = this.children[i],
                            o = r.getObjectByProperty(t, e);
                        if (void 0 !== o) return o
                    }
                }, getWorldPosition: function (t) {
                    return void 0 === t && (console.warn("THREE.Object3D: .getWorldPosition() target is now required"), t = new r), this.updateMatrixWorld(!0), t.setFromMatrixPosition(this.matrixWorld)
                }, getWorldQuaternion: function (t) {
                    return void 0 === t && (console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"), t = new n), this.updateMatrixWorld(!0), this.matrixWorld.decompose(yu, t, xu), t
                }, getWorldScale: function (t) {
                    return void 0 === t && (console.warn("THREE.Object3D: .getWorldScale() target is now required"), t = new r), this.updateMatrixWorld(!0), this.matrixWorld.decompose(yu, wu, t), t
                }, getWorldDirection: function (t) {
                    void 0 === t && (console.warn("THREE.Object3D: .getWorldDirection() target is now required"), t = new r), this.updateMatrixWorld(!0);
                    var e = this.matrixWorld.elements;
                    return t.set(e[8], e[9], e[10]).normalize()
                }, raycast: function () {}, traverse: function (t) {
                    t(this);
                    for (var e = this.children, i = 0, n = e.length; i < n; i++) e[i].traverse(t)
                }, traverseVisible: function (t) {
                    if (this.visible !== !1) {
                        t(this);
                        for (var e = this.children, i = 0, n = e.length; i < n; i++) e[i].traverseVisible(t)
                    }
                }, traverseAncestors: function (t) {
                    var e = this.parent;
                    null !== e && (t(e), e.traverseAncestors(t))
                }, updateMatrix: function () {
                    this.matrix.compose(this.position, this.quaternion, this.scale), this.matrixWorldNeedsUpdate = !0
                }, updateMatrixWorld: function (t) {
                    this.matrixAutoUpdate && this.updateMatrix(), (this.matrixWorldNeedsUpdate || t) && (null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), this.matrixWorldNeedsUpdate = !1, t = !0);
                    for (var e = this.children, i = 0, n = e.length; i < n; i++) e[i].updateMatrixWorld(t)
                }, updateWorldMatrix: function (t, e) {
                    var i = this.parent;
                    if (t === !0 && null !== i && i.updateWorldMatrix(!0, !1), this.matrixAutoUpdate && this.updateMatrix(), null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), e === !0)
                        for (var n = this.children, r = 0, o = n.length; r < o; r++) n[r].updateWorldMatrix(!1, !0)
                }, toJSON: function (t) {
                    function e(e, i) {
                        return void 0 === e[i.uuid] && (e[i.uuid] = i.toJSON(t)), i.uuid
                    }

                    function i(t) {
                        var e = [];
                        for (var i in t) {
                            var n = t[i];
                            delete n.metadata, e.push(n)
                        }
                        return e
                    }
                    var n = void 0 === t || "string" == typeof t,
                        r = {};
                    n && (t = {
                        geometries: {},
                        materials: {},
                        textures: {},
                        images: {},
                        shapes: {}
                    }, r.metadata = {
                        version: 4.5,
                        type: "Object",
                        generator: "Object3D.toJSON"
                    });
                    var o = {};
                    if (o.uuid = this.uuid, o.type = this.type, "" !== this.name && (o.name = this.name), this.castShadow === !0 && (o.castShadow = !0), this.receiveShadow === !0 && (o.receiveShadow = !0), this.visible === !1 && (o.visible = !1), this.frustumCulled === !1 && (o.frustumCulled = !1), 0 !== this.renderOrder && (o.renderOrder = this.renderOrder), "{}" !== JSON.stringify(this.userData) && (o.userData = this.userData), o.layers = this.layers.mask, o.matrix = this.matrix.toArray(), this.matrixAutoUpdate === !1 && (o.matrixAutoUpdate = !1), this.isMesh && this.drawMode !== ul && (o.drawMode = this.drawMode), this.isInstancedMesh && (o.type = "InstancedMesh", o.count = this.count, o.instanceMatrix = this.instanceMatrix.toJSON()), this.isMesh || this.isLine || this.isPoints) {
                        o.geometry = e(t.geometries, this.geometry);
                        var s = this.geometry.parameters;
                        if (void 0 !== s && void 0 !== s.shapes) {
                            var a = s.shapes;
                            if (Array.isArray(a))
                                for (var h = 0, l = a.length; h < l; h++) {
                                    var u = a[h];
                                    e(t.shapes, u)
                                } else e(t.shapes, a)
                        }
                    }
                    if (void 0 !== this.material)
                        if (Array.isArray(this.material)) {
                            for (var c = [], h = 0, l = this.material.length; h < l; h++) c.push(e(t.materials, this.material[h]));
                            o.material = c
                        } else o.material = e(t.materials, this.material);
                    if (this.children.length > 0) {
                        o.children = [];
                        for (var h = 0; h < this.children.length; h++) o.children.push(this.children[h].toJSON(t).object)
                    }
                    if (n) {
                        var p = i(t.geometries),
                            d = i(t.materials),
                            f = i(t.textures),
                            m = i(t.images),
                            a = i(t.shapes);
                        p.length > 0 && (r.geometries = p), d.length > 0 && (r.materials = d), f.length > 0 && (r.textures = f), m.length > 0 && (r.images = m), a.length > 0 && (r.shapes = a)
                    }
                    return r.object = o, r
                }, clone: function (t) {
                    return (new this.constructor).copy(this, t)
                }, copy: function (t, e) {
                    if (void 0 === e && (e = !0), this.name = t.name, this.up.copy(t.up), this.position.copy(t.position), this.quaternion.copy(t.quaternion), this.scale.copy(t.scale), this.matrix.copy(t.matrix), this.matrixWorld.copy(t.matrixWorld), this.matrixAutoUpdate = t.matrixAutoUpdate, this.matrixWorldNeedsUpdate = t.matrixWorldNeedsUpdate, this.layers.mask = t.layers.mask, this.visible = t.visible, this.castShadow = t.castShadow, this.receiveShadow = t.receiveShadow, this.frustumCulled = t.frustumCulled, this.renderOrder = t.renderOrder, this.userData = JSON.parse(JSON.stringify(t.userData)), e === !0)
                        for (var i = 0; i < t.children.length; i++) {
                            var n = t.children[i];
                            this.add(n.clone())
                        }
                    return this
                }
            }), f.prototype = Object.assign(Object.create(d.prototype), {
                constructor: f,
                isScene: !0,
                copy: function (t, e) {
                    return d.prototype.copy.call(this, t, e), null !== t.background && (this.background = t.background.clone()), null !== t.fog && (this.fog = t.fog.clone()), null !== t.overrideMaterial && (this.overrideMaterial = t.overrideMaterial.clone()), this.autoUpdate = t.autoUpdate, this.matrixAutoUpdate = t.matrixAutoUpdate, this
                }, toJSON: function (t) {
                    var e = d.prototype.toJSON.call(this, t);
                    return null !== this.background && (e.object.background = this.background.toJSON(t)), null !== this.fog && (e.object.fog = this.fog.toJSON()), e
                }, dispose: function () {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                }
            });
            var Au = [new r, new r, new r, new r, new r, new r, new r, new r],
                Cu = new r,
                Pu = new r,
                Ru = new r,
                Lu = new r,
                Ou = new r,
                Iu = new r,
                Du = new r,
                ku = new r,
                Nu = new r,
                zu = new r,
                Bu = new r;
            Object.assign(m.prototype, {
                isBox3: !0,
                set: function (t, e) {
                    return this.min.copy(t), this.max.copy(e), this
                }, setFromArray: function (t) {
                    for (var e = +(1 / 0), i = +(1 / 0), n = +(1 / 0), r = -(1 / 0), o = -(1 / 0), s = -(1 / 0), a = 0, h = t.length; a < h; a += 3) {
                        var l = t[a],
                            u = t[a + 1],
                            c = t[a + 2];
                        l < e && (e = l), u < i && (i = u), c < n && (n = c), l > r && (r = l), u > o && (o = u), c > s && (s = c)
                    }
                    return this.min.set(e, i, n), this.max.set(r, o, s), this
                }, setFromBufferAttribute: function (t) {
                    for (var e = +(1 / 0), i = +(1 / 0), n = +(1 / 0), r = -(1 / 0), o = -(1 / 0), s = -(1 / 0), a = 0, h = t.count; a < h; a++) {
                        var l = t.getX(a),
                            u = t.getY(a),
                            c = t.getZ(a);
                        l < e && (e = l), u < i && (i = u), c < n && (n = c), l > r && (r = l), u > o && (o = u), c > s && (s = c)
                    }
                    return this.min.set(e, i, n), this.max.set(r, o, s), this
                }, setFromPoints: function (t) {
                    this.makeEmpty();
                    for (var e = 0, i = t.length; e < i; e++) this.expandByPoint(t[e]);
                    return this
                }, setFromCenterAndSize: function (t, e) {
                    var i = Cu.copy(e).multiplyScalar(.5);
                    return this.min.copy(t).sub(i), this.max.copy(t).add(i), this
                }, setFromObject: function (t) {
                    return this.makeEmpty(), this.expandByObject(t)
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.min.copy(t.min), this.max.copy(t.max), this
                }, makeEmpty: function () {
                    return this.min.x = this.min.y = this.min.z = +(1 / 0), this.max.x = this.max.y = this.max.z = -(1 / 0), this
                }, isEmpty: function () {
                    return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z
                }, getCenter: function (t) {
                    return void 0 === t && (console.warn("THREE.Box3: .getCenter() target is now required"), t = new r), this.isEmpty() ? t.set(0, 0, 0) : t.addVectors(this.min, this.max).multiplyScalar(.5)
                }, getSize: function (t) {
                    return void 0 === t && (console.warn("THREE.Box3: .getSize() target is now required"), t = new r), this.isEmpty() ? t.set(0, 0, 0) : t.subVectors(this.max, this.min)
                }, expandByPoint: function (t) {
                    return this.min.min(t), this.max.max(t), this
                }, expandByVector: function (t) {
                    return this.min.sub(t), this.max.add(t), this
                }, expandByScalar: function (t) {
                    return this.min.addScalar(-t), this.max.addScalar(t), this
                }, expandByObject: function (t) {
                    var e, i;
                    t.updateWorldMatrix(!1, !1);
                    var n = t.geometry;
                    if (void 0 !== n)
                        if (n.isGeometry) {
                            var r = n.vertices;
                            for (e = 0, i = r.length; e < i; e++) Cu.copy(r[e]), Cu.applyMatrix4(t.matrixWorld), this.expandByPoint(Cu)
                        } else if (n.isBufferGeometry) {
                        var o = n.attributes.position;
                        if (void 0 !== o)
                            for (e = 0, i = o.count; e < i; e++) Cu.fromBufferAttribute(o, e).applyMatrix4(t.matrixWorld), this.expandByPoint(Cu)
                    }
                    var s = t.children;
                    for (e = 0, i = s.length; e < i; e++) this.expandByObject(s[e]);
                    return this
                }, containsPoint: function (t) {
                    return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y || t.z < this.min.z || t.z > this.max.z)
                }, containsBox: function (t) {
                    return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y && this.min.z <= t.min.z && t.max.z <= this.max.z
                }, getParameter: function (t, e) {
                    return void 0 === e && (console.warn("THREE.Box3: .getParameter() target is now required"), e = new r), e.set((t.x - this.min.x) / (this.max.x - this.min.x), (t.y - this.min.y) / (this.max.y - this.min.y), (t.z - this.min.z) / (this.max.z - this.min.z))
                }, intersectsBox: function (t) {
                    return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y || t.max.z < this.min.z || t.min.z > this.max.z)
                }, intersectsSphere: function (t) {
                    return this.clampPoint(t.center, Cu), Cu.distanceToSquared(t.center) <= t.radius * t.radius
                }, intersectsPlane: function (t) {
                    var e, i;
                    return t.normal.x > 0 ? (e = t.normal.x * this.min.x, i = t.normal.x * this.max.x) : (e = t.normal.x * this.max.x, i = t.normal.x * this.min.x), t.normal.y > 0 ? (e += t.normal.y * this.min.y, i += t.normal.y * this.max.y) : (e += t.normal.y * this.max.y, i += t.normal.y * this.min.y), t.normal.z > 0 ? (e += t.normal.z * this.min.z, i += t.normal.z * this.max.z) : (e += t.normal.z * this.max.z, i += t.normal.z * this.min.z), e <= -t.constant && i >= -t.constant
                }, intersectsTriangle: function (t) {
                    if (this.isEmpty()) return !1;
                    this.getCenter(ku), Nu.subVectors(this.max, ku), Pu.subVectors(t.a, ku), Ru.subVectors(t.b, ku), Lu.subVectors(t.c, ku), Ou.subVectors(Ru, Pu), Iu.subVectors(Lu, Ru), Du.subVectors(Pu, Lu);
                    var e = [0, -Ou.z, Ou.y, 0, -Iu.z, Iu.y, 0, -Du.z, Du.y, Ou.z, 0, -Ou.x, Iu.z, 0, -Iu.x, Du.z, 0, -Du.x, -Ou.y, Ou.x, 0, -Iu.y, Iu.x, 0, -Du.y, Du.x, 0];
                    return !!g(e, Pu, Ru, Lu, Nu) && (e = [1, 0, 0, 0, 1, 0, 0, 0, 1], !!g(e, Pu, Ru, Lu, Nu) && (zu.crossVectors(Ou, Iu), e = [zu.x, zu.y, zu.z], g(e, Pu, Ru, Lu, Nu)))
                }, clampPoint: function (t, e) {
                    return void 0 === e && (console.warn("THREE.Box3: .clampPoint() target is now required"), e = new r), e.copy(t).clamp(this.min, this.max)
                }, distanceToPoint: function (t) {
                    var e = Cu.copy(t).clamp(this.min, this.max);
                    return e.sub(t).length()
                }, getBoundingSphere: function (t) {
                    return void 0 === t && console.error("THREE.Box3: .getBoundingSphere() target is now required"), this.getCenter(t.center), t.radius = .5 * this.getSize(Cu).length(), t
                }, intersect: function (t) {
                    return this.min.max(t.min), this.max.min(t.max), this.isEmpty() && this.makeEmpty(), this
                }, union: function (t) {
                    return this.min.min(t.min), this.max.max(t.max), this
                }, applyMatrix4: function (t) {
                    return this.isEmpty() ? this : (Au[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(t), Au[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(t), Au[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(t), Au[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(t), Au[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(t), Au[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(t), Au[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(t), Au[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(t), this.setFromPoints(Au), this)
                }, translate: function (t) {
                    return this.min.add(t), this.max.add(t), this
                }, equals: function (t) {
                    return t.min.equals(this.min) && t.max.equals(this.max)
                }
            });
            var Fu = new m;
            Object.assign(v.prototype, {
                set: function (t, e) {
                    return this.center.copy(t), this.radius = e, this
                }, setFromPoints: function (t, e) {
                    var i = this.center;
                    void 0 !== e ? i.copy(e) : Fu.setFromPoints(t).getCenter(i);
                    for (var n = 0, r = 0, o = t.length; r < o; r++) n = Math.max(n, i.distanceToSquared(t[r]));
                    return this.radius = Math.sqrt(n), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.center.copy(t.center), this.radius = t.radius, this
                }, empty: function () {
                    return this.radius <= 0
                }, containsPoint: function (t) {
                    return t.distanceToSquared(this.center) <= this.radius * this.radius
                }, distanceToPoint: function (t) {
                    return t.distanceTo(this.center) - this.radius
                }, intersectsSphere: function (t) {
                    var e = this.radius + t.radius;
                    return t.center.distanceToSquared(this.center) <= e * e
                }, intersectsBox: function (t) {
                    return t.intersectsSphere(this)
                }, intersectsPlane: function (t) {
                    return Math.abs(t.distanceToPoint(this.center)) <= this.radius
                }, clampPoint: function (t, e) {
                    var i = this.center.distanceToSquared(t);
                    return void 0 === e && (console.warn("THREE.Sphere: .clampPoint() target is now required"), e = new r), e.copy(t), i > this.radius * this.radius && (e.sub(this.center).normalize(), e.multiplyScalar(this.radius).add(this.center)), e
                }, getBoundingBox: function (t) {
                    return void 0 === t && (console.warn("THREE.Sphere: .getBoundingBox() target is now required"), t = new m), t.set(this.center, this.center), t.expandByScalar(this.radius), t
                }, applyMatrix4: function (t) {
                    return this.center.applyMatrix4(t), this.radius = this.radius * t.getMaxScaleOnAxis(), this
                }, translate: function (t) {
                    return this.center.add(t), this
                }, equals: function (t) {
                    return t.center.equals(this.center) && t.radius === this.radius
                }
            });
            var Hu = new r,
                Uu = new r,
                Gu = new r,
                ju = new r,
                Vu = new r,
                Wu = new r,
                qu = new r;
            Object.assign(_.prototype, {
                set: function (t, e) {
                    return this.origin.copy(t), this.direction.copy(e), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.origin.copy(t.origin), this.direction.copy(t.direction), this
                }, at: function (t, e) {
                    return void 0 === e && (console.warn("THREE.Ray: .at() target is now required"), e = new r), e.copy(this.direction).multiplyScalar(t).add(this.origin)
                }, lookAt: function (t) {
                    return this.direction.copy(t).sub(this.origin).normalize(), this
                }, recast: function (t) {
                    return this.origin.copy(this.at(t, Hu)), this
                }, closestPointToPoint: function (t, e) {
                    void 0 === e && (console.warn("THREE.Ray: .closestPointToPoint() target is now required"), e = new r), e.subVectors(t, this.origin);
                    var i = e.dot(this.direction);
                    return i < 0 ? e.copy(this.origin) : e.copy(this.direction).multiplyScalar(i).add(this.origin)
                }, distanceToPoint: function (t) {
                    return Math.sqrt(this.distanceSqToPoint(t))
                }, distanceSqToPoint: function (t) {
                    var e = Hu.subVectors(t, this.origin).dot(this.direction);
                    return e < 0 ? this.origin.distanceToSquared(t) : (Hu.copy(this.direction).multiplyScalar(e).add(this.origin), Hu.distanceToSquared(t))
                }, distanceSqToSegment: function (t, e, i, n) {
                    Uu.copy(t).add(e).multiplyScalar(.5), Gu.copy(e).sub(t).normalize(), ju.copy(this.origin).sub(Uu);
                    var r, o, s, a, h = .5 * t.distanceTo(e),
                        l = -this.direction.dot(Gu),
                        u = ju.dot(this.direction),
                        c = -ju.dot(Gu),
                        p = ju.lengthSq(),
                        d = Math.abs(1 - l * l);
                    if (d > 0)
                        if (r = l * c - u, o = l * u - c, a = h * d, r >= 0)
                            if (o >= -a)
                                if (o <= a) {
                                    var f = 1 / d;
                                    r *= f, o *= f, s = r * (r + l * o + 2 * u) + o * (l * r + o + 2 * c) + p
                                } else o = h, r = Math.max(0, -(l * o + u)), s = -r * r + o * (o + 2 * c) + p;
                    else o = -h, r = Math.max(0, -(l * o + u)), s = -r * r + o * (o + 2 * c) + p;
                    else o <= -a ? (r = Math.max(0, -(-l * h + u)), o = r > 0 ? -h : Math.min(Math.max(-h, -c), h), s = -r * r + o * (o + 2 * c) + p) : o <= a ? (r = 0, o = Math.min(Math.max(-h, -c), h), s = o * (o + 2 * c) + p) : (r = Math.max(0, -(l * h + u)), o = r > 0 ? h : Math.min(Math.max(-h, -c), h), s = -r * r + o * (o + 2 * c) + p);
                    else o = l > 0 ? -h : h, r = Math.max(0, -(l * o + u)), s = -r * r + o * (o + 2 * c) + p;
                    return i && i.copy(this.direction).multiplyScalar(r).add(this.origin), n && n.copy(Gu).multiplyScalar(o).add(Uu), s
                }, intersectSphere: function (t, e) {
                    Hu.subVectors(t.center, this.origin);
                    var i = Hu.dot(this.direction),
                        n = Hu.dot(Hu) - i * i,
                        r = t.radius * t.radius;
                    if (n > r) return null;
                    var o = Math.sqrt(r - n),
                        s = i - o,
                        a = i + o;
                    return s < 0 && a < 0 ? null : s < 0 ? this.at(a, e) : this.at(s, e)
                }, intersectsSphere: function (t) {
                    return this.distanceSqToPoint(t.center) <= t.radius * t.radius
                }, distanceToPlane: function (t) {
                    var e = t.normal.dot(this.direction);
                    if (0 === e) return 0 === t.distanceToPoint(this.origin) ? 0 : null;
                    var i = -(this.origin.dot(t.normal) + t.constant) / e;
                    return i >= 0 ? i : null
                }, intersectPlane: function (t, e) {
                    var i = this.distanceToPlane(t);
                    return null === i ? null : this.at(i, e)
                }, intersectsPlane: function (t) {
                    var e = t.distanceToPoint(this.origin);
                    if (0 === e) return !0;
                    var i = t.normal.dot(this.direction);
                    return i * e < 0
                }, intersectBox: function (t, e) {
                    var i, n, r, o, s, a, h = 1 / this.direction.x,
                        l = 1 / this.direction.y,
                        u = 1 / this.direction.z,
                        c = this.origin;
                    return h >= 0 ? (i = (t.min.x - c.x) * h, n = (t.max.x - c.x) * h) : (i = (t.max.x - c.x) * h, n = (t.min.x - c.x) * h), l >= 0 ? (r = (t.min.y - c.y) * l, o = (t.max.y - c.y) * l) : (r = (t.max.y - c.y) * l, o = (t.min.y - c.y) * l), i > o || r > n ? null : ((r > i || i !== i) && (i = r), (o < n || n !== n) && (n = o), u >= 0 ? (s = (t.min.z - c.z) * u, a = (t.max.z - c.z) * u) : (s = (t.max.z - c.z) * u, a = (t.min.z - c.z) * u), i > a || s > n ? null : ((s > i || i !== i) && (i = s), (a < n || n !== n) && (n = a), n < 0 ? null : this.at(i >= 0 ? i : n, e)))
                }, intersectsBox: function (t) {
                    return null !== this.intersectBox(t, Hu)
                }, intersectTriangle: function (t, e, i, n, r) {
                    Vu.subVectors(e, t), Wu.subVectors(i, t), qu.crossVectors(Vu, Wu);
                    var o, s = this.direction.dot(qu);
                    if (s > 0) {
                        if (n) return null;
                        o = 1
                    } else {
                        if (!(s < 0)) return null;
                        o = -1, s = -s
                    }
                    ju.subVectors(this.origin, t);
                    var a = o * this.direction.dot(Wu.crossVectors(ju, Wu));
                    if (a < 0) return null;
                    var h = o * this.direction.dot(Vu.cross(ju));
                    if (h < 0) return null;
                    if (a + h > s) return null;
                    var l = -o * ju.dot(qu);
                    return l < 0 ? null : this.at(l / s, r)
                }, applyMatrix4: function (t) {
                    return this.origin.applyMatrix4(t), this.direction.transformDirection(t), this
                }, equals: function (t) {
                    return t.origin.equals(this.origin) && t.direction.equals(this.direction)
                }
            });
            var Xu = new r,
                Yu = new r,
                Zu = new o;
            Object.assign(y.prototype, {
                isPlane: !0,
                set: function (t, e) {
                    return this.normal.copy(t), this.constant = e, this
                }, setComponents: function (t, e, i, n) {
                    return this.normal.set(t, e, i), this.constant = n, this
                }, setFromNormalAndCoplanarPoint: function (t, e) {
                    return this.normal.copy(t), this.constant = -e.dot(this.normal), this
                }, setFromCoplanarPoints: function (t, e, i) {
                    var n = Xu.subVectors(i, e).cross(Yu.subVectors(t, e)).normalize();
                    return this.setFromNormalAndCoplanarPoint(n, t), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.normal.copy(t.normal), this.constant = t.constant, this
                }, normalize: function () {
                    var t = 1 / this.normal.length();
                    return this.normal.multiplyScalar(t), this.constant *= t, this
                }, negate: function () {
                    return this.constant *= -1, this.normal.negate(), this
                }, distanceToPoint: function (t) {
                    return this.normal.dot(t) + this.constant
                }, distanceToSphere: function (t) {
                    return this.distanceToPoint(t.center) - t.radius
                }, projectPoint: function (t, e) {
                    return void 0 === e && (console.warn("THREE.Plane: .projectPoint() target is now required"), e = new r), e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)
                }, intersectLine: function (t, e) {
                    void 0 === e && (console.warn("THREE.Plane: .intersectLine() target is now required"), e = new r);
                    var i = t.delta(Xu),
                        n = this.normal.dot(i);
                    if (0 !== n) {
                        var o = -(t.start.dot(this.normal) + this.constant) / n;
                        if (!(o < 0 || o > 1)) return e.copy(i).multiplyScalar(o).add(t.start)
                    } else if (0 === this.distanceToPoint(t.start)) return e.copy(t.start)
                }, intersectsLine: function (t) {
                    var e = this.distanceToPoint(t.start),
                        i = this.distanceToPoint(t.end);
                    return e < 0 && i > 0 || i < 0 && e > 0
                }, intersectsBox: function (t) {
                    return t.intersectsPlane(this)
                }, intersectsSphere: function (t) {
                    return t.intersectsPlane(this)
                }, coplanarPoint: function (t) {
                    return void 0 === t && (console.warn("THREE.Plane: .coplanarPoint() target is now required"), t = new r), t.copy(this.normal).multiplyScalar(-this.constant)
                }, applyMatrix4: function (t, e) {
                    var i = e || Zu.getNormalMatrix(t),
                        n = this.coplanarPoint(Xu).applyMatrix4(t),
                        r = this.normal.applyMatrix3(i).normalize();
                    return this.constant = -n.dot(r), this
                }, translate: function (t) {
                    return this.constant -= t.dot(this.normal), this
                }, equals: function (t) {
                    return t.normal.equals(this.normal) && t.constant === this.constant
                }
            });
            var Ju = new r,
                $u = new r,
                Ku = new r,
                Qu = new r,
                tc = new r,
                ec = new r,
                ic = new r,
                nc = new r,
                rc = new r,
                oc = new r;
            Object.assign(x, {
                getNormal: function (t, e, i, n) {
                    void 0 === n && (console.warn("THREE.Triangle: .getNormal() target is now required"), n = new r), n.subVectors(i, e), Ju.subVectors(t, e), n.cross(Ju);
                    var o = n.lengthSq();
                    return o > 0 ? n.multiplyScalar(1 / Math.sqrt(o)) : n.set(0, 0, 0)
                }, getBarycoord: function (t, e, i, n, o) {
                    Ju.subVectors(n, e), $u.subVectors(i, e), Ku.subVectors(t, e);
                    var s = Ju.dot(Ju),
                        a = Ju.dot($u),
                        h = Ju.dot(Ku),
                        l = $u.dot($u),
                        u = $u.dot(Ku),
                        c = s * l - a * a;
                    if (void 0 === o && (console.warn("THREE.Triangle: .getBarycoord() target is now required"), o = new r), 0 === c) return o.set(-2, -1, -1);
                    var p = 1 / c,
                        d = (l * h - a * u) * p,
                        f = (s * u - a * h) * p;
                    return o.set(1 - d - f, f, d)
                }, containsPoint: function (t, e, i, n) {
                    return x.getBarycoord(t, e, i, n, Qu), Qu.x >= 0 && Qu.y >= 0 && Qu.x + Qu.y <= 1
                }, getUV: function (t, e, i, n, r, o, s, a) {
                    return this.getBarycoord(t, e, i, n, Qu), a.set(0, 0), a.addScaledVector(r, Qu.x), a.addScaledVector(o, Qu.y), a.addScaledVector(s, Qu.z), a
                }, isFrontFacing: function (t, e, i, n) {
                    return Ju.subVectors(i, e), $u.subVectors(t, e), Ju.cross($u).dot(n) < 0
                }
            }), Object.assign(x.prototype, {
                set: function (t, e, i) {
                    return this.a.copy(t), this.b.copy(e), this.c.copy(i), this
                }, setFromPointsAndIndices: function (t, e, i, n) {
                    return this.a.copy(t[e]), this.b.copy(t[i]), this.c.copy(t[n]), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.a.copy(t.a), this.b.copy(t.b), this.c.copy(t.c), this
                }, getArea: function () {
                    return Ju.subVectors(this.c, this.b), $u.subVectors(this.a, this.b), .5 * Ju.cross($u).length()
                }, getMidpoint: function (t) {
                    return void 0 === t && (console.warn("THREE.Triangle: .getMidpoint() target is now required"), t = new r), t.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3)
                }, getNormal: function (t) {
                    return x.getNormal(this.a, this.b, this.c, t)
                }, getPlane: function (t) {
                    return void 0 === t && (console.warn("THREE.Triangle: .getPlane() target is now required"), t = new y), t.setFromCoplanarPoints(this.a, this.b, this.c)
                }, getBarycoord: function (t, e) {
                    return x.getBarycoord(t, this.a, this.b, this.c, e)
                }, getUV: function (t, e, i, n, r) {
                    return x.getUV(t, this.a, this.b, this.c, e, i, n, r)
                }, containsPoint: function (t) {
                    return x.containsPoint(t, this.a, this.b, this.c)
                }, isFrontFacing: function (t) {
                    return x.isFrontFacing(this.a, this.b, this.c, t)
                }, intersectsBox: function (t) {
                    return t.intersectsTriangle(this)
                }, closestPointToPoint: function (t, e) {
                    void 0 === e && (console.warn("THREE.Triangle: .closestPointToPoint() target is now required"), e = new r);
                    var i, n, o = this.a,
                        s = this.b,
                        a = this.c;
                    tc.subVectors(s, o), ec.subVectors(a, o), nc.subVectors(t, o);
                    var h = tc.dot(nc),
                        l = ec.dot(nc);
                    if (h <= 0 && l <= 0) return e.copy(o);
                    rc.subVectors(t, s);
                    var u = tc.dot(rc),
                        c = ec.dot(rc);
                    if (u >= 0 && c <= u) return e.copy(s);
                    var p = h * c - u * l;
                    if (p <= 0 && h >= 0 && u <= 0) return i = h / (h - u), e.copy(o).addScaledVector(tc, i);
                    oc.subVectors(t, a);
                    var d = tc.dot(oc),
                        f = ec.dot(oc);
                    if (f >= 0 && d <= f) return e.copy(a);
                    var m = d * l - h * f;
                    if (m <= 0 && l >= 0 && f <= 0) return n = l / (l - f), e.copy(o).addScaledVector(ec, n);
                    var g = u * f - d * c;
                    if (g <= 0 && c - u >= 0 && d - f >= 0) return ic.subVectors(a, s), n = (c - u) / (c - u + (d - f)), e.copy(s).addScaledVector(ic, n);
                    var v = 1 / (g + m + p);
                    return i = m * v, n = p * v, e.copy(o).addScaledVector(tc, i).addScaledVector(ec, n)
                }, equals: function (t) {
                    return t.a.equals(this.a) && t.b.equals(this.b) && t.c.equals(this.c)
                }
            });
            var sc = {
                    aliceblue: 15792383,
                    antiquewhite: 16444375,
                    aqua: 65535,
                    aquamarine: 8388564,
                    azure: 15794175,
                    beige: 16119260,
                    bisque: 16770244,
                    black: 0,
                    blanchedalmond: 16772045,
                    blue: 255,
                    blueviolet: 9055202,
                    brown: 10824234,
                    burlywood: 14596231,
                    cadetblue: 6266528,
                    chartreuse: 8388352,
                    chocolate: 13789470,
                    coral: 16744272,
                    cornflowerblue: 6591981,
                    cornsilk: 16775388,
                    crimson: 14423100,
                    cyan: 65535,
                    darkblue: 139,
                    darkcyan: 35723,
                    darkgoldenrod: 12092939,
                    darkgray: 11119017,
                    darkgreen: 25600,
                    darkgrey: 11119017,
                    darkkhaki: 12433259,
                    darkmagenta: 9109643,
                    darkolivegreen: 5597999,
                    darkorange: 16747520,
                    darkorchid: 10040012,
                    darkred: 9109504,
                    darksalmon: 15308410,
                    darkseagreen: 9419919,
                    darkslateblue: 4734347,
                    darkslategray: 3100495,
                    darkslategrey: 3100495,
                    darkturquoise: 52945,
                    darkviolet: 9699539,
                    deeppink: 16716947,
                    deepskyblue: 49151,
                    dimgray: 6908265,
                    dimgrey: 6908265,
                    dodgerblue: 2003199,
                    firebrick: 11674146,
                    floralwhite: 16775920,
                    forestgreen: 2263842,
                    fuchsia: 16711935,
                    gainsboro: 14474460,
                    ghostwhite: 16316671,
                    gold: 16766720,
                    goldenrod: 14329120,
                    gray: 8421504,
                    green: 32768,
                    greenyellow: 11403055,
                    grey: 8421504,
                    honeydew: 15794160,
                    hotpink: 16738740,
                    indianred: 13458524,
                    indigo: 4915330,
                    ivory: 16777200,
                    khaki: 15787660,
                    lavender: 15132410,
                    lavenderblush: 16773365,
                    lawngreen: 8190976,
                    lemonchiffon: 16775885,
                    lightblue: 11393254,
                    lightcoral: 15761536,
                    lightcyan: 14745599,
                    lightgoldenrodyellow: 16448210,
                    lightgray: 13882323,
                    lightgreen: 9498256,
                    lightgrey: 13882323,
                    lightpink: 16758465,
                    lightsalmon: 16752762,
                    lightseagreen: 2142890,
                    lightskyblue: 8900346,
                    lightslategray: 7833753,
                    lightslategrey: 7833753,
                    lightsteelblue: 11584734,
                    lightyellow: 16777184,
                    lime: 65280,
                    limegreen: 3329330,
                    linen: 16445670,
                    magenta: 16711935,
                    maroon: 8388608,
                    mediumaquamarine: 6737322,
                    mediumblue: 205,
                    mediumorchid: 12211667,
                    mediumpurple: 9662683,
                    mediumseagreen: 3978097,
                    mediumslateblue: 8087790,
                    mediumspringgreen: 64154,
                    mediumturquoise: 4772300,
                    mediumvioletred: 13047173,
                    midnightblue: 1644912,
                    mintcream: 16121850,
                    mistyrose: 16770273,
                    moccasin: 16770229,
                    navajowhite: 16768685,
                    navy: 128,
                    oldlace: 16643558,
                    olive: 8421376,
                    olivedrab: 7048739,
                    orange: 16753920,
                    orangered: 16729344,
                    orchid: 14315734,
                    palegoldenrod: 15657130,
                    palegreen: 10025880,
                    paleturquoise: 11529966,
                    palevioletred: 14381203,
                    papayawhip: 16773077,
                    peachpuff: 16767673,
                    peru: 13468991,
                    pink: 16761035,
                    plum: 14524637,
                    powderblue: 11591910,
                    purple: 8388736,
                    rebeccapurple: 6697881,
                    red: 16711680,
                    rosybrown: 12357519,
                    royalblue: 4286945,
                    saddlebrown: 9127187,
                    salmon: 16416882,
                    sandybrown: 16032864,
                    seagreen: 3050327,
                    seashell: 16774638,
                    sienna: 10506797,
                    silver: 12632256,
                    skyblue: 8900331,
                    slateblue: 6970061,
                    slategray: 7372944,
                    slategrey: 7372944,
                    snow: 16775930,
                    springgreen: 65407,
                    steelblue: 4620980,
                    tan: 13808780,
                    teal: 32896,
                    thistle: 14204888,
                    tomato: 16737095,
                    turquoise: 4251856,
                    violet: 15631086,
                    wheat: 16113331,
                    white: 16777215,
                    whitesmoke: 16119285,
                    yellow: 16776960,
                    yellowgreen: 10145074
                },
                ac = {
                    h: 0,
                    s: 0,
                    l: 0
                },
                hc = {
                    h: 0,
                    s: 0,
                    l: 0
                };
            Object.assign(w.prototype, {
                isColor: !0,
                r: 1,
                g: 1,
                b: 1,
                set: function (t) {
                    return t && t.isColor ? this.copy(t) : "number" == typeof t ? this.setHex(t) : "string" == typeof t && this.setStyle(t), this
                }, setScalar: function (t) {
                    return this.r = t, this.g = t, this.b = t, this
                }, setHex: function (t) {
                    return t = Math.floor(t), this.r = (t >> 16 & 255) / 255, this.g = (t >> 8 & 255) / 255, this.b = (255 & t) / 255, this
                }, setRGB: function (t, e, i) {
                    return this.r = t, this.g = e, this.b = i, this
                }, setHSL: function (t, e, i) {
                    if (t = Kl.euclideanModulo(t, 1), e = Kl.clamp(e, 0, 1), i = Kl.clamp(i, 0, 1), 0 === e) this.r = this.g = this.b = i;
                    else {
                        var n = i <= .5 ? i * (1 + e) : i + e - i * e,
                            r = 2 * i - n;
                        this.r = b(r, n, t + 1 / 3), this.g = b(r, n, t), this.b = b(r, n, t - 1 / 3)
                    }
                    return this
                }, setStyle: function (t) {
                    function e(e) {
                        void 0 !== e && parseFloat(e) < 1 && console.warn("THREE.Color: Alpha component of " + t + " will be ignored.")
                    }
                    var i;
                    if (i = /^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)) {
                        var n, r = i[1],
                            o = i[2];
                        switch (r) {
                        case "rgb":
                        case "rgba":
                            if (n = /^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)) return this.r = Math.min(255, parseInt(n[1], 10)) / 255, this.g = Math.min(255, parseInt(n[2], 10)) / 255, this.b = Math.min(255, parseInt(n[3], 10)) / 255, e(n[5]), this;
                            if (n = /^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)) return this.r = Math.min(100, parseInt(n[1], 10)) / 100, this.g = Math.min(100, parseInt(n[2], 10)) / 100, this.b = Math.min(100, parseInt(n[3], 10)) / 100, e(n[5]), this;
                            break;
                        case "hsl":
                        case "hsla":
                            if (n = /^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)) {
                                var s = parseFloat(n[1]) / 360,
                                    a = parseInt(n[2], 10) / 100,
                                    h = parseInt(n[3], 10) / 100;
                                return e(n[5]), this.setHSL(s, a, h)
                            }
                        }
                    } else if (i = /^\#([A-Fa-f0-9]+)$/.exec(t)) {
                        var l = i[1],
                            u = l.length;
                        if (3 === u) return this.r = parseInt(l.charAt(0) + l.charAt(0), 16) / 255, this.g = parseInt(l.charAt(1) + l.charAt(1), 16) / 255, this.b = parseInt(l.charAt(2) + l.charAt(2), 16) / 255, this;
                        if (6 === u) return this.r = parseInt(l.charAt(0) + l.charAt(1), 16) / 255, this.g = parseInt(l.charAt(2) + l.charAt(3), 16) / 255, this.b = parseInt(l.charAt(4) + l.charAt(5), 16) / 255, this
                    }
                    return t && t.length > 0 ? this.setColorName(t) : this
                }, setColorName: function (t) {
                    var e = sc[t];
                    return void 0 !== e ? this.setHex(e) : console.warn("THREE.Color: Unknown color " + t), this
                }, clone: function () {
                    return new this.constructor(this.r, this.g, this.b)
                }, copy: function (t) {
                    return this.r = t.r, this.g = t.g, this.b = t.b, this
                }, copyGammaToLinear: function (t, e) {
                    return void 0 === e && (e = 2), this.r = Math.pow(t.r, e), this.g = Math.pow(t.g, e), this.b = Math.pow(t.b, e), this
                }, copyLinearToGamma: function (t, e) {
                    void 0 === e && (e = 2);
                    var i = e > 0 ? 1 / e : 1;
                    return this.r = Math.pow(t.r, i), this.g = Math.pow(t.g, i), this.b = Math.pow(t.b, i), this
                }, convertGammaToLinear: function (t) {
                    return this.copyGammaToLinear(this, t), this
                }, convertLinearToGamma: function (t) {
                    return this.copyLinearToGamma(this, t), this
                }, copySRGBToLinear: function (t) {
                    return this.r = S(t.r), this.g = S(t.g), this.b = S(t.b), this
                }, copyLinearToSRGB: function (t) {
                    return this.r = T(t.r), this.g = T(t.g), this.b = T(t.b), this
                }, convertSRGBToLinear: function () {
                    return this.copySRGBToLinear(this), this
                }, convertLinearToSRGB: function () {
                    return this.copyLinearToSRGB(this), this
                }, getHex: function () {
                    return 255 * this.r << 16 ^ 255 * this.g << 8 ^ 255 * this.b << 0
                }, getHexString: function () {
                    return ("000000" + this.getHex().toString(16)).slice(-6)
                }, getHSL: function (t) {
                    void 0 === t && (console.warn("THREE.Color: .getHSL() target is now required"), t = {
                        h: 0,
                        s: 0,
                        l: 0
                    });
                    var e, i, n = this.r,
                        r = this.g,
                        o = this.b,
                        s = Math.max(n, r, o),
                        a = Math.min(n, r, o),
                        h = (a + s) / 2;
                    if (a === s) e = 0, i = 0;
                    else {
                        var l = s - a;
                        switch (i = h <= .5 ? l / (s + a) : l / (2 - s - a), s) {
                        case n:
                            e = (r - o) / l + (r < o ? 6 : 0);
                            break;
                        case r:
                            e = (o - n) / l + 2;
                            break;
                        case o:
                            e = (n - r) / l + 4
                        }
                        e /= 6
                    }
                    return t.h = e, t.s = i, t.l = h, t
                }, getStyle: function () {
                    return "rgb(" + (255 * this.r | 0) + "," + (255 * this.g | 0) + "," + (255 * this.b | 0) + ")"
                }, offsetHSL: function (t, e, i) {
                    return this.getHSL(ac), ac.h += t, ac.s += e, ac.l += i, this.setHSL(ac.h, ac.s, ac.l), this
                }, add: function (t) {
                    return this.r += t.r, this.g += t.g, this.b += t.b, this
                }, addColors: function (t, e) {
                    return this.r = t.r + e.r, this.g = t.g + e.g, this.b = t.b + e.b, this
                }, addScalar: function (t) {
                    return this.r += t, this.g += t, this.b += t, this
                }, sub: function (t) {
                    return this.r = Math.max(0, this.r - t.r), this.g = Math.max(0, this.g - t.g), this.b = Math.max(0, this.b - t.b), this
                }, multiply: function (t) {
                    return this.r *= t.r, this.g *= t.g, this.b *= t.b, this
                }, multiplyScalar: function (t) {
                    return this.r *= t, this.g *= t, this.b *= t, this
                }, lerp: function (t, e) {
                    return this.r += (t.r - this.r) * e, this.g += (t.g - this.g) * e, this.b += (t.b - this.b) * e, this
                }, lerpHSL: function (t, e) {
                    this.getHSL(ac), t.getHSL(hc);
                    var i = Kl.lerp(ac.h, hc.h, e),
                        n = Kl.lerp(ac.s, hc.s, e),
                        r = Kl.lerp(ac.l, hc.l, e);
                    return this.setHSL(i, n, r), this
                }, equals: function (t) {
                    return t.r === this.r && t.g === this.g && t.b === this.b
                }, fromArray: function (t, e) {
                    return void 0 === e && (e = 0), this.r = t[e], this.g = t[e + 1], this.b = t[e + 2], this
                }, toArray: function (t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.r, t[e + 1] = this.g, t[e + 2] = this.b, t
                }, toJSON: function () {
                    return this.getHex()
                }
            }), w.NAMES = sc, Object.assign(M.prototype, {
                clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    this.a = t.a, this.b = t.b, this.c = t.c, this.normal.copy(t.normal), this.color.copy(t.color), this.materialIndex = t.materialIndex;
                    for (var e = 0, i = t.vertexNormals.length; e < i; e++) this.vertexNormals[e] = t.vertexNormals[e].clone();
                    for (var e = 0, i = t.vertexColors.length; e < i; e++) this.vertexColors[e] = t.vertexColors[e].clone();
                    return this
                }
            });
            var lc = 0;
            E.prototype = Object.assign(Object.create(e.prototype), {
                constructor: E,
                isMaterial: !0,
                onBeforeCompile: function () {}, setValues: function (t) {
                    if (void 0 !== t)
                        for (var e in t) {
                            var i = t[e];
                            if (void 0 !== i)
                                if ("shading" !== e) {
                                    var n = this[e];
                                    void 0 !== n ? n && n.isColor ? n.set(i) : n && n.isVector3 && i && i.isVector3 ? n.copy(i) : this[e] = i : console.warn("THREE." + this.type + ": '" + e + "' is not a property of this material.")
                                } else console.warn("THREE." + this.type + ": .shading has been removed. Use the boolean .flatShading instead."), this.flatShading = i === ta;
                            else console.warn("THREE.Material: '" + e + "' parameter is undefined.")
                        }
                }, toJSON: function (t) {
                    function e(t) {
                        var e = [];
                        for (var i in t) {
                            var n = t[i];
                            delete n.metadata, e.push(n)
                        }
                        return e
                    }
                    var i = void 0 === t || "string" == typeof t;
                    i && (t = {
                        textures: {},
                        images: {}
                    });
                    var n = {
                        metadata: {
                            version: 4.5,
                            type: "Material",
                            generator: "Material.toJSON"
                        }
                    };
                    if (n.uuid = this.uuid, n.type = this.type, "" !== this.name && (n.name = this.name), this.color && this.color.isColor && (n.color = this.color.getHex()), void 0 !== this.roughness && (n.roughness = this.roughness), void 0 !== this.metalness && (n.metalness = this.metalness), this.sheen && this.sheen.isColor && (n.sheen = this.sheen.getHex()), this.emissive && this.emissive.isColor && (n.emissive = this.emissive.getHex()), this.emissiveIntensity && 1 !== this.emissiveIntensity && (n.emissiveIntensity = this.emissiveIntensity), this.specular && this.specular.isColor && (n.specular = this.specular.getHex()), void 0 !== this.shininess && (n.shininess = this.shininess), void 0 !== this.clearcoat && (n.clearcoat = this.clearcoat), void 0 !== this.clearcoatRoughness && (n.clearcoatRoughness = this.clearcoatRoughness), this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture && (n.clearcoatNormalMap = this.clearcoatNormalMap.toJSON(t).uuid, n.clearcoatNormalScale = this.clearcoatNormalScale.toArray()), this.map && this.map.isTexture && (n.map = this.map.toJSON(t).uuid), this.matcap && this.matcap.isTexture && (n.matcap = this.matcap.toJSON(t).uuid), this.alphaMap && this.alphaMap.isTexture && (n.alphaMap = this.alphaMap.toJSON(t).uuid), this.lightMap && this.lightMap.isTexture && (n.lightMap = this.lightMap.toJSON(t).uuid), this.aoMap && this.aoMap.isTexture && (n.aoMap = this.aoMap.toJSON(t).uuid, n.aoMapIntensity = this.aoMapIntensity), this.bumpMap && this.bumpMap.isTexture && (n.bumpMap = this.bumpMap.toJSON(t).uuid, n.bumpScale = this.bumpScale), this.normalMap && this.normalMap.isTexture && (n.normalMap = this.normalMap.toJSON(t).uuid, n.normalMapType = this.normalMapType, n.normalScale = this.normalScale.toArray()), this.displacementMap && this.displacementMap.isTexture && (n.displacementMap = this.displacementMap.toJSON(t).uuid, n.displacementScale = this.displacementScale, n.displacementBias = this.displacementBias), this.roughnessMap && this.roughnessMap.isTexture && (n.roughnessMap = this.roughnessMap.toJSON(t).uuid), this.metalnessMap && this.metalnessMap.isTexture && (n.metalnessMap = this.metalnessMap.toJSON(t).uuid), this.emissiveMap && this.emissiveMap.isTexture && (n.emissiveMap = this.emissiveMap.toJSON(t).uuid), this.specularMap && this.specularMap.isTexture && (n.specularMap = this.specularMap.toJSON(t).uuid), this.envMap && this.envMap.isTexture && (n.envMap = this.envMap.toJSON(t).uuid, n.reflectivity = this.reflectivity, n.refractionRatio = this.refractionRatio, void 0 !== this.combine && (n.combine = this.combine), void 0 !== this.envMapIntensity && (n.envMapIntensity = this.envMapIntensity)), this.gradientMap && this.gradientMap.isTexture && (n.gradientMap = this.gradientMap.toJSON(t).uuid), void 0 !== this.size && (n.size = this.size), void 0 !== this.sizeAttenuation && (n.sizeAttenuation = this.sizeAttenuation), this.blending !== sa && (n.blending = this.blending), this.flatShading === !0 && (n.flatShading = this.flatShading), this.side !== $s && (n.side = this.side), this.vertexColors !== ia && (n.vertexColors = this.vertexColors), this.opacity < 1 && (n.opacity = this.opacity), this.transparent === !0 && (n.transparent = this.transparent), n.depthFunc = this.depthFunc, n.depthTest = this.depthTest, n.depthWrite = this.depthWrite, n.stencilWrite = this.stencilWrite, n.stencilWriteMask = this.stencilWriteMask, n.stencilFunc = this.stencilFunc, n.stencilRef = this.stencilRef, n.stencilFuncMask = this.stencilFuncMask, n.stencilFail = this.stencilFail, n.stencilZFail = this.stencilZFail, n.stencilZPass = this.stencilZPass, this.rotation && 0 !== this.rotation && (n.rotation = this.rotation), this.polygonOffset === !0 && (n.polygonOffset = !0), 0 !== this.polygonOffsetFactor && (n.polygonOffsetFactor = this.polygonOffsetFactor), 0 !== this.polygonOffsetUnits && (n.polygonOffsetUnits = this.polygonOffsetUnits), this.linewidth && 1 !== this.linewidth && (n.linewidth = this.linewidth), void 0 !== this.dashSize && (n.dashSize = this.dashSize), void 0 !== this.gapSize && (n.gapSize = this.gapSize), void 0 !== this.scale && (n.scale = this.scale), this.dithering === !0 && (n.dithering = !0), this.alphaTest > 0 && (n.alphaTest = this.alphaTest), this.premultipliedAlpha === !0 && (n.premultipliedAlpha = this.premultipliedAlpha), this.wireframe === !0 && (n.wireframe = this.wireframe), this.wireframeLinewidth > 1 && (n.wireframeLinewidth = this.wireframeLinewidth), "round" !== this.wireframeLinecap && (n.wireframeLinecap = this.wireframeLinecap), "round" !== this.wireframeLinejoin && (n.wireframeLinejoin = this.wireframeLinejoin), this.morphTargets === !0 && (n.morphTargets = !0), this.morphNormals === !0 && (n.morphNormals = !0), this.skinning === !0 && (n.skinning = !0), this.visible === !1 && (n.visible = !1), this.toneMapped === !1 && (n.toneMapped = !1), "{}" !== JSON.stringify(this.userData) && (n.userData = this.userData), i) {
                        var r = e(t.textures),
                            o = e(t.images);
                        r.length > 0 && (n.textures = r), o.length > 0 && (n.images = o)
                    }
                    return n
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    this.name = t.name, this.fog = t.fog, this.blending = t.blending, this.side = t.side, this.flatShading = t.flatShading, this.vertexTangents = t.vertexTangents, this.vertexColors = t.vertexColors, this.opacity = t.opacity, this.transparent = t.transparent, this.blendSrc = t.blendSrc, this.blendDst = t.blendDst, this.blendEquation = t.blendEquation, this.blendSrcAlpha = t.blendSrcAlpha, this.blendDstAlpha = t.blendDstAlpha, this.blendEquationAlpha = t.blendEquationAlpha, this.depthFunc = t.depthFunc, this.depthTest = t.depthTest, this.depthWrite = t.depthWrite, this.stencilWriteMask = t.stencilWriteMask, this.stencilFunc = t.stencilFunc, this.stencilRef = t.stencilRef, this.stencilFuncMask = t.stencilFuncMask, this.stencilFail = t.stencilFail, this.stencilZFail = t.stencilZFail, this.stencilZPass = t.stencilZPass, this.stencilWrite = t.stencilWrite;
                    var e = t.clippingPlanes,
                        i = null;
                    if (null !== e) {
                        var n = e.length;
                        i = new Array(n);
                        for (var r = 0; r !== n; ++r) i[r] = e[r].clone()
                    }
                    return this.clippingPlanes = i, this.clipIntersection = t.clipIntersection, this.clipShadows = t.clipShadows, this.shadowSide = t.shadowSide, this.colorWrite = t.colorWrite, this.precision = t.precision, this.polygonOffset = t.polygonOffset, this.polygonOffsetFactor = t.polygonOffsetFactor, this.polygonOffsetUnits = t.polygonOffsetUnits, this.dithering = t.dithering, this.alphaTest = t.alphaTest, this.premultipliedAlpha = t.premultipliedAlpha, this.visible = t.visible, this.toneMapped = t.toneMapped, this.userData = JSON.parse(JSON.stringify(t.userData)), this
                }, dispose: function () {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                }
            }), A.prototype = Object.create(E.prototype), A.prototype.constructor = A, A.prototype.isMeshBasicMaterial = !0, A.prototype.copy = function (t) {
                return E.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this
            }, Object.defineProperty(C.prototype, "needsUpdate", {
                set: function (t) {
                    t === !0 && this.version++
                }
            }), Object.assign(C.prototype, {
                isBufferAttribute: !0,
                onUploadCallback: function () {}, setUsage: function (t) {
                    return this.usage = t, this
                }, copy: function (t) {
                    return this.name = t.name, this.array = new t.array.constructor(t.array), this.itemSize = t.itemSize, this.count = t.count, this.normalized = t.normalized, this.usage = t.usage, this
                }, copyAt: function (t, e, i) {
                    t *= this.itemSize, i *= e.itemSize;
                    for (var n = 0, r = this.itemSize; n < r; n++) this.array[t + n] = e.array[i + n];
                    return this
                }, copyArray: function (t) {
                    return this.array.set(t), this
                }, copyColorsArray: function (t) {
                    for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) {
                        var o = t[n];
                        void 0 === o && (console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined", n), o = new w), e[i++] = o.r, e[i++] = o.g, e[i++] = o.b
                    }
                    return this
                }, copyVector2sArray: function (t) {
                    for (var e = this.array, n = 0, r = 0, o = t.length; r < o; r++) {
                        var s = t[r];
                        void 0 === s && (console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined", r), s = new i), e[n++] = s.x, e[n++] = s.y
                    }
                    return this
                }, copyVector3sArray: function (t) {
                    for (var e = this.array, i = 0, n = 0, o = t.length; n < o; n++) {
                        var s = t[n];
                        void 0 === s && (console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined", n), s = new r), e[i++] = s.x, e[i++] = s.y, e[i++] = s.z
                    }
                    return this
                }, copyVector4sArray: function (t) {
                    for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) {
                        var o = t[n];
                        void 0 === o && (console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined", n), o = new a), e[i++] = o.x, e[i++] = o.y, e[i++] = o.z, e[i++] = o.w
                    }
                    return this
                }, set: function (t, e) {
                    return void 0 === e && (e = 0), this.array.set(t, e), this
                }, getX: function (t) {
                    return this.array[t * this.itemSize]
                }, setX: function (t, e) {
                    return this.array[t * this.itemSize] = e, this
                }, getY: function (t) {
                    return this.array[t * this.itemSize + 1]
                }, setY: function (t, e) {
                    return this.array[t * this.itemSize + 1] = e, this
                }, getZ: function (t) {
                    return this.array[t * this.itemSize + 2]
                }, setZ: function (t, e) {
                    return this.array[t * this.itemSize + 2] = e, this
                }, getW: function (t) {
                    return this.array[t * this.itemSize + 3]
                }, setW: function (t, e) {
                    return this.array[t * this.itemSize + 3] = e, this
                }, setXY: function (t, e, i) {
                    return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = i, this
                }, setXYZ: function (t, e, i, n) {
                    return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = i, this.array[t + 2] = n, this
                }, setXYZW: function (t, e, i, n, r) {
                    return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = i, this.array[t + 2] = n, this.array[t + 3] = r, this
                }, onUpload: function (t) {
                    return this.onUploadCallback = t, this
                }, clone: function () {
                    return new this.constructor(this.array, this.itemSize).copy(this)
                }, toJSON: function () {
                    return {
                        itemSize: this.itemSize,
                        type: this.array.constructor.name,
                        array: Array.prototype.slice.call(this.array),
                        normalized: this.normalized
                    }
                }
            }), P.prototype = Object.create(C.prototype), P.prototype.constructor = P, R.prototype = Object.create(C.prototype), R.prototype.constructor = R, L.prototype = Object.create(C.prototype), L.prototype.constructor = L, O.prototype = Object.create(C.prototype), O.prototype.constructor = O, I.prototype = Object.create(C.prototype), I.prototype.constructor = I, D.prototype = Object.create(C.prototype), D.prototype.constructor = D, k.prototype = Object.create(C.prototype), k.prototype.constructor = k, N.prototype = Object.create(C.prototype), N.prototype.constructor = N, z.prototype = Object.create(C.prototype), z.prototype.constructor = z, Object.assign(B.prototype, {
                computeGroups: function (t) {
                    for (var e, i = [], n = void 0, r = t.faces, o = 0; o < r.length; o++) {
                        var s = r[o];
                        s.materialIndex !== n && (n = s.materialIndex, void 0 !== e && (e.count = 3 * o - e.start, i.push(e)), e = {
                            start: 3 * o,
                            materialIndex: n
                        })
                    }
                    void 0 !== e && (e.count = 3 * o - e.start, i.push(e)), this.groups = i
                }, fromGeometry: function (t) {
                    var e, n = t.faces,
                        r = t.vertices,
                        o = t.faceVertexUvs,
                        s = o[0] && o[0].length > 0,
                        a = o[1] && o[1].length > 0,
                        h = t.morphTargets,
                        l = h.length;
                    if (l > 0) {
                        e = [];
                        for (var u = 0; u < l; u++) e[u] = {
                            name: h[u].name,
                            data: []
                        };
                        this.morphTargets.position = e
                    }
                    var c, p = t.morphNormals,
                        d = p.length;
                    if (d > 0) {
                        c = [];
                        for (var u = 0; u < d; u++) c[u] = {
                            name: p[u].name,
                            data: []
                        };
                        this.morphTargets.normal = c
                    }
                    var f = t.skinIndices,
                        m = t.skinWeights,
                        g = f.length === r.length,
                        v = m.length === r.length;
                    r.length > 0 && 0 === n.length && console.error("THREE.DirectGeometry: Faceless geometries are not supported.");
                    for (var u = 0; u < n.length; u++) {
                        var _ = n[u];
                        this.vertices.push(r[_.a], r[_.b], r[_.c]);
                        var y = _.vertexNormals;
                        if (3 === y.length) this.normals.push(y[0], y[1], y[2]);
                        else {
                            var x = _.normal;
                            this.normals.push(x, x, x)
                        }
                        var w = _.vertexColors;
                        if (3 === w.length) this.colors.push(w[0], w[1], w[2]);
                        else {
                            var b = _.color;
                            this.colors.push(b, b, b)
                        } if (s === !0) {
                            var S = o[0][u];
                            void 0 !== S ? this.uvs.push(S[0], S[1], S[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ", u), this.uvs.push(new i, new i, new i))
                        }
                        if (a === !0) {
                            var S = o[1][u];
                            void 0 !== S ? this.uvs2.push(S[0], S[1], S[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ", u), this.uvs2.push(new i, new i, new i))
                        }
                        for (var T = 0; T < l; T++) {
                            var M = h[T].vertices;
                            e[T].data.push(M[_.a], M[_.b], M[_.c])
                        }
                        for (var T = 0; T < d; T++) {
                            var E = p[T].vertexNormals[u];
                            c[T].data.push(E.a, E.b, E.c)
                        }
                        g && this.skinIndices.push(f[_.a], f[_.b], f[_.c]), v && this.skinWeights.push(m[_.a], m[_.b], m[_.c])
                    }
                    return this.computeGroups(t), this.verticesNeedUpdate = t.verticesNeedUpdate, this.normalsNeedUpdate = t.normalsNeedUpdate, this.colorsNeedUpdate = t.colorsNeedUpdate, this.uvsNeedUpdate = t.uvsNeedUpdate, this.groupsNeedUpdate = t.groupsNeedUpdate, null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()), null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone()), this
                }
            });
            var uc = 1,
                cc = new u,
                pc = new d,
                dc = new r,
                fc = new m,
                mc = new m,
                gc = new r;
            H.prototype = Object.assign(Object.create(e.prototype), {
                constructor: H,
                isBufferGeometry: !0,
                getIndex: function () {
                    return this.index
                }, setIndex: function (t) {
                    Array.isArray(t) ? this.index = new(F(t) > 65535 ? k : I)(t, 1) : this.index = t
                }, getAttribute: function (t) {
                    return this.attributes[t]
                }, setAttribute: function (t, e) {
                    return this.attributes[t] = e, this
                }, deleteAttribute: function (t) {
                    return delete this.attributes[t], this
                }, addGroup: function (t, e, i) {
                    this.groups.push({
                        start: t,
                        count: e,
                        materialIndex: void 0 !== i ? i : 0
                    })
                }, clearGroups: function () {
                    this.groups = []
                }, setDrawRange: function (t, e) {
                    this.drawRange.start = t, this.drawRange.count = e
                }, applyMatrix: function (t) {
                    var e = this.attributes.position;
                    void 0 !== e && (t.applyToBufferAttribute(e), e.needsUpdate = !0);
                    var i = this.attributes.normal;
                    if (void 0 !== i) {
                        var n = (new o).getNormalMatrix(t);
                        n.applyToBufferAttribute(i), i.needsUpdate = !0
                    }
                    var r = this.attributes.tangent;
                    if (void 0 !== r) {
                        var n = (new o).getNormalMatrix(t);
                        n.applyToBufferAttribute(r), r.needsUpdate = !0
                    }
                    return null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere(), this
                }, rotateX: function (t) {
                    return cc.makeRotationX(t), this.applyMatrix(cc), this
                }, rotateY: function (t) {
                    return cc.makeRotationY(t), this.applyMatrix(cc), this
                }, rotateZ: function (t) {
                    return cc.makeRotationZ(t), this.applyMatrix(cc), this
                }, translate: function (t, e, i) {
                    return cc.makeTranslation(t, e, i), this.applyMatrix(cc), this
                }, scale: function (t, e, i) {
                    return cc.makeScale(t, e, i), this.applyMatrix(cc), this
                }, lookAt: function (t) {
                    return pc.lookAt(t), pc.updateMatrix(), this.applyMatrix(pc.matrix), this
                }, center: function () {
                    return this.computeBoundingBox(), this.boundingBox.getCenter(dc).negate(), this.translate(dc.x, dc.y, dc.z), this
                }, setFromObject: function (t) {
                    var e = t.geometry;
                    if (t.isPoints || t.isLine) {
                        var i = new N(3 * e.vertices.length, 3),
                            n = new N(3 * e.colors.length, 3);
                        if (this.setAttribute("position", i.copyVector3sArray(e.vertices)), this.setAttribute("color", n.copyColorsArray(e.colors)), e.lineDistances && e.lineDistances.length === e.vertices.length) {
                            var r = new N(e.lineDistances.length, 1);
                            this.setAttribute("lineDistance", r.copyArray(e.lineDistances))
                        }
                        null !== e.boundingSphere && (this.boundingSphere = e.boundingSphere.clone()), null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone())
                    } else t.isMesh && e && e.isGeometry && this.fromGeometry(e);
                    return this
                }, setFromPoints: function (t) {
                    for (var e = [], i = 0, n = t.length; i < n; i++) {
                        var r = t[i];
                        e.push(r.x, r.y, r.z || 0)
                    }
                    return this.setAttribute("position", new N(e, 3)), this
                }, updateFromObject: function (t) {
                    var e = t.geometry;
                    if (t.isMesh) {
                        var i = e.__directGeometry;
                        if (e.elementsNeedUpdate === !0 && (i = void 0, e.elementsNeedUpdate = !1), void 0 === i) return this.fromGeometry(e);
                        i.verticesNeedUpdate = e.verticesNeedUpdate, i.normalsNeedUpdate = e.normalsNeedUpdate, i.colorsNeedUpdate = e.colorsNeedUpdate, i.uvsNeedUpdate = e.uvsNeedUpdate, i.groupsNeedUpdate = e.groupsNeedUpdate, e.verticesNeedUpdate = !1, e.normalsNeedUpdate = !1, e.colorsNeedUpdate = !1, e.uvsNeedUpdate = !1, e.groupsNeedUpdate = !1, e = i
                    }
                    var n;
                    return e.verticesNeedUpdate === !0 && (n = this.attributes.position, void 0 !== n && (n.copyVector3sArray(e.vertices), n.needsUpdate = !0), e.verticesNeedUpdate = !1), e.normalsNeedUpdate === !0 && (n = this.attributes.normal, void 0 !== n && (n.copyVector3sArray(e.normals), n.needsUpdate = !0), e.normalsNeedUpdate = !1), e.colorsNeedUpdate === !0 && (n = this.attributes.color, void 0 !== n && (n.copyColorsArray(e.colors), n.needsUpdate = !0), e.colorsNeedUpdate = !1), e.uvsNeedUpdate && (n = this.attributes.uv, void 0 !== n && (n.copyVector2sArray(e.uvs), n.needsUpdate = !0), e.uvsNeedUpdate = !1), e.lineDistancesNeedUpdate && (n = this.attributes.lineDistance, void 0 !== n && (n.copyArray(e.lineDistances), n.needsUpdate = !0), e.lineDistancesNeedUpdate = !1), e.groupsNeedUpdate && (e.computeGroups(t.geometry), this.groups = e.groups, e.groupsNeedUpdate = !1), this
                }, fromGeometry: function (t) {
                    return t.__directGeometry = (new B).fromGeometry(t), this.fromDirectGeometry(t.__directGeometry)
                }, fromDirectGeometry: function (t) {
                    var e = new Float32Array(3 * t.vertices.length);
                    if (this.setAttribute("position", new C(e, 3).copyVector3sArray(t.vertices)), t.normals.length > 0) {
                        var i = new Float32Array(3 * t.normals.length);
                        this.setAttribute("normal", new C(i, 3).copyVector3sArray(t.normals))
                    }
                    if (t.colors.length > 0) {
                        var n = new Float32Array(3 * t.colors.length);
                        this.setAttribute("color", new C(n, 3).copyColorsArray(t.colors))
                    }
                    if (t.uvs.length > 0) {
                        var r = new Float32Array(2 * t.uvs.length);
                        this.setAttribute("uv", new C(r, 2).copyVector2sArray(t.uvs))
                    }
                    if (t.uvs2.length > 0) {
                        var o = new Float32Array(2 * t.uvs2.length);
                        this.setAttribute("uv2", new C(o, 2).copyVector2sArray(t.uvs2))
                    }
                    this.groups = t.groups;
                    for (var s in t.morphTargets) {
                        for (var a = [], h = t.morphTargets[s], l = 0, u = h.length; l < u; l++) {
                            var c = h[l],
                                p = new N(3 * c.data.length, 3);
                            p.name = c.name, a.push(p.copyVector3sArray(c.data))
                        }
                        this.morphAttributes[s] = a
                    }
                    if (t.skinIndices.length > 0) {
                        var d = new N(4 * t.skinIndices.length, 4);
                        this.setAttribute("skinIndex", d.copyVector4sArray(t.skinIndices))
                    }
                    if (t.skinWeights.length > 0) {
                        var f = new N(4 * t.skinWeights.length, 4);
                        this.setAttribute("skinWeight", f.copyVector4sArray(t.skinWeights))
                    }
                    return null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()), null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone()), this
                }, computeBoundingBox: function () {
                    null === this.boundingBox && (this.boundingBox = new m);
                    var t = this.attributes.position,
                        e = this.morphAttributes.position;
                    if (void 0 !== t) {
                        if (this.boundingBox.setFromBufferAttribute(t), e)
                            for (var i = 0, n = e.length; i < n; i++) {
                                var r = e[i];
                                fc.setFromBufferAttribute(r), this.boundingBox.expandByPoint(fc.min), this.boundingBox.expandByPoint(fc.max)
                            }
                    } else this.boundingBox.makeEmpty();
                    (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) && console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.', this)
                }, computeBoundingSphere: function () {
                    null === this.boundingSphere && (this.boundingSphere = new v);
                    var t = this.attributes.position,
                        e = this.morphAttributes.position;
                    if (t) {
                        var i = this.boundingSphere.center;
                        if (fc.setFromBufferAttribute(t), e)
                            for (var n = 0, r = e.length; n < r; n++) {
                                var o = e[n];
                                mc.setFromBufferAttribute(o), fc.expandByPoint(mc.min), fc.expandByPoint(mc.max)
                            }
                        fc.getCenter(i);
                        for (var s = 0, n = 0, r = t.count; n < r; n++) gc.fromBufferAttribute(t, n), s = Math.max(s, i.distanceToSquared(gc));
                        if (e)
                            for (var n = 0, r = e.length; n < r; n++)
                                for (var o = e[n], a = 0, h = o.count; a < h; a++) gc.fromBufferAttribute(o, a), s = Math.max(s, i.distanceToSquared(gc));
                        this.boundingSphere.radius = Math.sqrt(s), isNaN(this.boundingSphere.radius) && console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.', this)
                    }
                }, computeFaceNormals: function () {}, computeVertexNormals: function () {
                    var t = this.index,
                        e = this.attributes;
                    if (e.position) {
                        var i = e.position.array;
                        if (void 0 === e.normal) this.setAttribute("normal", new C(new Float32Array(i.length), 3));
                        else
                            for (var n = e.normal.array, o = 0, s = n.length; o < s; o++) n[o] = 0;
                        var a, h, l, u = e.normal.array,
                            c = new r,
                            p = new r,
                            d = new r,
                            f = new r,
                            m = new r;
                        if (t)
                            for (var g = t.array, o = 0, s = t.count; o < s; o += 3) a = 3 * g[o + 0], h = 3 * g[o + 1], l = 3 * g[o + 2], c.fromArray(i, a), p.fromArray(i, h), d.fromArray(i, l), f.subVectors(d, p), m.subVectors(c, p), f.cross(m), u[a] += f.x, u[a + 1] += f.y, u[a + 2] += f.z, u[h] += f.x, u[h + 1] += f.y, u[h + 2] += f.z, u[l] += f.x, u[l + 1] += f.y, u[l + 2] += f.z;
                        else
                            for (var o = 0, s = i.length; o < s; o += 9) c.fromArray(i, o), p.fromArray(i, o + 3), d.fromArray(i, o + 6), f.subVectors(d, p), m.subVectors(c, p), f.cross(m), u[o] = f.x, u[o + 1] = f.y, u[o + 2] = f.z, u[o + 3] = f.x, u[o + 4] = f.y, u[o + 5] = f.z, u[o + 6] = f.x, u[o + 7] = f.y, u[o + 8] = f.z;
                        this.normalizeNormals(), e.normal.needsUpdate = !0
                    }
                }, merge: function (t, e) {
                    if (!t || !t.isBufferGeometry) return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.", t);
                    void 0 === e && (e = 0, console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));
                    var i = this.attributes;
                    for (var n in i)
                        if (void 0 !== t.attributes[n])
                            for (var r = i[n], o = r.array, s = t.attributes[n], a = s.array, h = s.itemSize * e, l = Math.min(a.length, o.length - h), u = 0, c = h; u < l; u++, c++) o[c] = a[u];
                    return this
                }, normalizeNormals: function () {
                    for (var t = this.attributes.normal, e = 0, i = t.count; e < i; e++) gc.x = t.getX(e), gc.y = t.getY(e), gc.z = t.getZ(e), gc.normalize(), t.setXYZ(e, gc.x, gc.y, gc.z)
                }, toNonIndexed: function () {
                    function t(t, e) {
                        for (var i = t.array, n = t.itemSize, r = new i.constructor(e.length * n), o = 0, s = 0, a = 0, h = e.length; a < h; a++) {
                            o = e[a] * n;
                            for (var l = 0; l < n; l++) r[s++] = i[o++]
                        }
                        return new C(r, n)
                    }
                    if (null === this.index) return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."), this;
                    var e = new H,
                        i = this.index.array,
                        n = this.attributes;
                    for (var r in n) {
                        var o = n[r],
                            s = t(o, i);
                        e.setAttribute(r, s)
                    }
                    var a = this.morphAttributes;
                    for (r in a) {
                        for (var h = [], l = a[r], u = 0, c = l.length; u < c; u++) {
                            var o = l[u],
                                s = t(o, i);
                            h.push(s)
                        }
                        e.morphAttributes[r] = h
                    }
                    for (var p = this.groups, u = 0, d = p.length; u < d; u++) {
                        var f = p[u];
                        e.addGroup(f.start, f.count, f.materialIndex)
                    }
                    return e
                }, toJSON: function () {
                    var t = {
                        metadata: {
                            version: 4.5,
                            type: "BufferGeometry",
                            generator: "BufferGeometry.toJSON"
                        }
                    };
                    if (t.uuid = this.uuid, t.type = this.type, "" !== this.name && (t.name = this.name), Object.keys(this.userData).length > 0 && (t.userData = this.userData), void 0 !== this.parameters) {
                        var e = this.parameters;
                        for (var i in e) void 0 !== e[i] && (t[i] = e[i]);
                        return t
                    }
                    t.data = {
                        attributes: {}
                    };
                    var n = this.index;
                    null !== n && (t.data.index = {
                        type: n.array.constructor.name,
                        array: Array.prototype.slice.call(n.array)
                    });
                    var r = this.attributes;
                    for (var i in r) {
                        var o = r[i],
                            s = o.toJSON();
                        "" !== o.name && (s.name = o.name), t.data.attributes[i] = s
                    }
                    var a = {},
                        h = !1;
                    for (var i in this.morphAttributes) {
                        for (var l = this.morphAttributes[i], u = [], c = 0, p = l.length; c < p; c++) {
                            var o = l[c],
                                s = o.toJSON();
                            "" !== o.name && (s.name = o.name), u.push(s)
                        }
                        u.length > 0 && (a[i] = u, h = !0)
                    }
                    h && (t.data.morphAttributes = a);
                    var d = this.groups;
                    d.length > 0 && (t.data.groups = JSON.parse(JSON.stringify(d)));
                    var f = this.boundingSphere;
                    return null !== f && (t.data.boundingSphere = {
                        center: f.center.toArray(),
                        radius: f.radius
                    }), t
                }, clone: function () {
                    return (new H).copy(this)
                }, copy: function (t) {
                    var e, i, n;
                    this.index = null, this.attributes = {}, this.morphAttributes = {}, this.groups = [], this.boundingBox = null, this.boundingSphere = null, this.name = t.name;
                    var r = t.index;
                    null !== r && this.setIndex(r.clone());
                    var o = t.attributes;
                    for (e in o) {
                        var s = o[e];
                        this.setAttribute(e, s.clone())
                    }
                    var a = t.morphAttributes;
                    for (e in a) {
                        var h = [],
                            l = a[e];
                        for (i = 0, n = l.length; i < n; i++) h.push(l[i].clone());
                        this.morphAttributes[e] = h
                    }
                    var u = t.groups;
                    for (i = 0, n = u.length; i < n; i++) {
                        var c = u[i];
                        this.addGroup(c.start, c.count, c.materialIndex)
                    }
                    var p = t.boundingBox;
                    null !== p && (this.boundingBox = p.clone());
                    var d = t.boundingSphere;
                    return null !== d && (this.boundingSphere = d.clone()), this.drawRange.start = t.drawRange.start, this.drawRange.count = t.drawRange.count, this.userData = t.userData, this
                }, dispose: function () {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                }
            });
            var vc = new u,
                _c = new _,
                yc = new v,
                xc = new r,
                wc = new r,
                bc = new r,
                Sc = new r,
                Tc = new r,
                Mc = new r,
                Ec = new r,
                Ac = new r,
                Cc = new r,
                Pc = new i,
                Rc = new i,
                Lc = new i,
                Oc = new r,
                Ic = new r;
            U.prototype = Object.assign(Object.create(d.prototype), {
                constructor: U,
                isMesh: !0,
                setDrawMode: function (t) {
                    this.drawMode = t
                }, copy: function (t) {
                    return d.prototype.copy.call(this, t), this.drawMode = t.drawMode, void 0 !== t.morphTargetInfluences && (this.morphTargetInfluences = t.morphTargetInfluences.slice()), void 0 !== t.morphTargetDictionary && (this.morphTargetDictionary = Object.assign({}, t.morphTargetDictionary)), this
                }, updateMorphTargets: function () {
                    var t, e, i, n = this.geometry;
                    if (n.isBufferGeometry) {
                        var r = n.morphAttributes,
                            o = Object.keys(r);
                        if (o.length > 0) {
                            var s = r[o[0]];
                            if (void 0 !== s)
                                for (this.morphTargetInfluences = [], this.morphTargetDictionary = {}, t = 0, e = s.length; t < e; t++) i = s[t].name || String(t), this.morphTargetInfluences.push(0), this.morphTargetDictionary[i] = t
                        }
                    } else {
                        var a = n.morphTargets;
                        void 0 !== a && a.length > 0 && console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")
                    }
                }, raycast: function (t, e) {
                    var n = this.geometry,
                        r = this.material,
                        o = this.matrixWorld;
                    if (void 0 !== r && (null === n.boundingSphere && n.computeBoundingSphere(), yc.copy(n.boundingSphere), yc.applyMatrix4(o), t.ray.intersectsSphere(yc) !== !1 && (vc.getInverse(o), _c.copy(t.ray).applyMatrix4(vc), null === n.boundingBox || _c.intersectsBox(n.boundingBox) !== !1))) {
                        if (this.drawMode !== ul) return void console.warn("THREE.Mesh: TriangleStripDrawMode and TriangleFanDrawMode are not supported by .raycast().");
                        var s;
                        if (n.isBufferGeometry) {
                            var a, h, l, u, c, p, d, f, m, g, v, _ = n.index,
                                y = n.attributes.position,
                                w = n.morphAttributes.position,
                                b = n.attributes.uv,
                                S = n.attributes.uv2,
                                T = n.groups,
                                M = n.drawRange;
                            if (null !== _)
                                if (Array.isArray(r))
                                    for (u = 0, p = T.length; u < p; u++)
                                        for (f = T[u], m = r[f.materialIndex], g = Math.max(f.start, M.start), v = Math.min(f.start + f.count, M.start + M.count), c = g, d = v; c < d; c += 3) a = _.getX(c), h = _.getX(c + 1), l = _.getX(c + 2), s = j(this, m, t, _c, y, w, b, S, a, h, l), s && (s.faceIndex = Math.floor(c / 3), s.face.materialIndex = f.materialIndex, e.push(s));
                                else
                                    for (g = Math.max(0, M.start), v = Math.min(_.count, M.start + M.count), u = g, p = v; u < p; u += 3) a = _.getX(u), h = _.getX(u + 1), l = _.getX(u + 2), s = j(this, r, t, _c, y, w, b, S, a, h, l), s && (s.faceIndex = Math.floor(u / 3), e.push(s));
                            else if (void 0 !== y)
                                if (Array.isArray(r))
                                    for (u = 0, p = T.length; u < p; u++)
                                        for (f = T[u], m = r[f.materialIndex], g = Math.max(f.start, M.start), v = Math.min(f.start + f.count, M.start + M.count), c = g, d = v; c < d; c += 3) a = c, h = c + 1, l = c + 2, s = j(this, m, t, _c, y, w, b, S, a, h, l), s && (s.faceIndex = Math.floor(c / 3), s.face.materialIndex = f.materialIndex, e.push(s));
                                else
                                    for (g = Math.max(0, M.start), v = Math.min(y.count, M.start + M.count), u = g, p = v; u < p; u += 3) a = u, h = u + 1, l = u + 2, s = j(this, r, t, _c, y, w, b, S, a, h, l), s && (s.faceIndex = Math.floor(u / 3), e.push(s))
                        } else if (n.isGeometry) {
                            var E, A, C, P, R = Array.isArray(r),
                                L = n.vertices,
                                O = n.faces,
                                I = n.faceVertexUvs[0];
                            I.length > 0 && (P = I);
                            for (var D = 0, k = O.length; D < k; D++) {
                                var N = O[D],
                                    z = R ? r[N.materialIndex] : r;
                                if (void 0 !== z && (E = L[N.a], A = L[N.b], C = L[N.c], s = G(this, z, t, _c, E, A, C, Oc))) {
                                    if (P && P[D]) {
                                        var B = P[D];
                                        Pc.copy(B[0]), Rc.copy(B[1]), Lc.copy(B[2]), s.uv = x.getUV(Oc, E, A, C, Pc, Rc, Lc, new i)
                                    }
                                    s.face = N, s.faceIndex = D, e.push(s)
                                }
                            }
                        }
                    }
                }, clone: function () {
                    return new this.constructor(this.geometry, this.material).copy(this)
                }
            });
            var Dc = 0,
                kc = new u,
                Nc = new d,
                zc = new r;
            V.prototype = Object.assign(Object.create(e.prototype), {
                constructor: V,
                isGeometry: !0,
                applyMatrix: function (t) {
                    for (var e = (new o).getNormalMatrix(t), i = 0, n = this.vertices.length; i < n; i++) {
                        var r = this.vertices[i];
                        r.applyMatrix4(t)
                    }
                    for (var i = 0, n = this.faces.length; i < n; i++) {
                        var s = this.faces[i];
                        s.normal.applyMatrix3(e).normalize();
                        for (var a = 0, h = s.vertexNormals.length; a < h; a++) s.vertexNormals[a].applyMatrix3(e).normalize()
                    }
                    return null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere(), this.verticesNeedUpdate = !0, this.normalsNeedUpdate = !0, this
                }, rotateX: function (t) {
                    return kc.makeRotationX(t), this.applyMatrix(kc), this
                }, rotateY: function (t) {
                    return kc.makeRotationY(t), this.applyMatrix(kc), this
                }, rotateZ: function (t) {
                    return kc.makeRotationZ(t), this.applyMatrix(kc), this
                }, translate: function (t, e, i) {
                    return kc.makeTranslation(t, e, i), this.applyMatrix(kc), this
                }, scale: function (t, e, i) {
                    return kc.makeScale(t, e, i), this.applyMatrix(kc), this
                }, lookAt: function (t) {
                    return Nc.lookAt(t), Nc.updateMatrix(), this.applyMatrix(Nc.matrix), this
                }, fromBufferGeometry: function (t) {
                    function e(t, e, o, s) {
                        var a = void 0 === l ? [] : [n.colors[t].clone(), n.colors[e].clone(), n.colors[o].clone()],
                            p = void 0 === h ? [] : [(new r).fromArray(h, 3 * t), (new r).fromArray(h, 3 * e), (new r).fromArray(h, 3 * o)],
                            d = new M(t, e, o, p, a, s);
                        n.faces.push(d), void 0 !== u && n.faceVertexUvs[0].push([(new i).fromArray(u, 2 * t), (new i).fromArray(u, 2 * e), (new i).fromArray(u, 2 * o)]), void 0 !== c && n.faceVertexUvs[1].push([(new i).fromArray(c, 2 * t), (new i).fromArray(c, 2 * e), (new i).fromArray(c, 2 * o)])
                    }
                    var n = this,
                        o = null !== t.index ? t.index.array : void 0,
                        s = t.attributes;
                    if (void 0 === s.position) return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."), this;
                    var a = s.position.array,
                        h = void 0 !== s.normal ? s.normal.array : void 0,
                        l = void 0 !== s.color ? s.color.array : void 0,
                        u = void 0 !== s.uv ? s.uv.array : void 0,
                        c = void 0 !== s.uv2 ? s.uv2.array : void 0;
                    void 0 !== c && (this.faceVertexUvs[1] = []);
                    for (var p = 0; p < a.length; p += 3) n.vertices.push((new r).fromArray(a, p)), void 0 !== l && n.colors.push((new w).fromArray(l, p));
                    var d = t.groups;
                    if (d.length > 0)
                        for (var p = 0; p < d.length; p++)
                            for (var f = d[p], m = f.start, g = f.count, v = m, _ = m + g; v < _; v += 3) void 0 !== o ? e(o[v], o[v + 1], o[v + 2], f.materialIndex) : e(v, v + 1, v + 2, f.materialIndex);
                    else if (void 0 !== o)
                        for (var p = 0; p < o.length; p += 3) e(o[p], o[p + 1], o[p + 2]);
                    else
                        for (var p = 0; p < a.length / 3; p += 3) e(p, p + 1, p + 2);
                    return this.computeFaceNormals(), null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone()), null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()), this
                }, center: function () {
                    return this.computeBoundingBox(), this.boundingBox.getCenter(zc).negate(), this.translate(zc.x, zc.y, zc.z), this
                }, normalize: function () {
                    this.computeBoundingSphere();
                    var t = this.boundingSphere.center,
                        e = this.boundingSphere.radius,
                        i = 0 === e ? 1 : 1 / e,
                        n = new u;
                    return n.set(i, 0, 0, -i * t.x, 0, i, 0, -i * t.y, 0, 0, i, -i * t.z, 0, 0, 0, 1), this.applyMatrix(n), this
                }, computeFaceNormals: function () {
                    for (var t = new r, e = new r, i = 0, n = this.faces.length; i < n; i++) {
                        var o = this.faces[i],
                            s = this.vertices[o.a],
                            a = this.vertices[o.b],
                            h = this.vertices[o.c];
                        t.subVectors(h, a), e.subVectors(s, a), t.cross(e), t.normalize(), o.normal.copy(t)
                    }
                }, computeVertexNormals: function (t) {
                    void 0 === t && (t = !0);
                    var e, i, n, o, s, a;
                    for (a = new Array(this.vertices.length), e = 0, i = this.vertices.length; e < i; e++) a[e] = new r;
                    if (t) {
                        var h, l, u, c = new r,
                            p = new r;
                        for (n = 0, o = this.faces.length; n < o; n++) s = this.faces[n], h = this.vertices[s.a], l = this.vertices[s.b], u = this.vertices[s.c], c.subVectors(u, l), p.subVectors(h, l), c.cross(p), a[s.a].add(c), a[s.b].add(c), a[s.c].add(c)
                    } else
                        for (this.computeFaceNormals(), n = 0, o = this.faces.length; n < o; n++) s = this.faces[n], a[s.a].add(s.normal), a[s.b].add(s.normal), a[s.c].add(s.normal);
                    for (e = 0, i = this.vertices.length; e < i; e++) a[e].normalize();
                    for (n = 0, o = this.faces.length; n < o; n++) {
                        s = this.faces[n];
                        var d = s.vertexNormals;
                        3 === d.length ? (d[0].copy(a[s.a]), d[1].copy(a[s.b]), d[2].copy(a[s.c])) : (d[0] = a[s.a].clone(), d[1] = a[s.b].clone(), d[2] = a[s.c].clone())
                    }
                    this.faces.length > 0 && (this.normalsNeedUpdate = !0)
                }, computeFlatVertexNormals: function () {
                    var t, e, i;
                    for (this.computeFaceNormals(), t = 0, e = this.faces.length; t < e; t++) {
                        i = this.faces[t];
                        var n = i.vertexNormals;
                        3 === n.length ? (n[0].copy(i.normal), n[1].copy(i.normal), n[2].copy(i.normal)) : (n[0] = i.normal.clone(), n[1] = i.normal.clone(), n[2] = i.normal.clone())
                    }
                    this.faces.length > 0 && (this.normalsNeedUpdate = !0)
                }, computeMorphNormals: function () {
                    var t, e, i, n, o;
                    for (i = 0, n = this.faces.length; i < n; i++)
                        for (o = this.faces[i], o.__originalFaceNormal ? o.__originalFaceNormal.copy(o.normal) : o.__originalFaceNormal = o.normal.clone(), o.__originalVertexNormals || (o.__originalVertexNormals = []), t = 0, e = o.vertexNormals.length; t < e; t++) o.__originalVertexNormals[t] ? o.__originalVertexNormals[t].copy(o.vertexNormals[t]) : o.__originalVertexNormals[t] = o.vertexNormals[t].clone();
                    var s = new V;
                    for (s.faces = this.faces, t = 0, e = this.morphTargets.length; t < e; t++) {
                        if (!this.morphNormals[t]) {
                            this.morphNormals[t] = {}, this.morphNormals[t].faceNormals = [], this.morphNormals[t].vertexNormals = [];
                            var a, h, l = this.morphNormals[t].faceNormals,
                                u = this.morphNormals[t].vertexNormals;
                            for (i = 0, n = this.faces.length; i < n; i++) a = new r, h = {
                                a: new r,
                                b: new r,
                                c: new r
                            }, l.push(a), u.push(h)
                        }
                        var c = this.morphNormals[t];
                        s.vertices = this.morphTargets[t].vertices, s.computeFaceNormals(), s.computeVertexNormals();
                        var a, h;
                        for (i = 0, n = this.faces.length; i < n; i++) o = this.faces[i], a = c.faceNormals[i], h = c.vertexNormals[i], a.copy(o.normal), h.a.copy(o.vertexNormals[0]), h.b.copy(o.vertexNormals[1]), h.c.copy(o.vertexNormals[2])
                    }
                    for (i = 0, n = this.faces.length; i < n; i++) o = this.faces[i], o.normal = o.__originalFaceNormal, o.vertexNormals = o.__originalVertexNormals
                }, computeBoundingBox: function () {
                    null === this.boundingBox && (this.boundingBox = new m), this.boundingBox.setFromPoints(this.vertices)
                }, computeBoundingSphere: function () {
                    null === this.boundingSphere && (this.boundingSphere = new v), this.boundingSphere.setFromPoints(this.vertices)
                }, merge: function (t, e, i) {
                    if (!t || !t.isGeometry) return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.", t);
                    var n, r = this.vertices.length,
                        s = this.vertices,
                        a = t.vertices,
                        h = this.faces,
                        l = t.faces,
                        u = this.colors,
                        c = t.colors;
                    void 0 === i && (i = 0), void 0 !== e && (n = (new o).getNormalMatrix(e));
                    for (var p = 0, d = a.length; p < d; p++) {
                        var f = a[p],
                            m = f.clone();
                        void 0 !== e && m.applyMatrix4(e), s.push(m)
                    }
                    for (var p = 0, d = c.length; p < d; p++) u.push(c[p].clone());
                    for (p = 0, d = l.length; p < d; p++) {
                        var g, v, _, y = l[p],
                            x = y.vertexNormals,
                            w = y.vertexColors;
                        g = new M(y.a + r, y.b + r, y.c + r), g.normal.copy(y.normal), void 0 !== n && g.normal.applyMatrix3(n).normalize();
                        for (var b = 0, S = x.length; b < S; b++) v = x[b].clone(), void 0 !== n && v.applyMatrix3(n).normalize(), g.vertexNormals.push(v);
                        g.color.copy(y.color);
                        for (var b = 0, S = w.length; b < S; b++) _ = w[b], g.vertexColors.push(_.clone());
                        g.materialIndex = y.materialIndex + i, h.push(g)
                    }
                    for (var p = 0, d = t.faceVertexUvs.length; p < d; p++) {
                        var T = t.faceVertexUvs[p];
                        void 0 === this.faceVertexUvs[p] && (this.faceVertexUvs[p] = []);
                        for (var b = 0, S = T.length; b < S; b++) {
                            for (var E = T[b], A = [], C = 0, P = E.length; C < P; C++) A.push(E[C].clone());
                            this.faceVertexUvs[p].push(A)
                        }
                    }
                }, mergeMesh: function (t) {
                    return t && t.isMesh ? (t.matrixAutoUpdate && t.updateMatrix(), void this.merge(t.geometry, t.matrix)) : void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.", t)
                }, mergeVertices: function () {
                    var t, e, i, n, r, o, s, a, h = {},
                        l = [],
                        u = [],
                        c = 4,
                        p = Math.pow(10, c);
                    for (i = 0, n = this.vertices.length; i < n; i++) t = this.vertices[i], e = Math.round(t.x * p) + "_" + Math.round(t.y * p) + "_" + Math.round(t.z * p), void 0 === h[e] ? (h[e] = i, l.push(this.vertices[i]), u[i] = l.length - 1) : u[i] = u[h[e]];
                    var d = [];
                    for (i = 0, n = this.faces.length; i < n; i++) {
                        r = this.faces[i], r.a = u[r.a], r.b = u[r.b], r.c = u[r.c], o = [r.a, r.b, r.c];
                        for (var f = 0; f < 3; f++)
                            if (o[f] === o[(f + 1) % 3]) {
                                d.push(i);
                                break
                            }
                    }
                    for (i = d.length - 1; i >= 0; i--) {
                        var m = d[i];
                        for (this.faces.splice(m, 1), s = 0, a = this.faceVertexUvs.length; s < a; s++) this.faceVertexUvs[s].splice(m, 1)
                    }
                    var g = this.vertices.length - l.length;
                    return this.vertices = l, g
                }, setFromPoints: function (t) {
                    this.vertices = [];
                    for (var e = 0, i = t.length; e < i; e++) {
                        var n = t[e];
                        this.vertices.push(new r(n.x, n.y, n.z || 0))
                    }
                    return this
                }, sortFacesByMaterialIndex: function () {
                    function t(t, e) {
                        return t.materialIndex - e.materialIndex
                    }
                    for (var e = this.faces, i = e.length, n = 0; n < i; n++) e[n]._id = n;
                    e.sort(t);
                    var r, o, s = this.faceVertexUvs[0],
                        a = this.faceVertexUvs[1];
                    s && s.length === i && (r = []), a && a.length === i && (o = []);
                    for (var n = 0; n < i; n++) {
                        var h = e[n]._id;
                        r && r.push(s[h]), o && o.push(a[h])
                    }
                    r && (this.faceVertexUvs[0] = r), o && (this.faceVertexUvs[1] = o)
                }, toJSON: function () {
                    function t(t, e, i) {
                        return i ? t | 1 << e : t & ~(1 << e)
                    }

                    function e(t) {
                        var e = t.x.toString() + t.y.toString() + t.z.toString();
                        return void 0 !== p[e] ? p[e] : (p[e] = c.length / 3, c.push(t.x, t.y, t.z), p[e])
                    }

                    function i(t) {
                        var e = t.r.toString() + t.g.toString() + t.b.toString();
                        return void 0 !== f[e] ? f[e] : (f[e] = d.length, d.push(t.getHex()), f[e])
                    }

                    function n(t) {
                        var e = t.x.toString() + t.y.toString();
                        return void 0 !== g[e] ? g[e] : (g[e] = m.length / 2, m.push(t.x, t.y), g[e])
                    }
                    var r = {
                        metadata: {
                            version: 4.5,
                            type: "Geometry",
                            generator: "Geometry.toJSON"
                        }
                    };
                    if (r.uuid = this.uuid, r.type = this.type, "" !== this.name && (r.name = this.name), void 0 !== this.parameters) {
                        var o = this.parameters;
                        for (var s in o) void 0 !== o[s] && (r[s] = o[s]);
                        return r
                    }
                    for (var a = [], h = 0; h < this.vertices.length; h++) {
                        var l = this.vertices[h];
                        a.push(l.x, l.y, l.z)
                    }
                    for (var u = [], c = [], p = {}, d = [], f = {}, m = [], g = {}, h = 0; h < this.faces.length; h++) {
                        var v = this.faces[h],
                            _ = !0,
                            y = !1,
                            x = void 0 !== this.faceVertexUvs[0][h],
                            w = v.normal.length() > 0,
                            b = v.vertexNormals.length > 0,
                            S = 1 !== v.color.r || 1 !== v.color.g || 1 !== v.color.b,
                            T = v.vertexColors.length > 0,
                            M = 0;
                        if (M = t(M, 0, 0), M = t(M, 1, _), M = t(M, 2, y), M = t(M, 3, x), M = t(M, 4, w), M = t(M, 5, b), M = t(M, 6, S), M = t(M, 7, T), u.push(M), u.push(v.a, v.b, v.c), u.push(v.materialIndex), x) {
                            var E = this.faceVertexUvs[0][h];
                            u.push(n(E[0]), n(E[1]), n(E[2]))
                        }
                        if (w && u.push(e(v.normal)), b) {
                            var A = v.vertexNormals;
                            u.push(e(A[0]), e(A[1]), e(A[2]))
                        }
                        if (S && u.push(i(v.color)), T) {
                            var C = v.vertexColors;
                            u.push(i(C[0]), i(C[1]), i(C[2]))
                        }
                    }
                    return r.data = {}, r.data.vertices = a, r.data.normals = c, d.length > 0 && (r.data.colors = d), m.length > 0 && (r.data.uvs = [m]), r.data.faces = u, r
                }, clone: function () {
                    return (new V).copy(this)
                }, copy: function (t) {
                    var e, i, n, r, o, s;
                    this.vertices = [], this.colors = [], this.faces = [], this.faceVertexUvs = [
                        []
                    ], this.morphTargets = [], this.morphNormals = [], this.skinWeights = [], this.skinIndices = [], this.lineDistances = [], this.boundingBox = null, this.boundingSphere = null, this.name = t.name;
                    var a = t.vertices;
                    for (e = 0, i = a.length; e < i; e++) this.vertices.push(a[e].clone());
                    var h = t.colors;
                    for (e = 0, i = h.length; e < i; e++) this.colors.push(h[e].clone());
                    var l = t.faces;
                    for (e = 0, i = l.length; e < i; e++) this.faces.push(l[e].clone());
                    for (e = 0, i = t.faceVertexUvs.length; e < i; e++) {
                        var u = t.faceVertexUvs[e];
                        for (void 0 === this.faceVertexUvs[e] && (this.faceVertexUvs[e] = []), n = 0, r = u.length; n < r; n++) {
                            var c = u[n],
                                p = [];
                            for (o = 0, s = c.length; o < s; o++) {
                                var d = c[o];
                                p.push(d.clone())
                            }
                            this.faceVertexUvs[e].push(p)
                        }
                    }
                    var f = t.morphTargets;
                    for (e = 0, i = f.length; e < i; e++) {
                        var m = {};
                        if (m.name = f[e].name, void 0 !== f[e].vertices)
                            for (m.vertices = [], n = 0, r = f[e].vertices.length; n < r; n++) m.vertices.push(f[e].vertices[n].clone());
                        if (void 0 !== f[e].normals)
                            for (m.normals = [], n = 0, r = f[e].normals.length; n < r; n++) m.normals.push(f[e].normals[n].clone());
                        this.morphTargets.push(m)
                    }
                    var g = t.morphNormals;
                    for (e = 0, i = g.length; e < i; e++) {
                        var v = {};
                        if (void 0 !== g[e].vertexNormals)
                            for (v.vertexNormals = [], n = 0, r = g[e].vertexNormals.length; n < r; n++) {
                                var _ = g[e].vertexNormals[n],
                                    y = {};
                                y.a = _.a.clone(), y.b = _.b.clone(), y.c = _.c.clone(), v.vertexNormals.push(y)
                            }
                        if (void 0 !== g[e].faceNormals)
                            for (v.faceNormals = [], n = 0, r = g[e].faceNormals.length; n < r; n++) v.faceNormals.push(g[e].faceNormals[n].clone());
                        this.morphNormals.push(v)
                    }
                    var x = t.skinWeights;
                    for (e = 0, i = x.length; e < i; e++) this.skinWeights.push(x[e].clone());
                    var w = t.skinIndices;
                    for (e = 0, i = w.length; e < i; e++) this.skinIndices.push(w[e].clone());
                    var b = t.lineDistances;
                    for (e = 0, i = b.length; e < i; e++) this.lineDistances.push(b[e]);
                    var S = t.boundingBox;
                    null !== S && (this.boundingBox = S.clone());
                    var T = t.boundingSphere;
                    return null !== T && (this.boundingSphere = T.clone()), this.elementsNeedUpdate = t.elementsNeedUpdate, this.verticesNeedUpdate = t.verticesNeedUpdate, this.uvsNeedUpdate = t.uvsNeedUpdate, this.normalsNeedUpdate = t.normalsNeedUpdate, this.colorsNeedUpdate = t.colorsNeedUpdate, this.lineDistancesNeedUpdate = t.lineDistancesNeedUpdate, this.groupsNeedUpdate = t.groupsNeedUpdate, this
                }, dispose: function () {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                }
            });
            var Bc = function (t) {
                    function e(e, i, n, r, o, s) {
                        t.call(this), this.type = "BoxGeometry", this.parameters = {
                            width: e,
                            height: i,
                            depth: n,
                            widthSegments: r,
                            heightSegments: o,
                            depthSegments: s
                        }, this.fromBufferGeometry(new Fc(e, i, n, r, o, s)), this.mergeVertices()
                    }
                    return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e
                }(V),
                Fc = function (t) {
                    function e(e, i, n, o, s, a) {
                        function h(t, e, i, n, o, s, a, h, g, v, _) {
                            var y, x, w = s / g,
                                b = a / v,
                                S = s / 2,
                                T = a / 2,
                                M = h / 2,
                                E = g + 1,
                                A = v + 1,
                                C = 0,
                                P = 0,
                                R = new r;
                            for (x = 0; x < A; x++) {
                                var L = x * b - T;
                                for (y = 0; y < E; y++) {
                                    var O = y * w - S;
                                    R[t] = O * n, R[e] = L * o, R[i] = M, c.push(R.x, R.y, R.z), R[t] = 0, R[e] = 0, R[i] = h > 0 ? 1 : -1, p.push(R.x, R.y, R.z), d.push(y / g), d.push(1 - x / v), C += 1
                                }
                            }
                            for (x = 0; x < v; x++)
                                for (y = 0; y < g; y++) {
                                    var I = f + y + E * x,
                                        D = f + y + E * (x + 1),
                                        k = f + (y + 1) + E * (x + 1),
                                        N = f + (y + 1) + E * x;
                                    u.push(I, D, N), u.push(D, k, N), P += 6
                                }
                            l.addGroup(m, P, _), m += P, f += C
                        }
                        t.call(this), this.type = "BoxBufferGeometry", this.parameters = {
                            width: e,
                            height: i,
                            depth: n,
                            widthSegments: o,
                            heightSegments: s,
                            depthSegments: a
                        };
                        var l = this;
                        e = e || 1, i = i || 1, n = n || 1, o = Math.floor(o) || 1, s = Math.floor(s) || 1, a = Math.floor(a) || 1;
                        var u = [],
                            c = [],
                            p = [],
                            d = [],
                            f = 0,
                            m = 0;
                        h("z", "y", "x", -1, -1, n, i, e, a, s, 0), h("z", "y", "x", 1, -1, n, i, -e, a, s, 1), h("x", "z", "y", 1, 1, e, n, i, o, a, 2), h("x", "z", "y", 1, -1, e, n, -i, o, a, 3), h("x", "y", "z", 1, -1, e, i, n, o, s, 4), h("x", "y", "z", -1, -1, e, i, -n, o, s, 5), this.setIndex(u), this.setAttribute("position", new N(c, 3)), this.setAttribute("normal", new N(p, 3)), this.setAttribute("uv", new N(d, 2))
                    }
                    return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e
                }(H),
                Hc = {
                    clone: W,
                    merge: q
                },
                Uc = "void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",
                Gc = "void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";
            X.prototype = Object.create(E.prototype), X.prototype.constructor = X, X.prototype.isShaderMaterial = !0, X.prototype.copy = function (t) {
                return E.prototype.copy.call(this, t), this.fragmentShader = t.fragmentShader, this.vertexShader = t.vertexShader, this.uniforms = W(t.uniforms), this.defines = Object.assign({}, t.defines), this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.lights = t.lights, this.clipping = t.clipping, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this.extensions = t.extensions, this
            }, X.prototype.toJSON = function (t) {
                var e = E.prototype.toJSON.call(this, t);
                e.uniforms = {};
                for (var i in this.uniforms) {
                    var n = this.uniforms[i],
                        r = n.value;
                    r && r.isTexture ? e.uniforms[i] = {
                        type: "t",
                        value: r.toJSON(t).uuid
                    } : r && r.isColor ? e.uniforms[i] = {
                        type: "c",
                        value: r.getHex()
                    } : r && r.isVector2 ? e.uniforms[i] = {
                        type: "v2",
                        value: r.toArray()
                    } : r && r.isVector3 ? e.uniforms[i] = {
                        type: "v3",
                        value: r.toArray()
                    } : r && r.isVector4 ? e.uniforms[i] = {
                        type: "v4",
                        value: r.toArray()
                    } : r && r.isMatrix3 ? e.uniforms[i] = {
                        type: "m3",
                        value: r.toArray()
                    } : r && r.isMatrix4 ? e.uniforms[i] = {
                        type: "m4",
                        value: r.toArray()
                    } : e.uniforms[i] = {
                        value: r
                    }
                }
                Object.keys(this.defines).length > 0 && (e.defines = this.defines), e.vertexShader = this.vertexShader, e.fragmentShader = this.fragmentShader;
                var o = {};
                for (var s in this.extensions) this.extensions[s] === !0 && (o[s] = !0);
                return Object.keys(o).length > 0 && (e.extensions = o), e
            }, Y.prototype = Object.assign(Object.create(d.prototype), {
                constructor: Y,
                isCamera: !0,
                copy: function (t, e) {
                    return d.prototype.copy.call(this, t, e), this.matrixWorldInverse.copy(t.matrixWorldInverse), this.projectionMatrix.copy(t.projectionMatrix), this.projectionMatrixInverse.copy(t.projectionMatrixInverse), this
                }, getWorldDirection: function (t) {
                    void 0 === t && (console.warn("THREE.Camera: .getWorldDirection() target is now required"), t = new r), this.updateMatrixWorld(!0);
                    var e = this.matrixWorld.elements;
                    return t.set(-e[8], -e[9], -e[10]).normalize()
                }, updateMatrixWorld: function (t) {
                    d.prototype.updateMatrixWorld.call(this, t), this.matrixWorldInverse.getInverse(this.matrixWorld)
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }
            }), Z.prototype = Object.assign(Object.create(Y.prototype), {
                constructor: Z,
                isPerspectiveCamera: !0,
                copy: function (t, e) {
                    return Y.prototype.copy.call(this, t, e), this.fov = t.fov, this.zoom = t.zoom, this.near = t.near, this.far = t.far, this.focus = t.focus, this.aspect = t.aspect, this.view = null === t.view ? null : Object.assign({}, t.view), this.filmGauge = t.filmGauge, this.filmOffset = t.filmOffset, this
                }, setFocalLength: function (t) {
                    var e = .5 * this.getFilmHeight() / t;
                    this.fov = 2 * Kl.RAD2DEG * Math.atan(e), this.updateProjectionMatrix()
                }, getFocalLength: function () {
                    var t = Math.tan(.5 * Kl.DEG2RAD * this.fov);
                    return .5 * this.getFilmHeight() / t
                }, getEffectiveFOV: function () {
                    return 2 * Kl.RAD2DEG * Math.atan(Math.tan(.5 * Kl.DEG2RAD * this.fov) / this.zoom)
                }, getFilmWidth: function () {
                    return this.filmGauge * Math.min(this.aspect, 1)
                }, getFilmHeight: function () {
                    return this.filmGauge / Math.max(this.aspect, 1)
                }, setViewOffset: function (t, e, i, n, r, o) {
                    this.aspect = t / e, null === this.view && (this.view = {
                        enabled: !0,
                        fullWidth: 1,
                        fullHeight: 1,
                        offsetX: 0,
                        offsetY: 0,
                        width: 1,
                        height: 1
                    }), this.view.enabled = !0, this.view.fullWidth = t, this.view.fullHeight = e, this.view.offsetX = i, this.view.offsetY = n, this.view.width = r, this.view.height = o, this.updateProjectionMatrix()
                }, clearViewOffset: function () {
                    null !== this.view && (this.view.enabled = !1), this.updateProjectionMatrix()
                }, updateProjectionMatrix: function () {
                    var t = this.near,
                        e = t * Math.tan(.5 * Kl.DEG2RAD * this.fov) / this.zoom,
                        i = 2 * e,
                        n = this.aspect * i,
                        r = -.5 * n,
                        o = this.view;
                    if (null !== this.view && this.view.enabled) {
                        var s = o.fullWidth,
                            a = o.fullHeight;
                        r += o.offsetX * n / s, e -= o.offsetY * i / a, n *= o.width / s, i *= o.height / a
                    }
                    var h = this.filmOffset;
                    0 !== h && (r += t * h / this.getFilmWidth()), this.projectionMatrix.makePerspective(r, r + n, e, e - i, t, this.far), this.projectionMatrixInverse.getInverse(this.projectionMatrix)
                }, toJSON: function (t) {
                    var e = d.prototype.toJSON.call(this, t);
                    return e.object.fov = this.fov, e.object.zoom = this.zoom, e.object.near = this.near, e.object.far = this.far, e.object.focus = this.focus, e.object.aspect = this.aspect, null !== this.view && (e.object.view = Object.assign({}, this.view)), e.object.filmGauge = this.filmGauge, e.object.filmOffset = this.filmOffset, e
                }
            });
            var jc = 90,
                Vc = 1;
            J.prototype = Object.create(d.prototype), J.prototype.constructor = J, $.prototype = Object.create(h.prototype), $.prototype.constructor = $, $.prototype.isWebGLRenderTargetCube = !0, $.prototype.fromEquirectangularTexture = function (t, e) {
                this.texture.type = e.type, this.texture.format = e.format, this.texture.encoding = e.encoding;
                var i = new f,
                    n = {
                        uniforms: {
                            tEquirect: {
                                value: null
                            }
                        },
                        vertexShader: ["varying vec3 vWorldDirection;", "vec3 transformDirection( in vec3 dir, in mat4 matrix ) {", "\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );", "}", "void main() {", "\tvWorldDirection = transformDirection( position, modelMatrix );", "\t#include <begin_vertex>", "\t#include <project_vertex>", "}"].join("\n"),
                        fragmentShader: ["uniform sampler2D tEquirect;", "varying vec3 vWorldDirection;", "#define RECIPROCAL_PI 0.31830988618", "#define RECIPROCAL_PI2 0.15915494", "void main() {", "\tvec3 direction = normalize( vWorldDirection );", "\tvec2 sampleUV;", "\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;", "\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;", "\tgl_FragColor = texture2D( tEquirect, sampleUV );", "}"].join("\n")
                    },
                    r = new X({
                        type: "CubemapFromEquirect",
                        uniforms: W(n.uniforms),
                        vertexShader: n.vertexShader,
                        fragmentShader: n.fragmentShader,
                        side: Ks,
                        blending: oa
                    });
                r.uniforms.tEquirect.value = e;
                var o = new U(new Fc(5, 5, 5), r);
                i.add(o);
                var s = new J(1, 10, 1);
                return s.renderTarget = this, s.renderTarget.texture.name = "CubeCameraTexture", s.update(t, i), o.geometry.dispose(), o.material.dispose(), this
            }, K.prototype = Object.create(s.prototype), K.prototype.constructor = K, K.prototype.isDataTexture = !0;
            var Wc = new v,
                qc = new r;
            Object.assign(Q.prototype, {
                set: function (t, e, i, n, r, o) {
                    var s = this.planes;
                    return s[0].copy(t), s[1].copy(e), s[2].copy(i), s[3].copy(n), s[4].copy(r), s[5].copy(o), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    for (var e = this.planes, i = 0; i < 6; i++) e[i].copy(t.planes[i]);
                    return this
                }, setFromMatrix: function (t) {
                    var e = this.planes,
                        i = t.elements,
                        n = i[0],
                        r = i[1],
                        o = i[2],
                        s = i[3],
                        a = i[4],
                        h = i[5],
                        l = i[6],
                        u = i[7],
                        c = i[8],
                        p = i[9],
                        d = i[10],
                        f = i[11],
                        m = i[12],
                        g = i[13],
                        v = i[14],
                        _ = i[15];
                    return e[0].setComponents(s - n, u - a, f - c, _ - m).normalize(), e[1].setComponents(s + n, u + a, f + c, _ + m).normalize(), e[2].setComponents(s + r, u + h, f + p, _ + g).normalize(), e[3].setComponents(s - r, u - h, f - p, _ - g).normalize(), e[4].setComponents(s - o, u - l, f - d, _ - v).normalize(), e[5].setComponents(s + o, u + l, f + d, _ + v).normalize(), this
                }, intersectsObject: function (t) {
                    var e = t.geometry;
                    return null === e.boundingSphere && e.computeBoundingSphere(), Wc.copy(e.boundingSphere).applyMatrix4(t.matrixWorld), this.intersectsSphere(Wc)
                }, intersectsSprite: function (t) {
                    return Wc.center.set(0, 0, 0), Wc.radius = .7071067811865476, Wc.applyMatrix4(t.matrixWorld), this.intersectsSphere(Wc)
                }, intersectsSphere: function (t) {
                    for (var e = this.planes, i = t.center, n = -t.radius, r = 0; r < 6; r++) {
                        var o = e[r].distanceToPoint(i);
                        if (o < n) return !1
                    }
                    return !0
                }, intersectsBox: function (t) {
                    for (var e = this.planes, i = 0; i < 6; i++) {
                        var n = e[i];
                        if (qc.x = n.normal.x > 0 ? t.max.x : t.min.x, qc.y = n.normal.y > 0 ? t.max.y : t.min.y, qc.z = n.normal.z > 0 ? t.max.z : t.min.z, n.distanceToPoint(qc) < 0) return !1
                    }
                    return !0
                }, containsPoint: function (t) {
                    for (var e = this.planes, i = 0; i < 6; i++)
                        if (e[i].distanceToPoint(t) < 0) return !1;
                    return !0
                }
            });
            var Xc = "#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",
                Yc = "#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",
                Zc = "#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",
                Jc = "#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",
                $c = "#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",
                Kc = "vec3 transformed = vec3( position );",
                Qc = "vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",
                tp = "vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",
                ep = "#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",
                ip = "#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",
                np = "#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",
                rp = "#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",
                op = "#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",
                sp = "#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",
                ap = "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",
                hp = "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",
                lp = "#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",
                up = "#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n  return m[ 2 ][ 3 ] == - 1.0;\n}",
                cp = "#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",
                pp = "vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\ttransformedNormal = mat3( instanceMatrix ) * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",
                dp = "#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",
                fp = "#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",
                mp = "#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",
                gp = "#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",
                vp = "gl_FragColor = linearToOutputTexel( gl_FragColor );",
                _p = "\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",
                yp = "#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t}  else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",
                xp = "#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",
                wp = "#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",
                bp = "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",
                Sp = "#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) { \n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",
                Tp = "#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",
                Mp = "#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",
                Ep = "#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",
                Ap = "#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",
                Cp = "#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",
                Pp = "#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",
                Rp = "#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",
                Lp = "vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",
                Op = "uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",
                Ip = "#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",
                Dp = "BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",
                kp = "varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",
                Np = "PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = saturate( clearcoat );\tmaterial.clearcoatRoughness = clamp( clearcoatRoughness, 0.04, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",
                zp = "struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",
                Bp = "\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",
                Fp = "#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",
                Hp = "#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",
                Up = "#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",
                Gp = "#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",
                jp = "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",
                Vp = "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",
                Wp = "#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",
                qp = "#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",
                Xp = "#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",
                Yp = "#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",
                Zp = "float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",
                Jp = "#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",
                $p = "#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",
                Kp = "#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",
                Qp = "#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",
                td = "#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",
                ed = "#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\t#ifdef USE_TANGENT\n\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, normalScale, normalMap );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",
                id = "#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec2 normalScale, in sampler2D normalMap ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy *= normalScale;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tbool frontFacing = dot( cross( S, T ), N ) > 0.0;\n\t\t\tmapN.xy *= ( float( frontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",
                nd = "#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",
                rd = "#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 vTBN = mat3( tangent, bitangent, clearcoatNormal );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = clearcoatNormalScale * mapN.xy;\n\t\tclearcoatNormal = normalize( vTBN * mapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatNormalScale, clearcoatNormalMap );\n\t#endif\n#endif",
                od = "#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",
                sd = "vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 encodeHalfRGBA ( vec2 v ) {\n\tvec4 encoded = vec4( 0.0 );\n\tconst vec2 offset = vec2( 1.0 / 255.0, 0.0 );\n\tencoded.xy = vec2( v.x, fract( v.x * 255.0 ) );\n\tencoded.xy = encoded.xy - ( encoded.yy * offset );\n\tencoded.zw = vec2( v.y, fract( v.y * 255.0 ) );\n\tencoded.zw = encoded.zw - ( encoded.ww * offset );\n\treturn encoded;\n}\nvec2 decodeHalfRGBA( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",
                ad = "#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",
                hd = "vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",
                ld = "#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",
                ud = "#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",
                cd = "float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",
                pd = "#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",
                dd = "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn decodeHalfRGBA( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = ( floor( uv * size - 0.5 ) + 0.5 ) * texelSize;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",
                fd = "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",
                md = "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",
                gd = "float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= all( bvec2( directionalLight.shadow, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= all( bvec2( spotLight.shadow, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= all( bvec2( pointLight.shadow, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",
                vd = "#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",
                _d = "#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",
                yd = "#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",
                xd = "#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",
                wd = "float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",
                bd = "#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",
                Sd = "#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",
                Td = "#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",
                Md = "#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",
                Ed = "#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",
                Ad = "#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",
                Cd = "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",
                Pd = "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",
                Rd = "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",
                Ld = "#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",
                Od = "uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",
                Id = "varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",
                Dd = "uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",
                kd = "varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",
                Nd = "#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",
                zd = "#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",
                Bd = "#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",
                Fd = "#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",
                Hd = "uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",
                Ud = "varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",
                Gd = "uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
                jd = "uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",
                Vd = "uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
                Wd = "#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",
                qd = "uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
                Xd = "#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
                Yd = "#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
                Zd = "#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",
                Jd = "#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
                $d = "#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
                Kd = "#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
                Qd = "#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
                tf = "#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",
                ef = "#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",
                nf = "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
                rf = "uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",
                of = "uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",
                sf = "#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
                af = "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
                hf = "uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",
                lf = {
                    alphamap_fragment: Xc,
                    alphamap_pars_fragment: Yc,
                    alphatest_fragment: Zc,
                    aomap_fragment: Jc,
                    aomap_pars_fragment: $c,
                    begin_vertex: Kc,
                    beginnormal_vertex: Qc,
                    bsdfs: tp,
                    bumpmap_pars_fragment: ep,
                    clipping_planes_fragment: ip,
                    clipping_planes_pars_fragment: np,
                    clipping_planes_pars_vertex: rp,
                    clipping_planes_vertex: op,
                    color_fragment: sp,
                    color_pars_fragment: ap,
                    color_pars_vertex: hp,
                    color_vertex: lp,
                    common: up,
                    cube_uv_reflection_fragment: cp,
                    defaultnormal_vertex: pp,
                    displacementmap_pars_vertex: dp,
                    displacementmap_vertex: fp,
                    emissivemap_fragment: mp,
                    emissivemap_pars_fragment: gp,
                    encodings_fragment: vp,
                    encodings_pars_fragment: _p,
                    envmap_fragment: yp,
                    envmap_common_pars_fragment: xp,
                    envmap_pars_fragment: wp,
                    envmap_pars_vertex: bp,
                    envmap_physical_pars_fragment: Ip,
                    envmap_vertex: Sp,
                    fog_vertex: Tp,
                    fog_pars_vertex: Mp,
                    fog_fragment: Ep,
                    fog_pars_fragment: Ap,
                    gradientmap_pars_fragment: Cp,
                    lightmap_fragment: Pp,
                    lightmap_pars_fragment: Rp,
                    lights_lambert_vertex: Lp,
                    lights_pars_begin: Op,
                    lights_phong_fragment: Dp,
                    lights_phong_pars_fragment: kp,
                    lights_physical_fragment: Np,
                    lights_physical_pars_fragment: zp,
                    lights_fragment_begin: Bp,
                    lights_fragment_maps: Fp,
                    lights_fragment_end: Hp,
                    logdepthbuf_fragment: Up,
                    logdepthbuf_pars_fragment: Gp,
                    logdepthbuf_pars_vertex: jp,
                    logdepthbuf_vertex: Vp,
                    map_fragment: Wp,
                    map_pars_fragment: qp,
                    map_particle_fragment: Xp,
                    map_particle_pars_fragment: Yp,
                    metalnessmap_fragment: Zp,
                    metalnessmap_pars_fragment: Jp,
                    morphnormal_vertex: $p,
                    morphtarget_pars_vertex: Kp,
                    morphtarget_vertex: Qp,
                    normal_fragment_begin: td,
                    normal_fragment_maps: ed,
                    normalmap_pars_fragment: id,
                    clearcoat_normal_fragment_begin: nd,
                    clearcoat_normal_fragment_maps: rd,
                    clearcoat_normalmap_pars_fragment: od,
                    packing: sd,
                    premultiplied_alpha_fragment: ad,
                    project_vertex: hd,
                    dithering_fragment: ld,
                    dithering_pars_fragment: ud,
                    roughnessmap_fragment: cd,
                    roughnessmap_pars_fragment: pd,
                    shadowmap_pars_fragment: dd,
                    shadowmap_pars_vertex: fd,
                    shadowmap_vertex: md,
                    shadowmask_pars_fragment: gd,
                    skinbase_vertex: vd,
                    skinning_pars_vertex: _d,
                    skinning_vertex: yd,
                    skinnormal_vertex: xd,
                    specularmap_fragment: wd,
                    specularmap_pars_fragment: bd,
                    tonemapping_fragment: Sd,
                    tonemapping_pars_fragment: Td,
                    uv_pars_fragment: Md,
                    uv_pars_vertex: Ed,
                    uv_vertex: Ad,
                    uv2_pars_fragment: Cd,
                    uv2_pars_vertex: Pd,
                    uv2_vertex: Rd,
                    worldpos_vertex: Ld,
                    background_frag: Od,
                    background_vert: Id,
                    cube_frag: Dd,
                    cube_vert: kd,
                    depth_frag: Nd,
                    depth_vert: zd,
                    distanceRGBA_frag: Bd,
                    distanceRGBA_vert: Fd,
                    equirect_frag: Hd,
                    equirect_vert: Ud,
                    linedashed_frag: Gd,
                    linedashed_vert: jd,
                    meshbasic_frag: Vd,
                    meshbasic_vert: Wd,
                    meshlambert_frag: qd,
                    meshlambert_vert: Xd,
                    meshmatcap_frag: Yd,
                    meshmatcap_vert: Zd,
                    meshphong_frag: Jd,
                    meshphong_vert: $d,
                    meshphysical_frag: Kd,
                    meshphysical_vert: Qd,
                    normal_frag: tf,
                    normal_vert: ef,
                    points_frag: nf,
                    points_vert: rf,
                    shadow_frag: of,
                    shadow_vert: sf,
                    sprite_frag: af,
                    sprite_vert: hf
                },
                uf = {
                    common: {
                        diffuse: {
                            value: new w(15658734)
                        },
                        opacity: {
                            value: 1
                        },
                        map: {
                            value: null
                        },
                        uvTransform: {
                            value: new o
                        },
                        alphaMap: {
                            value: null
                        }
                    },
                    specularmap: {
                        specularMap: {
                            value: null
                        }
                    },
                    envmap: {
                        envMap: {
                            value: null
                        },
                        flipEnvMap: {
                            value: -1
                        },
                        reflectivity: {
                            value: 1
                        },
                        refractionRatio: {
                            value: .98
                        },
                        maxMipLevel: {
                            value: 0
                        }
                    },
                    aomap: {
                        aoMap: {
                            value: null
                        },
                        aoMapIntensity: {
                            value: 1
                        }
                    },
                    lightmap: {
                        lightMap: {
                            value: null
                        },
                        lightMapIntensity: {
                            value: 1
                        }
                    },
                    emissivemap: {
                        emissiveMap: {
                            value: null
                        }
                    },
                    bumpmap: {
                        bumpMap: {
                            value: null
                        },
                        bumpScale: {
                            value: 1
                        }
                    },
                    normalmap: {
                        normalMap: {
                            value: null
                        },
                        normalScale: {
                            value: new i(1, 1)
                        }
                    },
                    displacementmap: {
                        displacementMap: {
                            value: null
                        },
                        displacementScale: {
                            value: 1
                        },
                        displacementBias: {
                            value: 0
                        }
                    },
                    roughnessmap: {
                        roughnessMap: {
                            value: null
                        }
                    },
                    metalnessmap: {
                        metalnessMap: {
                            value: null
                        }
                    },
                    gradientmap: {
                        gradientMap: {
                            value: null
                        }
                    },
                    fog: {
                        fogDensity: {
                            value: 25e-5
                        },
                        fogNear: {
                            value: 1
                        },
                        fogFar: {
                            value: 2e3
                        },
                        fogColor: {
                            value: new w(16777215)
                        }
                    },
                    lights: {
                        ambientLightColor: {
                            value: []
                        },
                        lightProbe: {
                            value: []
                        },
                        directionalLights: {
                            value: [],
                            properties: {
                                direction: {},
                                color: {},
                                shadow: {},
                                shadowBias: {},
                                shadowRadius: {},
                                shadowMapSize: {}
                            }
                        },
                        directionalShadowMap: {
                            value: []
                        },
                        directionalShadowMatrix: {
                            value: []
                        },
                        spotLights: {
                            value: [],
                            properties: {
                                color: {},
                                position: {},
                                direction: {},
                                distance: {},
                                coneCos: {},
                                penumbraCos: {},
                                decay: {},
                                shadow: {},
                                shadowBias: {},
                                shadowRadius: {},
                                shadowMapSize: {}
                            }
                        },
                        spotShadowMap: {
                            value: []
                        },
                        spotShadowMatrix: {
                            value: []
                        },
                        pointLights: {
                            value: [],
                            properties: {
                                color: {},
                                position: {},
                                decay: {},
                                distance: {},
                                shadow: {},
                                shadowBias: {},
                                shadowRadius: {},
                                shadowMapSize: {},
                                shadowCameraNear: {},
                                shadowCameraFar: {}
                            }
                        },
                        pointShadowMap: {
                            value: []
                        },
                        pointShadowMatrix: {
                            value: []
                        },
                        hemisphereLights: {
                            value: [],
                            properties: {
                                direction: {},
                                skyColor: {},
                                groundColor: {}
                            }
                        },
                        rectAreaLights: {
                            value: [],
                            properties: {
                                color: {},
                                position: {},
                                width: {},
                                height: {}
                            }
                        }
                    },
                    points: {
                        diffuse: {
                            value: new w(15658734)
                        },
                        opacity: {
                            value: 1
                        },
                        size: {
                            value: 1
                        },
                        scale: {
                            value: 1
                        },
                        map: {
                            value: null
                        },
                        alphaMap: {
                            value: null
                        },
                        uvTransform: {
                            value: new o
                        }
                    },
                    sprite: {
                        diffuse: {
                            value: new w(15658734)
                        },
                        opacity: {
                            value: 1
                        },
                        center: {
                            value: new i(.5, .5)
                        },
                        rotation: {
                            value: 0
                        },
                        map: {
                            value: null
                        },
                        alphaMap: {
                            value: null
                        },
                        uvTransform: {
                            value: new o
                        }
                    }
                },
                cf = {
                    basic: {
                        uniforms: q([uf.common, uf.specularmap, uf.envmap, uf.aomap, uf.lightmap, uf.fog]),
                        vertexShader: lf.meshbasic_vert,
                        fragmentShader: lf.meshbasic_frag
                    },
                    lambert: {
                        uniforms: q([uf.common, uf.specularmap, uf.envmap, uf.aomap, uf.lightmap, uf.emissivemap, uf.fog, uf.lights, {
                            emissive: {
                                value: new w(0)
                            }
                        }]),
                        vertexShader: lf.meshlambert_vert,
                        fragmentShader: lf.meshlambert_frag
                    },
                    phong: {
                        uniforms: q([uf.common, uf.specularmap, uf.envmap, uf.aomap, uf.lightmap, uf.emissivemap, uf.bumpmap, uf.normalmap, uf.displacementmap, uf.gradientmap, uf.fog, uf.lights, {
                            emissive: {
                                value: new w(0)
                            },
                            specular: {
                                value: new w(1118481)
                            },
                            shininess: {
                                value: 30
                            }
                        }]),
                        vertexShader: lf.meshphong_vert,
                        fragmentShader: lf.meshphong_frag
                    },
                    standard: {
                        uniforms: q([uf.common, uf.envmap, uf.aomap, uf.lightmap, uf.emissivemap, uf.bumpmap, uf.normalmap, uf.displacementmap, uf.roughnessmap, uf.metalnessmap, uf.fog, uf.lights, {
                            emissive: {
                                value: new w(0)
                            },
                            roughness: {
                                value: .5
                            },
                            metalness: {
                                value: .5
                            },
                            envMapIntensity: {
                                value: 1
                            }
                        }]),
                        vertexShader: lf.meshphysical_vert,
                        fragmentShader: lf.meshphysical_frag
                    },
                    matcap: {
                        uniforms: q([uf.common, uf.bumpmap, uf.normalmap, uf.displacementmap, uf.fog, {
                            matcap: {
                                value: null
                            }
                        }]),
                        vertexShader: lf.meshmatcap_vert,
                        fragmentShader: lf.meshmatcap_frag
                    },
                    points: {
                        uniforms: q([uf.points, uf.fog]),
                        vertexShader: lf.points_vert,
                        fragmentShader: lf.points_frag
                    },
                    dashed: {
                        uniforms: q([uf.common, uf.fog, {
                            scale: {
                                value: 1
                            },
                            dashSize: {
                                value: 1
                            },
                            totalSize: {
                                value: 2
                            }
                        }]),
                        vertexShader: lf.linedashed_vert,
                        fragmentShader: lf.linedashed_frag
                    },
                    depth: {
                        uniforms: q([uf.common, uf.displacementmap]),
                        vertexShader: lf.depth_vert,
                        fragmentShader: lf.depth_frag
                    },
                    normal: {
                        uniforms: q([uf.common, uf.bumpmap, uf.normalmap, uf.displacementmap, {
                            opacity: {
                                value: 1
                            }
                        }]),
                        vertexShader: lf.normal_vert,
                        fragmentShader: lf.normal_frag
                    },
                    sprite: {
                        uniforms: q([uf.sprite, uf.fog]),
                        vertexShader: lf.sprite_vert,
                        fragmentShader: lf.sprite_frag
                    },
                    background: {
                        uniforms: {
                            uvTransform: {
                                value: new o
                            },
                            t2D: {
                                value: null
                            }
                        },
                        vertexShader: lf.background_vert,
                        fragmentShader: lf.background_frag
                    },
                    cube: {
                        uniforms: {
                            tCube: {
                                value: null
                            },
                            tFlip: {
                                value: -1
                            },
                            opacity: {
                                value: 1
                            }
                        },
                        vertexShader: lf.cube_vert,
                        fragmentShader: lf.cube_frag
                    },
                    equirect: {
                        uniforms: {
                            tEquirect: {
                                value: null
                            }
                        },
                        vertexShader: lf.equirect_vert,
                        fragmentShader: lf.equirect_frag
                    },
                    distanceRGBA: {
                        uniforms: q([uf.common, uf.displacementmap, {
                            referencePosition: {
                                value: new r
                            },
                            nearDistance: {
                                value: 1
                            },
                            farDistance: {
                                value: 1e3
                            }
                        }]),
                        vertexShader: lf.distanceRGBA_vert,
                        fragmentShader: lf.distanceRGBA_frag
                    },
                    shadow: {
                        uniforms: q([uf.lights, uf.fog, {
                            color: {
                                value: new w(0)
                            },
                            opacity: {
                                value: 1
                            }
                        }]),
                        vertexShader: lf.shadow_vert,
                        fragmentShader: lf.shadow_frag
                    }
                };
            cf.physical = {
                uniforms: q([cf.standard.uniforms, {
                    transparency: {
                        value: 0
                    },
                    clearcoat: {
                        value: 0
                    },
                    clearcoatRoughness: {
                        value: 0
                    },
                    sheen: {
                        value: new w(0)
                    },
                    clearcoatNormalScale: {
                        value: new i(1, 1)
                    },
                    clearcoatNormalMap: {
                        value: null
                    }
                }]),
                vertexShader: lf.meshphysical_vert,
                fragmentShader: lf.meshphysical_frag
            }, it.prototype = Object.create(V.prototype), it.prototype.constructor = it, nt.prototype = Object.create(H.prototype), nt.prototype.constructor = nt, mt.prototype = Object.create(s.prototype), mt.prototype.constructor = mt, mt.prototype.isCubeTexture = !0, Object.defineProperty(mt.prototype, "images", {
                get: function () {
                    return this.image
                }, set: function (t) {
                    this.image = t
                }
            }), gt.prototype = Object.create(s.prototype), gt.prototype.constructor = gt, gt.prototype.isDataTexture2DArray = !0, vt.prototype = Object.create(s.prototype), vt.prototype.constructor = vt, vt.prototype.isDataTexture3D = !0;
            var pf = new s,
                df = new gt,
                ff = new vt,
                mf = new mt,
                gf = [],
                vf = [],
                _f = new Float32Array(16),
                yf = new Float32Array(9),
                xf = new Float32Array(4);
            Qt.prototype.updateCache = function (t) {
                var e = this.cache;
                t instanceof Float32Array && e.length !== t.length && (this.cache = new Float32Array(t.length)), xt(e, t)
            }, te.prototype.setValue = function (t, e, i) {
                for (var n = this.seq, r = 0, o = n.length; r !== o; ++r) {
                    var s = n[r];
                    s.setValue(t, e[s.id], i)
                }
            };
            var wf = /([\w\d_]+)(\])?(\[|\.)?/g;
            ne.prototype.setValue = function (t, e, i, n) {
                var r = this.map[e];
                void 0 !== r && r.setValue(t, i, n)
            }, ne.prototype.setOptional = function (t, e, i) {
                var n = e[i];
                void 0 !== n && this.setValue(t, i, n)
            }, ne.upload = function (t, e, i, n) {
                for (var r = 0, o = e.length; r !== o; ++r) {
                    var s = e[r],
                        a = i[s.id];
                    a.needsUpdate !== !1 && s.setValue(t, a.value, n)
                }
            }, ne.seqWithValue = function (t, e) {
                for (var i = [], n = 0, r = t.length; n !== r; ++n) {
                    var o = t[n];
                    o.id in e && i.push(o)
                }
                return i
            };
            var bf = 0,
                Sf = /^[ \t]*#include +<([\w\d./]+)>/gm,
                Tf = /#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,
                Mf = 0;
            Be.prototype = Object.create(E.prototype), Be.prototype.constructor = Be, Be.prototype.isMeshDepthMaterial = !0, Be.prototype.copy = function (t) {
                return E.prototype.copy.call(this, t), this.depthPacking = t.depthPacking, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.map = t.map, this.alphaMap = t.alphaMap, this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this
            }, Fe.prototype = Object.create(E.prototype), Fe.prototype.constructor = Fe, Fe.prototype.isMeshDistanceMaterial = !0, Fe.prototype.copy = function (t) {
                return E.prototype.copy.call(this, t), this.referencePosition.copy(t.referencePosition), this.nearDistance = t.nearDistance, this.farDistance = t.farDistance, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.map = t.map, this.alphaMap = t.alphaMap, this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this
            };
            var Ef = "uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n  \n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = decodeHalfRGBA ( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = pow( squared_mean - mean * mean, 0.5 );\n  gl_FragColor = encodeHalfRGBA( vec2( mean, std_dev ) );\n}",
                Af = "void main() {\n\tgl_Position = vec4( position, 1.0 );\n}";
            Ve.prototype = Object.assign(Object.create(h.prototype), {
                constructor: Ve,
                isWebGLMultiviewRenderTarget: !0,
                copy: function (t) {
                    return h.prototype.copy.call(this, t), this.numViews = t.numViews, this
                }, setNumViews: function (t) {
                    return this.numViews !== t && (this.numViews = t, this.dispose()), this
                }
            }), qe.prototype = Object.assign(Object.create(d.prototype), {
                constructor: qe,
                isGroup: !0
            }), Xe.prototype = Object.assign(Object.create(Z.prototype), {
                constructor: Xe,
                isArrayCamera: !0
            });
            var Cf = new r,
                Pf = new r;
            Object.assign(Ze.prototype, e.prototype), Object.assign(Je.prototype, e.prototype), Object.assign(Ke.prototype, {
                isFogExp2: !0,
                clone: function () {
                    return new Ke(this.color, this.density)
                }, toJSON: function () {
                    return {
                        type: "FogExp2",
                        color: this.color.getHex(),
                        density: this.density
                    }
                }
            }), Object.assign(Qe.prototype, {
                isFog: !0,
                clone: function () {
                    return new Qe(this.color, this.near, this.far)
                }, toJSON: function () {
                    return {
                        type: "Fog",
                        color: this.color.getHex(),
                        near: this.near,
                        far: this.far
                    }
                }
            }), Object.defineProperty(ti.prototype, "needsUpdate", {
                set: function (t) {
                    t === !0 && this.version++
                }
            }), Object.assign(ti.prototype, {
                isInterleavedBuffer: !0,
                onUploadCallback: function () {}, setUsage: function (t) {
                    return this.usage = t, this
                }, copy: function (t) {
                    return this.array = new t.array.constructor(t.array), this.count = t.count, this.stride = t.stride, this.usage = t.usage, this
                }, copyAt: function (t, e, i) {
                    t *= this.stride, i *= e.stride;
                    for (var n = 0, r = this.stride; n < r; n++) this.array[t + n] = e.array[i + n];
                    return this
                }, set: function (t, e) {
                    return void 0 === e && (e = 0), this.array.set(t, e), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, onUpload: function (t) {
                    return this.onUploadCallback = t, this
                }
            }), Object.defineProperties(ei.prototype, {
                count: {
                    get: function () {
                        return this.data.count
                    }
                },
                array: {
                    get: function () {
                        return this.data.array
                    }
                }
            }), Object.assign(ei.prototype, {
                isInterleavedBufferAttribute: !0,
                setX: function (t, e) {
                    return this.data.array[t * this.data.stride + this.offset] = e, this
                }, setY: function (t, e) {
                    return this.data.array[t * this.data.stride + this.offset + 1] = e, this
                }, setZ: function (t, e) {
                    return this.data.array[t * this.data.stride + this.offset + 2] = e, this
                }, setW: function (t, e) {
                    return this.data.array[t * this.data.stride + this.offset + 3] = e, this
                }, getX: function (t) {
                    return this.data.array[t * this.data.stride + this.offset]
                }, getY: function (t) {
                    return this.data.array[t * this.data.stride + this.offset + 1]
                }, getZ: function (t) {
                    return this.data.array[t * this.data.stride + this.offset + 2]
                }, getW: function (t) {
                    return this.data.array[t * this.data.stride + this.offset + 3]
                }, setXY: function (t, e, i) {
                    return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = i, this
                }, setXYZ: function (t, e, i, n) {
                    return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = i, this.data.array[t + 2] = n, this
                }, setXYZW: function (t, e, i, n, r) {
                    return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = i, this.data.array[t + 2] = n, this.data.array[t + 3] = r, this
                }
            }), ii.prototype = Object.create(E.prototype), ii.prototype.constructor = ii, ii.prototype.isSpriteMaterial = !0, ii.prototype.copy = function (t) {
                return E.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.alphaMap = t.alphaMap, this.rotation = t.rotation, this.sizeAttenuation = t.sizeAttenuation, this
            };
            var Rf, Lf = new r,
                Of = new r,
                If = new r,
                Df = new i,
                kf = new i,
                Nf = new u,
                zf = new r,
                Bf = new r,
                Ff = new r,
                Hf = new i,
                Uf = new i,
                Gf = new i;
            ni.prototype = Object.assign(Object.create(d.prototype), {
                constructor: ni,
                isSprite: !0,
                raycast: function (t, e) {
                    null === t.camera && console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'), Of.setFromMatrixScale(this.matrixWorld), Nf.copy(t.camera.matrixWorld), this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse, this.matrixWorld), If.setFromMatrixPosition(this.modelViewMatrix), t.camera.isPerspectiveCamera && this.material.sizeAttenuation === !1 && Of.multiplyScalar(-If.z);
                    var n, r, o = this.material.rotation;
                    0 !== o && (r = Math.cos(o), n = Math.sin(o));
                    var s = this.center;
                    ri(zf.set(-.5, -.5, 0), If, s, Of, n, r), ri(Bf.set(.5, -.5, 0), If, s, Of, n, r), ri(Ff.set(.5, .5, 0), If, s, Of, n, r), Hf.set(0, 0), Uf.set(1, 0), Gf.set(1, 1);
                    var a = t.ray.intersectTriangle(zf, Bf, Ff, !1, Lf);
                    if (null !== a || (ri(Bf.set(-.5, .5, 0), If, s, Of, n, r), Uf.set(0, 1), a = t.ray.intersectTriangle(zf, Ff, Bf, !1, Lf), null !== a)) {
                        var h = t.ray.origin.distanceTo(Lf);
                        h < t.near || h > t.far || e.push({
                            distance: h,
                            point: Lf.clone(),
                            uv: x.getUV(Lf, zf, Bf, Ff, Hf, Uf, Gf, new i),
                            face: null,
                            object: this
                        })
                    }
                }, clone: function () {
                    return new this.constructor(this.material).copy(this)
                }, copy: function (t) {
                    return d.prototype.copy.call(this, t), void 0 !== t.center && this.center.copy(t.center), this
                }
            });
            var jf = new r,
                Vf = new r;
            oi.prototype = Object.assign(Object.create(d.prototype), {
                constructor: oi,
                isLOD: !0,
                copy: function (t) {
                    d.prototype.copy.call(this, t, !1);
                    for (var e = t.levels, i = 0, n = e.length; i < n; i++) {
                        var r = e[i];
                        this.addLevel(r.object.clone(), r.distance)
                    }
                    return this
                }, addLevel: function (t, e) {
                    void 0 === e && (e = 0), e = Math.abs(e);
                    for (var i = this.levels, n = 0; n < i.length && !(e < i[n].distance); n++);
                    return i.splice(n, 0, {
                        distance: e,
                        object: t
                    }), this.add(t), this
                }, getObjectForDistance: function (t) {
                    for (var e = this.levels, i = 1, n = e.length; i < n && !(t < e[i].distance); i++);
                    return e[i - 1].object
                }, raycast: function (t, e) {
                    jf.setFromMatrixPosition(this.matrixWorld);
                    var i = t.ray.origin.distanceTo(jf);
                    this.getObjectForDistance(i).raycast(t, e)
                }, update: function (t) {
                    var e = this.levels;
                    if (e.length > 1) {
                        jf.setFromMatrixPosition(t.matrixWorld), Vf.setFromMatrixPosition(this.matrixWorld);
                        var i = jf.distanceTo(Vf);
                        e[0].object.visible = !0;
                        for (var n = 1, r = e.length; n < r && i >= e[n].distance; n++) e[n - 1].object.visible = !1, e[n].object.visible = !0;
                        for (; n < r; n++) e[n].object.visible = !1
                    }
                }, toJSON: function (t) {
                    var e = d.prototype.toJSON.call(this, t);
                    e.object.levels = [];
                    for (var i = this.levels, n = 0, r = i.length; n < r; n++) {
                        var o = i[n];
                        e.object.levels.push({
                            object: o.object.uuid,
                            distance: o.distance
                        })
                    }
                    return e
                }
            }), si.prototype = Object.assign(Object.create(U.prototype), {
                constructor: si,
                isSkinnedMesh: !0,
                bind: function (t, e) {
                    this.skeleton = t, void 0 === e && (this.updateMatrixWorld(!0), this.skeleton.calculateInverses(), e = this.matrixWorld), this.bindMatrix.copy(e), this.bindMatrixInverse.getInverse(e)
                }, pose: function () {
                    this.skeleton.pose()
                }, normalizeSkinWeights: function () {
                    for (var t = new a, e = this.geometry.attributes.skinWeight, i = 0, n = e.count; i < n; i++) {
                        t.x = e.getX(i), t.y = e.getY(i), t.z = e.getZ(i), t.w = e.getW(i);
                        var r = 1 / t.manhattanLength();
                        r !== 1 / 0 ? t.multiplyScalar(r) : t.set(1, 0, 0, 0), e.setXYZW(i, t.x, t.y, t.z, t.w)
                    }
                }, updateMatrixWorld: function (t) {
                    U.prototype.updateMatrixWorld.call(this, t), "attached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.matrixWorld) : "detached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.bindMatrix) : console.warn("THREE.SkinnedMesh: Unrecognized bindMode: " + this.bindMode)
                }, clone: function () {
                    return new this.constructor(this.geometry, this.material).copy(this)
                }
            });
            var Wf = new u,
                qf = new u;
            Object.assign(ai.prototype, {
                calculateInverses: function () {
                    this.boneInverses = [];
                    for (var t = 0, e = this.bones.length; t < e; t++) {
                        var i = new u;
                        this.bones[t] && i.getInverse(this.bones[t].matrixWorld), this.boneInverses.push(i)
                    }
                }, pose: function () {
                    var t, e, i;
                    for (e = 0, i = this.bones.length; e < i; e++) t = this.bones[e], t && t.matrixWorld.getInverse(this.boneInverses[e]);
                    for (e = 0, i = this.bones.length; e < i; e++) t = this.bones[e], t && (t.parent && t.parent.isBone ? (t.matrix.getInverse(t.parent.matrixWorld), t.matrix.multiply(t.matrixWorld)) : t.matrix.copy(t.matrixWorld), t.matrix.decompose(t.position, t.quaternion, t.scale))
                }, update: function () {
                    for (var t = this.bones, e = this.boneInverses, i = this.boneMatrices, n = this.boneTexture, r = 0, o = t.length; r < o; r++) {
                        var s = t[r] ? t[r].matrixWorld : qf;
                        Wf.multiplyMatrices(s, e[r]), Wf.toArray(i, 16 * r)
                    }
                    void 0 !== n && (n.needsUpdate = !0)
                }, clone: function () {
                    return new ai(this.bones, this.boneInverses)
                }, getBoneByName: function (t) {
                    for (var e = 0, i = this.bones.length; e < i; e++) {
                        var n = this.bones[e];
                        if (n.name === t) return n
                    }
                }
            }), hi.prototype = Object.assign(Object.create(d.prototype), {
                constructor: hi,
                isBone: !0
            }), li.prototype = Object.assign(Object.create(U.prototype), {
                constructor: li,
                isInstancedMesh: !0,
                raycast: function () {}, setMatrixAt: function (t, e) {
                    e.toArray(this.instanceMatrix.array, 16 * t)
                }, updateMorphTargets: function () {}
            }), ui.prototype = Object.create(E.prototype), ui.prototype.constructor = ui, ui.prototype.isLineBasicMaterial = !0, ui.prototype.copy = function (t) {
                return E.prototype.copy.call(this, t), this.color.copy(t.color), this.linewidth = t.linewidth, this.linecap = t.linecap, this.linejoin = t.linejoin, this
            };
            var Xf = new r,
                Yf = new r,
                Zf = new u,
                Jf = new _,
                $f = new v;
            ci.prototype = Object.assign(Object.create(d.prototype), {
                constructor: ci,
                isLine: !0,
                computeLineDistances: function () {
                    var t = this.geometry;
                    if (t.isBufferGeometry)
                        if (null === t.index) {
                            for (var e = t.attributes.position, i = [0], n = 1, r = e.count; n < r; n++) Xf.fromBufferAttribute(e, n - 1), Yf.fromBufferAttribute(e, n), i[n] = i[n - 1], i[n] += Xf.distanceTo(Yf);
                            t.setAttribute("lineDistance", new N(i, 1))
                        } else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
                    else if (t.isGeometry) {
                        var o = t.vertices,
                            i = t.lineDistances;
                        i[0] = 0;
                        for (var n = 1, r = o.length; n < r; n++) i[n] = i[n - 1], i[n] += o[n - 1].distanceTo(o[n])
                    }
                    return this
                }, raycast: function (t, e) {
                    var i = t.linePrecision,
                        n = this.geometry,
                        o = this.matrixWorld;
                    if (null === n.boundingSphere && n.computeBoundingSphere(), $f.copy(n.boundingSphere), $f.applyMatrix4(o), $f.radius += i, t.ray.intersectsSphere($f) !== !1) {
                        Zf.getInverse(o), Jf.copy(t.ray).applyMatrix4(Zf);
                        var s = i / ((this.scale.x + this.scale.y + this.scale.z) / 3),
                            a = s * s,
                            h = new r,
                            l = new r,
                            u = new r,
                            c = new r,
                            p = this && this.isLineSegments ? 2 : 1;
                        if (n.isBufferGeometry) {
                            var d = n.index,
                                f = n.attributes,
                                m = f.position.array;
                            if (null !== d)
                                for (var g = d.array, v = 0, _ = g.length - 1; v < _; v += p) {
                                    var y = g[v],
                                        x = g[v + 1];
                                    h.fromArray(m, 3 * y), l.fromArray(m, 3 * x);
                                    var w = Jf.distanceSqToSegment(h, l, c, u);
                                    if (!(w > a)) {
                                        c.applyMatrix4(this.matrixWorld);
                                        var b = t.ray.origin.distanceTo(c);
                                        b < t.near || b > t.far || e.push({
                                            distance: b,
                                            point: u.clone().applyMatrix4(this.matrixWorld),
                                            index: v,
                                            face: null,
                                            faceIndex: null,
                                            object: this
                                        })
                                    }
                                } else
                                    for (var v = 0, _ = m.length / 3 - 1; v < _; v += p) {
                                        h.fromArray(m, 3 * v), l.fromArray(m, 3 * v + 3);
                                        var w = Jf.distanceSqToSegment(h, l, c, u);
                                        if (!(w > a)) {
                                            c.applyMatrix4(this.matrixWorld);
                                            var b = t.ray.origin.distanceTo(c);
                                            b < t.near || b > t.far || e.push({
                                                distance: b,
                                                point: u.clone().applyMatrix4(this.matrixWorld),
                                                index: v,
                                                face: null,
                                                faceIndex: null,
                                                object: this
                                            })
                                        }
                                    }
                        } else if (n.isGeometry)
                            for (var S = n.vertices, T = S.length, v = 0; v < T - 1; v += p) {
                                var w = Jf.distanceSqToSegment(S[v], S[v + 1], c, u);
                                if (!(w > a)) {
                                    c.applyMatrix4(this.matrixWorld);
                                    var b = t.ray.origin.distanceTo(c);
                                    b < t.near || b > t.far || e.push({
                                        distance: b,
                                        point: u.clone().applyMatrix4(this.matrixWorld),
                                        index: v,
                                        face: null,
                                        faceIndex: null,
                                        object: this
                                    })
                                }
                            }
                    }
                }, clone: function () {
                    return new this.constructor(this.geometry, this.material).copy(this)
                }
            });
            var Kf = new r,
                Qf = new r;
            pi.prototype = Object.assign(Object.create(ci.prototype), {
                constructor: pi,
                isLineSegments: !0,
                computeLineDistances: function () {
                    var t = this.geometry;
                    if (t.isBufferGeometry)
                        if (null === t.index) {
                            for (var e = t.attributes.position, i = [], n = 0, r = e.count; n < r; n += 2) Kf.fromBufferAttribute(e, n), Qf.fromBufferAttribute(e, n + 1), i[n] = 0 === n ? 0 : i[n - 1], i[n + 1] = i[n] + Kf.distanceTo(Qf);
                            t.setAttribute("lineDistance", new N(i, 1))
                        } else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
                    else if (t.isGeometry)
                        for (var o = t.vertices, i = t.lineDistances, n = 0, r = o.length; n < r; n += 2) Kf.copy(o[n]), Qf.copy(o[n + 1]), i[n] = 0 === n ? 0 : i[n - 1], i[n + 1] = i[n] + Kf.distanceTo(Qf);
                    return this
                }
            }), di.prototype = Object.assign(Object.create(ci.prototype), {
                constructor: di,
                isLineLoop: !0
            }), fi.prototype = Object.create(E.prototype), fi.prototype.constructor = fi, fi.prototype.isPointsMaterial = !0, fi.prototype.copy = function (t) {
                return E.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.alphaMap = t.alphaMap, this.size = t.size, this.sizeAttenuation = t.sizeAttenuation, this.morphTargets = t.morphTargets, this
            };
            var tm = new u,
                em = new _,
                im = new v,
                nm = new r;
            mi.prototype = Object.assign(Object.create(d.prototype), {
                constructor: mi,
                isPoints: !0,
                raycast: function (t, e) {
                    var i = this.geometry,
                        n = this.matrixWorld,
                        r = t.params.Points.threshold;
                    if (null === i.boundingSphere && i.computeBoundingSphere(), im.copy(i.boundingSphere), im.applyMatrix4(n), im.radius += r, t.ray.intersectsSphere(im) !== !1) {
                        tm.getInverse(n), em.copy(t.ray).applyMatrix4(tm);
                        var o = r / ((this.scale.x + this.scale.y + this.scale.z) / 3),
                            s = o * o;
                        if (i.isBufferGeometry) {
                            var a = i.index,
                                h = i.attributes,
                                l = h.position.array;
                            if (null !== a)
                                for (var u = a.array, c = 0, p = u.length; c < p; c++) {
                                    var d = u[c];
                                    nm.fromArray(l, 3 * d), gi(nm, d, s, n, t, e, this)
                                } else
                                    for (var c = 0, f = l.length / 3; c < f; c++) nm.fromArray(l, 3 * c), gi(nm, c, s, n, t, e, this)
                        } else
                            for (var m = i.vertices, c = 0, f = m.length; c < f; c++) gi(m[c], c, s, n, t, e, this)
                    }
                }, updateMorphTargets: function () {
                    var t, e, i, n = this.geometry;
                    if (n.isBufferGeometry) {
                        var r = n.morphAttributes,
                            o = Object.keys(r);
                        if (o.length > 0) {
                            var s = r[o[0]];
                            if (void 0 !== s)
                                for (this.morphTargetInfluences = [], this.morphTargetDictionary = {}, t = 0, e = s.length; t < e; t++) i = s[t].name || String(t), this.morphTargetInfluences.push(0), this.morphTargetDictionary[i] = t
                        }
                    } else {
                        var a = n.morphTargets;
                        void 0 !== a && a.length > 0 && console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")
                    }
                }, clone: function () {
                    return new this.constructor(this.geometry, this.material).copy(this)
                }
            }), vi.prototype = Object.assign(Object.create(s.prototype), {
                constructor: vi,
                isVideoTexture: !0,
                update: function () {
                    var t = this.image;
                    t.readyState >= t.HAVE_CURRENT_DATA && (this.needsUpdate = !0)
                }
            }), _i.prototype = Object.create(s.prototype), _i.prototype.constructor = _i, _i.prototype.isCompressedTexture = !0, yi.prototype = Object.create(s.prototype), yi.prototype.constructor = yi, yi.prototype.isCanvasTexture = !0, xi.prototype = Object.create(s.prototype), xi.prototype.constructor = xi, xi.prototype.isDepthTexture = !0, wi.prototype = Object.create(H.prototype), wi.prototype.constructor = wi, bi.prototype = Object.create(V.prototype), bi.prototype.constructor = bi, Si.prototype = Object.create(H.prototype), Si.prototype.constructor = Si, Ti.prototype = Object.create(V.prototype), Ti.prototype.constructor = Ti, Mi.prototype = Object.create(H.prototype), Mi.prototype.constructor = Mi, Ei.prototype = Object.create(V.prototype), Ei.prototype.constructor = Ei, Ai.prototype = Object.create(Mi.prototype), Ai.prototype.constructor = Ai, Ci.prototype = Object.create(V.prototype), Ci.prototype.constructor = Ci, Pi.prototype = Object.create(Mi.prototype), Pi.prototype.constructor = Pi, Ri.prototype = Object.create(V.prototype), Ri.prototype.constructor = Ri, Li.prototype = Object.create(Mi.prototype), Li.prototype.constructor = Li, Oi.prototype = Object.create(V.prototype), Oi.prototype.constructor = Oi, Ii.prototype = Object.create(Mi.prototype), Ii.prototype.constructor = Ii, Di.prototype = Object.create(V.prototype), Di.prototype.constructor = Di, ki.prototype = Object.create(H.prototype), ki.prototype.constructor = ki, ki.prototype.toJSON = function () {
                var t = H.prototype.toJSON.call(this);
                return t.path = this.parameters.path.toJSON(), t
            }, Ni.prototype = Object.create(V.prototype), Ni.prototype.constructor = Ni, zi.prototype = Object.create(H.prototype), zi.prototype.constructor = zi, Bi.prototype = Object.create(V.prototype), Bi.prototype.constructor = Bi, Fi.prototype = Object.create(H.prototype), Fi.prototype.constructor = Fi;
            var rm = {
                    triangulate: function (t, e, i) {
                        i = i || 2;
                        var n = e && e.length,
                            r = n ? e[0] * i : t.length,
                            o = Hi(t, 0, r, i, !0),
                            s = [];
                        if (!o || o.next === o.prev) return s;
                        var a, h, l, u, c, p, d;
                        if (n && (o = Xi(t, e, o, i)), t.length > 80 * i) {
                            a = l = t[0], h = u = t[1];
                            for (var f = i; f < r; f += i) c = t[f], p = t[f + 1], c < a && (a = c), p < h && (h = p), c > l && (l = c), p > u && (u = p);
                            d = Math.max(l - a, u - h), d = 0 !== d ? 1 / d : 0
                        }
                        return Gi(o, s, i, a, h, d), s
                    }
                },
                om = {
                    area: function (t) {
                        for (var e = t.length, i = 0, n = e - 1, r = 0; r < e; n = r++) i += t[n].x * t[r].y - t[r].x * t[n].y;
                        return .5 * i
                    }, isClockWise: function (t) {
                        return om.area(t) < 0
                    }, triangulateShape: function (t, e) {
                        var i = [],
                            n = [],
                            r = [];
                        mn(t), gn(i, t);
                        var o = t.length;
                        e.forEach(mn);
                        for (var s = 0; s < e.length; s++) n.push(o), o += e[s].length, gn(i, e[s]);
                        for (var a = rm.triangulate(i, n), s = 0; s < a.length; s += 3) r.push(a.slice(s, s + 3));
                        return r
                    }
                };
            vn.prototype = Object.create(V.prototype), vn.prototype.constructor = vn, vn.prototype.toJSON = function () {
                var t = V.prototype.toJSON.call(this),
                    e = this.parameters.shapes,
                    i = this.parameters.options;
                return yn(e, i, t)
            }, _n.prototype = Object.create(H.prototype), _n.prototype.constructor = _n, _n.prototype.toJSON = function () {
                var t = H.prototype.toJSON.call(this),
                    e = this.parameters.shapes,
                    i = this.parameters.options;
                return yn(e, i, t)
            };
            var sm = {
                generateTopUV: function (t, e, n, r, o) {
                    var s = e[3 * n],
                        a = e[3 * n + 1],
                        h = e[3 * r],
                        l = e[3 * r + 1],
                        u = e[3 * o],
                        c = e[3 * o + 1];
                    return [new i(s, a), new i(h, l), new i(u, c)]
                }, generateSideWallUV: function (t, e, n, r, o, s) {
                    var a = e[3 * n],
                        h = e[3 * n + 1],
                        l = e[3 * n + 2],
                        u = e[3 * r],
                        c = e[3 * r + 1],
                        p = e[3 * r + 2],
                        d = e[3 * o],
                        f = e[3 * o + 1],
                        m = e[3 * o + 2],
                        g = e[3 * s],
                        v = e[3 * s + 1],
                        _ = e[3 * s + 2];
                    return Math.abs(h - c) < .01 ? [new i(a, 1 - l), new i(u, 1 - p), new i(d, 1 - m), new i(g, 1 - _)] : [new i(h, 1 - l), new i(c, 1 - p), new i(f, 1 - m), new i(v, 1 - _)]
                }
            };
            xn.prototype = Object.create(V.prototype), xn.prototype.constructor = xn, wn.prototype = Object.create(_n.prototype), wn.prototype.constructor = wn, bn.prototype = Object.create(V.prototype), bn.prototype.constructor = bn, Sn.prototype = Object.create(H.prototype), Sn.prototype.constructor = Sn, Tn.prototype = Object.create(V.prototype), Tn.prototype.constructor = Tn, Mn.prototype = Object.create(H.prototype), Mn.prototype.constructor = Mn, En.prototype = Object.create(V.prototype), En.prototype.constructor = En, An.prototype = Object.create(H.prototype), An.prototype.constructor = An, Cn.prototype = Object.create(V.prototype), Cn.prototype.constructor = Cn, Cn.prototype.toJSON = function () {
                var t = V.prototype.toJSON.call(this),
                    e = this.parameters.shapes;
                return Rn(e, t)
            }, Pn.prototype = Object.create(H.prototype), Pn.prototype.constructor = Pn, Pn.prototype.toJSON = function () {
                var t = H.prototype.toJSON.call(this),
                    e = this.parameters.shapes;
                return Rn(e, t)
            }, Ln.prototype = Object.create(H.prototype), Ln.prototype.constructor = Ln, On.prototype = Object.create(V.prototype), On.prototype.constructor = On, In.prototype = Object.create(H.prototype), In.prototype.constructor = In, Dn.prototype = Object.create(On.prototype), Dn.prototype.constructor = Dn, kn.prototype = Object.create(In.prototype), kn.prototype.constructor = kn, Nn.prototype = Object.create(V.prototype), Nn.prototype.constructor = Nn, zn.prototype = Object.create(H.prototype), zn.prototype.constructor = zn;
            var am = Object.freeze({
                __proto__: null,
                WireframeGeometry: wi,
                ParametricGeometry: bi,
                ParametricBufferGeometry: Si,
                TetrahedronGeometry: Ei,
                TetrahedronBufferGeometry: Ai,
                OctahedronGeometry: Ci,
                OctahedronBufferGeometry: Pi,
                IcosahedronGeometry: Ri,
                IcosahedronBufferGeometry: Li,
                DodecahedronGeometry: Oi,
                DodecahedronBufferGeometry: Ii,
                PolyhedronGeometry: Ti,
                PolyhedronBufferGeometry: Mi,
                TubeGeometry: Di,
                TubeBufferGeometry: ki,
                TorusKnotGeometry: Ni,
                TorusKnotBufferGeometry: zi,
                TorusGeometry: Bi,
                TorusBufferGeometry: Fi,
                TextGeometry: xn,
                TextBufferGeometry: wn,
                SphereGeometry: bn,
                SphereBufferGeometry: Sn,
                RingGeometry: Tn,
                RingBufferGeometry: Mn,
                PlaneGeometry: it,
                PlaneBufferGeometry: nt,
                LatheGeometry: En,
                LatheBufferGeometry: An,
                ShapeGeometry: Cn,
                ShapeBufferGeometry: Pn,
                ExtrudeGeometry: vn,
                ExtrudeBufferGeometry: _n,
                EdgesGeometry: Ln,
                ConeGeometry: Dn,
                ConeBufferGeometry: kn,
                CylinderGeometry: On,
                CylinderBufferGeometry: In,
                CircleGeometry: Nn,
                CircleBufferGeometry: zn,
                BoxGeometry: Bc,
                BoxBufferGeometry: Fc
            });
            Bn.prototype = Object.create(E.prototype), Bn.prototype.constructor = Bn, Bn.prototype.isShadowMaterial = !0, Bn.prototype.copy = function (t) {
                return E.prototype.copy.call(this, t), this.color.copy(t.color), this
            }, Fn.prototype = Object.create(X.prototype), Fn.prototype.constructor = Fn, Fn.prototype.isRawShaderMaterial = !0, Hn.prototype = Object.create(E.prototype), Hn.prototype.constructor = Hn, Hn.prototype.isMeshStandardMaterial = !0, Hn.prototype.copy = function (t) {
                return E.prototype.copy.call(this, t), this.defines = {
                    STANDARD: ""
                }, this.color.copy(t.color), this.roughness = t.roughness, this.metalness = t.metalness, this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalMapType = t.normalMapType, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.roughnessMap = t.roughnessMap, this.metalnessMap = t.metalnessMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.envMapIntensity = t.envMapIntensity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
            }, Un.prototype = Object.create(Hn.prototype), Un.prototype.constructor = Un, Un.prototype.isMeshPhysicalMaterial = !0, Un.prototype.copy = function (t) {
                return Hn.prototype.copy.call(this, t), this.defines = {
                        STANDARD: "",
                        PHYSICAL: ""
                    }, this.reflectivity = t.reflectivity, this.clearcoat = t.clearcoat, this.clearcoatRoughness = t.clearcoatRoughness,
                    t.sheen ? this.sheen = (this.sheen || new w).copy(t.sheen) : this.sheen = null, this.clearcoatNormalMap = t.clearcoatNormalMap, this.clearcoatNormalScale.copy(t.clearcoatNormalScale), this.transparency = t.transparency, this
            }, Gn.prototype = Object.create(E.prototype), Gn.prototype.constructor = Gn, Gn.prototype.isMeshPhongMaterial = !0, Gn.prototype.copy = function (t) {
                return E.prototype.copy.call(this, t), this.color.copy(t.color), this.specular.copy(t.specular), this.shininess = t.shininess, this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalMapType = t.normalMapType, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
            }, jn.prototype = Object.create(Gn.prototype), jn.prototype.constructor = jn, jn.prototype.isMeshToonMaterial = !0, jn.prototype.copy = function (t) {
                return Gn.prototype.copy.call(this, t), this.gradientMap = t.gradientMap, this
            }, Vn.prototype = Object.create(E.prototype), Vn.prototype.constructor = Vn, Vn.prototype.isMeshNormalMaterial = !0, Vn.prototype.copy = function (t) {
                return E.prototype.copy.call(this, t), this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalMapType = t.normalMapType, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
            }, Wn.prototype = Object.create(E.prototype), Wn.prototype.constructor = Wn, Wn.prototype.isMeshLambertMaterial = !0, Wn.prototype.copy = function (t) {
                return E.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
            }, qn.prototype = Object.create(E.prototype), qn.prototype.constructor = qn, qn.prototype.isMeshMatcapMaterial = !0, qn.prototype.copy = function (t) {
                return E.prototype.copy.call(this, t), this.defines = {
                    MATCAP: ""
                }, this.color.copy(t.color), this.matcap = t.matcap, this.map = t.map, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalMapType = t.normalMapType, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.alphaMap = t.alphaMap, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
            }, Xn.prototype = Object.create(ui.prototype), Xn.prototype.constructor = Xn, Xn.prototype.isLineDashedMaterial = !0, Xn.prototype.copy = function (t) {
                return ui.prototype.copy.call(this, t), this.scale = t.scale, this.dashSize = t.dashSize, this.gapSize = t.gapSize, this
            };
            var hm = Object.freeze({
                    __proto__: null,
                    ShadowMaterial: Bn,
                    SpriteMaterial: ii,
                    RawShaderMaterial: Fn,
                    ShaderMaterial: X,
                    PointsMaterial: fi,
                    MeshPhysicalMaterial: Un,
                    MeshStandardMaterial: Hn,
                    MeshPhongMaterial: Gn,
                    MeshToonMaterial: jn,
                    MeshNormalMaterial: Vn,
                    MeshLambertMaterial: Wn,
                    MeshDepthMaterial: Be,
                    MeshDistanceMaterial: Fe,
                    MeshBasicMaterial: A,
                    MeshMatcapMaterial: qn,
                    LineDashedMaterial: Xn,
                    LineBasicMaterial: ui,
                    Material: E
                }),
                lm = {
                    arraySlice: function (t, e, i) {
                        return lm.isTypedArray(t) ? new t.constructor(t.subarray(e, void 0 !== i ? i : t.length)) : t.slice(e, i)
                    }, convertArray: function (t, e, i) {
                        return !t || !i && t.constructor === e ? t : "number" == typeof e.BYTES_PER_ELEMENT ? new e(t) : Array.prototype.slice.call(t)
                    }, isTypedArray: function (t) {
                        return ArrayBuffer.isView(t) && !(t instanceof DataView)
                    }, getKeyframeOrder: function (t) {
                        function e(e, i) {
                            return t[e] - t[i]
                        }
                        for (var i = t.length, n = new Array(i), r = 0; r !== i; ++r) n[r] = r;
                        return n.sort(e), n
                    }, sortedArray: function (t, e, i) {
                        for (var n = t.length, r = new t.constructor(n), o = 0, s = 0; s !== n; ++o)
                            for (var a = i[o] * e, h = 0; h !== e; ++h) r[s++] = t[a + h];
                        return r
                    }, flattenJSON: function (t, e, i, n) {
                        for (var r = 1, o = t[0]; void 0 !== o && void 0 === o[n];) o = t[r++];
                        if (void 0 !== o) {
                            var s = o[n];
                            if (void 0 !== s)
                                if (Array.isArray(s)) {
                                    do s = o[n], void 0 !== s && (e.push(o.time), i.push.apply(i, s)), o = t[r++]; while (void 0 !== o)
                                } else if (void 0 !== s.toArray) {
                                do s = o[n], void 0 !== s && (e.push(o.time), s.toArray(i, i.length)), o = t[r++]; while (void 0 !== o)
                            } else
                                do s = o[n], void 0 !== s && (e.push(o.time), i.push(s)), o = t[r++]; while (void 0 !== o)
                        }
                    }, subclip: function (t, e, i, n, r) {
                        r = r || 30;
                        var o = t.clone();
                        o.name = e;
                        for (var s = [], a = 0; a < o.tracks.length; ++a) {
                            for (var h = o.tracks[a], l = h.getValueSize(), u = [], c = [], p = 0; p < h.times.length; ++p) {
                                var d = h.times[p] * r;
                                if (!(d < i || d >= n)) {
                                    u.push(h.times[p]);
                                    for (var f = 0; f < l; ++f) c.push(h.values[p * l + f])
                                }
                            }
                            0 !== u.length && (h.times = lm.convertArray(u, h.times.constructor), h.values = lm.convertArray(c, h.values.constructor), s.push(h))
                        }
                        o.tracks = s;
                        for (var m = 1 / 0, a = 0; a < o.tracks.length; ++a) m > o.tracks[a].times[0] && (m = o.tracks[a].times[0]);
                        for (var a = 0; a < o.tracks.length; ++a) o.tracks[a].shift(-1 * m);
                        return o.resetDuration(), o
                    }
                };
            Object.assign(Yn.prototype, {
                    evaluate: function (t) {
                        var e = this.parameterPositions,
                            i = this._cachedIndex,
                            n = e[i],
                            r = e[i - 1];
                        t: {
                            e: {
                                var o;
                                i: {
                                    n: if (!(t < n)) {
                                        for (var s = i + 2;;) {
                                            if (void 0 === n) {
                                                if (t < r) break n;
                                                return i = e.length, this._cachedIndex = i, this.afterEnd_(i - 1, t, r)
                                            }
                                            if (i === s) break;
                                            if (r = n, n = e[++i], t < n) break e
                                        }
                                        o = e.length;
                                        break i
                                    } {
                                        if (t >= r) break t;
                                        var a = e[1];
                                        t < a && (i = 2, r = a);
                                        for (var s = i - 2;;) {
                                            if (void 0 === r) return this._cachedIndex = 0, this.beforeStart_(0, t, n);
                                            if (i === s) break;
                                            if (n = r, r = e[--i - 1], t >= r) break e
                                        }
                                        o = i, i = 0
                                    }
                                }
                                for (; i < o;) {
                                    var h = i + o >>> 1;
                                    t < e[h] ? o = h : i = h + 1
                                }
                                if (n = e[i], r = e[i - 1], void 0 === r) return this._cachedIndex = 0, this.beforeStart_(0, t, n);
                                if (void 0 === n) return i = e.length, this._cachedIndex = i, this.afterEnd_(i - 1, r, t)
                            }
                            this._cachedIndex = i,
                            this.intervalChanged_(i, r, n)
                        }
                        return this.interpolate_(i, r, t, n)
                    }, settings: null,
                    DefaultSettings_: {},
                    getSettings_: function () {
                        return this.settings || this.DefaultSettings_
                    }, copySampleValue_: function (t) {
                        for (var e = this.resultBuffer, i = this.sampleValues, n = this.valueSize, r = t * n, o = 0; o !== n; ++o) e[o] = i[r + o];
                        return e
                    }, interpolate_: function () {
                        throw new Error("call to abstract method")
                    }, intervalChanged_: function () {}
                }),
                //!\ DECLARE ALIAS AFTER assign prototype !
                Object.assign(Yn.prototype, {
                    beforeStart_: Yn.prototype.copySampleValue_,
                    afterEnd_: Yn.prototype.copySampleValue_
                }), Zn.prototype = Object.assign(Object.create(Yn.prototype), {
                    constructor: Zn,
                    DefaultSettings_: {
                        endingStart: al,
                        endingEnd: al
                    },
                    intervalChanged_: function (t, e, i) {
                        var n = this.parameterPositions,
                            r = t - 2,
                            o = t + 1,
                            s = n[r],
                            a = n[o];
                        if (void 0 === s) switch (this.getSettings_().endingStart) {
                        case hl:
                            r = t, s = 2 * e - i;
                            break;
                        case ll:
                            r = n.length - 2, s = e + n[r] - n[r + 1];
                            break;
                        default:
                            r = t, s = i
                        }
                        if (void 0 === a) switch (this.getSettings_().endingEnd) {
                        case hl:
                            o = t, a = 2 * i - e;
                            break;
                        case ll:
                            o = 1, a = i + n[1] - n[0];
                            break;
                        default:
                            o = t - 1, a = e
                        }
                        var h = .5 * (i - e),
                            l = this.valueSize;
                        this._weightPrev = h / (e - s), this._weightNext = h / (a - i), this._offsetPrev = r * l, this._offsetNext = o * l
                    }, interpolate_: function (t, e, i, n) {
                        for (var r = this.resultBuffer, o = this.sampleValues, s = this.valueSize, a = t * s, h = a - s, l = this._offsetPrev, u = this._offsetNext, c = this._weightPrev, p = this._weightNext, d = (i - e) / (n - e), f = d * d, m = f * d, g = -c * m + 2 * c * f - c * d, v = (1 + c) * m + (-1.5 - 2 * c) * f + (-.5 + c) * d + 1, _ = (-1 - p) * m + (1.5 + p) * f + .5 * d, y = p * m - p * f, x = 0; x !== s; ++x) r[x] = g * o[l + x] + v * o[h + x] + _ * o[a + x] + y * o[u + x];
                        return r
                    }
                }), Jn.prototype = Object.assign(Object.create(Yn.prototype), {
                    constructor: Jn,
                    interpolate_: function (t, e, i, n) {
                        for (var r = this.resultBuffer, o = this.sampleValues, s = this.valueSize, a = t * s, h = a - s, l = (i - e) / (n - e), u = 1 - l, c = 0; c !== s; ++c) r[c] = o[h + c] * u + o[a + c] * l;
                        return r
                    }
                }), $n.prototype = Object.assign(Object.create(Yn.prototype), {
                    constructor: $n,
                    interpolate_: function (t) {
                        return this.copySampleValue_(t - 1)
                    }
                }), Object.assign(Kn, {
                    toJSON: function (t) {
                        var e, i = t.constructor;
                        if (void 0 !== i.toJSON) e = i.toJSON(t);
                        else {
                            e = {
                                name: t.name,
                                times: lm.convertArray(t.times, Array),
                                values: lm.convertArray(t.values, Array)
                            };
                            var n = t.getInterpolation();
                            n !== t.DefaultInterpolation && (e.interpolation = n)
                        }
                        return e.type = t.ValueTypeName, e
                    }
                }), Object.assign(Kn.prototype, {
                    constructor: Kn,
                    TimeBufferType: Float32Array,
                    ValueBufferType: Float32Array,
                    DefaultInterpolation: ol,
                    InterpolantFactoryMethodDiscrete: function (t) {
                        return new $n(this.times, this.values, this.getValueSize(), t)
                    }, InterpolantFactoryMethodLinear: function (t) {
                        return new Jn(this.times, this.values, this.getValueSize(), t)
                    }, InterpolantFactoryMethodSmooth: function (t) {
                        return new Zn(this.times, this.values, this.getValueSize(), t)
                    }, setInterpolation: function (t) {
                        var e;
                        switch (t) {
                        case rl:
                            e = this.InterpolantFactoryMethodDiscrete;
                            break;
                        case ol:
                            e = this.InterpolantFactoryMethodLinear;
                            break;
                        case sl:
                            e = this.InterpolantFactoryMethodSmooth
                        }
                        if (void 0 === e) {
                            var i = "unsupported interpolation for " + this.ValueTypeName + " keyframe track named " + this.name;
                            if (void 0 === this.createInterpolant) {
                                if (t === this.DefaultInterpolation) throw new Error(i);
                                this.setInterpolation(this.DefaultInterpolation)
                            }
                            return console.warn("THREE.KeyframeTrack:", i), this
                        }
                        return this.createInterpolant = e, this
                    }, getInterpolation: function () {
                        switch (this.createInterpolant) {
                        case this.InterpolantFactoryMethodDiscrete:
                            return rl;
                        case this.InterpolantFactoryMethodLinear:
                            return ol;
                        case this.InterpolantFactoryMethodSmooth:
                            return sl
                        }
                    }, getValueSize: function () {
                        return this.values.length / this.times.length
                    }, shift: function (t) {
                        if (0 !== t)
                            for (var e = this.times, i = 0, n = e.length; i !== n; ++i) e[i] += t;
                        return this
                    }, scale: function (t) {
                        if (1 !== t)
                            for (var e = this.times, i = 0, n = e.length; i !== n; ++i) e[i] *= t;
                        return this
                    }, trim: function (t, e) {
                        for (var i = this.times, n = i.length, r = 0, o = n - 1; r !== n && i[r] < t;)++r;
                        for (; o !== -1 && i[o] > e;)--o;
                        if (++o, 0 !== r || o !== n) {
                            r >= o && (o = Math.max(o, 1), r = o - 1);
                            var s = this.getValueSize();
                            this.times = lm.arraySlice(i, r, o), this.values = lm.arraySlice(this.values, r * s, o * s)
                        }
                        return this
                    }, validate: function () {
                        var t = !0,
                            e = this.getValueSize();
                        e - Math.floor(e) !== 0 && (console.error("THREE.KeyframeTrack: Invalid value size in track.", this), t = !1);
                        var i = this.times,
                            n = this.values,
                            r = i.length;
                        0 === r && (console.error("THREE.KeyframeTrack: Track is empty.", this), t = !1);
                        for (var o = null, s = 0; s !== r; s++) {
                            var a = i[s];
                            if ("number" == typeof a && isNaN(a)) {
                                console.error("THREE.KeyframeTrack: Time is not a valid number.", this, s, a), t = !1;
                                break
                            }
                            if (null !== o && o > a) {
                                console.error("THREE.KeyframeTrack: Out of order keys.", this, s, a, o), t = !1;
                                break
                            }
                            o = a
                        }
                        if (void 0 !== n && lm.isTypedArray(n))
                            for (var s = 0, h = n.length; s !== h; ++s) {
                                var l = n[s];
                                if (isNaN(l)) {
                                    console.error("THREE.KeyframeTrack: Value is not a valid number.", this, s, l), t = !1;
                                    break
                                }
                            }
                        return t
                    }, optimize: function () {
                        for (var t = this.times, e = this.values, i = this.getValueSize(), n = this.getInterpolation() === sl, r = 1, o = t.length - 1, s = 1; s < o; ++s) {
                            var a = !1,
                                h = t[s],
                                l = t[s + 1];
                            if (h !== l && (1 !== s || h !== h[0]))
                                if (n) a = !0;
                                else
                                    for (var u = s * i, c = u - i, p = u + i, d = 0; d !== i; ++d) {
                                        var f = e[u + d];
                                        if (f !== e[c + d] || f !== e[p + d]) {
                                            a = !0;
                                            break
                                        }
                                    }
                                if (a) {
                                    if (s !== r) {
                                        t[r] = t[s];
                                        for (var m = s * i, g = r * i, d = 0; d !== i; ++d) e[g + d] = e[m + d]
                                    }++r
                                }
                        }
                        if (o > 0) {
                            t[r] = t[o];
                            for (var m = o * i, g = r * i, d = 0; d !== i; ++d) e[g + d] = e[m + d];
                            ++r
                        }
                        return r !== t.length && (this.times = lm.arraySlice(t, 0, r), this.values = lm.arraySlice(e, 0, r * i)), this
                    }, clone: function () {
                        var t = lm.arraySlice(this.times, 0),
                            e = lm.arraySlice(this.values, 0),
                            i = this.constructor,
                            n = new i(this.name, t, e);
                        return n.createInterpolant = this.createInterpolant, n
                    }
                }), Qn.prototype = Object.assign(Object.create(Kn.prototype), {
                    constructor: Qn,
                    ValueTypeName: "bool",
                    ValueBufferType: Array,
                    DefaultInterpolation: rl,
                    InterpolantFactoryMethodLinear: void 0,
                    InterpolantFactoryMethodSmooth: void 0
                }), tr.prototype = Object.assign(Object.create(Kn.prototype), {
                    constructor: tr,
                    ValueTypeName: "color"
                }), er.prototype = Object.assign(Object.create(Kn.prototype), {
                    constructor: er,
                    ValueTypeName: "number"
                }), ir.prototype = Object.assign(Object.create(Yn.prototype), {
                    constructor: ir,
                    interpolate_: function (t, e, i, r) {
                        for (var o = this.resultBuffer, s = this.sampleValues, a = this.valueSize, h = t * a, l = (i - e) / (r - e), u = h + a; h !== u; h += 4) n.slerpFlat(o, 0, s, h - a, s, h, l);
                        return o
                    }
                }), nr.prototype = Object.assign(Object.create(Kn.prototype), {
                    constructor: nr,
                    ValueTypeName: "quaternion",
                    DefaultInterpolation: ol,
                    InterpolantFactoryMethodLinear: function (t) {
                        return new ir(this.times, this.values, this.getValueSize(), t)
                    }, InterpolantFactoryMethodSmooth: void 0
                }), rr.prototype = Object.assign(Object.create(Kn.prototype), {
                    constructor: rr,
                    ValueTypeName: "string",
                    ValueBufferType: Array,
                    DefaultInterpolation: rl,
                    InterpolantFactoryMethodLinear: void 0,
                    InterpolantFactoryMethodSmooth: void 0
                }), or.prototype = Object.assign(Object.create(Kn.prototype), {
                    constructor: or,
                    ValueTypeName: "vector"
                }), Object.assign(sr, {
                    parse: function (t) {
                        for (var e = [], i = t.tracks, n = 1 / (t.fps || 1), r = 0, o = i.length; r !== o; ++r) e.push(hr(i[r]).scale(n));
                        return new sr(t.name, t.duration, e)
                    }, toJSON: function (t) {
                        for (var e = [], i = t.tracks, n = {
                            name: t.name,
                            duration: t.duration,
                            tracks: e,
                            uuid: t.uuid
                        }, r = 0, o = i.length; r !== o; ++r) e.push(Kn.toJSON(i[r]));
                        return n
                    }, CreateFromMorphTargetSequence: function (t, e, i, n) {
                        for (var r = e.length, o = [], s = 0; s < r; s++) {
                            var a = [],
                                h = [];
                            a.push((s + r - 1) % r, s, (s + 1) % r), h.push(0, 1, 0);
                            var l = lm.getKeyframeOrder(a);
                            a = lm.sortedArray(a, 1, l), h = lm.sortedArray(h, 1, l), n || 0 !== a[0] || (a.push(r), h.push(h[0])), o.push(new er(".morphTargetInfluences[" + e[s].name + "]", a, h).scale(1 / i))
                        }
                        return new sr(t, -1, o)
                    }, findByName: function (t, e) {
                        var i = t;
                        if (!Array.isArray(t)) {
                            var n = t;
                            i = n.geometry && n.geometry.animations || n.animations
                        }
                        for (var r = 0; r < i.length; r++)
                            if (i[r].name === e) return i[r];
                        return null
                    }, CreateClipsFromMorphTargetSequences: function (t, e, i) {
                        for (var n = {}, r = /^([\w-]*?)([\d]+)$/, o = 0, s = t.length; o < s; o++) {
                            var a = t[o],
                                h = a.name.match(r);
                            if (h && h.length > 1) {
                                var l = h[1],
                                    u = n[l];
                                u || (n[l] = u = []), u.push(a)
                            }
                        }
                        var c = [];
                        for (var l in n) c.push(sr.CreateFromMorphTargetSequence(l, n[l], e, i));
                        return c
                    }, parseAnimation: function (t, e) {
                        if (!t) return console.error("THREE.AnimationClip: No animation in JSONLoader data."), null;
                        for (var i = function (t, e, i, n, r) {
                            if (0 !== i.length) {
                                var o = [],
                                    s = [];
                                lm.flattenJSON(i, o, s, n), 0 !== o.length && r.push(new t(e, o, s))
                            }
                        }, n = [], r = t.name || "default", o = t.length || -1, s = t.fps || 30, a = t.hierarchy || [], h = 0; h < a.length; h++) {
                            var l = a[h].keys;
                            if (l && 0 !== l.length)
                                if (l[0].morphTargets) {
                                    for (var u = {}, c = 0; c < l.length; c++)
                                        if (l[c].morphTargets)
                                            for (var p = 0; p < l[c].morphTargets.length; p++) u[l[c].morphTargets[p]] = -1;
                                    for (var d in u) {
                                        for (var f = [], m = [], p = 0; p !== l[c].morphTargets.length; ++p) {
                                            var g = l[c];
                                            f.push(g.time), m.push(g.morphTarget === d ? 1 : 0)
                                        }
                                        n.push(new er(".morphTargetInfluence[" + d + "]", f, m))
                                    }
                                    o = u.length * (s || 1)
                                } else {
                                    var v = ".bones[" + e[h].name + "]";
                                    i(or, v + ".position", l, "pos", n), i(nr, v + ".quaternion", l, "rot", n), i(or, v + ".scale", l, "scl", n)
                                }
                        }
                        if (0 === n.length) return null;
                        var _ = new sr(r, o, n);
                        return _
                    }
                }), Object.assign(sr.prototype, {
                    resetDuration: function () {
                        for (var t = this.tracks, e = 0, i = 0, n = t.length; i !== n; ++i) {
                            var r = this.tracks[i];
                            e = Math.max(e, r.times[r.times.length - 1])
                        }
                        return this.duration = e, this
                    }, trim: function () {
                        for (var t = 0; t < this.tracks.length; t++) this.tracks[t].trim(0, this.duration);
                        return this
                    }, validate: function () {
                        for (var t = !0, e = 0; e < this.tracks.length; e++) t = t && this.tracks[e].validate();
                        return t
                    }, optimize: function () {
                        for (var t = 0; t < this.tracks.length; t++) this.tracks[t].optimize();
                        return this
                    }, clone: function () {
                        for (var t = [], e = 0; e < this.tracks.length; e++) t.push(this.tracks[e].clone());
                        return new sr(this.name, this.duration, t)
                    }
                });
            var um = {
                    enabled: !1,
                    files: {},
                    add: function (t, e) {
                        this.enabled !== !1 && (this.files[t] = e)
                    }, get: function (t) {
                        if (this.enabled !== !1) return this.files[t]
                    }, remove: function (t) {
                        delete this.files[t]
                    }, clear: function () {
                        this.files = {}
                    }
                },
                cm = new lr;
            Object.assign(ur.prototype, {
                load: function () {}, parse: function () {}, setCrossOrigin: function (t) {
                    return this.crossOrigin = t, this
                }, setPath: function (t) {
                    return this.path = t, this
                }, setResourcePath: function (t) {
                    return this.resourcePath = t, this
                }
            });
            var pm = {};
            cr.prototype = Object.assign(Object.create(ur.prototype), {
                constructor: cr,
                load: function (t, e, i, n) {
                    void 0 === t && (t = ""), void 0 !== this.path && (t = this.path + t), t = this.manager.resolveURL(t);
                    var r = this,
                        o = um.get(t);
                    if (void 0 !== o) return r.manager.itemStart(t), setTimeout(function () {
                        e && e(o), r.manager.itemEnd(t)
                    }, 0), o;
                    if (void 0 !== pm[t]) return void pm[t].push({
                        onLoad: e,
                        onProgress: i,
                        onError: n
                    });
                    var s = /^data:(.*?)(;base64)?,(.*)$/,
                        a = t.match(s);
                    if (a) {
                        var h = a[1],
                            l = !!a[2],
                            u = a[3];
                        u = decodeURIComponent(u), l && (u = atob(u));
                        try {
                            var c, p = (this.responseType || "").toLowerCase();
                            switch (p) {
                            case "arraybuffer":
                            case "blob":
                                for (var d = new Uint8Array(u.length), f = 0; f < u.length; f++) d[f] = u.charCodeAt(f);
                                c = "blob" === p ? new Blob([d.buffer], {
                                    type: h
                                }) : d.buffer;
                                break;
                            case "document":
                                var m = new DOMParser;
                                c = m.parseFromString(u, h);
                                break;
                            case "json":
                                c = JSON.parse(u);
                                break;
                            default:
                                c = u
                            }
                            setTimeout(function () {
                                e && e(c), r.manager.itemEnd(t)
                            }, 0)
                        } catch (e) {
                            setTimeout(function () {
                                n && n(e), r.manager.itemError(t), r.manager.itemEnd(t)
                            }, 0)
                        }
                    } else {
                        pm[t] = [], pm[t].push({
                            onLoad: e,
                            onProgress: i,
                            onError: n
                        });
                        var g = new XMLHttpRequest;
                        g.open("GET", t, !0), g.addEventListener("load", function (e) {
                            var i = this.response,
                                n = pm[t];
                            if (delete pm[t], 200 === this.status || 0 === this.status) {
                                0 === this.status && console.warn("THREE.FileLoader: HTTP Status 0 received."), um.add(t, i);
                                for (var o = 0, s = n.length; o < s; o++) {
                                    var a = n[o];
                                    a.onLoad && a.onLoad(i)
                                }
                                r.manager.itemEnd(t)
                            } else {
                                for (var o = 0, s = n.length; o < s; o++) {
                                    var a = n[o];
                                    a.onError && a.onError(e)
                                }
                                r.manager.itemError(t), r.manager.itemEnd(t)
                            }
                        }, !1), g.addEventListener("progress", function (e) {
                            for (var i = pm[t], n = 0, r = i.length; n < r; n++) {
                                var o = i[n];
                                o.onProgress && o.onProgress(e)
                            }
                        }, !1), g.addEventListener("error", function (e) {
                            var i = pm[t];
                            delete pm[t];
                            for (var n = 0, o = i.length; n < o; n++) {
                                var s = i[n];
                                s.onError && s.onError(e)
                            }
                            r.manager.itemError(t), r.manager.itemEnd(t)
                        }, !1), g.addEventListener("abort", function (e) {
                            var i = pm[t];
                            delete pm[t];
                            for (var n = 0, o = i.length; n < o; n++) {
                                var s = i[n];
                                s.onError && s.onError(e)
                            }
                            r.manager.itemError(t), r.manager.itemEnd(t)
                        }, !1), void 0 !== this.responseType && (g.responseType = this.responseType), void 0 !== this.withCredentials && (g.withCredentials = this.withCredentials), g.overrideMimeType && g.overrideMimeType(void 0 !== this.mimeType ? this.mimeType : "text/plain");
                        for (var v in this.requestHeader) g.setRequestHeader(v, this.requestHeader[v]);
                        g.send(null)
                    }
                    return r.manager.itemStart(t), g
                }, setResponseType: function (t) {
                    return this.responseType = t, this
                }, setWithCredentials: function (t) {
                    return this.withCredentials = t, this
                }, setMimeType: function (t) {
                    return this.mimeType = t, this
                }, setRequestHeader: function (t) {
                    return this.requestHeader = t, this
                }
            }), pr.prototype = Object.assign(Object.create(ur.prototype), {
                constructor: pr,
                load: function (t, e, i, n) {
                    var r = this,
                        o = new cr(r.manager);
                    o.setPath(r.path), o.load(t, function (t) {
                        e(r.parse(JSON.parse(t)))
                    }, i, n)
                }, parse: function (t) {
                    for (var e = [], i = 0; i < t.length; i++) {
                        var n = sr.parse(t[i]);
                        e.push(n)
                    }
                    return e
                }
            }), dr.prototype = Object.assign(Object.create(ur.prototype), {
                constructor: dr,
                load: function (t, e, i, n) {
                    function r(r) {
                        h.load(t[r], function (t) {
                            var i = o.parse(t, !0);
                            s[r] = {
                                width: i.width,
                                height: i.height,
                                format: i.format,
                                mipmaps: i.mipmaps
                            }, l += 1, 6 === l && (1 === i.mipmapCount && (a.minFilter = sh), a.format = i.format, a.needsUpdate = !0, e && e(a))
                        }, i, n)
                    }
                    var o = this,
                        s = [],
                        a = new _i;
                    a.image = s;
                    var h = new cr(this.manager);
                    if (h.setPath(this.path), h.setResponseType("arraybuffer"), Array.isArray(t))
                        for (var l = 0, u = 0, c = t.length; u < c; ++u) r(u);
                    else h.load(t, function (t) {
                        var i = o.parse(t, !0);
                        if (i.isCubemap)
                            for (var n = i.mipmaps.length / i.mipmapCount, r = 0; r < n; r++) {
                                s[r] = {
                                    mipmaps: []
                                };
                                for (var h = 0; h < i.mipmapCount; h++) s[r].mipmaps.push(i.mipmaps[r * i.mipmapCount + h]), s[r].format = i.format, s[r].width = i.width, s[r].height = i.height
                            } else a.image.width = i.width, a.image.height = i.height, a.mipmaps = i.mipmaps;
                        1 === i.mipmapCount && (a.minFilter = sh), a.format = i.format, a.needsUpdate = !0, e && e(a)
                    }, i, n);
                    return a
                }
            }), fr.prototype = Object.assign(Object.create(ur.prototype), {
                constructor: fr,
                load: function (t, e, i, n) {
                    var r = this,
                        o = new K,
                        s = new cr(this.manager);
                    return s.setResponseType("arraybuffer"), s.setPath(this.path), s.load(t, function (t) {
                        var i = r.parse(t);
                        i && (void 0 !== i.image ? o.image = i.image : void 0 !== i.data && (o.image.width = i.width, o.image.height = i.height, o.image.data = i.data), o.wrapS = void 0 !== i.wrapS ? i.wrapS : Qa, o.wrapT = void 0 !== i.wrapT ? i.wrapT : Qa, o.magFilter = void 0 !== i.magFilter ? i.magFilter : sh, o.minFilter = void 0 !== i.minFilter ? i.minFilter : sh, o.anisotropy = void 0 !== i.anisotropy ? i.anisotropy : 1, void 0 !== i.format && (o.format = i.format), void 0 !== i.type && (o.type = i.type), void 0 !== i.mipmaps && (o.mipmaps = i.mipmaps, o.minFilter = lh), 1 === i.mipmapCount && (o.minFilter = sh), o.needsUpdate = !0, e && e(o, i))
                    }, i, n), o
                }
            }), mr.prototype = Object.assign(Object.create(ur.prototype), {
                constructor: mr,
                load: function (t, e, i, n) {
                    function r() {
                        h.removeEventListener("load", r, !1), h.removeEventListener("error", o, !1), um.add(t, this), e && e(this), s.manager.itemEnd(t)
                    }

                    function o(e) {
                        h.removeEventListener("load", r, !1), h.removeEventListener("error", o, !1), n && n(e), s.manager.itemError(t), s.manager.itemEnd(t)
                    }
                    void 0 !== this.path && (t = this.path + t), t = this.manager.resolveURL(t);
                    var s = this,
                        a = um.get(t);
                    if (void 0 !== a) return s.manager.itemStart(t), setTimeout(function () {
                        e && e(a), s.manager.itemEnd(t)
                    }, 0), a;
                    var h = document.createElementNS("http://www.w3.org/1999/xhtml", "img");
                    return h.addEventListener("load", r, !1), h.addEventListener("error", o, !1), "data:" !== t.substr(0, 5) && void 0 !== this.crossOrigin && (h.crossOrigin = this.crossOrigin), s.manager.itemStart(t), h.src = t, h
                }
            }), gr.prototype = Object.assign(Object.create(ur.prototype), {
                constructor: gr,
                load: function (t, e, i, n) {
                    function r(i) {
                        s.load(t[i], function (t) {
                            o.images[i] = t, a++, 6 === a && (o.needsUpdate = !0, e && e(o))
                        }, void 0, n)
                    }
                    var o = new mt,
                        s = new mr(this.manager);
                    s.setCrossOrigin(this.crossOrigin), s.setPath(this.path);
                    for (var a = 0, h = 0; h < t.length; ++h) r(h);
                    return o
                }
            }), vr.prototype = Object.assign(Object.create(ur.prototype), {
                constructor: vr,
                load: function (t, e, i, n) {
                    var r = new s,
                        o = new mr(this.manager);
                    return o.setCrossOrigin(this.crossOrigin), o.setPath(this.path), o.load(t, function (i) {
                        r.image = i;
                        var n = t.search(/\.jpe?g($|\?)/i) > 0 || 0 === t.search(/^data\:image\/jpeg/);
                        r.format = n ? Th : Mh, r.needsUpdate = !0, void 0 !== e && e(r)
                    }, i, n), r
                }
            }), Object.assign(_r.prototype, {
                getPoint: function () {
                    return console.warn("THREE.Curve: .getPoint() not implemented."), null
                }, getPointAt: function (t, e) {
                    var i = this.getUtoTmapping(t);
                    return this.getPoint(i, e)
                }, getPoints: function (t) {
                    void 0 === t && (t = 5);
                    for (var e = [], i = 0; i <= t; i++) e.push(this.getPoint(i / t));
                    return e
                }, getSpacedPoints: function (t) {
                    void 0 === t && (t = 5);
                    for (var e = [], i = 0; i <= t; i++) e.push(this.getPointAt(i / t));
                    return e
                }, getLength: function () {
                    var t = this.getLengths();
                    return t[t.length - 1]
                }, getLengths: function (t) {
                    if (void 0 === t && (t = this.arcLengthDivisions), this.cacheArcLengths && this.cacheArcLengths.length === t + 1 && !this.needsUpdate) return this.cacheArcLengths;
                    this.needsUpdate = !1;
                    var e, i, n = [],
                        r = this.getPoint(0),
                        o = 0;
                    for (n.push(0), i = 1; i <= t; i++) e = this.getPoint(i / t), o += e.distanceTo(r), n.push(o), r = e;
                    return this.cacheArcLengths = n, n
                }, updateArcLengths: function () {
                    this.needsUpdate = !0, this.getLengths()
                }, getUtoTmapping: function (t, e) {
                    var i, n = this.getLengths(),
                        r = 0,
                        o = n.length;
                    i = e ? e : t * n[o - 1];
                    for (var s, a = 0, h = o - 1; a <= h;)
                        if (r = Math.floor(a + (h - a) / 2), s = n[r] - i, s < 0) a = r + 1;
                        else {
                            if (!(s > 0)) {
                                h = r;
                                break
                            }
                            h = r - 1
                        }
                    if (r = h, n[r] === i) return r / (o - 1);
                    var l = n[r],
                        u = n[r + 1],
                        c = u - l,
                        p = (i - l) / c,
                        d = (r + p) / (o - 1);
                    return d
                }, getTangent: function (t) {
                    var e = 1e-4,
                        i = t - e,
                        n = t + e;
                    i < 0 && (i = 0), n > 1 && (n = 1);
                    var r = this.getPoint(i),
                        o = this.getPoint(n),
                        s = o.clone().sub(r);
                    return s.normalize()
                }, getTangentAt: function (t) {
                    var e = this.getUtoTmapping(t);
                    return this.getTangent(e)
                }, computeFrenetFrames: function (t, e) {
                    var i, n, o, s = new r,
                        a = [],
                        h = [],
                        l = [],
                        c = new r,
                        p = new u;
                    for (i = 0; i <= t; i++) n = i / t, a[i] = this.getTangentAt(n), a[i].normalize();
                    h[0] = new r, l[0] = new r;
                    var d = Number.MAX_VALUE,
                        f = Math.abs(a[0].x),
                        m = Math.abs(a[0].y),
                        g = Math.abs(a[0].z);
                    for (f <= d && (d = f, s.set(1, 0, 0)), m <= d && (d = m, s.set(0, 1, 0)), g <= d && s.set(0, 0, 1), c.crossVectors(a[0], s).normalize(), h[0].crossVectors(a[0], c), l[0].crossVectors(a[0], h[0]), i = 1; i <= t; i++) h[i] = h[i - 1].clone(), l[i] = l[i - 1].clone(), c.crossVectors(a[i - 1], a[i]), c.length() > Number.EPSILON && (c.normalize(), o = Math.acos(Kl.clamp(a[i - 1].dot(a[i]), -1, 1)), h[i].applyMatrix4(p.makeRotationAxis(c, o))), l[i].crossVectors(a[i], h[i]);
                    if (e === !0)
                        for (o = Math.acos(Kl.clamp(h[0].dot(h[t]), -1, 1)), o /= t, a[0].dot(c.crossVectors(h[0], h[t])) > 0 && (o = -o), i = 1; i <= t; i++) h[i].applyMatrix4(p.makeRotationAxis(a[i], o * i)), l[i].crossVectors(a[i], h[i]);
                    return {
                        tangents: a,
                        normals: h,
                        binormals: l
                    }
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.arcLengthDivisions = t.arcLengthDivisions, this
                }, toJSON: function () {
                    var t = {
                        metadata: {
                            version: 4.5,
                            type: "Curve",
                            generator: "Curve.toJSON"
                        }
                    };
                    return t.arcLengthDivisions = this.arcLengthDivisions, t.type = this.type, t
                }, fromJSON: function (t) {
                    return this.arcLengthDivisions = t.arcLengthDivisions, this
                }
            }), yr.prototype = Object.create(_r.prototype), yr.prototype.constructor = yr, yr.prototype.isEllipseCurve = !0, yr.prototype.getPoint = function (t, e) {
                for (var n = e || new i, r = 2 * Math.PI, o = this.aEndAngle - this.aStartAngle, s = Math.abs(o) < Number.EPSILON; o < 0;) o += r;
                for (; o > r;) o -= r;
                o < Number.EPSILON && (o = s ? 0 : r), this.aClockwise !== !0 || s || (o === r ? o = -r : o -= r);
                var a = this.aStartAngle + t * o,
                    h = this.aX + this.xRadius * Math.cos(a),
                    l = this.aY + this.yRadius * Math.sin(a);
                if (0 !== this.aRotation) {
                    var u = Math.cos(this.aRotation),
                        c = Math.sin(this.aRotation),
                        p = h - this.aX,
                        d = l - this.aY;
                    h = p * u - d * c + this.aX, l = p * c + d * u + this.aY
                }
                return n.set(h, l)
            }, yr.prototype.copy = function (t) {
                return _r.prototype.copy.call(this, t), this.aX = t.aX, this.aY = t.aY, this.xRadius = t.xRadius, this.yRadius = t.yRadius, this.aStartAngle = t.aStartAngle, this.aEndAngle = t.aEndAngle, this.aClockwise = t.aClockwise, this.aRotation = t.aRotation, this
            }, yr.prototype.toJSON = function () {
                var t = _r.prototype.toJSON.call(this);
                return t.aX = this.aX, t.aY = this.aY, t.xRadius = this.xRadius, t.yRadius = this.yRadius, t.aStartAngle = this.aStartAngle, t.aEndAngle = this.aEndAngle, t.aClockwise = this.aClockwise, t.aRotation = this.aRotation, t
            }, yr.prototype.fromJSON = function (t) {
                return _r.prototype.fromJSON.call(this, t), this.aX = t.aX, this.aY = t.aY, this.xRadius = t.xRadius, this.yRadius = t.yRadius, this.aStartAngle = t.aStartAngle, this.aEndAngle = t.aEndAngle, this.aClockwise = t.aClockwise, this.aRotation = t.aRotation, this
            }, xr.prototype = Object.create(yr.prototype), xr.prototype.constructor = xr, xr.prototype.isArcCurve = !0;
            var dm = new r,
                fm = new wr,
                mm = new wr,
                gm = new wr;
            br.prototype = Object.create(_r.prototype), br.prototype.constructor = br, br.prototype.isCatmullRomCurve3 = !0, br.prototype.getPoint = function (t, e) {
                var i = e || new r,
                    n = this.points,
                    o = n.length,
                    s = (o - (this.closed ? 0 : 1)) * t,
                    a = Math.floor(s),
                    h = s - a;
                this.closed ? a += a > 0 ? 0 : (Math.floor(Math.abs(a) / o) + 1) * o : 0 === h && a === o - 1 && (a = o - 2, h = 1);
                var l, u, c, p;
                if (this.closed || a > 0 ? l = n[(a - 1) % o] : (dm.subVectors(n[0], n[1]).add(n[0]), l = dm), u = n[a % o], c = n[(a + 1) % o], this.closed || a + 2 < o ? p = n[(a + 2) % o] : (dm.subVectors(n[o - 1], n[o - 2]).add(n[o - 1]), p = dm), "centripetal" === this.curveType || "chordal" === this.curveType) {
                    var d = "chordal" === this.curveType ? .5 : .25,
                        f = Math.pow(l.distanceToSquared(u), d),
                        m = Math.pow(u.distanceToSquared(c), d),
                        g = Math.pow(c.distanceToSquared(p), d);
                    m < 1e-4 && (m = 1), f < 1e-4 && (f = m), g < 1e-4 && (g = m), fm.initNonuniformCatmullRom(l.x, u.x, c.x, p.x, f, m, g), mm.initNonuniformCatmullRom(l.y, u.y, c.y, p.y, f, m, g), gm.initNonuniformCatmullRom(l.z, u.z, c.z, p.z, f, m, g)
                } else "catmullrom" === this.curveType && (fm.initCatmullRom(l.x, u.x, c.x, p.x, this.tension), mm.initCatmullRom(l.y, u.y, c.y, p.y, this.tension), gm.initCatmullRom(l.z, u.z, c.z, p.z, this.tension));
                return i.set(fm.calc(h), mm.calc(h), gm.calc(h)), i
            }, br.prototype.copy = function (t) {
                _r.prototype.copy.call(this, t), this.points = [];
                for (var e = 0, i = t.points.length; e < i; e++) {
                    var n = t.points[e];
                    this.points.push(n.clone())
                }
                return this.closed = t.closed, this.curveType = t.curveType, this.tension = t.tension, this
            }, br.prototype.toJSON = function () {
                var t = _r.prototype.toJSON.call(this);
                t.points = [];
                for (var e = 0, i = this.points.length; e < i; e++) {
                    var n = this.points[e];
                    t.points.push(n.toArray())
                }
                return t.closed = this.closed, t.curveType = this.curveType, t.tension = this.tension, t
            }, br.prototype.fromJSON = function (t) {
                _r.prototype.fromJSON.call(this, t), this.points = [];
                for (var e = 0, i = t.points.length; e < i; e++) {
                    var n = t.points[e];
                    this.points.push((new r).fromArray(n))
                }
                return this.closed = t.closed, this.curveType = t.curveType, this.tension = t.tension, this
            }, Ir.prototype = Object.create(_r.prototype), Ir.prototype.constructor = Ir, Ir.prototype.isCubicBezierCurve = !0, Ir.prototype.getPoint = function (t, e) {
                var n = e || new i,
                    r = this.v0,
                    o = this.v1,
                    s = this.v2,
                    a = this.v3;
                return n.set(Or(t, r.x, o.x, s.x, a.x), Or(t, r.y, o.y, s.y, a.y)), n
            }, Ir.prototype.copy = function (t) {
                return _r.prototype.copy.call(this, t), this.v0.copy(t.v0), this.v1.copy(t.v1), this.v2.copy(t.v2), this.v3.copy(t.v3), this
            }, Ir.prototype.toJSON = function () {
                var t = _r.prototype.toJSON.call(this);
                return t.v0 = this.v0.toArray(), t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t.v3 = this.v3.toArray(), t
            }, Ir.prototype.fromJSON = function (t) {
                return _r.prototype.fromJSON.call(this, t), this.v0.fromArray(t.v0), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this.v3.fromArray(t.v3), this
            }, Dr.prototype = Object.create(_r.prototype), Dr.prototype.constructor = Dr, Dr.prototype.isCubicBezierCurve3 = !0, Dr.prototype.getPoint = function (t, e) {
                var i = e || new r,
                    n = this.v0,
                    o = this.v1,
                    s = this.v2,
                    a = this.v3;
                return i.set(Or(t, n.x, o.x, s.x, a.x), Or(t, n.y, o.y, s.y, a.y), Or(t, n.z, o.z, s.z, a.z)), i
            }, Dr.prototype.copy = function (t) {
                return _r.prototype.copy.call(this, t), this.v0.copy(t.v0), this.v1.copy(t.v1), this.v2.copy(t.v2), this.v3.copy(t.v3), this
            }, Dr.prototype.toJSON = function () {
                var t = _r.prototype.toJSON.call(this);
                return t.v0 = this.v0.toArray(), t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t.v3 = this.v3.toArray(), t
            }, Dr.prototype.fromJSON = function (t) {
                return _r.prototype.fromJSON.call(this, t), this.v0.fromArray(t.v0), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this.v3.fromArray(t.v3), this
            }, kr.prototype = Object.create(_r.prototype), kr.prototype.constructor = kr, kr.prototype.isLineCurve = !0, kr.prototype.getPoint = function (t, e) {
                var n = e || new i;
                return 1 === t ? n.copy(this.v2) : (n.copy(this.v2).sub(this.v1), n.multiplyScalar(t).add(this.v1)), n
            }, kr.prototype.getPointAt = function (t, e) {
                return this.getPoint(t, e)
            }, kr.prototype.getTangent = function () {
                var t = this.v2.clone().sub(this.v1);
                return t.normalize()
            }, kr.prototype.copy = function (t) {
                return _r.prototype.copy.call(this, t), this.v1.copy(t.v1), this.v2.copy(t.v2), this
            }, kr.prototype.toJSON = function () {
                var t = _r.prototype.toJSON.call(this);
                return t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t
            }, kr.prototype.fromJSON = function (t) {
                return _r.prototype.fromJSON.call(this, t), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this
            }, Nr.prototype = Object.create(_r.prototype), Nr.prototype.constructor = Nr, Nr.prototype.isLineCurve3 = !0, Nr.prototype.getPoint = function (t, e) {
                var i = e || new r;
                return 1 === t ? i.copy(this.v2) : (i.copy(this.v2).sub(this.v1), i.multiplyScalar(t).add(this.v1)), i
            }, Nr.prototype.getPointAt = function (t, e) {
                return this.getPoint(t, e)
            }, Nr.prototype.copy = function (t) {
                return _r.prototype.copy.call(this, t), this.v1.copy(t.v1), this.v2.copy(t.v2), this
            }, Nr.prototype.toJSON = function () {
                var t = _r.prototype.toJSON.call(this);
                return t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t
            }, Nr.prototype.fromJSON = function (t) {
                return _r.prototype.fromJSON.call(this, t), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this
            }, zr.prototype = Object.create(_r.prototype), zr.prototype.constructor = zr, zr.prototype.isQuadraticBezierCurve = !0, zr.prototype.getPoint = function (t, e) {
                var n = e || new i,
                    r = this.v0,
                    o = this.v1,
                    s = this.v2;
                return n.set(Ar(t, r.x, o.x, s.x), Ar(t, r.y, o.y, s.y)), n
            }, zr.prototype.copy = function (t) {
                return _r.prototype.copy.call(this, t), this.v0.copy(t.v0), this.v1.copy(t.v1), this.v2.copy(t.v2), this
            }, zr.prototype.toJSON = function () {
                var t = _r.prototype.toJSON.call(this);
                return t.v0 = this.v0.toArray(), t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t
            }, zr.prototype.fromJSON = function (t) {
                return _r.prototype.fromJSON.call(this, t), this.v0.fromArray(t.v0), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this
            }, Br.prototype = Object.create(_r.prototype), Br.prototype.constructor = Br, Br.prototype.isQuadraticBezierCurve3 = !0, Br.prototype.getPoint = function (t, e) {
                var i = e || new r,
                    n = this.v0,
                    o = this.v1,
                    s = this.v2;
                return i.set(Ar(t, n.x, o.x, s.x), Ar(t, n.y, o.y, s.y), Ar(t, n.z, o.z, s.z)), i
            }, Br.prototype.copy = function (t) {
                return _r.prototype.copy.call(this, t), this.v0.copy(t.v0), this.v1.copy(t.v1), this.v2.copy(t.v2), this
            }, Br.prototype.toJSON = function () {
                var t = _r.prototype.toJSON.call(this);
                return t.v0 = this.v0.toArray(), t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t
            }, Br.prototype.fromJSON = function (t) {
                return _r.prototype.fromJSON.call(this, t), this.v0.fromArray(t.v0), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this
            }, Fr.prototype = Object.create(_r.prototype), Fr.prototype.constructor = Fr, Fr.prototype.isSplineCurve = !0, Fr.prototype.getPoint = function (t, e) {
                var n = e || new i,
                    r = this.points,
                    o = (r.length - 1) * t,
                    s = Math.floor(o),
                    a = o - s,
                    h = r[0 === s ? s : s - 1],
                    l = r[s],
                    u = r[s > r.length - 2 ? r.length - 1 : s + 1],
                    c = r[s > r.length - 3 ? r.length - 1 : s + 2];
                return n.set(Sr(a, h.x, l.x, u.x, c.x), Sr(a, h.y, l.y, u.y, c.y)), n
            }, Fr.prototype.copy = function (t) {
                _r.prototype.copy.call(this, t), this.points = [];
                for (var e = 0, i = t.points.length; e < i; e++) {
                    var n = t.points[e];
                    this.points.push(n.clone())
                }
                return this
            }, Fr.prototype.toJSON = function () {
                var t = _r.prototype.toJSON.call(this);
                t.points = [];
                for (var e = 0, i = this.points.length; e < i; e++) {
                    var n = this.points[e];
                    t.points.push(n.toArray())
                }
                return t
            }, Fr.prototype.fromJSON = function (t) {
                _r.prototype.fromJSON.call(this, t), this.points = [];
                for (var e = 0, n = t.points.length; e < n; e++) {
                    var r = t.points[e];
                    this.points.push((new i).fromArray(r))
                }
                return this
            };
            var vm = Object.freeze({
                __proto__: null,
                ArcCurve: xr,
                CatmullRomCurve3: br,
                CubicBezierCurve: Ir,
                CubicBezierCurve3: Dr,
                EllipseCurve: yr,
                LineCurve: kr,
                LineCurve3: Nr,
                QuadraticBezierCurve: zr,
                QuadraticBezierCurve3: Br,
                SplineCurve: Fr
            });
            Hr.prototype = Object.assign(Object.create(_r.prototype), {
                constructor: Hr,
                add: function (t) {
                    this.curves.push(t)
                }, closePath: function () {
                    var t = this.curves[0].getPoint(0),
                        e = this.curves[this.curves.length - 1].getPoint(1);
                    t.equals(e) || this.curves.push(new kr(e, t))
                }, getPoint: function (t) {
                    for (var e = t * this.getLength(), i = this.getCurveLengths(), n = 0; n < i.length;) {
                        if (i[n] >= e) {
                            var r = i[n] - e,
                                o = this.curves[n],
                                s = o.getLength(),
                                a = 0 === s ? 0 : 1 - r / s;
                            return o.getPointAt(a)
                        }
                        n++
                    }
                    return null
                }, getLength: function () {
                    var t = this.getCurveLengths();
                    return t[t.length - 1]
                }, updateArcLengths: function () {
                    this.needsUpdate = !0, this.cacheLengths = null, this.getCurveLengths()
                }, getCurveLengths: function () {
                    if (this.cacheLengths && this.cacheLengths.length === this.curves.length) return this.cacheLengths;
                    for (var t = [], e = 0, i = 0, n = this.curves.length; i < n; i++) e += this.curves[i].getLength(), t.push(e);
                    return this.cacheLengths = t, t
                }, getSpacedPoints: function (t) {
                    void 0 === t && (t = 40);
                    for (var e = [], i = 0; i <= t; i++) e.push(this.getPoint(i / t));
                    return this.autoClose && e.push(e[0]), e
                }, getPoints: function (t) {
                    t = t || 12;
                    for (var e, i = [], n = 0, r = this.curves; n < r.length; n++)
                        for (var o = r[n], s = o && o.isEllipseCurve ? 2 * t : o && (o.isLineCurve || o.isLineCurve3) ? 1 : o && o.isSplineCurve ? t * o.points.length : t, a = o.getPoints(s), h = 0; h < a.length; h++) {
                            var l = a[h];
                            e && e.equals(l) || (i.push(l), e = l)
                        }
                    return this.autoClose && i.length > 1 && !i[i.length - 1].equals(i[0]) && i.push(i[0]), i
                }, copy: function (t) {
                    _r.prototype.copy.call(this, t), this.curves = [];
                    for (var e = 0, i = t.curves.length; e < i; e++) {
                        var n = t.curves[e];
                        this.curves.push(n.clone())
                    }
                    return this.autoClose = t.autoClose, this
                }, toJSON: function () {
                    var t = _r.prototype.toJSON.call(this);
                    t.autoClose = this.autoClose, t.curves = [];
                    for (var e = 0, i = this.curves.length; e < i; e++) {
                        var n = this.curves[e];
                        t.curves.push(n.toJSON())
                    }
                    return t
                }, fromJSON: function (t) {
                    _r.prototype.fromJSON.call(this, t), this.autoClose = t.autoClose, this.curves = [];
                    for (var e = 0, i = t.curves.length; e < i; e++) {
                        var n = t.curves[e];
                        this.curves.push((new vm[n.type]).fromJSON(n))
                    }
                    return this
                }
            }), Ur.prototype = Object.assign(Object.create(Hr.prototype), {
                constructor: Ur,
                setFromPoints: function (t) {
                    this.moveTo(t[0].x, t[0].y);
                    for (var e = 1, i = t.length; e < i; e++) this.lineTo(t[e].x, t[e].y);
                    return this
                }, moveTo: function (t, e) {
                    return this.currentPoint.set(t, e), this
                }, lineTo: function (t, e) {
                    var n = new kr(this.currentPoint.clone(), new i(t, e));
                    return this.curves.push(n), this.currentPoint.set(t, e), this
                }, quadraticCurveTo: function (t, e, n, r) {
                    var o = new zr(this.currentPoint.clone(), new i(t, e), new i(n, r));
                    return this.curves.push(o), this.currentPoint.set(n, r), this
                }, bezierCurveTo: function (t, e, n, r, o, s) {
                    var a = new Ir(this.currentPoint.clone(), new i(t, e), new i(n, r), new i(o, s));
                    return this.curves.push(a), this.currentPoint.set(o, s), this
                }, splineThru: function (t) {
                    var e = [this.currentPoint.clone()].concat(t),
                        i = new Fr(e);
                    return this.curves.push(i), this.currentPoint.copy(t[t.length - 1]), this
                }, arc: function (t, e, i, n, r, o) {
                    var s = this.currentPoint.x,
                        a = this.currentPoint.y;
                    return this.absarc(t + s, e + a, i, n, r, o), this
                }, absarc: function (t, e, i, n, r, o) {
                    return this.absellipse(t, e, i, i, n, r, o), this
                }, ellipse: function (t, e, i, n, r, o, s, a) {
                    var h = this.currentPoint.x,
                        l = this.currentPoint.y;
                    return this.absellipse(t + h, e + l, i, n, r, o, s, a), this
                }, absellipse: function (t, e, i, n, r, o, s, a) {
                    var h = new yr(t, e, i, n, r, o, s, a);
                    if (this.curves.length > 0) {
                        var l = h.getPoint(0);
                        l.equals(this.currentPoint) || this.lineTo(l.x, l.y)
                    }
                    this.curves.push(h);
                    var u = h.getPoint(1);
                    return this.currentPoint.copy(u), this
                }, copy: function (t) {
                    return Hr.prototype.copy.call(this, t), this.currentPoint.copy(t.currentPoint), this
                }, toJSON: function () {
                    var t = Hr.prototype.toJSON.call(this);
                    return t.currentPoint = this.currentPoint.toArray(), t
                }, fromJSON: function (t) {
                    return Hr.prototype.fromJSON.call(this, t), this.currentPoint.fromArray(t.currentPoint), this
                }
            }), Gr.prototype = Object.assign(Object.create(Ur.prototype), {
                constructor: Gr,
                getPointsHoles: function (t) {
                    for (var e = [], i = 0, n = this.holes.length; i < n; i++) e[i] = this.holes[i].getPoints(t);
                    return e
                }, extractPoints: function (t) {
                    return {
                        shape: this.getPoints(t),
                        holes: this.getPointsHoles(t)
                    }
                }, copy: function (t) {
                    Ur.prototype.copy.call(this, t), this.holes = [];
                    for (var e = 0, i = t.holes.length; e < i; e++) {
                        var n = t.holes[e];
                        this.holes.push(n.clone())
                    }
                    return this
                }, toJSON: function () {
                    var t = Ur.prototype.toJSON.call(this);
                    t.uuid = this.uuid, t.holes = [];
                    for (var e = 0, i = this.holes.length; e < i; e++) {
                        var n = this.holes[e];
                        t.holes.push(n.toJSON())
                    }
                    return t
                }, fromJSON: function (t) {
                    Ur.prototype.fromJSON.call(this, t), this.uuid = t.uuid, this.holes = [];
                    for (var e = 0, i = t.holes.length; e < i; e++) {
                        var n = t.holes[e];
                        this.holes.push((new Ur).fromJSON(n))
                    }
                    return this
                }
            }), jr.prototype = Object.assign(Object.create(d.prototype), {
                constructor: jr,
                isLight: !0,
                copy: function (t) {
                    return d.prototype.copy.call(this, t), this.color.copy(t.color), this.intensity = t.intensity, this
                }, toJSON: function (t) {
                    var e = d.prototype.toJSON.call(this, t);
                    return e.object.color = this.color.getHex(), e.object.intensity = this.intensity, void 0 !== this.groundColor && (e.object.groundColor = this.groundColor.getHex()), void 0 !== this.distance && (e.object.distance = this.distance), void 0 !== this.angle && (e.object.angle = this.angle), void 0 !== this.decay && (e.object.decay = this.decay), void 0 !== this.penumbra && (e.object.penumbra = this.penumbra),
                        void 0 !== this.shadow && (e.object.shadow = this.shadow.toJSON()), e
                }
            }), Vr.prototype = Object.assign(Object.create(jr.prototype), {
                constructor: Vr,
                isHemisphereLight: !0,
                copy: function (t) {
                    return jr.prototype.copy.call(this, t), this.groundColor.copy(t.groundColor), this
                }
            }), Object.assign(Wr.prototype, {
                _projScreenMatrix: new u,
                _lightPositionWorld: new r,
                _lookTarget: new r,
                getViewportCount: function () {
                    return this._viewportCount
                }, getFrustum: function () {
                    return this._frustum
                }, updateMatrices: function (t) {
                    var e = this.camera,
                        i = this.matrix,
                        n = this._projScreenMatrix,
                        r = this._lookTarget,
                        o = this._lightPositionWorld;
                    o.setFromMatrixPosition(t.matrixWorld), e.position.copy(o), r.setFromMatrixPosition(t.target.matrixWorld), e.lookAt(r), e.updateMatrixWorld(), n.multiplyMatrices(e.projectionMatrix, e.matrixWorldInverse), this._frustum.setFromMatrix(n), i.set(.5, 0, 0, .5, 0, .5, 0, .5, 0, 0, .5, .5, 0, 0, 0, 1), i.multiply(e.projectionMatrix), i.multiply(e.matrixWorldInverse)
                }, getViewport: function (t) {
                    return this._viewports[t]
                }, getFrameExtents: function () {
                    return this._frameExtents
                }, copy: function (t) {
                    return this.camera = t.camera.clone(), this.bias = t.bias, this.radius = t.radius, this.mapSize.copy(t.mapSize), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, toJSON: function () {
                    var t = {};
                    return 0 !== this.bias && (t.bias = this.bias), 1 !== this.radius && (t.radius = this.radius), 512 === this.mapSize.x && 512 === this.mapSize.y || (t.mapSize = this.mapSize.toArray()), t.camera = this.camera.toJSON(!1).object, delete t.camera.matrix, t
                }
            }), qr.prototype = Object.assign(Object.create(Wr.prototype), {
                constructor: qr,
                isSpotLightShadow: !0,
                updateMatrices: function (t) {
                    var e = this.camera,
                        i = 2 * Kl.RAD2DEG * t.angle,
                        n = this.mapSize.width / this.mapSize.height,
                        r = t.distance || e.far;
                    i === e.fov && n === e.aspect && r === e.far || (e.fov = i, e.aspect = n, e.far = r, e.updateProjectionMatrix()), Wr.prototype.updateMatrices.call(this, t)
                }
            }), Xr.prototype = Object.assign(Object.create(jr.prototype), {
                constructor: Xr,
                isSpotLight: !0,
                copy: function (t) {
                    return jr.prototype.copy.call(this, t), this.distance = t.distance, this.angle = t.angle, this.penumbra = t.penumbra, this.decay = t.decay, this.target = t.target.clone(), this.shadow = t.shadow.clone(), this
                }
            }), Yr.prototype = Object.assign(Object.create(Wr.prototype), {
                constructor: Yr,
                isPointLightShadow: !0,
                updateMatrices: function (t, e) {
                    void 0 === e && (e = 0);
                    var i = this.camera,
                        n = this.matrix,
                        r = this._lightPositionWorld,
                        o = this._lookTarget,
                        s = this._projScreenMatrix;
                    r.setFromMatrixPosition(t.matrixWorld), i.position.copy(r), o.copy(i.position), o.add(this._cubeDirections[e]), i.up.copy(this._cubeUps[e]), i.lookAt(o), i.updateMatrixWorld(), n.makeTranslation(-r.x, -r.y, -r.z), s.multiplyMatrices(i.projectionMatrix, i.matrixWorldInverse), this._frustum.setFromMatrix(s)
                }
            }), Zr.prototype = Object.assign(Object.create(jr.prototype), {
                constructor: Zr,
                isPointLight: !0,
                copy: function (t) {
                    return jr.prototype.copy.call(this, t), this.distance = t.distance, this.decay = t.decay, this.shadow = t.shadow.clone(), this
                }
            }), Jr.prototype = Object.assign(Object.create(Y.prototype), {
                constructor: Jr,
                isOrthographicCamera: !0,
                copy: function (t, e) {
                    return Y.prototype.copy.call(this, t, e), this.left = t.left, this.right = t.right, this.top = t.top, this.bottom = t.bottom, this.near = t.near, this.far = t.far, this.zoom = t.zoom, this.view = null === t.view ? null : Object.assign({}, t.view), this
                }, setViewOffset: function (t, e, i, n, r, o) {
                    null === this.view && (this.view = {
                        enabled: !0,
                        fullWidth: 1,
                        fullHeight: 1,
                        offsetX: 0,
                        offsetY: 0,
                        width: 1,
                        height: 1
                    }), this.view.enabled = !0, this.view.fullWidth = t, this.view.fullHeight = e, this.view.offsetX = i, this.view.offsetY = n, this.view.width = r, this.view.height = o, this.updateProjectionMatrix()
                }, clearViewOffset: function () {
                    null !== this.view && (this.view.enabled = !1), this.updateProjectionMatrix()
                }, updateProjectionMatrix: function () {
                    var t = (this.right - this.left) / (2 * this.zoom),
                        e = (this.top - this.bottom) / (2 * this.zoom),
                        i = (this.right + this.left) / 2,
                        n = (this.top + this.bottom) / 2,
                        r = i - t,
                        o = i + t,
                        s = n + e,
                        a = n - e;
                    if (null !== this.view && this.view.enabled) {
                        var h = this.zoom / (this.view.width / this.view.fullWidth),
                            l = this.zoom / (this.view.height / this.view.fullHeight),
                            u = (this.right - this.left) / this.view.width,
                            c = (this.top - this.bottom) / this.view.height;
                        r += u * (this.view.offsetX / h), o = r + u * (this.view.width / h), s -= c * (this.view.offsetY / l), a = s - c * (this.view.height / l)
                    }
                    this.projectionMatrix.makeOrthographic(r, o, s, a, this.near, this.far), this.projectionMatrixInverse.getInverse(this.projectionMatrix)
                }, toJSON: function (t) {
                    var e = d.prototype.toJSON.call(this, t);
                    return e.object.zoom = this.zoom, e.object.left = this.left, e.object.right = this.right, e.object.top = this.top, e.object.bottom = this.bottom, e.object.near = this.near, e.object.far = this.far, null !== this.view && (e.object.view = Object.assign({}, this.view)), e
                }
            }), $r.prototype = Object.assign(Object.create(Wr.prototype), {
                constructor: $r,
                isDirectionalLightShadow: !0,
                updateMatrices: function (t) {
                    Wr.prototype.updateMatrices.call(this, t)
                }
            }), Kr.prototype = Object.assign(Object.create(jr.prototype), {
                constructor: Kr,
                isDirectionalLight: !0,
                copy: function (t) {
                    return jr.prototype.copy.call(this, t), this.target = t.target.clone(), this.shadow = t.shadow.clone(), this
                }
            }), Qr.prototype = Object.assign(Object.create(jr.prototype), {
                constructor: Qr,
                isAmbientLight: !0
            }), to.prototype = Object.assign(Object.create(jr.prototype), {
                constructor: to,
                isRectAreaLight: !0,
                copy: function (t) {
                    return jr.prototype.copy.call(this, t), this.width = t.width, this.height = t.height, this
                }, toJSON: function (t) {
                    var e = jr.prototype.toJSON.call(this, t);
                    return e.object.width = this.width, e.object.height = this.height, e
                }
            }), eo.prototype = Object.assign(Object.create(ur.prototype), {
                constructor: eo,
                load: function (t, e, i, n) {
                    var r = this,
                        o = new cr(r.manager);
                    o.setPath(r.path), o.load(t, function (t) {
                        e(r.parse(JSON.parse(t)))
                    }, i, n)
                }, parse: function (t) {
                    function e(t) {
                        return void 0 === n[t] && console.warn("THREE.MaterialLoader: Undefined texture", t), n[t]
                    }
                    var n = this.textures,
                        s = new hm[t.type];
                    if (void 0 !== t.uuid && (s.uuid = t.uuid), void 0 !== t.name && (s.name = t.name), void 0 !== t.color && s.color.setHex(t.color), void 0 !== t.roughness && (s.roughness = t.roughness), void 0 !== t.metalness && (s.metalness = t.metalness), void 0 !== t.sheen && (s.sheen = (new w).setHex(t.sheen)), void 0 !== t.emissive && s.emissive.setHex(t.emissive), void 0 !== t.specular && s.specular.setHex(t.specular), void 0 !== t.shininess && (s.shininess = t.shininess), void 0 !== t.clearcoat && (s.clearcoat = t.clearcoat), void 0 !== t.clearcoatRoughness && (s.clearcoatRoughness = t.clearcoatRoughness), void 0 !== t.vertexColors && (s.vertexColors = t.vertexColors), void 0 !== t.fog && (s.fog = t.fog), void 0 !== t.flatShading && (s.flatShading = t.flatShading), void 0 !== t.blending && (s.blending = t.blending), void 0 !== t.combine && (s.combine = t.combine), void 0 !== t.side && (s.side = t.side), void 0 !== t.opacity && (s.opacity = t.opacity), void 0 !== t.transparent && (s.transparent = t.transparent), void 0 !== t.alphaTest && (s.alphaTest = t.alphaTest), void 0 !== t.depthTest && (s.depthTest = t.depthTest), void 0 !== t.depthWrite && (s.depthWrite = t.depthWrite), void 0 !== t.colorWrite && (s.colorWrite = t.colorWrite), void 0 !== t.stencilWrite && (s.stencilWrite = t.stencilWrite), void 0 !== t.stencilWriteMask && (s.stencilWriteMask = t.stencilWriteMask), void 0 !== t.stencilFunc && (s.stencilFunc = t.stencilFunc), void 0 !== t.stencilRef && (s.stencilRef = t.stencilRef), void 0 !== t.stencilFuncMask && (s.stencilFuncMask = t.stencilFuncMask), void 0 !== t.stencilFail && (s.stencilFail = t.stencilFail), void 0 !== t.stencilZFail && (s.stencilZFail = t.stencilZFail), void 0 !== t.stencilZPass && (s.stencilZPass = t.stencilZPass), void 0 !== t.wireframe && (s.wireframe = t.wireframe), void 0 !== t.wireframeLinewidth && (s.wireframeLinewidth = t.wireframeLinewidth), void 0 !== t.wireframeLinecap && (s.wireframeLinecap = t.wireframeLinecap), void 0 !== t.wireframeLinejoin && (s.wireframeLinejoin = t.wireframeLinejoin), void 0 !== t.rotation && (s.rotation = t.rotation), 1 !== t.linewidth && (s.linewidth = t.linewidth), void 0 !== t.dashSize && (s.dashSize = t.dashSize), void 0 !== t.gapSize && (s.gapSize = t.gapSize), void 0 !== t.scale && (s.scale = t.scale), void 0 !== t.polygonOffset && (s.polygonOffset = t.polygonOffset), void 0 !== t.polygonOffsetFactor && (s.polygonOffsetFactor = t.polygonOffsetFactor), void 0 !== t.polygonOffsetUnits && (s.polygonOffsetUnits = t.polygonOffsetUnits), void 0 !== t.skinning && (s.skinning = t.skinning), void 0 !== t.morphTargets && (s.morphTargets = t.morphTargets), void 0 !== t.morphNormals && (s.morphNormals = t.morphNormals), void 0 !== t.dithering && (s.dithering = t.dithering), void 0 !== t.visible && (s.visible = t.visible), void 0 !== t.toneMapped && (s.toneMapped = t.toneMapped), void 0 !== t.userData && (s.userData = t.userData), void 0 !== t.uniforms)
                        for (var h in t.uniforms) {
                            var l = t.uniforms[h];
                            switch (s.uniforms[h] = {}, l.type) {
                            case "t":
                                s.uniforms[h].value = e(l.value);
                                break;
                            case "c":
                                s.uniforms[h].value = (new w).setHex(l.value);
                                break;
                            case "v2":
                                s.uniforms[h].value = (new i).fromArray(l.value);
                                break;
                            case "v3":
                                s.uniforms[h].value = (new r).fromArray(l.value);
                                break;
                            case "v4":
                                s.uniforms[h].value = (new a).fromArray(l.value);
                                break;
                            case "m3":
                                s.uniforms[h].value = (new o).fromArray(l.value);
                            case "m4":
                                s.uniforms[h].value = (new u).fromArray(l.value);
                                break;
                            default:
                                s.uniforms[h].value = l.value
                            }
                        }
                    if (void 0 !== t.defines && (s.defines = t.defines), void 0 !== t.vertexShader && (s.vertexShader = t.vertexShader), void 0 !== t.fragmentShader && (s.fragmentShader = t.fragmentShader), void 0 !== t.extensions)
                        for (var c in t.extensions) s.extensions[c] = t.extensions[c];
                    if (void 0 !== t.shading && (s.flatShading = 1 === t.shading), void 0 !== t.size && (s.size = t.size), void 0 !== t.sizeAttenuation && (s.sizeAttenuation = t.sizeAttenuation), void 0 !== t.map && (s.map = e(t.map)), void 0 !== t.matcap && (s.matcap = e(t.matcap)), void 0 !== t.alphaMap && (s.alphaMap = e(t.alphaMap), s.transparent = !0), void 0 !== t.bumpMap && (s.bumpMap = e(t.bumpMap)), void 0 !== t.bumpScale && (s.bumpScale = t.bumpScale), void 0 !== t.normalMap && (s.normalMap = e(t.normalMap)), void 0 !== t.normalMapType && (s.normalMapType = t.normalMapType), void 0 !== t.normalScale) {
                        var p = t.normalScale;
                        Array.isArray(p) === !1 && (p = [p, p]), s.normalScale = (new i).fromArray(p)
                    }
                    return void 0 !== t.displacementMap && (s.displacementMap = e(t.displacementMap)), void 0 !== t.displacementScale && (s.displacementScale = t.displacementScale), void 0 !== t.displacementBias && (s.displacementBias = t.displacementBias), void 0 !== t.roughnessMap && (s.roughnessMap = e(t.roughnessMap)), void 0 !== t.metalnessMap && (s.metalnessMap = e(t.metalnessMap)), void 0 !== t.emissiveMap && (s.emissiveMap = e(t.emissiveMap)), void 0 !== t.emissiveIntensity && (s.emissiveIntensity = t.emissiveIntensity), void 0 !== t.specularMap && (s.specularMap = e(t.specularMap)), void 0 !== t.envMap && (s.envMap = e(t.envMap)), void 0 !== t.envMapIntensity && (s.envMapIntensity = t.envMapIntensity), void 0 !== t.reflectivity && (s.reflectivity = t.reflectivity), void 0 !== t.refractionRatio && (s.refractionRatio = t.refractionRatio), void 0 !== t.lightMap && (s.lightMap = e(t.lightMap)), void 0 !== t.lightMapIntensity && (s.lightMapIntensity = t.lightMapIntensity), void 0 !== t.aoMap && (s.aoMap = e(t.aoMap)), void 0 !== t.aoMapIntensity && (s.aoMapIntensity = t.aoMapIntensity), void 0 !== t.gradientMap && (s.gradientMap = e(t.gradientMap)), void 0 !== t.clearcoatNormalMap && (s.clearcoatNormalMap = e(t.clearcoatNormalMap)), void 0 !== t.clearcoatNormalScale && (s.clearcoatNormalScale = (new i).fromArray(t.clearcoatNormalScale)), s
                }, setTextures: function (t) {
                    return this.textures = t, this
                }
            });
            var _m = {
                decodeText: function (t) {
                    if ("undefined" != typeof TextDecoder) return (new TextDecoder).decode(t);
                    for (var e = "", i = 0, n = t.length; i < n; i++) e += String.fromCharCode(t[i]);
                    try {
                        return decodeURIComponent(escape(e))
                    } catch (t) {
                        return e
                    }
                }, extractUrlBase: function (t) {
                    var e = t.lastIndexOf("/");
                    return e === -1 ? "./" : t.substr(0, e + 1)
                }
            };
            io.prototype = Object.assign(Object.create(H.prototype), {
                constructor: io,
                isInstancedBufferGeometry: !0,
                copy: function (t) {
                    return H.prototype.copy.call(this, t), this.maxInstancedCount = t.maxInstancedCount, this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, toJSON: function () {
                    var t = H.prototype.toJSON.call(this);
                    return t.maxInstancedCount = this.maxInstancedCount, t.isInstancedBufferGeometry = !0, t
                }
            }), no.prototype = Object.assign(Object.create(C.prototype), {
                constructor: no,
                isInstancedBufferAttribute: !0,
                copy: function (t) {
                    return C.prototype.copy.call(this, t), this.meshPerAttribute = t.meshPerAttribute, this
                }, toJSON: function () {
                    var t = C.prototype.toJSON.call(this);
                    return t.meshPerAttribute = this.meshPerAttribute, t.isInstancedBufferAttribute = !0, t
                }
            }), ro.prototype = Object.assign(Object.create(ur.prototype), {
                constructor: ro,
                load: function (t, e, i, n) {
                    var r = this,
                        o = new cr(r.manager);
                    o.setPath(r.path), o.load(t, function (t) {
                        e(r.parse(JSON.parse(t)))
                    }, i, n)
                }, parse: function (t) {
                    var e = t.isInstancedBufferGeometry ? new io : new H,
                        i = t.data.index;
                    if (void 0 !== i) {
                        var n = new ym[i.type](i.array);
                        e.setIndex(new C(n, 1))
                    }
                    var o = t.data.attributes;
                    for (var s in o) {
                        var a = o[s],
                            n = new ym[a.type](a.array),
                            h = a.isInstancedBufferAttribute ? no : C,
                            l = new h(n, a.itemSize, a.normalized);
                        void 0 !== a.name && (l.name = a.name), e.setAttribute(s, l)
                    }
                    var u = t.data.morphAttributes;
                    if (u)
                        for (var s in u) {
                            for (var c = u[s], p = [], d = 0, f = c.length; d < f; d++) {
                                var a = c[d],
                                    n = new ym[a.type](a.array),
                                    l = new C(n, a.itemSize, a.normalized);
                                void 0 !== a.name && (l.name = a.name), p.push(l)
                            }
                            e.morphAttributes[s] = p
                        }
                    var m = t.data.groups || t.data.drawcalls || t.data.offsets;
                    if (void 0 !== m)
                        for (var d = 0, g = m.length; d !== g; ++d) {
                            var _ = m[d];
                            e.addGroup(_.start, _.count, _.materialIndex)
                        }
                    var y = t.data.boundingSphere;
                    if (void 0 !== y) {
                        var x = new r;
                        void 0 !== y.center && x.fromArray(y.center), e.boundingSphere = new v(x, y.radius)
                    }
                    return t.name && (e.name = t.name), t.userData && (e.userData = t.userData), e
                }
            });
            var ym = {
                Int8Array: Int8Array,
                Uint8Array: Uint8Array,
                Uint8ClampedArray: "undefined" != typeof Uint8ClampedArray ? Uint8ClampedArray : Uint8Array,
                Int16Array: Int16Array,
                Uint16Array: Uint16Array,
                Int32Array: Int32Array,
                Uint32Array: Uint32Array,
                Float32Array: Float32Array,
                Float64Array: Float64Array
            };
            oo.prototype = Object.assign(Object.create(ur.prototype), {
                constructor: oo,
                load: function (t, e, i, n) {
                    var r = this,
                        o = "" === this.path ? _m.extractUrlBase(t) : this.path;
                    this.resourcePath = this.resourcePath || o;
                    var s = new cr(r.manager);
                    s.setPath(this.path), s.load(t, function (i) {
                        var o = null;
                        try {
                            o = JSON.parse(i)
                        } catch (e) {
                            return void 0 !== n && n(e), void console.error("THREE:ObjectLoader: Can't parse " + t + ".", e.message)
                        }
                        var s = o.metadata;
                        return void 0 === s || void 0 === s.type || "geometry" === s.type.toLowerCase() ? void console.error("THREE.ObjectLoader: Can't load " + t) : void r.parse(o, e)
                    }, i, n)
                }, parse: function (t, e) {
                    var i = this.parseShape(t.shapes),
                        n = this.parseGeometries(t.geometries, i),
                        r = this.parseImages(t.images, function () {
                            void 0 !== e && e(a)
                        }),
                        o = this.parseTextures(t.textures, r),
                        s = this.parseMaterials(t.materials, o),
                        a = this.parseObject(t.object, n, s);
                    return t.animations && (a.animations = this.parseAnimations(t.animations)), void 0 !== t.images && 0 !== t.images.length || void 0 !== e && e(a), a
                }, parseShape: function (t) {
                    var e = {};
                    if (void 0 !== t)
                        for (var i = 0, n = t.length; i < n; i++) {
                            var r = (new Gr).fromJSON(t[i]);
                            e[r.uuid] = r
                        }
                    return e
                }, parseGeometries: function (t, e) {
                    var i = {};
                    if (void 0 !== t)
                        for (var n = new ro, r = 0, o = t.length; r < o; r++) {
                            var s, a = t[r];
                            switch (a.type) {
                            case "PlaneGeometry":
                            case "PlaneBufferGeometry":
                                s = new am[a.type](a.width, a.height, a.widthSegments, a.heightSegments);
                                break;
                            case "BoxGeometry":
                            case "BoxBufferGeometry":
                            case "CubeGeometry":
                                s = new am[a.type](a.width, a.height, a.depth, a.widthSegments, a.heightSegments, a.depthSegments);
                                break;
                            case "CircleGeometry":
                            case "CircleBufferGeometry":
                                s = new am[a.type](a.radius, a.segments, a.thetaStart, a.thetaLength);
                                break;
                            case "CylinderGeometry":
                            case "CylinderBufferGeometry":
                                s = new am[a.type](a.radiusTop, a.radiusBottom, a.height, a.radialSegments, a.heightSegments, a.openEnded, a.thetaStart, a.thetaLength);
                                break;
                            case "ConeGeometry":
                            case "ConeBufferGeometry":
                                s = new am[a.type](a.radius, a.height, a.radialSegments, a.heightSegments, a.openEnded, a.thetaStart, a.thetaLength);
                                break;
                            case "SphereGeometry":
                            case "SphereBufferGeometry":
                                s = new am[a.type](a.radius, a.widthSegments, a.heightSegments, a.phiStart, a.phiLength, a.thetaStart, a.thetaLength);
                                break;
                            case "DodecahedronGeometry":
                            case "DodecahedronBufferGeometry":
                            case "IcosahedronGeometry":
                            case "IcosahedronBufferGeometry":
                            case "OctahedronGeometry":
                            case "OctahedronBufferGeometry":
                            case "TetrahedronGeometry":
                            case "TetrahedronBufferGeometry":
                                s = new am[a.type](a.radius, a.detail);
                                break;
                            case "RingGeometry":
                            case "RingBufferGeometry":
                                s = new am[a.type](a.innerRadius, a.outerRadius, a.thetaSegments, a.phiSegments, a.thetaStart, a.thetaLength);
                                break;
                            case "TorusGeometry":
                            case "TorusBufferGeometry":
                                s = new am[a.type](a.radius, a.tube, a.radialSegments, a.tubularSegments, a.arc);
                                break;
                            case "TorusKnotGeometry":
                            case "TorusKnotBufferGeometry":
                                s = new am[a.type](a.radius, a.tube, a.tubularSegments, a.radialSegments, a.p, a.q);
                                break;
                            case "TubeGeometry":
                            case "TubeBufferGeometry":
                                s = new am[a.type]((new vm[a.path.type]).fromJSON(a.path), a.tubularSegments, a.radius, a.radialSegments, a.closed);
                                break;
                            case "LatheGeometry":
                            case "LatheBufferGeometry":
                                s = new am[a.type](a.points, a.segments, a.phiStart, a.phiLength);
                                break;
                            case "PolyhedronGeometry":
                            case "PolyhedronBufferGeometry":
                                s = new am[a.type](a.vertices, a.indices, a.radius, a.details);
                                break;
                            case "ShapeGeometry":
                            case "ShapeBufferGeometry":
                                for (var h = [], l = 0, u = a.shapes.length; l < u; l++) {
                                    var c = e[a.shapes[l]];
                                    h.push(c)
                                }
                                s = new am[a.type](h, a.curveSegments);
                                break;
                            case "ExtrudeGeometry":
                            case "ExtrudeBufferGeometry":
                                for (var h = [], l = 0, u = a.shapes.length; l < u; l++) {
                                    var c = e[a.shapes[l]];
                                    h.push(c)
                                }
                                var p = a.options.extrudePath;
                                void 0 !== p && (a.options.extrudePath = (new vm[p.type]).fromJSON(p)), s = new am[a.type](h, a.options);
                                break;
                            case "BufferGeometry":
                            case "InstancedBufferGeometry":
                                s = n.parse(a);
                                break;
                            case "Geometry":
                                if ("THREE" in window && "LegacyJSONLoader" in THREE) {
                                    var d = new THREE.LegacyJSONLoader;
                                    s = d.parse(a, this.resourcePath).geometry
                                } else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');
                                break;
                            default:
                                console.warn('THREE.ObjectLoader: Unsupported geometry type "' + a.type + '"');
                                continue
                            }
                            s.uuid = a.uuid, void 0 !== a.name && (s.name = a.name), s.isBufferGeometry === !0 && void 0 !== a.userData && (s.userData = a.userData), i[a.uuid] = s
                        }
                    return i
                }, parseMaterials: function (t, e) {
                    var i = {},
                        n = {};
                    if (void 0 !== t) {
                        var r = new eo;
                        r.setTextures(e);
                        for (var o = 0, s = t.length; o < s; o++) {
                            var a = t[o];
                            if ("MultiMaterial" === a.type) {
                                for (var h = [], l = 0; l < a.materials.length; l++) {
                                    var u = a.materials[l];
                                    void 0 === i[u.uuid] && (i[u.uuid] = r.parse(u)), h.push(i[u.uuid])
                                }
                                n[a.uuid] = h
                            } else void 0 === i[a.uuid] && (i[a.uuid] = r.parse(a)), n[a.uuid] = i[a.uuid]
                        }
                    }
                    return n
                }, parseAnimations: function (t) {
                    for (var e = [], i = 0; i < t.length; i++) {
                        var n = t[i],
                            r = sr.parse(n);
                        void 0 !== n.uuid && (r.uuid = n.uuid), e.push(r)
                    }
                    return e
                }, parseImages: function (t, e) {
                    function i(t) {
                        return n.manager.itemStart(t), s.load(t, function () {
                            n.manager.itemEnd(t)
                        }, void 0, function () {
                            n.manager.itemError(t), n.manager.itemEnd(t)
                        })
                    }
                    var n = this,
                        r = {};
                    if (void 0 !== t && t.length > 0) {
                        var o = new lr(e),
                            s = new mr(o);
                        s.setCrossOrigin(this.crossOrigin);
                        for (var a = 0, h = t.length; a < h; a++) {
                            var l = t[a],
                                u = l.url;
                            if (Array.isArray(u)) {
                                r[l.uuid] = [];
                                for (var c = 0, p = u.length; c < p; c++) {
                                    var d = u[c],
                                        f = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(d) ? d : n.resourcePath + d;
                                    r[l.uuid].push(i(f))
                                }
                            } else {
                                var f = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url) ? l.url : n.resourcePath + l.url;
                                r[l.uuid] = i(f)
                            }
                        }
                    }
                    return r
                }, parseTextures: function (t, e) {
                    function i(t, e) {
                        return "number" == typeof t ? t : (console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.", t), e[t])
                    }
                    var n = {};
                    if (void 0 !== t)
                        for (var r = 0, o = t.length; r < o; r++) {
                            var a = t[r];
                            void 0 === a.image && console.warn('THREE.ObjectLoader: No "image" specified for', a.uuid), void 0 === e[a.image] && console.warn("THREE.ObjectLoader: Undefined image", a.image);
                            var h;
                            h = Array.isArray(e[a.image]) ? new mt(e[a.image]) : new s(e[a.image]), h.needsUpdate = !0, h.uuid = a.uuid, void 0 !== a.name && (h.name = a.name), void 0 !== a.mapping && (h.mapping = i(a.mapping, xm)), void 0 !== a.offset && h.offset.fromArray(a.offset), void 0 !== a.repeat && h.repeat.fromArray(a.repeat), void 0 !== a.center && h.center.fromArray(a.center), void 0 !== a.rotation && (h.rotation = a.rotation), void 0 !== a.wrap && (h.wrapS = i(a.wrap[0], wm), h.wrapT = i(a.wrap[1], wm)), void 0 !== a.format && (h.format = a.format), void 0 !== a.type && (h.type = a.type), void 0 !== a.encoding && (h.encoding = a.encoding), void 0 !== a.minFilter && (h.minFilter = i(a.minFilter, bm)), void 0 !== a.magFilter && (h.magFilter = i(a.magFilter, bm)), void 0 !== a.anisotropy && (h.anisotropy = a.anisotropy), void 0 !== a.flipY && (h.flipY = a.flipY), void 0 !== a.premultiplyAlpha && (h.premultiplyAlpha = a.premultiplyAlpha), void 0 !== a.unpackAlignment && (h.unpackAlignment = a.unpackAlignment), n[a.uuid] = h
                        }
                    return n
                }, parseObject: function (t, e, i) {
                    function n(t) {
                        return void 0 === e[t] && console.warn("THREE.ObjectLoader: Undefined geometry", t), e[t]
                    }

                    function r(t) {
                        if (void 0 !== t) {
                            if (Array.isArray(t)) {
                                for (var e = [], n = 0, r = t.length; n < r; n++) {
                                    var o = t[n];
                                    void 0 === i[o] && console.warn("THREE.ObjectLoader: Undefined material", o), e.push(i[o])
                                }
                                return e
                            }
                            return void 0 === i[t] && console.warn("THREE.ObjectLoader: Undefined material", t), i[t]
                        }
                    }
                    var o;
                    switch (t.type) {
                    case "Scene":
                        o = new f, void 0 !== t.background && Number.isInteger(t.background) && (o.background = new w(t.background)), void 0 !== t.fog && ("Fog" === t.fog.type ? o.fog = new Qe(t.fog.color, t.fog.near, t.fog.far) : "FogExp2" === t.fog.type && (o.fog = new Ke(t.fog.color, t.fog.density)));
                        break;
                    case "PerspectiveCamera":
                        o = new Z(t.fov, t.aspect, t.near, t.far), void 0 !== t.focus && (o.focus = t.focus), void 0 !== t.zoom && (o.zoom = t.zoom), void 0 !== t.filmGauge && (o.filmGauge = t.filmGauge), void 0 !== t.filmOffset && (o.filmOffset = t.filmOffset), void 0 !== t.view && (o.view = Object.assign({}, t.view));
                        break;
                    case "OrthographicCamera":
                        o = new Jr(t.left, t.right, t.top, t.bottom, t.near, t.far), void 0 !== t.zoom && (o.zoom = t.zoom), void 0 !== t.view && (o.view = Object.assign({}, t.view));
                        break;
                    case "AmbientLight":
                        o = new Qr(t.color, t.intensity);
                        break;
                    case "DirectionalLight":
                        o = new Kr(t.color, t.intensity);
                        break;
                    case "PointLight":
                        o = new Zr(t.color, t.intensity, t.distance, t.decay);
                        break;
                    case "RectAreaLight":
                        o = new to(t.color, t.intensity, t.width, t.height);
                        break;
                    case "SpotLight":
                        o = new Xr(t.color, t.intensity, t.distance, t.angle, t.penumbra, t.decay);
                        break;
                    case "HemisphereLight":
                        o = new Vr(t.color, t.groundColor, t.intensity);
                        break;
                    case "SkinnedMesh":
                        console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");
                    case "Mesh":
                        var s = n(t.geometry),
                            a = r(t.material);
                        o = s.bones && s.bones.length > 0 ? new si(s, a) : new U(s, a);
                        break;
                    case "InstancedMesh":
                        var s = n(t.geometry),
                            a = r(t.material),
                            h = t.count,
                            l = t.instanceMatrix;
                        o = new li(s, a, h), o.instanceMatrix = new C(new Float32Array(l.array), 16);
                        break;
                    case "LOD":
                        o = new oi;
                        break;
                    case "Line":
                        o = new ci(n(t.geometry), r(t.material), t.mode);
                        break;
                    case "LineLoop":
                        o = new di(n(t.geometry), r(t.material));
                        break;
                    case "LineSegments":
                        o = new pi(n(t.geometry), r(t.material));
                        break;
                    case "PointCloud":
                    case "Points":
                        o = new mi(n(t.geometry), r(t.material));
                        break;
                    case "Sprite":
                        o = new ni(r(t.material));
                        break;
                    case "Group":
                        o = new qe;
                        break;
                    default:
                        o = new d
                    }
                    if (o.uuid = t.uuid, void 0 !== t.name && (o.name = t.name), void 0 !== t.matrix ? (o.matrix.fromArray(t.matrix), void 0 !== t.matrixAutoUpdate && (o.matrixAutoUpdate = t.matrixAutoUpdate), o.matrixAutoUpdate && o.matrix.decompose(o.position, o.quaternion, o.scale)) : (void 0 !== t.position && o.position.fromArray(t.position), void 0 !== t.rotation && o.rotation.fromArray(t.rotation), void 0 !== t.quaternion && o.quaternion.fromArray(t.quaternion), void 0 !== t.scale && o.scale.fromArray(t.scale)), void 0 !== t.castShadow && (o.castShadow = t.castShadow), void 0 !== t.receiveShadow && (o.receiveShadow = t.receiveShadow), t.shadow && (void 0 !== t.shadow.bias && (o.shadow.bias = t.shadow.bias), void 0 !== t.shadow.radius && (o.shadow.radius = t.shadow.radius), void 0 !== t.shadow.mapSize && o.shadow.mapSize.fromArray(t.shadow.mapSize), void 0 !== t.shadow.camera && (o.shadow.camera = this.parseObject(t.shadow.camera))), void 0 !== t.visible && (o.visible = t.visible), void 0 !== t.frustumCulled && (o.frustumCulled = t.frustumCulled), void 0 !== t.renderOrder && (o.renderOrder = t.renderOrder), void 0 !== t.userData && (o.userData = t.userData), void 0 !== t.layers && (o.layers.mask = t.layers), void 0 !== t.drawMode && o.setDrawMode(t.drawMode), void 0 !== t.children)
                        for (var u = t.children, c = 0; c < u.length; c++) o.add(this.parseObject(u[c], e, i));
                    if ("LOD" === t.type)
                        for (var p = t.levels, m = 0; m < p.length; m++) {
                            var g = p[m],
                                v = o.getObjectByProperty("uuid", g.object);
                            void 0 !== v && o.addLevel(v, g.distance)
                        }
                    return o
                }
            });
            var xm = {
                    UVMapping: Va,
                    CubeReflectionMapping: Wa,
                    CubeRefractionMapping: qa,
                    EquirectangularReflectionMapping: Xa,
                    EquirectangularRefractionMapping: Ya,
                    SphericalReflectionMapping: Za,
                    CubeUVReflectionMapping: Ja,
                    CubeUVRefractionMapping: $a
                },
                wm = {
                    RepeatWrapping: Ka,
                    ClampToEdgeWrapping: Qa,
                    MirroredRepeatWrapping: th
                },
                bm = {
                    NearestFilter: eh,
                    NearestMipmapNearestFilter: ih,
                    NearestMipmapLinearFilter: rh,
                    LinearFilter: sh,
                    LinearMipmapNearestFilter: ah,
                    LinearMipmapLinearFilter: lh
                };
            so.prototype = Object.assign(Object.create(ur.prototype), {
                constructor: so,
                setOptions: function (t) {
                    return this.options = t, this
                }, load: function (t, e, i, n) {
                    void 0 === t && (t = ""), void 0 !== this.path && (t = this.path + t), t = this.manager.resolveURL(t);
                    var r = this,
                        o = um.get(t);
                    return void 0 !== o ? (r.manager.itemStart(t), setTimeout(function () {
                        e && e(o), r.manager.itemEnd(t)
                    }, 0), o) : (fetch(t).then(function (t) {
                        return t.blob()
                    }).then(function (t) {
                        return void 0 === r.options ? createImageBitmap(t) : createImageBitmap(t, r.options)
                    }).then(function (i) {
                        um.add(t, i), e && e(i), r.manager.itemEnd(t)
                    }).catch(function (e) {
                        n && n(e), r.manager.itemError(t), r.manager.itemEnd(t)
                    }), void r.manager.itemStart(t))
                }
            }), Object.assign(ao.prototype, {
                moveTo: function (t, e) {
                    return this.currentPath = new Ur, this.subPaths.push(this.currentPath), this.currentPath.moveTo(t, e), this
                }, lineTo: function (t, e) {
                    return this.currentPath.lineTo(t, e), this
                }, quadraticCurveTo: function (t, e, i, n) {
                    return this.currentPath.quadraticCurveTo(t, e, i, n), this
                }, bezierCurveTo: function (t, e, i, n, r, o) {
                    return this.currentPath.bezierCurveTo(t, e, i, n, r, o), this
                }, splineThru: function (t) {
                    return this.currentPath.splineThru(t), this
                }, toShapes: function (t, e) {
                    function i(t) {
                        for (var e = [], i = 0, n = t.length; i < n; i++) {
                            var r = t[i],
                                o = new Gr;
                            o.curves = r.curves, e.push(o)
                        }
                        return e
                    }

                    function n(t, e) {
                        for (var i = e.length, n = !1, r = i - 1, o = 0; o < i; r = o++) {
                            var s = e[r],
                                a = e[o],
                                h = a.x - s.x,
                                l = a.y - s.y;
                            if (Math.abs(l) > Number.EPSILON) {
                                if (l < 0 && (s = e[o], h = -h, a = e[r], l = -l), t.y < s.y || t.y > a.y) continue;
                                if (t.y === s.y) {
                                    if (t.x === s.x) return !0
                                } else {
                                    var u = l * (t.x - s.x) - h * (t.y - s.y);
                                    if (0 === u) return !0;
                                    if (u < 0) continue;
                                    n = !n
                                }
                            } else {
                                if (t.y !== s.y) continue;
                                if (a.x <= t.x && t.x <= s.x || s.x <= t.x && t.x <= a.x) return !0
                            }
                        }
                        return n
                    }
                    var r = om.isClockWise,
                        o = this.subPaths;
                    if (0 === o.length) return [];
                    if (e === !0) return i(o);
                    var s, a, h, l = [];
                    if (1 === o.length) return a = o[0], h = new Gr, h.curves = a.curves, l.push(h), l;
                    var u = !r(o[0].getPoints());
                    u = t ? !u : u;
                    var c, p = [],
                        d = [],
                        f = [],
                        m = 0;
                    d[m] = void 0, f[m] = [];
                    for (var g = 0, v = o.length; g < v; g++) a = o[g], c = a.getPoints(), s = r(c), s = t ? !s : s, s ? (!u && d[m] && m++, d[m] = {
                        s: new Gr,
                        p: c
                    }, d[m].s.curves = a.curves, u && m++, f[m] = []) : f[m].push({
                        h: a,
                        p: c[0]
                    });
                    if (!d[0]) return i(o);
                    if (d.length > 1) {
                        for (var _ = !1, y = [], x = 0, w = d.length; x < w; x++) p[x] = [];
                        for (var x = 0, w = d.length; x < w; x++)
                            for (var b = f[x], S = 0; S < b.length; S++) {
                                for (var T = b[S], M = !0, E = 0; E < d.length; E++) n(T.p, d[E].p) && (x !== E && y.push({
                                    froms: x,
                                    tos: E,
                                    hole: S
                                }), M ? (M = !1, p[E].push(T)) : _ = !0);
                                M && p[x].push(T)
                            }
                        y.length > 0 && (_ || (f = p))
                    }
                    for (var A, g = 0, C = d.length; g < C; g++) {
                        h = d[g].s, l.push(h), A = f[g];
                        for (var P = 0, R = A.length; P < R; P++) h.holes.push(A[P].h)
                    }
                    return l
                }
            }), Object.assign(ho.prototype, {
                isFont: !0,
                generateShapes: function (t, e) {
                    void 0 === e && (e = 100);
                    for (var i = [], n = lo(t, e, this.data), r = 0, o = n.length; r < o; r++) Array.prototype.push.apply(i, n[r].toShapes());
                    return i
                }
            }), co.prototype = Object.assign(Object.create(ur.prototype), {
                constructor: co,
                load: function (t, e, i, n) {
                    var r = this,
                        o = new cr(this.manager);
                    o.setPath(this.path), o.load(t, function (t) {
                        var i;
                        try {
                            i = JSON.parse(t)
                        } catch (e) {
                            console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."), i = JSON.parse(t.substring(65, t.length - 2))
                        }
                        var n = r.parse(i);
                        e && e(n)
                    }, i, n)
                }, parse: function (t) {
                    return new ho(t)
                }
            });
            var Sm, Tm = {
                getContext: function () {
                    return void 0 === Sm && (Sm = new(window.AudioContext || window.webkitAudioContext)), Sm
                }, setContext: function (t) {
                    Sm = t
                }
            };
            po.prototype = Object.assign(Object.create(ur.prototype), {
                constructor: po,
                load: function (t, e, i, n) {
                    var r = new cr(this.manager);
                    r.setResponseType("arraybuffer"), r.setPath(this.path), r.load(t, function (t) {
                        var i = t.slice(0),
                            n = Tm.getContext();
                        n.decodeAudioData(i, function (t) {
                            e(t)
                        })
                    }, i, n)
                }
            }), Object.assign(fo.prototype, {
                isSphericalHarmonics3: !0,
                set: function (t) {
                    for (var e = 0; e < 9; e++) this.coefficients[e].copy(t[e]);
                    return this
                }, zero: function () {
                    for (var t = 0; t < 9; t++) this.coefficients[t].set(0, 0, 0);
                    return this
                }, getAt: function (t, e) {
                    var i = t.x,
                        n = t.y,
                        r = t.z,
                        o = this.coefficients;
                    return e.copy(o[0]).multiplyScalar(.282095), e.addScale(o[1], .488603 * n), e.addScale(o[2], .488603 * r), e.addScale(o[3], .488603 * i), e.addScale(o[4], 1.092548 * (i * n)), e.addScale(o[5], 1.092548 * (n * r)), e.addScale(o[6], .315392 * (3 * r * r - 1)), e.addScale(o[7], 1.092548 * (i * r)), e.addScale(o[8], .546274 * (i * i - n * n)), e
                }, getIrradianceAt: function (t, e) {
                    var i = t.x,
                        n = t.y,
                        r = t.z,
                        o = this.coefficients;
                    return e.copy(o[0]).multiplyScalar(.886227), e.addScale(o[1], 1.023328 * n), e.addScale(o[2], 1.023328 * r), e.addScale(o[3], 1.023328 * i), e.addScale(o[4], .858086 * i * n), e.addScale(o[5], .858086 * n * r), e.addScale(o[6], .743125 * r * r - .247708), e.addScale(o[7], .858086 * i * r), e.addScale(o[8], .429043 * (i * i - n * n)), e
                }, add: function (t) {
                    for (var e = 0; e < 9; e++) this.coefficients[e].add(t.coefficients[e]);
                    return this
                }, scale: function (t) {
                    for (var e = 0; e < 9; e++) this.coefficients[e].multiplyScalar(t);
                    return this
                }, lerp: function (t, e) {
                    for (var i = 0; i < 9; i++) this.coefficients[i].lerp(t.coefficients[i], e);
                    return this
                }, equals: function (t) {
                    for (var e = 0; e < 9; e++)
                        if (!this.coefficients[e].equals(t.coefficients[e])) return !1;
                    return !0
                }, copy: function (t) {
                    return this.set(t.coefficients)
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, fromArray: function (t, e) {
                    void 0 === e && (e = 0);
                    for (var i = this.coefficients, n = 0; n < 9; n++) i[n].fromArray(t, e + 3 * n);
                    return this
                }, toArray: function (t, e) {
                    void 0 === t && (t = []), void 0 === e && (e = 0);
                    for (var i = this.coefficients, n = 0; n < 9; n++) i[n].toArray(t, e + 3 * n);
                    return t
                }
            }), Object.assign(fo, {
                getBasisAt: function (t, e) {
                    var i = t.x,
                        n = t.y,
                        r = t.z;
                    e[0] = .282095, e[1] = .488603 * n, e[2] = .488603 * r, e[3] = .488603 * i, e[4] = 1.092548 * i * n, e[5] = 1.092548 * n * r, e[6] = .315392 * (3 * r * r - 1), e[7] = 1.092548 * i * r, e[8] = .546274 * (i * i - n * n)
                }
            }), mo.prototype = Object.assign(Object.create(jr.prototype), {
                constructor: mo,
                isLightProbe: !0,
                copy: function (t) {
                    return jr.prototype.copy.call(this, t), this.sh.copy(t.sh), this.intensity = t.intensity, this
                }, toJSON: function (t) {
                    var e = jr.prototype.toJSON.call(this, t);
                    return e
                }
            }), go.prototype = Object.assign(Object.create(mo.prototype), {
                constructor: go,
                isHemisphereLightProbe: !0,
                copy: function (t) {
                    return mo.prototype.copy.call(this, t), this
                }, toJSON: function (t) {
                    var e = mo.prototype.toJSON.call(this, t);
                    return e
                }
            }), vo.prototype = Object.assign(Object.create(mo.prototype), {
                constructor: vo,
                isAmbientLightProbe: !0,
                copy: function (t) {
                    return mo.prototype.copy.call(this, t), this
                }, toJSON: function (t) {
                    var e = mo.prototype.toJSON.call(this, t);
                    return e
                }
            });
            var Mm = new u,
                Em = new u;
            Object.assign(_o.prototype, {
                update: function (t) {
                    var e = this._cache,
                        i = e.focus !== t.focus || e.fov !== t.fov || e.aspect !== t.aspect * this.aspect || e.near !== t.near || e.far !== t.far || e.zoom !== t.zoom || e.eyeSep !== this.eyeSep;
                    if (i) {
                        e.focus = t.focus, e.fov = t.fov, e.aspect = t.aspect * this.aspect, e.near = t.near, e.far = t.far, e.zoom = t.zoom, e.eyeSep = this.eyeSep;
                        var n, r, o = t.projectionMatrix.clone(),
                            s = e.eyeSep / 2,
                            a = s * e.near / e.focus,
                            h = e.near * Math.tan(Kl.DEG2RAD * e.fov * .5) / e.zoom;
                        Em.elements[12] = -s, Mm.elements[12] = s, n = -h * e.aspect + a, r = h * e.aspect + a, o.elements[0] = 2 * e.near / (r - n), o.elements[8] = (r + n) / (r - n), this.cameraL.projectionMatrix.copy(o), n = -h * e.aspect - a, r = h * e.aspect - a, o.elements[0] = 2 * e.near / (r - n), o.elements[8] = (r + n) / (r - n), this.cameraR.projectionMatrix.copy(o)
                    }
                    this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Em), this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Mm)
                }
            }), Object.assign(yo.prototype, {
                start: function () {
                    this.startTime = ("undefined" == typeof performance ? Date : performance).now(), this.oldTime = this.startTime, this.elapsedTime = 0, this.running = !0
                }, stop: function () {
                    this.getElapsedTime(), this.running = !1, this.autoStart = !1
                }, getElapsedTime: function () {
                    return this.getDelta(), this.elapsedTime
                }, getDelta: function () {
                    var t = 0;
                    if (this.autoStart && !this.running) return this.start(), 0;
                    if (this.running) {
                        var e = ("undefined" == typeof performance ? Date : performance).now();
                        t = (e - this.oldTime) / 1e3, this.oldTime = e, this.elapsedTime += t
                    }
                    return t
                }
            });
            var Am = new r,
                Cm = new n,
                Pm = new r,
                Rm = new r;
            xo.prototype = Object.assign(Object.create(d.prototype), {
                constructor: xo,
                getInput: function () {
                    return this.gain
                }, removeFilter: function () {
                    return null !== this.filter && (this.gain.disconnect(this.filter),
                        this.filter.disconnect(this.context.destination), this.gain.connect(this.context.destination), this.filter = null), this
                }, getFilter: function () {
                    return this.filter
                }, setFilter: function (t) {
                    return null !== this.filter ? (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination)) : this.gain.disconnect(this.context.destination), this.filter = t, this.gain.connect(this.filter), this.filter.connect(this.context.destination), this
                }, getMasterVolume: function () {
                    return this.gain.gain.value
                }, setMasterVolume: function (t) {
                    return this.gain.gain.setTargetAtTime(t, this.context.currentTime, .01), this
                }, updateMatrixWorld: function (t) {
                    d.prototype.updateMatrixWorld.call(this, t);
                    var e = this.context.listener,
                        i = this.up;
                    if (this.timeDelta = this._clock.getDelta(), this.matrixWorld.decompose(Am, Cm, Pm), Rm.set(0, 0, -1).applyQuaternion(Cm), e.positionX) {
                        var n = this.context.currentTime + this.timeDelta;
                        e.positionX.linearRampToValueAtTime(Am.x, n), e.positionY.linearRampToValueAtTime(Am.y, n), e.positionZ.linearRampToValueAtTime(Am.z, n), e.forwardX.linearRampToValueAtTime(Rm.x, n), e.forwardY.linearRampToValueAtTime(Rm.y, n), e.forwardZ.linearRampToValueAtTime(Rm.z, n), e.upX.linearRampToValueAtTime(i.x, n), e.upY.linearRampToValueAtTime(i.y, n), e.upZ.linearRampToValueAtTime(i.z, n)
                    } else e.setPosition(Am.x, Am.y, Am.z), e.setOrientation(Rm.x, Rm.y, Rm.z, i.x, i.y, i.z)
                }
            }), wo.prototype = Object.assign(Object.create(d.prototype), {
                constructor: wo,
                getOutput: function () {
                    return this.gain
                }, setNodeSource: function (t) {
                    return this.hasPlaybackControl = !1, this.sourceType = "audioNode", this.source = t, this.connect(), this
                }, setMediaElementSource: function (t) {
                    return this.hasPlaybackControl = !1, this.sourceType = "mediaNode", this.source = this.context.createMediaElementSource(t), this.connect(), this
                }, setMediaStreamSource: function (t) {
                    return this.hasPlaybackControl = !1, this.sourceType = "mediaStreamNode", this.source = this.context.createMediaStreamSource(t), this.connect(), this
                }, setBuffer: function (t) {
                    return this.buffer = t, this.sourceType = "buffer", this.autoplay && this.play(), this
                }, play: function (t) {
                    if (void 0 === t && (t = 0), this.isPlaying === !0) return void console.warn("THREE.Audio: Audio is already playing.");
                    if (this.hasPlaybackControl === !1) return void console.warn("THREE.Audio: this Audio has no playback control.");
                    this._startedAt = this.context.currentTime + t;
                    var e = this.context.createBufferSource();
                    return e.buffer = this.buffer, e.loop = this.loop, e.loopStart = this.loopStart, e.loopEnd = this.loopEnd, e.onended = this.onEnded.bind(this), e.start(this._startedAt, this._pausedAt + this.offset, this.duration), this.isPlaying = !0, this.source = e, this.setDetune(this.detune), this.setPlaybackRate(this.playbackRate), this.connect()
                }, pause: function () {
                    return this.hasPlaybackControl === !1 ? void console.warn("THREE.Audio: this Audio has no playback control.") : (this.isPlaying === !0 && (this._pausedAt = (this.context.currentTime - this._startedAt) * this.playbackRate, this.source.stop(), this.source.onended = null, this.isPlaying = !1), this)
                }, stop: function () {
                    return this.hasPlaybackControl === !1 ? void console.warn("THREE.Audio: this Audio has no playback control.") : (this._pausedAt = 0, this.source.stop(), this.source.onended = null, this.isPlaying = !1, this)
                }, connect: function () {
                    if (this.filters.length > 0) {
                        this.source.connect(this.filters[0]);
                        for (var t = 1, e = this.filters.length; t < e; t++) this.filters[t - 1].connect(this.filters[t]);
                        this.filters[this.filters.length - 1].connect(this.getOutput())
                    } else this.source.connect(this.getOutput());
                    return this
                }, disconnect: function () {
                    if (this.filters.length > 0) {
                        this.source.disconnect(this.filters[0]);
                        for (var t = 1, e = this.filters.length; t < e; t++) this.filters[t - 1].disconnect(this.filters[t]);
                        this.filters[this.filters.length - 1].disconnect(this.getOutput())
                    } else this.source.disconnect(this.getOutput());
                    return this
                }, getFilters: function () {
                    return this.filters
                }, setFilters: function (t) {
                    return t || (t = []), this.isPlaying === !0 ? (this.disconnect(), this.filters = t, this.connect()) : this.filters = t, this
                }, setDetune: function (t) {
                    if (this.detune = t, void 0 !== this.source.detune) return this.isPlaying === !0 && this.source.detune.setTargetAtTime(this.detune, this.context.currentTime, .01), this
                }, getDetune: function () {
                    return this.detune
                }, getFilter: function () {
                    return this.getFilters()[0]
                }, setFilter: function (t) {
                    return this.setFilters(t ? [t] : [])
                }, setPlaybackRate: function (t) {
                    return this.hasPlaybackControl === !1 ? void console.warn("THREE.Audio: this Audio has no playback control.") : (this.playbackRate = t, this.isPlaying === !0 && this.source.playbackRate.setTargetAtTime(this.playbackRate, this.context.currentTime, .01), this)
                }, getPlaybackRate: function () {
                    return this.playbackRate
                }, onEnded: function () {
                    this.isPlaying = !1
                }, getLoop: function () {
                    return this.hasPlaybackControl === !1 ? (console.warn("THREE.Audio: this Audio has no playback control."), !1) : this.loop
                }, setLoop: function (t) {
                    return this.hasPlaybackControl === !1 ? void console.warn("THREE.Audio: this Audio has no playback control.") : (this.loop = t, this.isPlaying === !0 && (this.source.loop = this.loop), this)
                }, setLoopStart: function (t) {
                    return this.loopStart = t, this
                }, setLoopEnd: function (t) {
                    return this.loopEnd = t, this
                }, getVolume: function () {
                    return this.gain.gain.value
                }, setVolume: function (t) {
                    return this.gain.gain.setTargetAtTime(t, this.context.currentTime, .01), this
                }
            });
            var Lm = new r,
                Om = new n,
                Im = new r,
                Dm = new r;
            bo.prototype = Object.assign(Object.create(wo.prototype), {
                constructor: bo,
                getOutput: function () {
                    return this.panner
                }, getRefDistance: function () {
                    return this.panner.refDistance
                }, setRefDistance: function (t) {
                    return this.panner.refDistance = t, this
                }, getRolloffFactor: function () {
                    return this.panner.rolloffFactor
                }, setRolloffFactor: function (t) {
                    return this.panner.rolloffFactor = t, this
                }, getDistanceModel: function () {
                    return this.panner.distanceModel
                }, setDistanceModel: function (t) {
                    return this.panner.distanceModel = t, this
                }, getMaxDistance: function () {
                    return this.panner.maxDistance
                }, setMaxDistance: function (t) {
                    return this.panner.maxDistance = t, this
                }, setDirectionalCone: function (t, e, i) {
                    return this.panner.coneInnerAngle = t, this.panner.coneOuterAngle = e, this.panner.coneOuterGain = i, this
                }, updateMatrixWorld: function (t) {
                    if (d.prototype.updateMatrixWorld.call(this, t), this.hasPlaybackControl !== !0 || this.isPlaying !== !1) {
                        this.matrixWorld.decompose(Lm, Om, Im), Dm.set(0, 0, 1).applyQuaternion(Om);
                        var e = this.panner;
                        if (e.positionX) {
                            var i = this.context.currentTime + this.listener.timeDelta;
                            e.positionX.linearRampToValueAtTime(Lm.x, i), e.positionY.linearRampToValueAtTime(Lm.y, i), e.positionZ.linearRampToValueAtTime(Lm.z, i), e.orientationX.linearRampToValueAtTime(Dm.x, i), e.orientationY.linearRampToValueAtTime(Dm.y, i), e.orientationZ.linearRampToValueAtTime(Dm.z, i)
                        } else e.setPosition(Lm.x, Lm.y, Lm.z), e.setOrientation(Dm.x, Dm.y, Dm.z)
                    }
                }
            }), Object.assign(So.prototype, {
                getFrequencyData: function () {
                    return this.analyser.getByteFrequencyData(this.data), this.data
                }, getAverageFrequency: function () {
                    for (var t = 0, e = this.getFrequencyData(), i = 0; i < e.length; i++) t += e[i];
                    return t / e.length
                }
            }), Object.assign(To.prototype, {
                accumulate: function (t, e) {
                    var i = this.buffer,
                        n = this.valueSize,
                        r = t * n + n,
                        o = this.cumulativeWeight;
                    if (0 === o) {
                        for (var s = 0; s !== n; ++s) i[r + s] = i[s];
                        o = e
                    } else {
                        o += e;
                        var a = e / o;
                        this._mixBufferRegion(i, r, 0, a, n)
                    }
                    this.cumulativeWeight = o
                }, apply: function (t) {
                    var e = this.valueSize,
                        i = this.buffer,
                        n = t * e + e,
                        r = this.cumulativeWeight,
                        o = this.binding;
                    if (this.cumulativeWeight = 0, r < 1) {
                        var s = 3 * e;
                        this._mixBufferRegion(i, n, s, 1 - r, e)
                    }
                    for (var a = e, h = e + e; a !== h; ++a)
                        if (i[a] !== i[a + e]) {
                            o.setValue(i, n);
                            break
                        }
                }, saveOriginalState: function () {
                    var t = this.binding,
                        e = this.buffer,
                        i = this.valueSize,
                        n = 3 * i;
                    t.getValue(e, n);
                    for (var r = i, o = n; r !== o; ++r) e[r] = e[n + r % i];
                    this.cumulativeWeight = 0
                }, restoreOriginalState: function () {
                    var t = 3 * this.valueSize;
                    this.binding.setValue(this.buffer, t)
                }, _select: function (t, e, i, n, r) {
                    if (n >= .5)
                        for (var o = 0; o !== r; ++o) t[e + o] = t[i + o]
                }, _slerp: function (t, e, i, r) {
                    n.slerpFlat(t, e, t, e, t, i, r)
                }, _lerp: function (t, e, i, n, r) {
                    for (var o = 1 - n, s = 0; s !== r; ++s) {
                        var a = e + s;
                        t[a] = t[a] * o + t[i + s] * n
                    }
                }
            });
            var km = "\\[\\]\\.:\\/",
                Nm = new RegExp("[" + km + "]", "g"),
                zm = "[^" + km + "]",
                Bm = "[^" + km.replace("\\.", "") + "]",
                Fm = /((?:WC+[\/:])*)/.source.replace("WC", zm),
                Hm = /(WCOD+)?/.source.replace("WCOD", Bm),
                Um = /(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC", zm),
                Gm = /\.(WC+)(?:\[(.+)\])?/.source.replace("WC", zm),
                jm = new RegExp("^" + Fm + Hm + Um + Gm + "$"),
                Vm = ["material", "materials", "bones"];
            Object.assign(Mo.prototype, {
                    getValue: function (t, e) {
                        this.bind();
                        var i = this._targetGroup.nCachedObjects_,
                            n = this._bindings[i];
                        void 0 !== n && n.getValue(t, e)
                    }, setValue: function (t, e) {
                        for (var i = this._bindings, n = this._targetGroup.nCachedObjects_, r = i.length; n !== r; ++n) i[n].setValue(t, e)
                    }, bind: function () {
                        for (var t = this._bindings, e = this._targetGroup.nCachedObjects_, i = t.length; e !== i; ++e) t[e].bind()
                    }, unbind: function () {
                        for (var t = this._bindings, e = this._targetGroup.nCachedObjects_, i = t.length; e !== i; ++e) t[e].unbind()
                    }
                }), Object.assign(Eo, {
                    Composite: Mo,
                    create: function (t, e, i) {
                        return t && t.isAnimationObjectGroup ? new Eo.Composite(t, e, i) : new Eo(t, e, i)
                    }, sanitizeNodeName: function (t) {
                        return t.replace(/\s/g, "_").replace(Nm, "")
                    }, parseTrackName: function (t) {
                        var e = jm.exec(t);
                        if (!e) throw new Error("PropertyBinding: Cannot parse trackName: " + t);
                        var i = {
                                nodeName: e[2],
                                objectName: e[3],
                                objectIndex: e[4],
                                propertyName: e[5],
                                propertyIndex: e[6]
                            },
                            n = i.nodeName && i.nodeName.lastIndexOf(".");
                        if (void 0 !== n && n !== -1) {
                            var r = i.nodeName.substring(n + 1);
                            Vm.indexOf(r) !== -1 && (i.nodeName = i.nodeName.substring(0, n), i.objectName = r)
                        }
                        if (null === i.propertyName || 0 === i.propertyName.length) throw new Error("PropertyBinding: can not parse propertyName from trackName: " + t);
                        return i
                    }, findNode: function (t, e) {
                        if (!e || "" === e || "root" === e || "." === e || e === -1 || e === t.name || e === t.uuid) return t;
                        if (t.skeleton) {
                            var i = t.skeleton.getBoneByName(e);
                            if (void 0 !== i) return i
                        }
                        if (t.children) {
                            var n = function (t) {
                                    for (var i = 0; i < t.length; i++) {
                                        var r = t[i];
                                        if (r.name === e || r.uuid === e) return r;
                                        var o = n(r.children);
                                        if (o) return o
                                    }
                                    return null
                                },
                                r = n(t.children);
                            if (r) return r
                        }
                        return null
                    }
                }), Object.assign(Eo.prototype, {
                    _getValue_unavailable: function () {}, _setValue_unavailable: function () {}, BindingType: {
                        Direct: 0,
                        EntireArray: 1,
                        ArrayElement: 2,
                        HasFromToArray: 3
                    }, Versioning: {
                        None: 0,
                        NeedsUpdate: 1,
                        MatrixWorldNeedsUpdate: 2
                    }, GetterByBindingType: [
                        function (t, e) {
                            t[e] = this.node[this.propertyName]
                        },
                        function (t, e) {
                            for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n) t[e++] = i[n]
                        },
                        function (t, e) {
                            t[e] = this.resolvedProperty[this.propertyIndex]
                        },
                        function (t, e) {
                            this.resolvedProperty.toArray(t, e)
                        }
                    ],
                    SetterByBindingTypeAndVersioning: [
                        [
                            function (t, e) {
                                this.targetObject[this.propertyName] = t[e]
                            },
                            function (t, e) {
                                this.targetObject[this.propertyName] = t[e], this.targetObject.needsUpdate = !0
                            },
                            function (t, e) {
                                this.targetObject[this.propertyName] = t[e], this.targetObject.matrixWorldNeedsUpdate = !0
                            }
                        ],
                        [
                            function (t, e) {
                                for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n) i[n] = t[e++]
                            },
                            function (t, e) {
                                for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n) i[n] = t[e++];
                                this.targetObject.needsUpdate = !0
                            },
                            function (t, e) {
                                for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n) i[n] = t[e++];
                                this.targetObject.matrixWorldNeedsUpdate = !0
                            }
                        ],
                        [
                            function (t, e) {
                                this.resolvedProperty[this.propertyIndex] = t[e]
                            },
                            function (t, e) {
                                this.resolvedProperty[this.propertyIndex] = t[e], this.targetObject.needsUpdate = !0
                            },
                            function (t, e) {
                                this.resolvedProperty[this.propertyIndex] = t[e], this.targetObject.matrixWorldNeedsUpdate = !0
                            }
                        ],
                        [
                            function (t, e) {
                                this.resolvedProperty.fromArray(t, e)
                            },
                            function (t, e) {
                                this.resolvedProperty.fromArray(t, e), this.targetObject.needsUpdate = !0
                            },
                            function (t, e) {
                                this.resolvedProperty.fromArray(t, e), this.targetObject.matrixWorldNeedsUpdate = !0
                            }
                        ]
                    ],
                    getValue: function (t, e) {
                        this.bind(), this.getValue(t, e)
                    }, setValue: function (t, e) {
                        this.bind(), this.setValue(t, e)
                    }, bind: function () {
                        var t = this.node,
                            e = this.parsedPath,
                            i = e.objectName,
                            n = e.propertyName,
                            r = e.propertyIndex;
                        if (t || (t = Eo.findNode(this.rootNode, e.nodeName) || this.rootNode, this.node = t), this.getValue = this._getValue_unavailable, this.setValue = this._setValue_unavailable, !t) return void console.error("THREE.PropertyBinding: Trying to update node for track: " + this.path + " but it wasn't found.");
                        if (i) {
                            var o = e.objectIndex;
                            switch (i) {
                            case "materials":
                                if (!t.material) return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.", this);
                                if (!t.material.materials) return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.", this);
                                t = t.material.materials;
                                break;
                            case "bones":
                                if (!t.skeleton) return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.", this);
                                t = t.skeleton.bones;
                                for (var s = 0; s < t.length; s++)
                                    if (t[s].name === o) {
                                        o = s;
                                        break
                                    }
                                break;
                            default:
                                if (void 0 === t[i]) return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.", this);
                                t = t[i]
                            }
                            if (void 0 !== o) {
                                if (void 0 === t[o]) return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.", this, t);
                                t = t[o]
                            }
                        }
                        var a = t[n];
                        if (void 0 === a) {
                            var h = e.nodeName;
                            return void console.error("THREE.PropertyBinding: Trying to update property for track: " + h + "." + n + " but it wasn't found.", t)
                        }
                        var l = this.Versioning.None;
                        this.targetObject = t, void 0 !== t.needsUpdate ? l = this.Versioning.NeedsUpdate : void 0 !== t.matrixWorldNeedsUpdate && (l = this.Versioning.MatrixWorldNeedsUpdate);
                        var u = this.BindingType.Direct;
                        if (void 0 !== r) {
                            if ("morphTargetInfluences" === n) {
                                if (!t.geometry) return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.", this);
                                if (t.geometry.isBufferGeometry) {
                                    if (!t.geometry.morphAttributes) return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.", this);
                                    for (var s = 0; s < this.node.geometry.morphAttributes.position.length; s++)
                                        if (t.geometry.morphAttributes.position[s].name === r) {
                                            r = s;
                                            break
                                        }
                                } else {
                                    if (!t.geometry.morphTargets) return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.", this);
                                    for (var s = 0; s < this.node.geometry.morphTargets.length; s++)
                                        if (t.geometry.morphTargets[s].name === r) {
                                            r = s;
                                            break
                                        }
                                }
                            }
                            u = this.BindingType.ArrayElement, this.resolvedProperty = a, this.propertyIndex = r
                        } else void 0 !== a.fromArray && void 0 !== a.toArray ? (u = this.BindingType.HasFromToArray, this.resolvedProperty = a) : Array.isArray(a) ? (u = this.BindingType.EntireArray, this.resolvedProperty = a) : this.propertyName = n;
                        this.getValue = this.GetterByBindingType[u], this.setValue = this.SetterByBindingTypeAndVersioning[u][l]
                    }, unbind: function () {
                        this.node = null, this.getValue = this._getValue_unbound, this.setValue = this._setValue_unbound
                    }
                }),
                //!\ DECLARE ALIAS AFTER assign prototype !
                Object.assign(Eo.prototype, {
                    _getValue_unbound: Eo.prototype.getValue,
                    _setValue_unbound: Eo.prototype.setValue
                }), Object.assign(Ao.prototype, {
                    isAnimationObjectGroup: !0,
                    add: function () {
                        for (var t = this._objects, e = t.length, i = this.nCachedObjects_, n = this._indicesByUUID, r = this._paths, o = this._parsedPaths, s = this._bindings, a = s.length, h = void 0, l = 0, u = arguments.length; l !== u; ++l) {
                            var c = arguments[l],
                                p = c.uuid,
                                d = n[p];
                            if (void 0 === d) {
                                d = e++, n[p] = d, t.push(c);
                                for (var f = 0, m = a; f !== m; ++f) s[f].push(new Eo(c, r[f], o[f]))
                            } else if (d < i) {
                                h = t[d];
                                var g = --i,
                                    v = t[g];
                                n[v.uuid] = d, t[d] = v, n[p] = g, t[g] = c;
                                for (var f = 0, m = a; f !== m; ++f) {
                                    var _ = s[f],
                                        y = _[g],
                                        x = _[d];
                                    _[d] = y, void 0 === x && (x = new Eo(c, r[f], o[f])), _[g] = x
                                }
                            } else t[d] !== h && console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")
                        }
                        this.nCachedObjects_ = i
                    }, remove: function () {
                        for (var t = this._objects, e = this.nCachedObjects_, i = this._indicesByUUID, n = this._bindings, r = n.length, o = 0, s = arguments.length; o !== s; ++o) {
                            var a = arguments[o],
                                h = a.uuid,
                                l = i[h];
                            if (void 0 !== l && l >= e) {
                                var u = e++,
                                    c = t[u];
                                i[c.uuid] = l, t[l] = c, i[h] = u, t[u] = a;
                                for (var p = 0, d = r; p !== d; ++p) {
                                    var f = n[p],
                                        m = f[u],
                                        g = f[l];
                                    f[l] = m, f[u] = g
                                }
                            }
                        }
                        this.nCachedObjects_ = e
                    }, uncache: function () {
                        for (var t = this._objects, e = t.length, i = this.nCachedObjects_, n = this._indicesByUUID, r = this._bindings, o = r.length, s = 0, a = arguments.length; s !== a; ++s) {
                            var h = arguments[s],
                                l = h.uuid,
                                u = n[l];
                            if (void 0 !== u)
                                if (delete n[l], u < i) {
                                    var c = --i,
                                        p = t[c],
                                        d = --e,
                                        f = t[d];
                                    n[p.uuid] = u, t[u] = p, n[f.uuid] = c, t[c] = f, t.pop();
                                    for (var m = 0, g = o; m !== g; ++m) {
                                        var v = r[m],
                                            _ = v[c],
                                            y = v[d];
                                        v[u] = _, v[c] = y, v.pop()
                                    }
                                } else {
                                    var d = --e,
                                        f = t[d];
                                    n[f.uuid] = u, t[u] = f, t.pop();
                                    for (var m = 0, g = o; m !== g; ++m) {
                                        var v = r[m];
                                        v[u] = v[d], v.pop()
                                    }
                                }
                        }
                        this.nCachedObjects_ = i
                    }, subscribe_: function (t, e) {
                        var i = this._bindingsIndicesByPath,
                            n = i[t],
                            r = this._bindings;
                        if (void 0 !== n) return r[n];
                        var o = this._paths,
                            s = this._parsedPaths,
                            a = this._objects,
                            h = a.length,
                            l = this.nCachedObjects_,
                            u = new Array(h);
                        n = r.length, i[t] = n, o.push(t), s.push(e), r.push(u);
                        for (var c = l, p = a.length; c !== p; ++c) {
                            var d = a[c];
                            u[c] = new Eo(d, t, e)
                        }
                        return u
                    }, unsubscribe_: function (t) {
                        var e = this._bindingsIndicesByPath,
                            i = e[t];
                        if (void 0 !== i) {
                            var n = this._paths,
                                r = this._parsedPaths,
                                o = this._bindings,
                                s = o.length - 1,
                                a = o[s],
                                h = t[s];
                            e[h] = i, o[i] = a, o.pop(), r[i] = r[s], r.pop(), n[i] = n[s], n.pop()
                        }
                    }
                }), Object.assign(Co.prototype, {
                    play: function () {
                        return this._mixer._activateAction(this), this
                    }, stop: function () {
                        return this._mixer._deactivateAction(this), this.reset()
                    }, reset: function () {
                        return this.paused = !1, this.enabled = !0, this.time = 0, this._loopCount = -1, this._startTime = null, this.stopFading().stopWarping()
                    }, isRunning: function () {
                        return this.enabled && !this.paused && 0 !== this.timeScale && null === this._startTime && this._mixer._isActiveAction(this)
                    }, isScheduled: function () {
                        return this._mixer._isActiveAction(this)
                    }, startAt: function (t) {
                        return this._startTime = t, this
                    }, setLoop: function (t, e) {
                        return this.loop = t, this.repetitions = e, this
                    }, setEffectiveWeight: function (t) {
                        return this.weight = t, this._effectiveWeight = this.enabled ? t : 0, this.stopFading()
                    }, getEffectiveWeight: function () {
                        return this._effectiveWeight
                    }, fadeIn: function (t) {
                        return this._scheduleFading(t, 0, 1)
                    }, fadeOut: function (t) {
                        return this._scheduleFading(t, 1, 0)
                    }, crossFadeFrom: function (t, e, i) {
                        if (t.fadeOut(e), this.fadeIn(e), i) {
                            var n = this._clip.duration,
                                r = t._clip.duration,
                                o = r / n,
                                s = n / r;
                            t.warp(1, o, e), this.warp(s, 1, e)
                        }
                        return this
                    }, crossFadeTo: function (t, e, i) {
                        return t.crossFadeFrom(this, e, i)
                    }, stopFading: function () {
                        var t = this._weightInterpolant;
                        return null !== t && (this._weightInterpolant = null, this._mixer._takeBackControlInterpolant(t)), this
                    }, setEffectiveTimeScale: function (t) {
                        return this.timeScale = t, this._effectiveTimeScale = this.paused ? 0 : t, this.stopWarping()
                    }, getEffectiveTimeScale: function () {
                        return this._effectiveTimeScale
                    }, setDuration: function (t) {
                        return this.timeScale = this._clip.duration / t, this.stopWarping()
                    }, syncWith: function (t) {
                        return this.time = t.time, this.timeScale = t.timeScale, this.stopWarping()
                    }, halt: function (t) {
                        return this.warp(this._effectiveTimeScale, 0, t)
                    }, warp: function (t, e, i) {
                        var n = this._mixer,
                            r = n.time,
                            o = this._timeScaleInterpolant,
                            s = this.timeScale;
                        null === o && (o = n._lendControlInterpolant(), this._timeScaleInterpolant = o);
                        var a = o.parameterPositions,
                            h = o.sampleValues;
                        return a[0] = r, a[1] = r + i, h[0] = t / s, h[1] = e / s, this
                    }, stopWarping: function () {
                        var t = this._timeScaleInterpolant;
                        return null !== t && (this._timeScaleInterpolant = null, this._mixer._takeBackControlInterpolant(t)), this
                    }, getMixer: function () {
                        return this._mixer
                    }, getClip: function () {
                        return this._clip
                    }, getRoot: function () {
                        return this._localRoot || this._mixer._root
                    }, _update: function (t, e, i, n) {
                        if (!this.enabled) return void this._updateWeight(t);
                        var r = this._startTime;
                        if (null !== r) {
                            var o = (t - r) * i;
                            if (o < 0 || 0 === i) return;
                            this._startTime = null, e = i * o
                        }
                        e *= this._updateTimeScale(t);
                        var s = this._updateTime(e),
                            a = this._updateWeight(t);
                        if (a > 0)
                            for (var h = this._interpolants, l = this._propertyBindings, u = 0, c = h.length; u !== c; ++u) h[u].evaluate(s), l[u].accumulate(n, a)
                    }, _updateWeight: function (t) {
                        var e = 0;
                        if (this.enabled) {
                            e = this.weight;
                            var i = this._weightInterpolant;
                            if (null !== i) {
                                var n = i.evaluate(t)[0];
                                e *= n, t > i.parameterPositions[1] && (this.stopFading(), 0 === n && (this.enabled = !1))
                            }
                        }
                        return this._effectiveWeight = e, e
                    }, _updateTimeScale: function (t) {
                        var e = 0;
                        if (!this.paused) {
                            e = this.timeScale;
                            var i = this._timeScaleInterpolant;
                            if (null !== i) {
                                var n = i.evaluate(t)[0];
                                e *= n, t > i.parameterPositions[1] && (this.stopWarping(), 0 === e ? this.paused = !0 : this.timeScale = e)
                            }
                        }
                        return this._effectiveTimeScale = e, e
                    }, _updateTime: function (t) {
                        var e = this.time + t,
                            i = this._clip.duration,
                            n = this.loop,
                            r = this._loopCount,
                            o = n === nl;
                        if (0 === t) return r === -1 ? e : o && 1 === (1 & r) ? i - e : e;
                        if (n === el) {
                            r === -1 && (this._loopCount = 0, this._setEndings(!0, !0, !1));
                            t: {
                                if (e >= i) e = i;
                                else {
                                    if (!(e < 0)) {
                                        this.time = e;
                                        break t
                                    }
                                    e = 0
                                }
                                this.clampWhenFinished ? this.paused = !0 : this.enabled = !1, this.time = e, this._mixer.dispatchEvent({
                                    type: "finished",
                                    action: this,
                                    direction: t < 0 ? -1 : 1
                                })
                            }
                        } else {
                            if (r === -1 && (t >= 0 ? (r = 0, this._setEndings(!0, 0 === this.repetitions, o)) : this._setEndings(0 === this.repetitions, !0, o)), e >= i || e < 0) {
                                var s = Math.floor(e / i);
                                e -= i * s, r += Math.abs(s);
                                var a = this.repetitions - r;
                                if (a <= 0) this.clampWhenFinished ? this.paused = !0 : this.enabled = !1, e = t > 0 ? i : 0, this.time = e, this._mixer.dispatchEvent({
                                    type: "finished",
                                    action: this,
                                    direction: t > 0 ? 1 : -1
                                });
                                else {
                                    if (1 === a) {
                                        var h = t < 0;
                                        this._setEndings(h, !h, o)
                                    } else this._setEndings(!1, !1, o);
                                    this._loopCount = r, this.time = e, this._mixer.dispatchEvent({
                                        type: "loop",
                                        action: this,
                                        loopDelta: s
                                    })
                                }
                            } else this.time = e; if (o && 1 === (1 & r)) return i - e
                        }
                        return e
                    }, _setEndings: function (t, e, i) {
                        var n = this._interpolantSettings;
                        i ? (n.endingStart = hl, n.endingEnd = hl) : (t ? n.endingStart = this.zeroSlopeAtStart ? hl : al : n.endingStart = ll, e ? n.endingEnd = this.zeroSlopeAtEnd ? hl : al : n.endingEnd = ll)
                    }, _scheduleFading: function (t, e, i) {
                        var n = this._mixer,
                            r = n.time,
                            o = this._weightInterpolant;
                        null === o && (o = n._lendControlInterpolant(), this._weightInterpolant = o);
                        var s = o.parameterPositions,
                            a = o.sampleValues;
                        return s[0] = r, a[0] = e, s[1] = r + t, a[1] = i, this
                    }
                }), Po.prototype = Object.assign(Object.create(e.prototype), {
                    constructor: Po,
                    _bindAction: function (t, e) {
                        var i = t._localRoot || this._root,
                            n = t._clip.tracks,
                            r = n.length,
                            o = t._propertyBindings,
                            s = t._interpolants,
                            a = i.uuid,
                            h = this._bindingsByRootAndName,
                            l = h[a];
                        void 0 === l && (l = {}, h[a] = l);
                        for (var u = 0; u !== r; ++u) {
                            var c = n[u],
                                p = c.name,
                                d = l[p];
                            if (void 0 !== d) o[u] = d;
                            else {
                                if (d = o[u], void 0 !== d) {
                                    null === d._cacheIndex && (++d.referenceCount, this._addInactiveBinding(d, a, p));
                                    continue
                                }
                                var f = e && e._propertyBindings[u].binding.parsedPath;
                                d = new To(Eo.create(i, p, f), c.ValueTypeName, c.getValueSize()), ++d.referenceCount, this._addInactiveBinding(d, a, p), o[u] = d
                            }
                            s[u].resultBuffer = d.buffer
                        }
                    }, _activateAction: function (t) {
                        if (!this._isActiveAction(t)) {
                            if (null === t._cacheIndex) {
                                var e = (t._localRoot || this._root).uuid,
                                    i = t._clip.uuid,
                                    n = this._actionsByClip[i];
                                this._bindAction(t, n && n.knownActions[0]), this._addInactiveAction(t, i, e)
                            }
                            for (var r = t._propertyBindings, o = 0, s = r.length; o !== s; ++o) {
                                var a = r[o];
                                0 === a.useCount++ && (this._lendBinding(a), a.saveOriginalState())
                            }
                            this._lendAction(t)
                        }
                    }, _deactivateAction: function (t) {
                        if (this._isActiveAction(t)) {
                            for (var e = t._propertyBindings, i = 0, n = e.length; i !== n; ++i) {
                                var r = e[i];
                                0 === --r.useCount && (r.restoreOriginalState(), this._takeBackBinding(r))
                            }
                            this._takeBackAction(t)
                        }
                    }, _initMemoryManager: function () {
                        this._actions = [], this._nActiveActions = 0, this._actionsByClip = {}, this._bindings = [], this._nActiveBindings = 0, this._bindingsByRootAndName = {}, this._controlInterpolants = [], this._nActiveControlInterpolants = 0;
                        var t = this;
                        this.stats = {
                            actions: {
                                get total() {
                                    return t._actions.length
                                }, get inUse() {
                                    return t._nActiveActions
                                }
                            },
                            bindings: {
                                get total() {
                                    return t._bindings.length
                                }, get inUse() {
                                    return t._nActiveBindings
                                }
                            },
                            controlInterpolants: {
                                get total() {
                                    return t._controlInterpolants.length
                                }, get inUse() {
                                    return t._nActiveControlInterpolants
                                }
                            }
                        }
                    }, _isActiveAction: function (t) {
                        var e = t._cacheIndex;
                        return null !== e && e < this._nActiveActions
                    }, _addInactiveAction: function (t, e, i) {
                        var n = this._actions,
                            r = this._actionsByClip,
                            o = r[e];
                        if (void 0 === o) o = {
                            knownActions: [t],
                            actionByRoot: {}
                        }, t._byClipCacheIndex = 0, r[e] = o;
                        else {
                            var s = o.knownActions;
                            t._byClipCacheIndex = s.length, s.push(t)
                        }
                        t._cacheIndex = n.length, n.push(t), o.actionByRoot[i] = t
                    }, _removeInactiveAction: function (t) {
                        var e = this._actions,
                            i = e[e.length - 1],
                            n = t._cacheIndex;
                        i._cacheIndex = n, e[n] = i, e.pop(), t._cacheIndex = null;
                        var r = t._clip.uuid,
                            o = this._actionsByClip,
                            s = o[r],
                            a = s.knownActions,
                            h = a[a.length - 1],
                            l = t._byClipCacheIndex;
                        h._byClipCacheIndex = l, a[l] = h, a.pop(), t._byClipCacheIndex = null;
                        var u = s.actionByRoot,
                            c = (t._localRoot || this._root).uuid;
                        delete u[c], 0 === a.length && delete o[r], this._removeInactiveBindingsForAction(t)
                    }, _removeInactiveBindingsForAction: function (t) {
                        for (var e = t._propertyBindings, i = 0, n = e.length; i !== n; ++i) {
                            var r = e[i];
                            0 === --r.referenceCount && this._removeInactiveBinding(r)
                        }
                    }, _lendAction: function (t) {
                        var e = this._actions,
                            i = t._cacheIndex,
                            n = this._nActiveActions++,
                            r = e[n];
                        t._cacheIndex = n, e[n] = t, r._cacheIndex = i, e[i] = r
                    }, _takeBackAction: function (t) {
                        var e = this._actions,
                            i = t._cacheIndex,
                            n = --this._nActiveActions,
                            r = e[n];
                        t._cacheIndex = n, e[n] = t, r._cacheIndex = i, e[i] = r
                    }, _addInactiveBinding: function (t, e, i) {
                        var n = this._bindingsByRootAndName,
                            r = n[e],
                            o = this._bindings;
                        void 0 === r && (r = {}, n[e] = r), r[i] = t, t._cacheIndex = o.length, o.push(t)
                    }, _removeInactiveBinding: function (t) {
                        var e = this._bindings,
                            i = t.binding,
                            n = i.rootNode.uuid,
                            r = i.path,
                            o = this._bindingsByRootAndName,
                            s = o[n],
                            a = e[e.length - 1],
                            h = t._cacheIndex;
                        a._cacheIndex = h, e[h] = a, e.pop(), delete s[r], 0 === Object.keys(s).length && delete o[n]
                    }, _lendBinding: function (t) {
                        var e = this._bindings,
                            i = t._cacheIndex,
                            n = this._nActiveBindings++,
                            r = e[n];
                        t._cacheIndex = n, e[n] = t, r._cacheIndex = i, e[i] = r
                    }, _takeBackBinding: function (t) {
                        var e = this._bindings,
                            i = t._cacheIndex,
                            n = --this._nActiveBindings,
                            r = e[n];
                        t._cacheIndex = n, e[n] = t, r._cacheIndex = i, e[i] = r
                    }, _lendControlInterpolant: function () {
                        var t = this._controlInterpolants,
                            e = this._nActiveControlInterpolants++,
                            i = t[e];
                        return void 0 === i && (i = new Jn(new Float32Array(2), new Float32Array(2), 1, this._controlInterpolantsResultBuffer), i.__cacheIndex = e, t[e] = i), i
                    }, _takeBackControlInterpolant: function (t) {
                        var e = this._controlInterpolants,
                            i = t.__cacheIndex,
                            n = --this._nActiveControlInterpolants,
                            r = e[n];
                        t.__cacheIndex = n, e[n] = t, r.__cacheIndex = i, e[i] = r
                    }, _controlInterpolantsResultBuffer: new Float32Array(1),
                    clipAction: function (t, e) {
                        var i = e || this._root,
                            n = i.uuid,
                            r = "string" == typeof t ? sr.findByName(i, t) : t,
                            o = null !== r ? r.uuid : t,
                            s = this._actionsByClip[o],
                            a = null;
                        if (void 0 !== s) {
                            var h = s.actionByRoot[n];
                            if (void 0 !== h) return h;
                            a = s.knownActions[0], null === r && (r = a._clip)
                        }
                        if (null === r) return null;
                        var l = new Co(this, r, e);
                        return this._bindAction(l, a), this._addInactiveAction(l, o, n), l
                    }, existingAction: function (t, e) {
                        var i = e || this._root,
                            n = i.uuid,
                            r = "string" == typeof t ? sr.findByName(i, t) : t,
                            o = r ? r.uuid : t,
                            s = this._actionsByClip[o];
                        return void 0 !== s ? s.actionByRoot[n] || null : null
                    }, stopAllAction: function () {
                        var t = this._actions,
                            e = this._nActiveActions,
                            i = this._bindings,
                            n = this._nActiveBindings;
                        this._nActiveActions = 0, this._nActiveBindings = 0;
                        for (var r = 0; r !== e; ++r) t[r].reset();
                        for (var r = 0; r !== n; ++r) i[r].useCount = 0;
                        return this
                    }, update: function (t) {
                        t *= this.timeScale;
                        for (var e = this._actions, i = this._nActiveActions, n = this.time += t, r = Math.sign(t), o = this._accuIndex ^= 1, s = 0; s !== i; ++s) {
                            var a = e[s];
                            a._update(n, t, r, o)
                        }
                        for (var h = this._bindings, l = this._nActiveBindings, s = 0; s !== l; ++s) h[s].apply(o);
                        return this
                    }, setTime: function (t) {
                        this.time = 0;
                        for (var e = 0; e < this._actions.length; e++) this._actions[e].time = 0;
                        return this.update(t)
                    }, getRoot: function () {
                        return this._root
                    }, uncacheClip: function (t) {
                        var e = this._actions,
                            i = t.uuid,
                            n = this._actionsByClip,
                            r = n[i];
                        if (void 0 !== r) {
                            for (var o = r.knownActions, s = 0, a = o.length; s !== a; ++s) {
                                var h = o[s];
                                this._deactivateAction(h);
                                var l = h._cacheIndex,
                                    u = e[e.length - 1];
                                h._cacheIndex = null, h._byClipCacheIndex = null, u._cacheIndex = l, e[l] = u, e.pop(), this._removeInactiveBindingsForAction(h)
                            }
                            delete n[i]
                        }
                    }, uncacheRoot: function (t) {
                        var e = t.uuid,
                            i = this._actionsByClip;
                        for (var n in i) {
                            var r = i[n].actionByRoot,
                                o = r[e];
                            void 0 !== o && (this._deactivateAction(o), this._removeInactiveAction(o))
                        }
                        var s = this._bindingsByRootAndName,
                            a = s[e];
                        if (void 0 !== a)
                            for (var h in a) {
                                var l = a[h];
                                l.restoreOriginalState(), this._removeInactiveBinding(l)
                            }
                    }, uncacheAction: function (t, e) {
                        var i = this.existingAction(t, e);
                        null !== i && (this._deactivateAction(i), this._removeInactiveAction(i))
                    }
                }), Ro.prototype.clone = function () {
                    return new Ro(void 0 === this.value.clone ? this.value : this.value.clone())
                }, Lo.prototype = Object.assign(Object.create(ti.prototype), {
                    constructor: Lo,
                    isInstancedInterleavedBuffer: !0,
                    copy: function (t) {
                        return ti.prototype.copy.call(this, t), this.meshPerAttribute = t.meshPerAttribute, this
                    }
                }), Object.assign(Oo.prototype, {
                    linePrecision: 1,
                    set: function (t, e) {
                        this.ray.set(t, e)
                    }, setFromCamera: function (t, e) {
                        e && e.isPerspectiveCamera ? (this.ray.origin.setFromMatrixPosition(e.matrixWorld), this.ray.direction.set(t.x, t.y, .5).unproject(e).sub(this.ray.origin).normalize(), this.camera = e) : e && e.isOrthographicCamera ? (this.ray.origin.set(t.x, t.y, (e.near + e.far) / (e.near - e.far)).unproject(e), this.ray.direction.set(0, 0, -1).transformDirection(e.matrixWorld), this.camera = e) : console.error("THREE.Raycaster: Unsupported camera type.")
                    }, intersectObject: function (t, e, i) {
                        var n = i || [];
                        return Do(t, this, n, e), n.sort(Io), n
                    }, intersectObjects: function (t, e, i) {
                        var n = i || [];
                        if (Array.isArray(t) === !1) return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."), n;
                        for (var r = 0, o = t.length; r < o; r++) Do(t[r], this, n, e);
                        return n.sort(Io), n
                    }
                }), Object.assign(ko.prototype, {
                    set: function (t, e, i) {
                        return this.radius = t, this.phi = e, this.theta = i, this
                    }, clone: function () {
                        return (new this.constructor).copy(this)
                    }, copy: function (t) {
                        return this.radius = t.radius, this.phi = t.phi, this.theta = t.theta, this
                    }, makeSafe: function () {
                        var t = 1e-6;
                        return this.phi = Math.max(t, Math.min(Math.PI - t, this.phi)), this
                    }, setFromVector3: function (t) {
                        return this.setFromCartesianCoords(t.x, t.y, t.z)
                    }, setFromCartesianCoords: function (t, e, i) {
                        return this.radius = Math.sqrt(t * t + e * e + i * i), 0 === this.radius ? (this.theta = 0, this.phi = 0) : (this.theta = Math.atan2(t, i), this.phi = Math.acos(Kl.clamp(e / this.radius, -1, 1))), this
                    }
                }), Object.assign(No.prototype, {
                    set: function (t, e, i) {
                        return this.radius = t, this.theta = e, this.y = i, this
                    }, clone: function () {
                        return (new this.constructor).copy(this)
                    }, copy: function (t) {
                        return this.radius = t.radius, this.theta = t.theta, this.y = t.y, this
                    }, setFromVector3: function (t) {
                        return this.setFromCartesianCoords(t.x, t.y, t.z)
                    }, setFromCartesianCoords: function (t, e, i) {
                        return this.radius = Math.sqrt(t * t + i * i), this.theta = Math.atan2(t, i), this.y = e, this
                    }
                });
            var Wm = new i;
            Object.assign(zo.prototype, {
                set: function (t, e) {
                    return this.min.copy(t), this.max.copy(e), this
                }, setFromPoints: function (t) {
                    this.makeEmpty();
                    for (var e = 0, i = t.length; e < i; e++) this.expandByPoint(t[e]);
                    return this
                }, setFromCenterAndSize: function (t, e) {
                    var i = Wm.copy(e).multiplyScalar(.5);
                    return this.min.copy(t).sub(i), this.max.copy(t).add(i), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.min.copy(t.min), this.max.copy(t.max), this
                }, makeEmpty: function () {
                    return this.min.x = this.min.y = +(1 / 0), this.max.x = this.max.y = -(1 / 0), this
                }, isEmpty: function () {
                    return this.max.x < this.min.x || this.max.y < this.min.y
                }, getCenter: function (t) {
                    return void 0 === t && (console.warn("THREE.Box2: .getCenter() target is now required"), t = new i), this.isEmpty() ? t.set(0, 0) : t.addVectors(this.min, this.max).multiplyScalar(.5)
                }, getSize: function (t) {
                    return void 0 === t && (console.warn("THREE.Box2: .getSize() target is now required"), t = new i), this.isEmpty() ? t.set(0, 0) : t.subVectors(this.max, this.min)
                }, expandByPoint: function (t) {
                    return this.min.min(t), this.max.max(t), this
                }, expandByVector: function (t) {
                    return this.min.sub(t), this.max.add(t), this
                }, expandByScalar: function (t) {
                    return this.min.addScalar(-t), this.max.addScalar(t), this
                }, containsPoint: function (t) {
                    return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y)
                }, containsBox: function (t) {
                    return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y
                }, getParameter: function (t, e) {
                    return void 0 === e && (console.warn("THREE.Box2: .getParameter() target is now required"), e = new i), e.set((t.x - this.min.x) / (this.max.x - this.min.x), (t.y - this.min.y) / (this.max.y - this.min.y))
                }, intersectsBox: function (t) {
                    return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y)
                }, clampPoint: function (t, e) {
                    return void 0 === e && (console.warn("THREE.Box2: .clampPoint() target is now required"), e = new i), e.copy(t).clamp(this.min, this.max)
                }, distanceToPoint: function (t) {
                    var e = Wm.copy(t).clamp(this.min, this.max);
                    return e.sub(t).length()
                }, intersect: function (t) {
                    return this.min.max(t.min), this.max.min(t.max), this
                }, union: function (t) {
                    return this.min.min(t.min), this.max.max(t.max), this
                }, translate: function (t) {
                    return this.min.add(t), this.max.add(t), this
                }, equals: function (t) {
                    return t.min.equals(this.min) && t.max.equals(this.max)
                }
            });
            var qm = new r,
                Xm = new r;
            Object.assign(Bo.prototype, {
                set: function (t, e) {
                    return this.start.copy(t), this.end.copy(e), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.start.copy(t.start), this.end.copy(t.end), this
                }, getCenter: function (t) {
                    return void 0 === t && (console.warn("THREE.Line3: .getCenter() target is now required"), t = new r), t.addVectors(this.start, this.end).multiplyScalar(.5)
                }, delta: function (t) {
                    return void 0 === t && (console.warn("THREE.Line3: .delta() target is now required"), t = new r), t.subVectors(this.end, this.start)
                }, distanceSq: function () {
                    return this.start.distanceToSquared(this.end)
                }, distance: function () {
                    return this.start.distanceTo(this.end)
                }, at: function (t, e) {
                    return void 0 === e && (console.warn("THREE.Line3: .at() target is now required"), e = new r), this.delta(e).multiplyScalar(t).add(this.start)
                }, closestPointToPointParameter: function (t, e) {
                    qm.subVectors(t, this.start), Xm.subVectors(this.end, this.start);
                    var i = Xm.dot(Xm),
                        n = Xm.dot(qm),
                        r = n / i;
                    return e && (r = Kl.clamp(r, 0, 1)), r
                }, closestPointToPoint: function (t, e, i) {
                    var n = this.closestPointToPointParameter(t, e);
                    return void 0 === i && (console.warn("THREE.Line3: .closestPointToPoint() target is now required"), i = new r), this.delta(i).multiplyScalar(n).add(this.start)
                }, applyMatrix4: function (t) {
                    return this.start.applyMatrix4(t), this.end.applyMatrix4(t), this
                }, equals: function (t) {
                    return t.start.equals(this.start) && t.end.equals(this.end)
                }
            }), Fo.prototype = Object.create(d.prototype), Fo.prototype.constructor = Fo, Fo.prototype.isImmediateRenderObject = !0;
            var Ym = new r,
                Zm = new r,
                Jm = new o,
                $m = ["a", "b", "c"];
            Ho.prototype = Object.create(pi.prototype), Ho.prototype.constructor = Ho, Ho.prototype.update = function () {
                this.object.updateMatrixWorld(!0), Jm.getNormalMatrix(this.object.matrixWorld);
                var t = this.object.matrixWorld,
                    e = this.geometry.attributes.position,
                    i = this.object.geometry;
                if (i && i.isGeometry)
                    for (var n = i.vertices, r = i.faces, o = 0, s = 0, a = r.length; s < a; s++)
                        for (var h = r[s], l = 0, u = h.vertexNormals.length; l < u; l++) {
                            var c = n[h[$m[l]]],
                                p = h.vertexNormals[l];
                            Ym.copy(c).applyMatrix4(t), Zm.copy(p).applyMatrix3(Jm).normalize().multiplyScalar(this.size).add(Ym), e.setXYZ(o, Ym.x, Ym.y, Ym.z), o += 1, e.setXYZ(o, Zm.x, Zm.y, Zm.z), o += 1
                        } else if (i && i.isBufferGeometry)
                            for (var d = i.attributes.position, f = i.attributes.normal, o = 0, l = 0, u = d.count; l < u; l++) Ym.set(d.getX(l), d.getY(l), d.getZ(l)).applyMatrix4(t), Zm.set(f.getX(l), f.getY(l), f.getZ(l)), Zm.applyMatrix3(Jm).normalize().multiplyScalar(this.size).add(Ym), e.setXYZ(o, Ym.x, Ym.y, Ym.z), o += 1, e.setXYZ(o, Zm.x, Zm.y, Zm.z), o += 1;
                e.needsUpdate = !0
            };
            var Km = new r;
            Uo.prototype = Object.create(d.prototype), Uo.prototype.constructor = Uo, Uo.prototype.dispose = function () {
                this.cone.geometry.dispose(), this.cone.material.dispose()
            }, Uo.prototype.update = function () {
                this.light.updateMatrixWorld();
                var t = this.light.distance ? this.light.distance : 1e3,
                    e = t * Math.tan(this.light.angle);
                this.cone.scale.set(e, e, t), Km.setFromMatrixPosition(this.light.target.matrixWorld), this.cone.lookAt(Km), void 0 !== this.color ? this.cone.material.color.set(this.color) : this.cone.material.color.copy(this.light.color)
            };
            var Qm = new r,
                tg = new u,
                eg = new u;
            jo.prototype = Object.create(pi.prototype), jo.prototype.constructor = jo, jo.prototype.updateMatrixWorld = function (t) {
                var e = this.bones,
                    i = this.geometry,
                    n = i.getAttribute("position");
                eg.getInverse(this.root.matrixWorld);
                for (var r = 0, o = 0; r < e.length; r++) {
                    var s = e[r];
                    s.parent && s.parent.isBone && (tg.multiplyMatrices(eg, s.matrixWorld), Qm.setFromMatrixPosition(tg), n.setXYZ(o, Qm.x, Qm.y, Qm.z), tg.multiplyMatrices(eg, s.parent.matrixWorld), Qm.setFromMatrixPosition(tg), n.setXYZ(o + 1, Qm.x, Qm.y, Qm.z), o += 2)
                }
                i.getAttribute("position").needsUpdate = !0, d.prototype.updateMatrixWorld.call(this, t)
            }, Vo.prototype = Object.create(U.prototype), Vo.prototype.constructor = Vo, Vo.prototype.dispose = function () {
                this.geometry.dispose(), this.material.dispose()
            }, Vo.prototype.update = function () {
                void 0 !== this.color ? this.material.color.set(this.color) : this.material.color.copy(this.light.color)
            }, Wo.prototype = Object.create(ci.prototype), Wo.prototype.constructor = Wo, Wo.prototype.update = function () {
                if (this.scale.set(.5 * this.light.width, .5 * this.light.height, 1), void 0 !== this.color) this.material.color.set(this.color), this.children[0].material.color.set(this.color);
                else {
                    this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);
                    var t = this.material.color,
                        e = Math.max(t.r, t.g, t.b);
                    e > 1 && t.multiplyScalar(1 / e), this.children[0].material.color.copy(this.material.color)
                }
            }, Wo.prototype.dispose = function () {
                this.geometry.dispose(), this.material.dispose(), this.children[0].geometry.dispose(), this.children[0].material.dispose()
            };
            var ig = new r,
                ng = new w,
                rg = new w;
            qo.prototype = Object.create(d.prototype), qo.prototype.constructor = qo, qo.prototype.dispose = function () {
                this.children[0].geometry.dispose(), this.children[0].material.dispose()
            }, qo.prototype.update = function () {
                var t = this.children[0];
                if (void 0 !== this.color) this.material.color.set(this.color);
                else {
                    var e = t.geometry.getAttribute("color");
                    ng.copy(this.light.color), rg.copy(this.light.groundColor);
                    for (var i = 0, n = e.count; i < n; i++) {
                        var r = i < n / 2 ? ng : rg;
                        e.setXYZ(i, r.r, r.g, r.b)
                    }
                    e.needsUpdate = !0
                }
                t.lookAt(ig.setFromMatrixPosition(this.light.matrixWorld).negate())
            }, Xo.prototype = Object.create(U.prototype), Xo.prototype.constructor = Xo, Xo.prototype.dispose = function () {
                this.geometry.dispose(), this.material.dispose()
            }, Xo.prototype.onBeforeRender = function () {
                this.position.copy(this.lightProbe.position), this.scale.set(1, 1, 1).multiplyScalar(this.size), this.material.uniforms.intensity.value = this.lightProbe.intensity
            }, Yo.prototype = Object.assign(Object.create(pi.prototype), {
                constructor: Yo,
                copy: function (t) {
                    return pi.prototype.copy.call(this, t), this.geometry.copy(t.geometry), this.material.copy(t.material), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }
            }), Zo.prototype = Object.create(pi.prototype), Zo.prototype.constructor = Zo, Jo.prototype = Object.create(ci.prototype), Jo.prototype.constructor = Jo, Jo.prototype.update = function () {
                function t(t, n, o, s) {
                    var a = (n - t) / o;
                    for (f.setXYZ(c, 0, 0, 0), p++, e = t; e < n; e += a) i = c + p, f.setXYZ(i, Math.sin(e) * r, 0, Math.cos(e) * r), f.setXYZ(i + 1, Math.sin(Math.min(e + a, n)) * r, 0, Math.cos(Math.min(e + a, n)) * r), f.setXYZ(i + 2, 0, 0, 0), p += 3;
                    d.addGroup(c, p, s), c += p, p = 0
                }
                var e, i, n = this.audio,
                    r = this.range,
                    o = this.divisionsInnerAngle,
                    s = this.divisionsOuterAngle,
                    a = Kl.degToRad(n.panner.coneInnerAngle),
                    h = Kl.degToRad(n.panner.coneOuterAngle),
                    l = a / 2,
                    u = h / 2,
                    c = 0,
                    p = 0,
                    d = this.geometry,
                    f = d.attributes.position;
                d.clearGroups(), t(-u, -l, s, 0), t(-l, l, o, 1), t(l, u, s, 0), f.needsUpdate = !0, a === h && (this.material[0].visible = !1)
            }, Jo.prototype.dispose = function () {
                this.geometry.dispose(), this.material[0].dispose(), this.material[1].dispose()
            };
            var og = new r,
                sg = new r,
                ag = new o;
            $o.prototype = Object.create(pi.prototype), $o.prototype.constructor = $o, $o.prototype.update = function () {
                this.object.updateMatrixWorld(!0), ag.getNormalMatrix(this.object.matrixWorld);
                for (var t = this.object.matrixWorld, e = this.geometry.attributes.position, i = this.object.geometry, n = i.vertices, r = i.faces, o = 0, s = 0, a = r.length; s < a; s++) {
                    var h = r[s],
                        l = h.normal;
                    og.copy(n[h.a]).add(n[h.b]).add(n[h.c]).divideScalar(3).applyMatrix4(t), sg.copy(l).applyMatrix3(ag).normalize().multiplyScalar(this.size).add(og), e.setXYZ(o, og.x, og.y, og.z), o += 1, e.setXYZ(o, sg.x, sg.y, sg.z), o += 1
                }
                e.needsUpdate = !0
            };
            var hg = new r,
                lg = new r,
                ug = new r;
            Ko.prototype = Object.create(d.prototype), Ko.prototype.constructor = Ko, Ko.prototype.dispose = function () {
                this.lightPlane.geometry.dispose(), this.lightPlane.material.dispose(), this.targetLine.geometry.dispose(), this.targetLine.material.dispose()
            }, Ko.prototype.update = function () {
                hg.setFromMatrixPosition(this.light.matrixWorld), lg.setFromMatrixPosition(this.light.target.matrixWorld), ug.subVectors(lg, hg), this.lightPlane.lookAt(lg), void 0 !== this.color ? (this.lightPlane.material.color.set(this.color), this.targetLine.material.color.set(this.color)) : (this.lightPlane.material.color.copy(this.light.color), this.targetLine.material.color.copy(this.light.color)), this.targetLine.lookAt(lg), this.targetLine.scale.z = ug.length()
            };
            var cg = new r,
                pg = new Y;
            Qo.prototype = Object.create(pi.prototype), Qo.prototype.constructor = Qo, Qo.prototype.update = function () {
                var t = this.geometry,
                    e = this.pointMap,
                    i = 1,
                    n = 1;
                pg.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse), ts("c", e, t, pg, 0, 0, -1), ts("t", e, t, pg, 0, 0, 1), ts("n1", e, t, pg, -i, -n, -1), ts("n2", e, t, pg, i, -n, -1), ts("n3", e, t, pg, -i, n, -1), ts("n4", e, t, pg, i, n, -1), ts("f1", e, t, pg, -i, -n, 1), ts("f2", e, t, pg, i, -n, 1), ts("f3", e, t, pg, -i, n, 1), ts("f4", e, t, pg, i, n, 1), ts("u1", e, t, pg, .7 * i, 1.1 * n, -1), ts("u2", e, t, pg, .7 * -i, 1.1 * n, -1), ts("u3", e, t, pg, 0, 2 * n, -1), ts("cf1", e, t, pg, -i, 0, 1), ts("cf2", e, t, pg, i, 0, 1), ts("cf3", e, t, pg, 0, -n, 1), ts("cf4", e, t, pg, 0, n, 1), ts("cn1", e, t, pg, -i, 0, -1), ts("cn2", e, t, pg, i, 0, -1), ts("cn3", e, t, pg, 0, -n, -1), ts("cn4", e, t, pg, 0, n, -1), t.getAttribute("position").needsUpdate = !0
            };
            var dg = new m;
            es.prototype = Object.create(pi.prototype), es.prototype.constructor = es, es.prototype.update = function (t) {
                if (void 0 !== t && console.warn("THREE.BoxHelper: .update() has no longer arguments."), void 0 !== this.object && dg.setFromObject(this.object), !dg.isEmpty()) {
                    var e = dg.min,
                        i = dg.max,
                        n = this.geometry.attributes.position,
                        r = n.array;
                    r[0] = i.x, r[1] = i.y, r[2] = i.z, r[3] = e.x, r[4] = i.y, r[5] = i.z, r[6] = e.x, r[7] = e.y, r[8] = i.z, r[9] = i.x, r[10] = e.y, r[11] = i.z, r[12] = i.x, r[13] = i.y, r[14] = e.z, r[15] = e.x, r[16] = i.y, r[17] = e.z, r[18] = e.x, r[19] = e.y, r[20] = e.z, r[21] = i.x, r[22] = e.y, r[23] = e.z, n.needsUpdate = !0, this.geometry.computeBoundingSphere()
                }
            }, es.prototype.setFromObject = function (t) {
                return this.object = t, this.update(), this
            }, es.prototype.copy = function (t) {
                return pi.prototype.copy.call(this, t), this.object = t.object, this
            }, es.prototype.clone = function () {
                return (new this.constructor).copy(this)
            }, is.prototype = Object.create(pi.prototype), is.prototype.constructor = is, is.prototype.updateMatrixWorld = function (t) {
                var e = this.box;
                e.isEmpty() || (e.getCenter(this.position), e.getSize(this.scale), this.scale.multiplyScalar(.5), d.prototype.updateMatrixWorld.call(this, t))
            }, ns.prototype = Object.create(ci.prototype), ns.prototype.constructor = ns, ns.prototype.updateMatrixWorld = function (t) {
                var e = -this.plane.constant;
                Math.abs(e) < 1e-8 && (e = 1e-8), this.scale.set(.5 * this.size, .5 * this.size, e), this.children[0].material.side = e < 0 ? Ks : $s, this.lookAt(this.plane.normal), d.prototype.updateMatrixWorld.call(this, t)
            };
            var fg, mg, gg = new r;
            rs.prototype = Object.create(d.prototype), rs.prototype.constructor = rs, rs.prototype.setDirection = function (t) {
                if (t.y > .99999) this.quaternion.set(0, 0, 0, 1);
                else if (t.y < -.99999) this.quaternion.set(1, 0, 0, 0);
                else {
                    gg.set(t.z, 0, -t.x).normalize();
                    var e = Math.acos(t.y);
                    this.quaternion.setFromAxisAngle(gg, e)
                }
            }, rs.prototype.setLength = function (t, e, i) {
                void 0 === e && (e = .2 * t), void 0 === i && (i = .2 * e), this.line.scale.set(1, Math.max(1e-4, t - e), 1), this.line.updateMatrix(), this.cone.scale.set(i, e, i), this.cone.position.y = t, this.cone.updateMatrix()
            }, rs.prototype.setColor = function (t) {
                this.line.material.color.set(t), this.cone.material.color.set(t)
            }, rs.prototype.copy = function (t) {
                return d.prototype.copy.call(this, t, !1), this.line.copy(t.line), this.cone.copy(t.cone), this
            }, rs.prototype.clone = function () {
                return (new this.constructor).copy(this)
            }, os.prototype = Object.create(pi.prototype), os.prototype.constructor = os;
            var vg = 0,
                _g = 1;
            _r.create = function (t, e) {
                return console.log("THREE.Curve.create() has been deprecated"), t.prototype = Object.create(_r.prototype), t.prototype.constructor = t, t.prototype.getPoint = e, t
            }, Object.assign(Hr.prototype, {
                createPointsGeometry: function (t) {
                    console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");
                    var e = this.getPoints(t);
                    return this.createGeometry(e)
                }, createSpacedPointsGeometry: function (t) {
                    console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");
                    var e = this.getSpacedPoints(t);
                    return this.createGeometry(e)
                }, createGeometry: function (t) {
                    console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");
                    for (var e = new V, i = 0, n = t.length; i < n; i++) {
                        var o = t[i];
                        e.vertices.push(new r(o.x, o.y, o.z || 0))
                    }
                    return e
                }
            }), Object.assign(Ur.prototype, {
                fromPoints: function (t) {
                    return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."), this.setFromPoints(t)
                }
            }), Es.prototype = Object.create(br.prototype), As.prototype = Object.create(br.prototype), Cs.prototype = Object.create(br.prototype), Object.assign(Cs.prototype, {
                initFromArray: function () {
                    console.error("THREE.Spline: .initFromArray() has been removed.")
                }, getControlPointsArray: function () {
                    console.error("THREE.Spline: .getControlPointsArray() has been removed.")
                }, reparametrizeByArcLength: function () {
                    console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")
                }
            }), Yo.prototype.setColors = function () {
                console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")
            }, jo.prototype.update = function () {
                console.error("THREE.SkeletonHelper: update() no longer needs to be called.")
            }, Object.assign(ur.prototype, {
                extractUrlBase: function (t) {
                    return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."), _m.extractUrlBase(t)
                }
            }), ur.Handlers = {
                add: function () {
                    console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")
                }, get: function () {
                    console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")
                }
            }, Object.assign(oo.prototype, {
                setTexturePath: function (t) {
                    return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."), this.setResourcePath(t)
                }
            }), Object.assign(zo.prototype, {
                center: function (t) {
                    return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."), this.getCenter(t)
                }, empty: function () {
                    return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."), this.isEmpty()
                }, isIntersectionBox: function (t) {
                    return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."), this.intersectsBox(t)
                }, size: function (t) {
                    return console.warn("THREE.Box2: .size() has been renamed to .getSize()."), this.getSize(t)
                }
            }), Object.assign(m.prototype, {
                center: function (t) {
                    return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."), this.getCenter(t)
                }, empty: function () {
                    return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."), this.isEmpty()
                }, isIntersectionBox: function (t) {
                    return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."), this.intersectsBox(t)
                }, isIntersectionSphere: function (t) {
                    return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."), this.intersectsSphere(t)
                }, size: function (t) {
                    return console.warn("THREE.Box3: .size() has been renamed to .getSize()."), this.getSize(t)
                }
            }), Bo.prototype.center = function (t) {
                return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."), this.getCenter(t)
            }, Object.assign(Kl, {
                random16: function () {
                    return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."), Math.random()
                }, nearestPowerOfTwo: function (t) {
                    return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."), Kl.floorPowerOfTwo(t)
                }, nextPowerOfTwo: function (t) {
                    return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."), Kl.ceilPowerOfTwo(t)
                }
            }), Object.assign(o.prototype, {
                flattenToArrayOffset: function (t, e) {
                    return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."), this.toArray(t, e)
                }, multiplyVector3: function (t) {
                    return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."), t.applyMatrix3(this)
                }, multiplyVector3Array: function () {
                    console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")
                }, applyToBuffer: function (t) {
                    return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."), this.applyToBufferAttribute(t)
                }, applyToVector3Array: function () {
                    console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")
                }
            }), Object.assign(u.prototype, {
                extractPosition: function (t) {
                    return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."), this.copyPosition(t)
                }, flattenToArrayOffset: function (t, e) {
                    return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."), this.toArray(t, e)
                }, getPosition: function () {
                    return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."), (new r).setFromMatrixColumn(this, 3)
                }, setRotationFromQuaternion: function (t) {
                    return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."), this.makeRotationFromQuaternion(t)
                }, multiplyToArray: function () {
                    console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")
                }, multiplyVector3: function (t) {
                    return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."), t.applyMatrix4(this)
                }, multiplyVector4: function (t) {
                    return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."), t.applyMatrix4(this)
                }, multiplyVector3Array: function () {
                    console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")
                }, rotateAxis: function (t) {
                    console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."), t.transformDirection(this)
                }, crossVector: function (t) {
                    return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."), t.applyMatrix4(this)
                }, translate: function () {
                    console.error("THREE.Matrix4: .translate() has been removed.")
                }, rotateX: function () {
                    console.error("THREE.Matrix4: .rotateX() has been removed.")
                }, rotateY: function () {
                    console.error("THREE.Matrix4: .rotateY() has been removed.")
                }, rotateZ: function () {
                    console.error("THREE.Matrix4: .rotateZ() has been removed.")
                }, rotateByAxis: function () {
                    console.error("THREE.Matrix4: .rotateByAxis() has been removed.")
                }, applyToBuffer: function (t) {
                    return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."), this.applyToBufferAttribute(t)
                }, applyToVector3Array: function () {
                    console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")
                }, makeFrustum: function (t, e, i, n, r, o) {
                    return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."), this.makePerspective(t, e, n, i, r, o)
                }
            }), y.prototype.isIntersectionLine = function (t) {
                return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."), this.intersectsLine(t)
            }, n.prototype.multiplyVector3 = function (t) {
                return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."), t.applyQuaternion(this)
            }, Object.assign(_.prototype, {
                isIntersectionBox: function (t) {
                    return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."), this.intersectsBox(t)
                }, isIntersectionPlane: function (t) {
                    return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."), this.intersectsPlane(t)
                }, isIntersectionSphere: function (t) {
                    return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."), this.intersectsSphere(t)
                }
            }), Object.assign(x.prototype, {
                area: function () {
                    return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."), this.getArea()
                }, barycoordFromPoint: function (t, e) {
                    return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."), this.getBarycoord(t, e)
                }, midpoint: function (t) {
                    return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."), this.getMidpoint(t)
                }, normal: function (t) {
                    return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."), this.getNormal(t)
                }, plane: function (t) {
                    return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."), this.getPlane(t)
                }
            }), Object.assign(x, {
                barycoordFromPoint: function (t, e, i, n, r) {
                    return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."), x.getBarycoord(t, e, i, n, r)
                }, normal: function (t, e, i, n) {
                    return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."), x.getNormal(t, e, i, n)
                }
            }), Object.assign(Gr.prototype, {
                extractAllPoints: function (t) {
                    return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."), this.extractPoints(t)
                }, extrude: function (t) {
                    return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."), new vn(this, t)
                }, makeGeometry: function (t) {
                    return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."), new Cn(this, t)
                }
            }), Object.assign(i.prototype, {
                fromAttribute: function (t, e, i) {
                    return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."), this.fromBufferAttribute(t, e, i)
                }, distanceToManhattan: function (t) {
                    return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."), this.manhattanDistanceTo(t)
                }, lengthManhattan: function () {
                    return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."), this.manhattanLength()
                }
            }), Object.assign(r.prototype, {
                setEulerFromRotationMatrix: function () {
                    console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")
                }, setEulerFromQuaternion: function () {
                    console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")
                }, getPositionFromMatrix: function (t) {
                    return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."), this.setFromMatrixPosition(t)
                }, getScaleFromMatrix: function (t) {
                    return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."), this.setFromMatrixScale(t)
                }, getColumnFromMatrix: function (t, e) {
                    return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."), this.setFromMatrixColumn(e, t)
                }, applyProjection: function (t) {
                    return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."), this.applyMatrix4(t)
                }, fromAttribute: function (t, e, i) {
                    return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."), this.fromBufferAttribute(t, e, i)
                }, distanceToManhattan: function (t) {
                    return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."), this.manhattanDistanceTo(t)
                }, lengthManhattan: function () {
                    return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."), this.manhattanLength()
                }
            }), Object.assign(a.prototype, {
                fromAttribute: function (t, e, i) {
                    return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."), this.fromBufferAttribute(t, e, i)
                }, lengthManhattan: function () {
                    return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."), this.manhattanLength()
                }
            }), Object.assign(V.prototype, {
                computeTangents: function () {
                    console.error("THREE.Geometry: .computeTangents() has been removed.")
                }, computeLineDistances: function () {
                    console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")
                }
            }), Object.assign(d.prototype, {
                getChildByName: function (t) {
                    return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."), this.getObjectByName(t)
                }, renderDepth: function () {
                    console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")
                }, translate: function (t, e) {
                    return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."), this.translateOnAxis(e, t)
                }, getWorldRotation: function () {
                    console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")
                }
            }), Object.defineProperties(d.prototype, {
                eulerOrder: {
                    get: function () {
                        return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."), this.rotation.order
                    }, set: function (t) {
                        console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."), this.rotation.order = t
                    }
                },
                useQuaternion: {
                    get: function () {
                        console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")
                    }, set: function () {
                        console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")
                    }
                }
            }), Object.defineProperties(oi.prototype, {
                objects: {
                    get: function () {
                        return console.warn("THREE.LOD: .objects has been renamed to .levels."), this.levels
                    }
                }
            }), Object.defineProperty(ai.prototype, "useVertexTexture", {
                get: function () {
                    console.warn("THREE.Skeleton: useVertexTexture has been removed.")
                }, set: function () {
                    console.warn("THREE.Skeleton: useVertexTexture has been removed.")
                }
            }), si.prototype.initBones = function () {
                console.error("THREE.SkinnedMesh: initBones() has been removed.")
            }, Object.defineProperty(_r.prototype, "__arcLengthDivisions", {
                get: function () {
                    return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."), this.arcLengthDivisions
                }, set: function (t) {
                    console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."), this.arcLengthDivisions = t
                }
            }), Z.prototype.setLens = function (t, e) {
                console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."), void 0 !== e && (this.filmGauge = e), this.setFocalLength(t)
            }, Object.defineProperties(jr.prototype, {
                onlyShadow: {
                    set: function () {
                        console.warn("THREE.Light: .onlyShadow has been removed.")
                    }
                },
                shadowCameraFov: {
                    set: function (t) {
                        console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."), this.shadow.camera.fov = t
                    }
                },
                shadowCameraLeft: {
                    set: function (t) {
                        console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."), this.shadow.camera.left = t
                    }
                },
                shadowCameraRight: {
                    set: function (t) {
                        console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."), this.shadow.camera.right = t
                    }
                },
                shadowCameraTop: {
                    set: function (t) {
                        console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."), this.shadow.camera.top = t
                    }
                },
                shadowCameraBottom: {
                    set: function (t) {
                        console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."), this.shadow.camera.bottom = t
                    }
                },
                shadowCameraNear: {
                    set: function (t) {
                        console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."), this.shadow.camera.near = t
                    }
                },
                shadowCameraFar: {
                    set: function (t) {
                        console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."), this.shadow.camera.far = t
                    }
                },
                shadowCameraVisible: {
                    set: function () {
                        console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")
                    }
                },
                shadowBias: {
                    set: function (t) {
                        console.warn("THREE.Light: .shadowBias is now .shadow.bias."), this.shadow.bias = t
                    }
                },
                shadowDarkness: {
                    set: function () {
                        console.warn("THREE.Light: .shadowDarkness has been removed.")
                    }
                },
                shadowMapWidth: {
                    set: function (t) {
                        console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."), this.shadow.mapSize.width = t
                    }
                },
                shadowMapHeight: {
                    set: function (t) {
                        console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."), this.shadow.mapSize.height = t
                    }
                }
            }), Object.defineProperties(C.prototype, {
                length: {
                    get: function () {
                        return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."), this.array.length
                    }
                },
                dynamic: {
                    get: function () {
                        return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."), this.usage === Gl
                    }, set: function () {
                        console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."), this.setUsage(Gl)
                    }
                }
            }), Object.assign(C.prototype, {
                setDynamic: function (t) {
                    return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."), this.setUsage(t === !0 ? Gl : Ul), this
                }, copyIndicesArray: function () {
                    console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")
                }, setArray: function () {
                    console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")
                }
            }), Object.assign(H.prototype, {
                addIndex: function (t) {
                    console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."), this.setIndex(t)
                }, addAttribute: function (t, e) {
                    return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."), e && e.isBufferAttribute || e && e.isInterleavedBufferAttribute ? "index" === t ? (console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."), this.setIndex(e), this) : this.setAttribute(t, e) : (console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."), this.setAttribute(t, new C(arguments[1], arguments[2])))
                }, addDrawCall: function (t, e, i) {
                    void 0 !== i && console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."), console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."), this.addGroup(t, e)
                }, clearDrawCalls: function () {
                    console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."), this.clearGroups()
                }, computeTangents: function () {
                    console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")
                }, computeOffsets: function () {
                    console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")
                }, removeAttribute: function (t) {
                    return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."), this.deleteAttribute(t)
                }
            }), Object.defineProperties(H.prototype, {
                drawcalls: {
                    get: function () {
                        return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."), this.groups
                    }
                },
                offsets: {
                    get: function () {
                        return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."), this.groups
                    }
                }
            }), Object.defineProperties(ti.prototype, {
                dynamic: {
                    get: function () {
                        return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."), this.usage === Gl
                    }, set: function (t) {
                        console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."), this.setUsage(t)
                    }
                }
            }), Object.assign(ti.prototype, {
                setDynamic: function (t) {
                    return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."), this.setUsage(t === !0 ? Gl : Ul), this
                }, setArray: function () {
                    console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")
                }
            }), Object.assign(_n.prototype, {
                getArrays: function () {
                    console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")
                }, addShapeList: function () {
                    console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")
                }, addShape: function () {
                    console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")
                }
            }), Object.defineProperties(Ro.prototype, {
                dynamic: {
                    set: function () {
                        console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")
                    }
                },
                onUpdate: {
                    value: function () {
                        return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."), this
                    }
                }
            }), Object.defineProperties(E.prototype, {
                wrapAround: {
                    get: function () {
                        console.warn("THREE.Material: .wrapAround has been removed.")
                    }, set: function () {
                        console.warn("THREE.Material: .wrapAround has been removed.")
                    }
                },
                overdraw: {
                    get: function () {
                        console.warn("THREE.Material: .overdraw has been removed.")
                    }, set: function () {
                        console.warn("THREE.Material: .overdraw has been removed.")
                    }
                },
                wrapRGB: {
                    get: function () {
                        return console.warn("THREE.Material: .wrapRGB has been removed."), new w
                    }
                },
                shading: {
                    get: function () {
                        console.error("THREE." + this.type + ": .shading has been removed. Use the boolean .flatShading instead.")
                    }, set: function (t) {
                        console.warn("THREE." + this.type + ": .shading has been removed. Use the boolean .flatShading instead."), this.flatShading = t === ta
                    }
                },
                stencilMask: {
                    get: function () {
                        return console.warn("THREE." + this.type + ": .stencilMask has been removed. Use .stencilFuncMask instead."), this.stencilFuncMask
                    }, set: function (t) {
                        console.warn("THREE." + this.type + ": .stencilMask has been removed. Use .stencilFuncMask instead."), this.stencilFuncMask = t
                    }
                }
            }), Object.defineProperties(Gn.prototype, {
                metal: {
                    get: function () {
                        return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."), !1
                    }, set: function () {
                        console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")
                    }
                }
            }), Object.defineProperties(X.prototype, {
                derivatives: {
                    get: function () {
                        return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."), this.extensions.derivatives
                    }, set: function (t) {
                        console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."), this.extensions.derivatives = t
                    }
                }
            }), Object.assign($e.prototype, {
                clearTarget: function (t, e, i, n) {
                    console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."), this.setRenderTarget(t), this.clear(e, i, n)
                }, animate: function (t) {
                    console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."), this.setAnimationLoop(t)
                }, getCurrentRenderTarget: function () {
                    return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."), this.getRenderTarget()
                }, getMaxAnisotropy: function () {
                    return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."), this.capabilities.getMaxAnisotropy()
                }, getPrecision: function () {
                    return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."), this.capabilities.precision
                }, resetGLState: function () {
                    return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."), this.state.reset()
                }, supportsFloatTextures: function () {
                    return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."), this.extensions.get("OES_texture_float")
                }, supportsHalfFloatTextures: function () {
                    return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."), this.extensions.get("OES_texture_half_float")
                }, supportsStandardDerivatives: function () {
                    return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."), this.extensions.get("OES_standard_derivatives")
                }, supportsCompressedTextureS3TC: function () {
                    return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."), this.extensions.get("WEBGL_compressed_texture_s3tc")
                }, supportsCompressedTexturePVRTC: function () {
                    return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."), this.extensions.get("WEBGL_compressed_texture_pvrtc")
                }, supportsBlendMinMax: function () {
                    return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."), this.extensions.get("EXT_blend_minmax")
                }, supportsVertexTextures: function () {
                    return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."), this.capabilities.vertexTextures
                }, supportsInstancedArrays: function () {
                    return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."), this.extensions.get("ANGLE_instanced_arrays")
                }, enableScissorTest: function (t) {
                    console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."), this.setScissorTest(t)
                }, initMaterial: function () {
                    console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")
                }, addPrePlugin: function () {
                    console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")
                }, addPostPlugin: function () {
                    console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")
                }, updateShadowMap: function () {
                    console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")
                }, setFaceCulling: function () {
                    console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")
                }, allocTextureUnit: function () {
                    console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")
                }, setTexture: function () {
                    console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")
                }, setTexture2D: function () {
                    console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")
                }, setTextureCube: function () {
                    console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")
                }, getActiveMipMapLevel: function () {
                    return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."), this.getActiveMipmapLevel()
                }
            }), Object.defineProperties($e.prototype, {
                shadowMapEnabled: {
                    get: function () {
                        return this.shadowMap.enabled
                    }, set: function (t) {
                        console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."), this.shadowMap.enabled = t
                    }
                },
                shadowMapType: {
                    get: function () {
                        return this.shadowMap.type
                    }, set: function (t) {
                        console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."), this.shadowMap.type = t
                    }
                },
                shadowMapCullFace: {
                    get: function () {
                        console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")
                    }, set: function () {
                        console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")
                    }
                },
                context: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."), this.getContext()
                    }
                }
            }), Object.defineProperties(He.prototype, {
                cullFace: {
                    get: function () {
                        console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")
                    }, set: function () {
                        console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")
                    }
                },
                renderReverseSided: {
                    get: function () {
                        console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")
                    }, set: function () {
                        console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")
                    }
                },
                renderSingleSided: {
                    get: function () {
                        console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")
                    }, set: function () {
                        console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")
                    }
                }
            }), Object.defineProperties($.prototype, {
                activeCubeFace: {
                    set: function () {
                        console.warn("THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().")
                    }
                },
                activeMipMapLevel: {
                    set: function () {
                        console.warn("THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().")
                    }
                }
            }), Object.defineProperties(h.prototype, {
                wrapS: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."), this.texture.wrapS
                    }, set: function (t) {
                        console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."), this.texture.wrapS = t
                    }
                },
                wrapT: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."), this.texture.wrapT
                    }, set: function (t) {
                        console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."), this.texture.wrapT = t
                    }
                },
                magFilter: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."), this.texture.magFilter
                    }, set: function (t) {
                        console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."), this.texture.magFilter = t
                    }
                },
                minFilter: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."), this.texture.minFilter
                    }, set: function (t) {
                        console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."), this.texture.minFilter = t
                    }
                },
                anisotropy: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."), this.texture.anisotropy
                    }, set: function (t) {
                        console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."), this.texture.anisotropy = t
                    }
                },
                offset: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."), this.texture.offset
                    }, set: function (t) {
                        console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."), this.texture.offset = t
                    }
                },
                repeat: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."), this.texture.repeat
                    }, set: function (t) {
                        console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."), this.texture.repeat = t
                    }
                },
                format: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."), this.texture.format
                    }, set: function (t) {
                        console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."), this.texture.format = t
                    }
                },
                type: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."), this.texture.type
                    }, set: function (t) {
                        console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."), this.texture.type = t
                    }
                },
                generateMipmaps: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."), this.texture.generateMipmaps
                    }, set: function (t) {
                        console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."), this.texture.generateMipmaps = t
                    }
                }
            }), Object.defineProperties(Ze.prototype, {
                standing: {
                    set: function () {
                        console.warn("THREE.WebVRManager: .standing has been removed.")
                    }
                },
                userHeight: {
                    set: function () {
                        console.warn("THREE.WebVRManager: .userHeight has been removed.")
                    }
                }
            }), Object.defineProperties(wo.prototype, {
                load: {
                    value: function (t) {
                        console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");
                        var e = this,
                            i = new po;
                        return i.load(t, function (t) {
                            e.setBuffer(t)
                        }), this
                    }
                },
                startTime: {
                    set: function () {
                        console.warn("THREE.Audio: .startTime is now .play( delay ).")
                    }
                }
            }), So.prototype.getData = function () {
                return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."), this.getFrequencyData()
            }, J.prototype.updateCubeMap = function (t, e) {
                return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."), this.update(t, e)
            };
            var yg = {
                merge: function (t, e, i) {
                    console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");
                    var n;
                    e.isMesh && (e.matrixAutoUpdate && e.updateMatrix(), n = e.matrix, e = e.geometry), t.merge(e, n, i)
                }, center: function (t) {
                    return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."), t.center()
                }
            };
            nu.crossOrigin = void 0, nu.loadTexture = function (t, e, i, n) {
                console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");
                var r = new vr;
                r.setCrossOrigin(this.crossOrigin);
                var o = r.load(t, i, void 0, n);
                return e && (o.mapping = e), o
            }, nu.loadTextureCube = function (t, e, i, n) {
                console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");
                var r = new gr;
                r.setCrossOrigin(this.crossOrigin);
                var o = r.load(t, i, void 0, n);
                return e && (o.mapping = e), o
            }, nu.loadCompressedTexture = function () {
                console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")
            }, nu.loadCompressedTextureCube = function () {
                console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")
            };
            var xg = {
                createMultiMaterialObject: function () {
                    console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")
                }, detach: function () {
                    console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")
                }, attach: function () {
                    console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")
                }
            };
            "undefined" != typeof __THREE_DEVTOOLS__ && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register", {
                    detail: {
                        revision: Bs
                    }
                })), t.ACESFilmicToneMapping = ja, t.AddEquation = ca, t.AddOperation = za, t.AdditiveBlending = aa, t.AlphaFormat = Sh, t.AlwaysDepth = Ca, t.AlwaysStencilFunc = Hl, t.AmbientLight = Qr, t.AmbientLightProbe = vo, t.AnimationClip = sr, t.AnimationLoader = pr, t.AnimationMixer = Po, t.AnimationObjectGroup = Ao, t.AnimationUtils = lm, t.ArcCurve = xr, t.ArrayCamera = Xe, t.ArrowHelper = rs, t.Audio = wo, t.AudioAnalyser = So, t.AudioContext = Tm, t.AudioListener = xo, t.AudioLoader = po, t.AxesHelper = os, t.AxisHelper = Ps, t.BackSide = Ks, t.BasicDepthPacking = wl, t.BasicShadowMap = Xs, t.BinaryTextureLoader = Ds, t.Bone = hi, t.BooleanKeyframeTrack = Qn, t.BoundingBoxHelper = Rs, t.Box2 = zo, t.Box3 = m, t.Box3Helper = is, t.BoxBufferGeometry = Fc, t.BoxGeometry = Bc, t.BoxHelper = es, t.BufferAttribute = C, t.BufferGeometry = H, t.BufferGeometryLoader = ro, t.ByteType = ph, t.Cache = um, t.Camera = Y, t.CameraHelper = Qo, t.CanvasRenderer = ks, t.CanvasTexture = yi, t.CatmullRomCurve3 = br, t.CineonToneMapping = Ga, t.CircleBufferGeometry = zn, t.CircleGeometry = Nn, t.ClampToEdgeWrapping = Qa, t.Clock = yo, t.ClosedSplineCurve3 = Es, t.Color = w, t.ColorKeyframeTrack = tr, t.CompressedTexture = _i, t.CompressedTextureLoader = dr, t.ConeBufferGeometry = kn, t.ConeGeometry = Dn, t.CubeCamera = J, t.CubeGeometry = Bc, t.CubeReflectionMapping = Wa, t.CubeRefractionMapping = qa, t.CubeTexture = mt, t.CubeTextureLoader = gr, t.CubeUVReflectionMapping = Ja, t.CubeUVRefractionMapping = $a, t.CubicBezierCurve = Ir, t.CubicBezierCurve3 = Dr, t.CubicInterpolant = Zn, t.CullFaceBack = Gs, t.CullFaceFront = js, t.CullFaceFrontBack = Vs, t.CullFaceNone = Us, t.Curve = _r, t.CurvePath = Hr, t.CustomBlending = ua, t.CylinderBufferGeometry = In, t.CylinderGeometry = On, t.Cylindrical = No, t.DataTexture = K, t.DataTexture2DArray = gt, t.DataTexture3D = vt, t.DataTextureLoader = fr, t.DecrementStencilOp = Pl, t.DecrementWrapStencilOp = Ll, t.DefaultLoadingManager = cm, t.DepthFormat = Ph, t.DepthStencilFormat = Rh, t.DepthTexture = xi, t.DirectionalLight = Kr, t.DirectionalLightHelper = Ko, t.DirectionalLightShadow = $r, t.DiscreteInterpolant = $n, t.DodecahedronBufferGeometry = Ii, t.DodecahedronGeometry = Oi, t.DoubleSide = Qs, t.DstAlphaFactor = ba, t.DstColorFactor = Ta, t.DynamicBufferAttribute = gs, t.DynamicCopyUsage = Yl, t.DynamicDrawUsage = Gl, t.DynamicReadUsage = Wl, t.EdgesGeometry = Ln, t.EdgesHelper = Ls, t.EllipseCurve = yr, t.EqualDepth = La, t.EqualStencilFunc = kl, t.EquirectangularReflectionMapping = Xa, t.EquirectangularRefractionMapping = Ya, t.Euler = c, t.EventDispatcher = e, t.ExtrudeBufferGeometry = _n, t.ExtrudeGeometry = vn, t.Face3 = M, t.Face4 = ss, t.FaceColors = na, t.FaceNormalsHelper = $o, t.FileLoader = cr, t.FlatShading = ta, t.Float32Attribute = Ts, t.Float32BufferAttribute = N, t.Float64Attribute = Ms, t.Float64BufferAttribute = z, t.FloatType = vh, t.Fog = Qe, t.FogExp2 = Ke, t.Font = ho, t.FontLoader = co, t.FrontFaceDirectionCCW = qs, t.FrontFaceDirectionCW = Ws, t.FrontSide = $s, t.Frustum = Q, t.GammaEncoding = ml,
                t.Geometry = V, t.GeometryUtils = yg, t.GreaterDepth = Ia, t.GreaterEqualDepth = Oa, t.GreaterEqualStencilFunc = Fl, t.GreaterStencilFunc = zl, t.GridHelper = Yo, t.Group = qe, t.HalfFloatType = _h, t.HemisphereLight = Vr, t.HemisphereLightHelper = qo, t.HemisphereLightProbe = go, t.IcosahedronBufferGeometry = Li, t.IcosahedronGeometry = Ri, t.ImageBitmapLoader = so, t.ImageLoader = mr, t.ImageUtils = nu, t.ImmediateRenderObject = Fo, t.IncrementStencilOp = Cl, t.IncrementWrapStencilOp = Rl, t.InstancedBufferAttribute = no, t.InstancedBufferGeometry = io, t.InstancedInterleavedBuffer = Lo, t.InstancedMesh = li, t.Int16Attribute = xs, t.Int16BufferAttribute = O, t.Int32Attribute = bs, t.Int32BufferAttribute = D, t.Int8Attribute = vs, t.Int8BufferAttribute = P, t.IntType = mh, t.InterleavedBuffer = ti, t.InterleavedBufferAttribute = ei, t.Interpolant = Yn, t.InterpolateDiscrete = rl, t.InterpolateLinear = ol, t.InterpolateSmooth = sl, t.InvertStencilOp = Ol, t.JSONLoader = Ns, t.KeepStencilOp = El, t.KeyframeTrack = Kn, t.LOD = oi, t.LatheBufferGeometry = An, t.LatheGeometry = En, t.Layers = p, t.LensFlare = zs, t.LessDepth = Pa, t.LessEqualDepth = Ra, t.LessEqualStencilFunc = Nl, t.LessStencilFunc = Dl, t.Light = jr, t.LightProbe = mo, t.LightProbeHelper = Xo, t.LightShadow = Wr, t.Line = ci, t.Line3 = Bo, t.LineBasicMaterial = ui, t.LineCurve = kr, t.LineCurve3 = Nr, t.LineDashedMaterial = Xn, t.LineLoop = di, t.LinePieces = _g, t.LineSegments = pi, t.LineStrip = vg, t.LinearEncoding = dl;
            t.LinearFilter = sh;
            t.LinearInterpolant = Jn, t.LinearMipMapLinearFilter = uh, t.LinearMipMapNearestFilter = hh, t.LinearMipmapLinearFilter = lh, t.LinearMipmapNearestFilter = ah, t.LinearToneMapping = Fa, t.Loader = ur, t.LoaderUtils = _m, t.LoadingManager = lr, t.LogLuvEncoding = vl, t.LoopOnce = el, t.LoopPingPong = nl, t.LoopRepeat = il, t.LuminanceAlphaFormat = Ah, t.LuminanceFormat = Eh, t.MOUSE = Fs, t.Material = E, t.MaterialLoader = eo, t.Math = Kl, t.Matrix3 = o, t.Matrix4 = u, t.MaxEquation = ma, t.Mesh = U, t.MeshBasicMaterial = A, t.MeshDepthMaterial = Be, t.MeshDistanceMaterial = Fe, t.MeshFaceMaterial = as, t.MeshLambertMaterial = Wn, t.MeshMatcapMaterial = qn, t.MeshNormalMaterial = Vn, t.MeshPhongMaterial = Gn, t.MeshPhysicalMaterial = Un, t.MeshStandardMaterial = Hn, t.MeshToonMaterial = jn, t.MinEquation = fa, t.MirroredRepeatWrapping = th, t.MixOperation = Na, t.MultiMaterial = hs, t.MultiplyBlending = la, t.MultiplyOperation = ka, t.NearestFilter = eh, t.NearestMipMapLinearFilter = oh, t.NearestMipMapNearestFilter = nh, t.NearestMipmapLinearFilter = rh, t.NearestMipmapNearestFilter = ih, t.NeverDepth = Aa, t.NeverStencilFunc = Il, t.NoBlending = oa, t.NoColors = ia, t.NoToneMapping = Ba, t.NormalBlending = sa, t.NotEqualDepth = Da, t.NotEqualStencilFunc = Bl, t.NumberKeyframeTrack = er, t.Object3D = d, t.ObjectLoader = oo, t.ObjectSpaceNormalMap = Tl, t.OctahedronBufferGeometry = Pi, t.OctahedronGeometry = Ci, t.OneFactor = va, t.OneMinusDstAlphaFactor = Sa, t.OneMinusDstColorFactor = Ma, t.OneMinusSrcAlphaFactor = wa, t.OneMinusSrcColorFactor = ya, t.OrthographicCamera = Jr, t.PCFShadowMap = Ys, t.PCFSoftShadowMap = Zs, t.ParametricBufferGeometry = Si, t.ParametricGeometry = bi, t.Particle = us, t.ParticleBasicMaterial = ds, t.ParticleSystem = cs, t.ParticleSystemMaterial = fs, t.Path = Ur, t.PerspectiveCamera = Z, t.Plane = y, t.PlaneBufferGeometry = nt, t.PlaneGeometry = it, t.PlaneHelper = ns, t.PointCloud = ls, t.PointCloudMaterial = ps, t.PointLight = Zr, t.PointLightHelper = Vo, t.Points = mi, t.PointsMaterial = fi, t.PolarGridHelper = Zo, t.PolyhedronBufferGeometry = Mi, t.PolyhedronGeometry = Ti, t.PositionalAudio = bo, t.PositionalAudioHelper = Jo, t.PropertyBinding = Eo, t.PropertyMixer = To, t.QuadraticBezierCurve = zr, t.QuadraticBezierCurve3 = Br, t.Quaternion = n, t.QuaternionKeyframeTrack = nr, t.QuaternionLinearInterpolant = ir, t.REVISION = Bs, t.RGBADepthPacking = bl, t.RGBAFormat = Mh, t.RGBA_ASTC_10x10_Format = Kh, t.RGBA_ASTC_10x5_Format = Zh, t.RGBA_ASTC_10x6_Format = Jh, t.RGBA_ASTC_10x8_Format = $h, t.RGBA_ASTC_12x10_Format = Qh, t.RGBA_ASTC_12x12_Format = tl, t.RGBA_ASTC_4x4_Format = Uh, t.RGBA_ASTC_5x4_Format = Gh, t.RGBA_ASTC_5x5_Format = jh, t.RGBA_ASTC_6x5_Format = Vh, t.RGBA_ASTC_6x6_Format = Wh, t.RGBA_ASTC_8x5_Format = qh, t.RGBA_ASTC_8x6_Format = Xh, t.RGBA_ASTC_8x8_Format = Yh, t.RGBA_PVRTC_2BPPV1_Format = Fh, t.RGBA_PVRTC_4BPPV1_Format = Bh, t.RGBA_S3TC_DXT1_Format = Ih, t.RGBA_S3TC_DXT3_Format = Dh, t.RGBA_S3TC_DXT5_Format = kh, t.RGBDEncoding = xl, t.RGBEEncoding = gl, t.RGBEFormat = Ch, t.RGBFormat = Th, t.RGBM16Encoding = yl, t.RGBM7Encoding = _l, t.RGB_ETC1_Format = Hh, t.RGB_PVRTC_2BPPV1_Format = zh, t.RGB_PVRTC_4BPPV1_Format = Nh, t.RGB_S3TC_DXT1_Format = Oh, t.RawShaderMaterial = Fn, t.Ray = _, t.Raycaster = Oo, t.RectAreaLight = to, t.RectAreaLightHelper = Wo, t.RedFormat = Lh, t.ReinhardToneMapping = Ha, t.RepeatWrapping = Ka, t.ReplaceStencilOp = Al, t.ReverseSubtractEquation = da, t.RingBufferGeometry = Mn, t.RingGeometry = Tn, t.Scene = f, t.SceneUtils = xg, t.ShaderChunk = lf, t.ShaderLib = cf, t.ShaderMaterial = X, t.ShadowMaterial = Bn, t.Shape = Gr, t.ShapeBufferGeometry = Pn, t.ShapeGeometry = Cn, t.ShapePath = ao, t.ShapeUtils = om, t.ShortType = dh, t.Skeleton = ai, t.SkeletonHelper = jo, t.SkinnedMesh = si, t.SmoothShading = ea, t.Sphere = v, t.SphereBufferGeometry = Sn, t.SphereGeometry = bn, t.Spherical = ko, t.SphericalHarmonics3 = fo, t.SphericalReflectionMapping = Za, t.Spline = Cs, t.SplineCurve = Fr, t.SplineCurve3 = As, t.SpotLight = Xr, t.SpotLightHelper = Uo, t.SpotLightShadow = qr, t.Sprite = ni, t.SpriteMaterial = ii, t.SrcAlphaFactor = xa, t.SrcAlphaSaturateFactor = Ea, t.SrcColorFactor = _a, t.StaticCopyUsage = Xl, t.StaticDrawUsage = Ul, t.StaticReadUsage = Vl, t.StereoCamera = _o, t.StreamCopyUsage = Zl, t.StreamDrawUsage = jl, t.StreamReadUsage = ql, t.StringKeyframeTrack = rr, t.SubtractEquation = pa, t.SubtractiveBlending = ha, t.TOUCH = Hs, t.TangentSpaceNormalMap = Sl, t.TetrahedronBufferGeometry = Ai, t.TetrahedronGeometry = Ei, t.TextBufferGeometry = wn, t.TextGeometry = xn, t.Texture = s, t.TextureLoader = vr, t.TorusBufferGeometry = Fi, t.TorusGeometry = Bi, t.TorusKnotBufferGeometry = zi, t.TorusKnotGeometry = Ni, t.Triangle = x, t.TriangleFanDrawMode = pl, t.TriangleStripDrawMode = cl, t.TrianglesDrawMode = ul;
            t.TubeBufferGeometry = ki;
            t.TubeGeometry = Di, t.UVMapping = Va, t.Uint16Attribute = ws, t.Uint16BufferAttribute = I, t.Uint32Attribute = Ss, t.Uint32BufferAttribute = k, t.Uint8Attribute = _s, t.Uint8BufferAttribute = R, t.Uint8ClampedAttribute = ys, t.Uint8ClampedBufferAttribute = L, t.Uncharted2ToneMapping = Ua, t.Uniform = Ro, t.UniformsLib = uf, t.UniformsUtils = Hc, t.UnsignedByteType = ch, t.UnsignedInt248Type = bh, t.UnsignedIntType = gh, t.UnsignedShort4444Type = yh, t.UnsignedShort5551Type = xh, t.UnsignedShort565Type = wh, t.UnsignedShortType = fh, t.VSMShadowMap = Js, t.Vector2 = i, t.Vector3 = r, t.Vector4 = a, t.VectorKeyframeTrack = or, t.Vertex = ms, t.VertexColors = ra, t.VertexNormalsHelper = Ho, t.VideoTexture = vi, t.WebGLMultisampleRenderTarget = l, t.WebGLRenderTarget = h, t.WebGLRenderTargetCube = $, t.WebGLRenderer = $e, t.WebGLUtils = je, t.WireframeGeometry = wi, t.WireframeHelper = Os, t.WrapAroundEnding = ll, t.XHRLoader = Is, t.ZeroCurvatureEnding = al, t.ZeroFactor = ga, t.ZeroSlopeEnding = hl, t.ZeroStencilOp = Ml, t.sRGBEncoding = fl, Object.defineProperty(t, "__esModule", {
                value: !0
            })
        })
    },
    function (t, e, i) {
        (function (n) {
            function r(t, e, i) {
                function r() {
                    for (; l.length && !c.paused;) {
                        var t = l.shift();
                        if (null === t) return c.emit("end");
                        c.emit("data", t)
                    }
                }

                function s() {
                    c.writable = !1, e.call(c), !c.readable && c.autoDestroy && c.destroy()
                }
                t = t || function (t) {
                    this.queue(t)
                }, e = e || function () {
                    this.queue(null)
                };
                var a = !1,
                    h = !1,
                    l = [],
                    u = !1,
                    c = new o;
                return c.readable = c.writable = !0, c.paused = !1, c.autoDestroy = !(i && i.autoDestroy === !1), c.write = function (e) {
                    return t.call(this, e), !c.paused
                }, c.queue = c.push = function (t) {
                    return u ? c : (null === t && (u = !0), l.push(t), r(), c)
                }, c.on("end", function () {
                    c.readable = !1, !c.writable && c.autoDestroy && n.nextTick(function () {
                        c.destroy()
                    })
                }), c.end = function (t) {
                    if (!a) return a = !0, arguments.length && c.write(t), s(), c
                }, c.destroy = function () {
                    if (!h) return h = !0, a = !0, l.length = 0, c.writable = c.readable = !1, c.emit("close"), c
                }, c.pause = function () {
                    if (!c.paused) return c.paused = !0, c
                }, c.resume = function () {
                    return c.paused && (c.paused = !1, c.emit("resume")), r(), c.paused || c.emit("drain"), c
                }, c
            }
            var o = i(125);
            e = t.exports = r, r.through = r
        }).call(e, i(17))
    },
    function (t, e, i) {
        (function (t) {
            function n(t, e) {
                this._id = t, this._clearFn = e
            }
            var r = Function.prototype.apply;
            e.setTimeout = function () {
                return new n(r.call(setTimeout, window, arguments), clearTimeout)
            }, e.setInterval = function () {
                return new n(r.call(setInterval, window, arguments), clearInterval)
            }, e.clearTimeout = e.clearInterval = function (t) {
                t && t.close()
            }, n.prototype.unref = n.prototype.ref = function () {}, n.prototype.close = function () {
                this._clearFn.call(window, this._id)
            }, e.enroll = function (t, e) {
                clearTimeout(t._idleTimeoutId), t._idleTimeout = e
            }, e.unenroll = function (t) {
                clearTimeout(t._idleTimeoutId), t._idleTimeout = -1
            }, e._unrefActive = e.active = function (t) {
                clearTimeout(t._idleTimeoutId);
                var e = t._idleTimeout;
                e >= 0 && (t._idleTimeoutId = setTimeout(function () {
                    t._onTimeout && t._onTimeout()
                }, e))
            }, i(123), e.setImmediate = "undefined" != typeof self && self.setImmediate || "undefined" != typeof t && t.setImmediate || this && this.setImmediate, e.clearImmediate = "undefined" != typeof self && self.clearImmediate || "undefined" != typeof t && t.clearImmediate || this && this.clearImmediate
        }).call(e, function () {
            return this
        }())
    },
    function (t, e) {
        "use strict";

        function i(t, e) {
            for (var i = 1, n = t.length, r = t[0], o = t[0], s = 1; s < n; ++s)
                if (o = r, r = t[s], e(r, o)) {
                    if (s === i) {
                        i++;
                        continue
                    }
                    t[i++] = r
                }
            return t.length = i, t
        }

        function n(t) {
            for (var e = 1, i = t.length, n = t[0], r = t[0], o = 1; o < i; ++o, r = n)
                if (r = n, n = t[o], n !== r) {
                    if (o === e) {
                        e++;
                        continue
                    }
                    t[e++] = n
                }
            return t.length = e, t
        }

        function r(t, e, r) {
            return 0 === t.length ? t : e ? (r || t.sort(e), i(t, e)) : (r || t.sort(), n(t))
        }
        t.exports = r
    },
    function (t, e) {
        (function (e) {
            function i(t, e) {
                function i() {
                    if (!r) {
                        if (n("throwDeprecation")) throw new Error(e);
                        n("traceDeprecation") ? console.trace(e) : console.warn(e), r = !0
                    }
                    return t.apply(this, arguments)
                }
                if (n("noDeprecation")) return t;
                var r = !1;
                return i
            }

            function n(t) {
                try {
                    if (!e.localStorage) return !1
                } catch (t) {
                    return !1
                }
                var i = e.localStorage[t];
                return null != i && "true" === String(i).toLowerCase()
            }
            t.exports = i
        }).call(e, function () {
            return this
        }())
    },
    function (t, e) {},
    function (t, e) {}
]);